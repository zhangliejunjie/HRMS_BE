{"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/server.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar express = require(\"express\");\n\nvar dotenv = require(\"dotenv\");\n\nvar routes = require(\"./routes/index.js\");\n\nvar connectDB = require(\"./dbconnect\");\n\nvar cors = require(\"cors\");\n\nvar _require = require(\"./middleware/apiError\"),\n    handleError = _require.handleError,\n    convertToApiError = _require.convertToApiError; // const db = require(\"../models/index\");\n\n\nvar app = express();\ndotenv.config();\napp.use(cors());\nconnectDB();\napp.use(express.json()); // thg nay cho body parser ve JSON\n\napp.use(\"/api\", routes);\napp.use(convertToApiError);\napp.use(function (err, req, res, next) {\n  handleError(err, res);\n}); // app.get('/job', async (_req, res) => {\n//   try {\n//     const job = await db.Jobs.findAll();\n//     res.send(job);\n//   } catch (err) {\n//     res.send(err);\n//   }\n// })\n\nvar port = process.env.PORT || 3000;\napp.listen(port, function () {\n  console.log(\"listening on port \".concat(port));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImRvdGVudiIsInJvdXRlcyIsImNvbm5lY3REQiIsImNvcnMiLCJoYW5kbGVFcnJvciIsImNvbnZlcnRUb0FwaUVycm9yIiwiYXBwIiwiY29uZmlnIiwidXNlIiwianNvbiIsImVyciIsInJlcSIsInJlcyIsIm5leHQiLCJwb3J0IiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjLyIsInNvdXJjZXMiOlsic2VydmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IGRvdGVudiA9IHJlcXVpcmUoXCJkb3RlbnZcIik7XG5jb25zdCByb3V0ZXMgPSByZXF1aXJlKFwiLi9yb3V0ZXMvaW5kZXguanNcIik7XG5jb25zdCBjb25uZWN0REIgPSByZXF1aXJlKFwiLi9kYmNvbm5lY3RcIik7XG5jb25zdCBjb3JzID0gcmVxdWlyZShcImNvcnNcIik7XG5jb25zdCB7IGhhbmRsZUVycm9yLCBjb252ZXJ0VG9BcGlFcnJvciB9ID0gcmVxdWlyZShcIi4vbWlkZGxld2FyZS9hcGlFcnJvclwiKTtcbi8vIGNvbnN0IGRiID0gcmVxdWlyZShcIi4uL21vZGVscy9pbmRleFwiKTtcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmRvdGVudi5jb25maWcoKTtcblxuYXBwLnVzZShjb3JzKCkpO1xuY29ubmVjdERCKCk7XG5cbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpOyAvLyB0aGcgbmF5IGNobyBib2R5IHBhcnNlciB2ZSBKU09OXG5cbmFwcC51c2UoXCIvYXBpXCIsIHJvdXRlcyk7XG5hcHAudXNlKGNvbnZlcnRUb0FwaUVycm9yKTtcbmFwcC51c2UoKGVyciwgcmVxLCByZXMsIG5leHQpID0+IHtcbiAgaGFuZGxlRXJyb3IoZXJyLCByZXMpO1xufSk7XG4vLyBhcHAuZ2V0KCcvam9iJywgYXN5bmMgKF9yZXEsIHJlcykgPT4ge1xuLy8gICB0cnkge1xuLy8gICAgIGNvbnN0IGpvYiA9IGF3YWl0IGRiLkpvYnMuZmluZEFsbCgpO1xuLy8gICAgIHJlcy5zZW5kKGpvYik7XG4vLyAgIH0gY2F0Y2ggKGVycikge1xuLy8gICAgIHJlcy5zZW5kKGVycik7XG4vLyAgIH1cbi8vIH0pXG5cbmNvbnN0IHBvcnQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDMwMDA7XG5cbmFwcC5saXN0ZW4ocG9ydCwgKCkgPT4ge1xuICBjb25zb2xlLmxvZyhgbGlzdGVuaW5nIG9uIHBvcnQgJHtwb3J0fWApO1xufSk7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxJQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxRQUFELENBQXRCOztBQUNBLElBQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLG1CQUFELENBQXRCOztBQUNBLElBQU1HLFNBQVMsR0FBR0gsT0FBTyxDQUFDLGFBQUQsQ0FBekI7O0FBQ0EsSUFBTUksSUFBSSxHQUFHSixPQUFPLENBQUMsTUFBRCxDQUFwQjs7QUFDQSxlQUEyQ0EsT0FBTyxDQUFDLHVCQUFELENBQWxEO0FBQUEsSUFBUUssV0FBUixZQUFRQSxXQUFSO0FBQUEsSUFBcUJDLGlCQUFyQixZQUFxQkEsaUJBQXJCLEMsQ0FDQTs7O0FBQ0EsSUFBTUMsR0FBRyxHQUFHUixPQUFPLEVBQW5CO0FBQ0FFLE1BQU0sQ0FBQ08sTUFBUDtBQUVBRCxHQUFHLENBQUNFLEdBQUosQ0FBUUwsSUFBSSxFQUFaO0FBQ0FELFNBQVM7QUFFVEksR0FBRyxDQUFDRSxHQUFKLENBQVFWLE9BQU8sQ0FBQ1csSUFBUixFQUFSLEUsQ0FBeUI7O0FBRXpCSCxHQUFHLENBQUNFLEdBQUosQ0FBUSxNQUFSLEVBQWdCUCxNQUFoQjtBQUNBSyxHQUFHLENBQUNFLEdBQUosQ0FBUUgsaUJBQVI7QUFDQUMsR0FBRyxDQUFDRSxHQUFKLENBQVEsVUFBQ0UsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLEdBQVgsRUFBZ0JDLElBQWhCLEVBQXlCO0VBQy9CVCxXQUFXLENBQUNNLEdBQUQsRUFBTUUsR0FBTixDQUFYO0FBQ0QsQ0FGRCxFLENBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFNRSxJQUFJLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxJQUFaLElBQW9CLElBQWpDO0FBRUFYLEdBQUcsQ0FBQ1ksTUFBSixDQUFXSixJQUFYLEVBQWlCLFlBQU07RUFDckJLLE9BQU8sQ0FBQ0MsR0FBUiw2QkFBaUNOLElBQWpDO0FBQ0QsQ0FGRCJ9","map":{"version":3,"names":["express","require","dotenv","routes","connectDB","cors","handleError","convertToApiError","app","config","use","json","err","req","res","next","port","process","env","PORT","listen","console","log"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/","sources":["server.js"],"sourcesContent":["const express = require(\"express\");\nconst dotenv = require(\"dotenv\");\nconst routes = require(\"./routes/index.js\");\nconst connectDB = require(\"./dbconnect\");\nconst cors = require(\"cors\");\nconst { handleError, convertToApiError } = require(\"./middleware/apiError\");\n// const db = require(\"../models/index\");\nconst app = express();\ndotenv.config();\n\napp.use(cors());\nconnectDB();\n\napp.use(express.json()); // thg nay cho body parser ve JSON\n\napp.use(\"/api\", routes);\napp.use(convertToApiError);\napp.use((err, req, res, next) => {\n  handleError(err, res);\n});\n// app.get('/job', async (_req, res) => {\n//   try {\n//     const job = await db.Jobs.findAll();\n//     res.send(job);\n//   } catch (err) {\n//     res.send(err);\n//   }\n// })\n\nconst port = process.env.PORT || 3000;\n\napp.listen(port, () => {\n  console.log(`listening on port ${port}`);\n});\n"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAAtB;;AACA,IAAME,MAAM,GAAGF,OAAO,CAAC,mBAAD,CAAtB;;AACA,IAAMG,SAAS,GAAGH,OAAO,CAAC,aAAD,CAAzB;;AACA,IAAMI,IAAI,GAAGJ,OAAO,CAAC,MAAD,CAApB;;AACA,eAA2CA,OAAO,CAAC,uBAAD,CAAlD;AAAA,IAAQK,WAAR,YAAQA,WAAR;AAAA,IAAqBC,iBAArB,YAAqBA,iBAArB,C,CACA;;;AACA,IAAMC,GAAG,GAAGR,OAAO,EAAnB;AACAE,MAAM,CAACO,MAAP;AAEAD,GAAG,CAACE,GAAJ,CAAQL,IAAI,EAAZ;AACAD,SAAS;AAETI,GAAG,CAACE,GAAJ,CAAQV,OAAO,CAACW,IAAR,EAAR,E,CAAyB;;AAEzBH,GAAG,CAACE,GAAJ,CAAQ,MAAR,EAAgBP,MAAhB;AACAK,GAAG,CAACE,GAAJ,CAAQH,iBAAR;AACAC,GAAG,CAACE,GAAJ,CAAQ,UAACE,GAAD,EAAMC,GAAN,EAAWC,GAAX,EAAgBC,IAAhB,EAAyB;EAC/BT,WAAW,CAACM,GAAD,EAAME,GAAN,CAAX;AACD,CAFD,E,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAME,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC;AAEAX,GAAG,CAACY,MAAJ,CAAWJ,IAAX,EAAiB,YAAM;EACrBK,OAAO,CAACC,GAAR,6BAAiCN,IAAjC;AACD,CAFD"}},"mtime":1664600829755},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar express = require(\"express\");\n\nvar authRoute = require(\"./auth.route.js\");\n\nvar memberRoute = require(\"./member.route\");\n\nvar staffRoute = require(\"./staff.route\");\n\nvar staffAuthRoute = require(\"./staffAuth.route\");\n\nvar router = express.Router();\nvar routesIndex = [{\n  path: \"/member-auth\",\n  route: authRoute\n}, {\n  path: \"/member\",\n  route: memberRoute\n}, {\n  path: \"/staff\",\n  route: staffRoute\n}, {\n  path: \"/staff-auth\",\n  route: staffAuthRoute\n}];\nroutesIndex.forEach(function (route) {\n  router.use(route.path, route.route);\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImF1dGhSb3V0ZSIsIm1lbWJlclJvdXRlIiwic3RhZmZSb3V0ZSIsInN0YWZmQXV0aFJvdXRlIiwicm91dGVyIiwiUm91dGVyIiwicm91dGVzSW5kZXgiLCJwYXRoIiwicm91dGUiLCJmb3JFYWNoIiwidXNlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9yb3V0ZXMvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5jb25zdCBhdXRoUm91dGUgPSByZXF1aXJlKFwiLi9hdXRoLnJvdXRlLmpzXCIpO1xuY29uc3QgbWVtYmVyUm91dGUgPSByZXF1aXJlKFwiLi9tZW1iZXIucm91dGVcIik7XG5jb25zdCBzdGFmZlJvdXRlID0gcmVxdWlyZShcIi4vc3RhZmYucm91dGVcIik7XG5jb25zdCBzdGFmZkF1dGhSb3V0ZSA9IHJlcXVpcmUoXCIuL3N0YWZmQXV0aC5yb3V0ZVwiKTtcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbmNvbnN0IHJvdXRlc0luZGV4ID0gW1xuICB7XG4gICAgcGF0aDogXCIvbWVtYmVyLWF1dGhcIixcbiAgICByb3V0ZTogYXV0aFJvdXRlLFxuICB9LFxuICB7XG4gICAgcGF0aDogXCIvbWVtYmVyXCIsXG4gICAgcm91dGU6IG1lbWJlclJvdXRlLFxuICB9LFxuICB7XG4gICAgcGF0aDogXCIvc3RhZmZcIixcbiAgICByb3V0ZTogc3RhZmZSb3V0ZSxcbiAgfSxcbiAge1xuICAgIHBhdGg6IFwiL3N0YWZmLWF1dGhcIixcbiAgICByb3V0ZTogc3RhZmZBdXRoUm91dGUsXG4gIH0sXG5dO1xuXG5yb3V0ZXNJbmRleC5mb3JFYWNoKChyb3V0ZSkgPT4ge1xuICByb3V0ZXIudXNlKHJvdXRlLnBhdGgsIHJvdXRlLnJvdXRlKTtcbn0pO1xubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxJQUFNQyxTQUFTLEdBQUdELE9BQU8sQ0FBQyxpQkFBRCxDQUF6Qjs7QUFDQSxJQUFNRSxXQUFXLEdBQUdGLE9BQU8sQ0FBQyxnQkFBRCxDQUEzQjs7QUFDQSxJQUFNRyxVQUFVLEdBQUdILE9BQU8sQ0FBQyxlQUFELENBQTFCOztBQUNBLElBQU1JLGNBQWMsR0FBR0osT0FBTyxDQUFDLG1CQUFELENBQTlCOztBQUNBLElBQU1LLE1BQU0sR0FBR04sT0FBTyxDQUFDTyxNQUFSLEVBQWY7QUFFQSxJQUFNQyxXQUFXLEdBQUcsQ0FDbEI7RUFDRUMsSUFBSSxFQUFFLGNBRFI7RUFFRUMsS0FBSyxFQUFFUjtBQUZULENBRGtCLEVBS2xCO0VBQ0VPLElBQUksRUFBRSxTQURSO0VBRUVDLEtBQUssRUFBRVA7QUFGVCxDQUxrQixFQVNsQjtFQUNFTSxJQUFJLEVBQUUsUUFEUjtFQUVFQyxLQUFLLEVBQUVOO0FBRlQsQ0FUa0IsRUFhbEI7RUFDRUssSUFBSSxFQUFFLGFBRFI7RUFFRUMsS0FBSyxFQUFFTDtBQUZULENBYmtCLENBQXBCO0FBbUJBRyxXQUFXLENBQUNHLE9BQVosQ0FBb0IsVUFBQ0QsS0FBRCxFQUFXO0VBQzdCSixNQUFNLENBQUNNLEdBQVAsQ0FBV0YsS0FBSyxDQUFDRCxJQUFqQixFQUF1QkMsS0FBSyxDQUFDQSxLQUE3QjtBQUNELENBRkQ7QUFHQUcsTUFBTSxDQUFDQyxPQUFQLEdBQWlCUixNQUFqQiJ9","map":{"version":3,"names":["express","require","authRoute","memberRoute","staffRoute","staffAuthRoute","router","Router","routesIndex","path","route","forEach","use","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["index.js"],"sourcesContent":["const express = require(\"express\");\nconst authRoute = require(\"./auth.route.js\");\nconst memberRoute = require(\"./member.route\");\nconst staffRoute = require(\"./staff.route\");\nconst staffAuthRoute = require(\"./staffAuth.route\");\nconst router = express.Router();\n\nconst routesIndex = [\n  {\n    path: \"/member-auth\",\n    route: authRoute,\n  },\n  {\n    path: \"/member\",\n    route: memberRoute,\n  },\n  {\n    path: \"/staff\",\n    route: staffRoute,\n  },\n  {\n    path: \"/staff-auth\",\n    route: staffAuthRoute,\n  },\n];\n\nroutesIndex.forEach((route) => {\n  router.use(route.path, route.route);\n});\nmodule.exports = router;\n"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,SAAS,GAAGD,OAAO,CAAC,iBAAD,CAAzB;;AACA,IAAME,WAAW,GAAGF,OAAO,CAAC,gBAAD,CAA3B;;AACA,IAAMG,UAAU,GAAGH,OAAO,CAAC,eAAD,CAA1B;;AACA,IAAMI,cAAc,GAAGJ,OAAO,CAAC,mBAAD,CAA9B;;AACA,IAAMK,MAAM,GAAGN,OAAO,CAACO,MAAR,EAAf;AAEA,IAAMC,WAAW,GAAG,CAClB;EACEC,IAAI,EAAE,cADR;EAEEC,KAAK,EAAER;AAFT,CADkB,EAKlB;EACEO,IAAI,EAAE,SADR;EAEEC,KAAK,EAAEP;AAFT,CALkB,EASlB;EACEM,IAAI,EAAE,QADR;EAEEC,KAAK,EAAEN;AAFT,CATkB,EAalB;EACEK,IAAI,EAAE,aADR;EAEEC,KAAK,EAAEL;AAFT,CAbkB,CAApB;AAmBAG,WAAW,CAACG,OAAZ,CAAoB,UAACD,KAAD,EAAW;EAC7BJ,MAAM,CAACM,GAAP,CAAWF,KAAK,CAACD,IAAjB,EAAuBC,KAAK,CAACA,KAA7B;AACD,CAFD;AAGAG,MAAM,CAACC,OAAP,GAAiBR,MAAjB"}},"mtime":1664847414507},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/auth.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar express = require(\"express\");\n\nvar authController = require(\"../controller/auth.controller.js\");\n\nvar auth = require(\"../middleware/auth.middleware\");\n\nvar router = express.Router();\nrouter.post(\"/register\", authController.register);\nrouter.post(\"/login\", authController.login);\nrouter.get(\"/isauth\", auth, authController.isauth);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImF1dGhDb250cm9sbGVyIiwiYXV0aCIsInJvdXRlciIsIlJvdXRlciIsInBvc3QiLCJyZWdpc3RlciIsImxvZ2luIiwiZ2V0IiwiaXNhdXRoIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9yb3V0ZXMvIiwic291cmNlcyI6WyJhdXRoLnJvdXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IGF1dGhDb250cm9sbGVyID0gcmVxdWlyZShcIi4uL2NvbnRyb2xsZXIvYXV0aC5jb250cm9sbGVyLmpzXCIpO1xuY29uc3QgYXV0aCA9IHJlcXVpcmUoXCIuLi9taWRkbGV3YXJlL2F1dGgubWlkZGxld2FyZVwiKTtcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsIGF1dGhDb250cm9sbGVyLnJlZ2lzdGVyKTtcbnJvdXRlci5wb3N0KFwiL2xvZ2luXCIsIGF1dGhDb250cm9sbGVyLmxvZ2luKTtcbnJvdXRlci5nZXQoXCIvaXNhdXRoXCIsIGF1dGgsIGF1dGhDb250cm9sbGVyLmlzYXV0aCk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsSUFBTUMsY0FBYyxHQUFHRCxPQUFPLENBQUMsa0NBQUQsQ0FBOUI7O0FBQ0EsSUFBTUUsSUFBSSxHQUFHRixPQUFPLENBQUMsK0JBQUQsQ0FBcEI7O0FBQ0EsSUFBTUcsTUFBTSxHQUFHSixPQUFPLENBQUNLLE1BQVIsRUFBZjtBQUVBRCxNQUFNLENBQUNFLElBQVAsQ0FBWSxXQUFaLEVBQXlCSixjQUFjLENBQUNLLFFBQXhDO0FBQ0FILE1BQU0sQ0FBQ0UsSUFBUCxDQUFZLFFBQVosRUFBc0JKLGNBQWMsQ0FBQ00sS0FBckM7QUFDQUosTUFBTSxDQUFDSyxHQUFQLENBQVcsU0FBWCxFQUFzQk4sSUFBdEIsRUFBNEJELGNBQWMsQ0FBQ1EsTUFBM0M7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCUixNQUFqQiJ9","map":{"version":3,"names":["express","require","authController","auth","router","Router","post","register","login","get","isauth","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["auth.route.js"],"sourcesContent":["const express = require(\"express\");\nconst authController = require(\"../controller/auth.controller.js\");\nconst auth = require(\"../middleware/auth.middleware\");\nconst router = express.Router();\n\nrouter.post(\"/register\", authController.register);\nrouter.post(\"/login\", authController.login);\nrouter.get(\"/isauth\", auth, authController.isauth);\n\nmodule.exports = router;\n"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,cAAc,GAAGD,OAAO,CAAC,kCAAD,CAA9B;;AACA,IAAME,IAAI,GAAGF,OAAO,CAAC,+BAAD,CAApB;;AACA,IAAMG,MAAM,GAAGJ,OAAO,CAACK,MAAR,EAAf;AAEAD,MAAM,CAACE,IAAP,CAAY,WAAZ,EAAyBJ,cAAc,CAACK,QAAxC;AACAH,MAAM,CAACE,IAAP,CAAY,QAAZ,EAAsBJ,cAAc,CAACM,KAArC;AACAJ,MAAM,CAACK,GAAP,CAAW,SAAX,EAAsBN,IAAtB,EAA4BD,cAAc,CAACQ,MAA3C;AAEAC,MAAM,CAACC,OAAP,GAAiBR,MAAjB"}},"mtime":1664445853171},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/auth.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _auth = require(\"../service/auth.service\");\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar authController = {\n  register: function register(req, res, next) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var member, token;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              res.header(\"Access-Control-Allow-Headers\", \"*\");\n              res.header(\"Access-Control-Allow-Credentials\", true);\n              res.header(\"Access-Control-Allow-Methods\", \"GET,PUT,POST,DELETE\");\n              _context.next = 6;\n              return (0, _auth.createNewMember)(req, res);\n\n            case 6:\n              member = _context.sent;\n              _context.next = 9;\n              return (0, _auth.genAuthToken)(member);\n\n            case 9:\n              token = _context.sent;\n              res.cookie(\"sang\", \"sang dep chai\");\n              res.cookie(\"x-access-token\", token).status(200).send({\n                member: member,\n                token: token\n              });\n              _context.next = 18;\n              break;\n\n            case 14:\n              _context.prev = 14;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n              next(_context.t0);\n\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 14]]);\n    }))();\n  },\n  login: function login(req, res, next) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      var _req$body, email, password, member, token;\n\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _req$body = req.body, email = _req$body.email, password = _req$body.password;\n              _context2.next = 4;\n              return (0, _auth.signInWithEmailPassword)(email, password);\n\n            case 4:\n              member = _context2.sent;\n              _context2.next = 7;\n              return (0, _auth.genAuthToken)(member);\n\n            case 7:\n              token = _context2.sent;\n              res.cookie(\"x-access-token\", token).send({\n                member: member,\n                token: token\n              });\n              _context2.next = 14;\n              break;\n\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2[\"catch\"](0);\n              next(_context2.t0); // res.send({ error: error.statusCode, message: error.message });\n\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 11]]);\n    }))();\n  },\n  isauth: function isauth(req, res, next) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              res.json(req.currentUser);\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }))();\n  }\n};\nmodule.exports = authController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhdXRoQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwibmV4dCIsImhlYWRlciIsImNyZWF0ZU5ld01lbWJlciIsIm1lbWJlciIsImdlbkF1dGhUb2tlbiIsInRva2VuIiwiY29va2llIiwic3RhdHVzIiwic2VuZCIsImNvbnNvbGUiLCJsb2ciLCJsb2dpbiIsImJvZHkiLCJlbWFpbCIsInBhc3N3b3JkIiwic2lnbkluV2l0aEVtYWlsUGFzc3dvcmQiLCJpc2F1dGgiLCJqc29uIiwiY3VycmVudFVzZXIiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL2NvbnRyb2xsZXIvIiwic291cmNlcyI6WyJhdXRoLmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgY3JlYXRlTmV3TWVtYmVyLFxuICBnZW5BdXRoVG9rZW4sXG4gIHNpZ25JbldpdGhFbWFpbFBhc3N3b3JkLFxufSBmcm9tIFwiLi4vc2VydmljZS9hdXRoLnNlcnZpY2VcIjtcbmNvbnN0IGF1dGhDb250cm9sbGVyID0ge1xuICBhc3luYyByZWdpc3RlcihyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICByZXMuaGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVyc1wiLCBcIipcIik7XG4gICAgICByZXMuaGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHNcIiwgdHJ1ZSk7XG4gICAgICByZXMuaGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kc1wiLCBcIkdFVCxQVVQsUE9TVCxERUxFVEVcIik7XG4gICAgICBjb25zdCBtZW1iZXIgPSBhd2FpdCBjcmVhdGVOZXdNZW1iZXIocmVxLCByZXMpO1xuICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBnZW5BdXRoVG9rZW4obWVtYmVyKTtcbiAgICAgIHJlcy5jb29raWUoXCJzYW5nXCIsIFwic2FuZyBkZXAgY2hhaVwiKTtcbiAgICAgIHJlcy5jb29raWUoXCJ4LWFjY2Vzcy10b2tlblwiLCB0b2tlbikuc3RhdHVzKDIwMCkuc2VuZCh7XG4gICAgICAgIG1lbWJlcixcbiAgICAgICAgdG9rZW4sXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgbmV4dChlcnJvcik7XG4gICAgfVxuICB9LFxuICBhc3luYyBsb2dpbihyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gICAgICBjb25zdCBtZW1iZXIgPSBhd2FpdCBzaWduSW5XaXRoRW1haWxQYXNzd29yZChlbWFpbCwgcGFzc3dvcmQpO1xuICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBnZW5BdXRoVG9rZW4obWVtYmVyKTtcbiAgICAgIHJlcy5jb29raWUoXCJ4LWFjY2Vzcy10b2tlblwiLCB0b2tlbikuc2VuZCh7XG4gICAgICAgIG1lbWJlcixcbiAgICAgICAgdG9rZW4sXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbmV4dChlcnJvcik7XG4gICAgICAvLyByZXMuc2VuZCh7IGVycm9yOiBlcnJvci5zdGF0dXNDb2RlLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pO1xuICAgIH1cbiAgfSxcbiAgYXN5bmMgaXNhdXRoKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgcmVzLmpzb24ocmVxLmN1cnJlbnRVc2VyKTtcbiAgfSxcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gYXV0aENvbnRyb2xsZXI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7K0NBQ0Esb0o7Ozs7OztBQUlBLElBQU1BLGNBQWMsR0FBRztFQUNmQyxRQURlLG9CQUNOQyxHQURNLEVBQ0RDLEdBREMsRUFDSUMsSUFESixFQUNVO0lBQUE7TUFBQTtNQUFBO1FBQUE7VUFBQTtZQUFBO2NBQUE7Y0FFM0JELEdBQUcsQ0FBQ0UsTUFBSixDQUFXLDhCQUFYLEVBQTJDLEdBQTNDO2NBQ0FGLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLGtDQUFYLEVBQStDLElBQS9DO2NBQ0FGLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLDhCQUFYLEVBQTJDLHFCQUEzQztjQUoyQjtjQUFBLE9BS04sSUFBQUMscUJBQUEsRUFBZ0JKLEdBQWhCLEVBQXFCQyxHQUFyQixDQUxNOztZQUFBO2NBS3JCSSxNQUxxQjtjQUFBO2NBQUEsT0FNUCxJQUFBQyxrQkFBQSxFQUFhRCxNQUFiLENBTk87O1lBQUE7Y0FNckJFLEtBTnFCO2NBTzNCTixHQUFHLENBQUNPLE1BQUosQ0FBVyxNQUFYLEVBQW1CLGVBQW5CO2NBQ0FQLEdBQUcsQ0FBQ08sTUFBSixDQUFXLGdCQUFYLEVBQTZCRCxLQUE3QixFQUFvQ0UsTUFBcEMsQ0FBMkMsR0FBM0MsRUFBZ0RDLElBQWhELENBQXFEO2dCQUNuREwsTUFBTSxFQUFOQSxNQURtRDtnQkFFbkRFLEtBQUssRUFBTEE7Y0FGbUQsQ0FBckQ7Y0FSMkI7Y0FBQTs7WUFBQTtjQUFBO2NBQUE7Y0FhM0JJLE9BQU8sQ0FBQ0MsR0FBUjtjQUNBVixJQUFJLGFBQUo7O1lBZDJCO1lBQUE7Y0FBQTtVQUFBO1FBQUE7TUFBQTtJQUFBO0VBZ0I5QixDQWpCb0I7RUFrQmZXLEtBbEJlLGlCQWtCVGIsR0FsQlMsRUFrQkpDLEdBbEJJLEVBa0JDQyxJQWxCRCxFQWtCTztJQUFBO01BQUE7O01BQUE7UUFBQTtVQUFBO1lBQUE7Y0FBQTtjQUFBLFlBRUlGLEdBQUcsQ0FBQ2MsSUFGUixFQUVoQkMsS0FGZ0IsYUFFaEJBLEtBRmdCLEVBRVRDLFFBRlMsYUFFVEEsUUFGUztjQUFBO2NBQUEsT0FHSCxJQUFBQyw2QkFBQSxFQUF3QkYsS0FBeEIsRUFBK0JDLFFBQS9CLENBSEc7O1lBQUE7Y0FHbEJYLE1BSGtCO2NBQUE7Y0FBQSxPQUlKLElBQUFDLGtCQUFBLEVBQWFELE1BQWIsQ0FKSTs7WUFBQTtjQUlsQkUsS0FKa0I7Y0FLeEJOLEdBQUcsQ0FBQ08sTUFBSixDQUFXLGdCQUFYLEVBQTZCRCxLQUE3QixFQUFvQ0csSUFBcEMsQ0FBeUM7Z0JBQ3ZDTCxNQUFNLEVBQU5BLE1BRHVDO2dCQUV2Q0UsS0FBSyxFQUFMQTtjQUZ1QyxDQUF6QztjQUx3QjtjQUFBOztZQUFBO2NBQUE7Y0FBQTtjQVV4QkwsSUFBSSxjQUFKLENBVndCLENBV3hCOztZQVh3QjtZQUFBO2NBQUE7VUFBQTtRQUFBO01BQUE7SUFBQTtFQWEzQixDQS9Cb0I7RUFnQ2ZnQixNQWhDZSxrQkFnQ1JsQixHQWhDUSxFQWdDSEMsR0FoQ0csRUFnQ0VDLElBaENGLEVBZ0NRO0lBQUE7TUFBQTtRQUFBO1VBQUE7WUFBQTtjQUMzQkQsR0FBRyxDQUFDa0IsSUFBSixDQUFTbkIsR0FBRyxDQUFDb0IsV0FBYjs7WUFEMkI7WUFBQTtjQUFBO1VBQUE7UUFBQTtNQUFBO0lBQUE7RUFFNUI7QUFsQ29CLENBQXZCO0FBcUNBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJ4QixjQUFqQiJ9","map":{"version":3,"names":["authController","register","req","res","next","header","createNewMember","member","genAuthToken","token","cookie","status","send","console","log","login","body","email","password","signInWithEmailPassword","isauth","json","currentUser","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/","sources":["auth.controller.js"],"sourcesContent":["import {\n  createNewMember,\n  genAuthToken,\n  signInWithEmailPassword,\n} from \"../service/auth.service\";\nconst authController = {\n  async register(req, res, next) {\n    try {\n      res.header(\"Access-Control-Allow-Headers\", \"*\");\n      res.header(\"Access-Control-Allow-Credentials\", true);\n      res.header(\"Access-Control-Allow-Methods\", \"GET,PUT,POST,DELETE\");\n      const member = await createNewMember(req, res);\n      const token = await genAuthToken(member);\n      res.cookie(\"sang\", \"sang dep chai\");\n      res.cookie(\"x-access-token\", token).status(200).send({\n        member,\n        token,\n      });\n    } catch (error) {\n      console.log(error);\n      next(error);\n    }\n  },\n  async login(req, res, next) {\n    try {\n      const { email, password } = req.body;\n      const member = await signInWithEmailPassword(email, password);\n      const token = await genAuthToken(member);\n      res.cookie(\"x-access-token\", token).send({\n        member,\n        token,\n      });\n    } catch (error) {\n      next(error);\n      // res.send({ error: error.statusCode, message: error.message });\n    }\n  },\n  async isauth(req, res, next) {\n    res.json(req.currentUser);\n  },\n};\n\nmodule.exports = authController;\n"],"mappings":";;;;AAAA;;+CACA,oJ;;;;;;AAIA,IAAMA,cAAc,GAAG;EACfC,QADe,oBACNC,GADM,EACDC,GADC,EACIC,IADJ,EACU;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAE3BD,GAAG,CAACE,MAAJ,CAAW,8BAAX,EAA2C,GAA3C;cACAF,GAAG,CAACE,MAAJ,CAAW,kCAAX,EAA+C,IAA/C;cACAF,GAAG,CAACE,MAAJ,CAAW,8BAAX,EAA2C,qBAA3C;cAJ2B;cAAA,OAKN,IAAAC,qBAAA,EAAgBJ,GAAhB,EAAqBC,GAArB,CALM;;YAAA;cAKrBI,MALqB;cAAA;cAAA,OAMP,IAAAC,kBAAA,EAAaD,MAAb,CANO;;YAAA;cAMrBE,KANqB;cAO3BN,GAAG,CAACO,MAAJ,CAAW,MAAX,EAAmB,eAAnB;cACAP,GAAG,CAACO,MAAJ,CAAW,gBAAX,EAA6BD,KAA7B,EAAoCE,MAApC,CAA2C,GAA3C,EAAgDC,IAAhD,CAAqD;gBACnDL,MAAM,EAANA,MADmD;gBAEnDE,KAAK,EAALA;cAFmD,CAArD;cAR2B;cAAA;;YAAA;cAAA;cAAA;cAa3BI,OAAO,CAACC,GAAR;cACAV,IAAI,aAAJ;;YAd2B;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAgB9B,CAjBoB;EAkBfW,KAlBe,iBAkBTb,GAlBS,EAkBJC,GAlBI,EAkBCC,IAlBD,EAkBO;IAAA;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,YAEIF,GAAG,CAACc,IAFR,EAEhBC,KAFgB,aAEhBA,KAFgB,EAETC,QAFS,aAETA,QAFS;cAAA;cAAA,OAGH,IAAAC,6BAAA,EAAwBF,KAAxB,EAA+BC,QAA/B,CAHG;;YAAA;cAGlBX,MAHkB;cAAA;cAAA,OAIJ,IAAAC,kBAAA,EAAaD,MAAb,CAJI;;YAAA;cAIlBE,KAJkB;cAKxBN,GAAG,CAACO,MAAJ,CAAW,gBAAX,EAA6BD,KAA7B,EAAoCG,IAApC,CAAyC;gBACvCL,MAAM,EAANA,MADuC;gBAEvCE,KAAK,EAALA;cAFuC,CAAzC;cALwB;cAAA;;YAAA;cAAA;cAAA;cAUxBL,IAAI,cAAJ,CAVwB,CAWxB;;YAXwB;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAa3B,CA/BoB;EAgCfgB,MAhCe,kBAgCRlB,GAhCQ,EAgCHC,GAhCG,EAgCEC,IAhCF,EAgCQ;IAAA;MAAA;QAAA;UAAA;YAAA;cAC3BD,GAAG,CAACkB,IAAJ,CAASnB,GAAG,CAACoB,WAAb;;YAD2B;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAE5B;AAlCoB,CAAvB;AAqCAC,MAAM,CAACC,OAAP,GAAiBxB,cAAjB"}},"mtime":1664598269220},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/dbconnect.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n// import { createRequire } from \"module\";\n// const require = createRequire(import.meta.url);\nvar _require = require(\"sequelize\"),\n    Sequelize = _require.Sequelize; // Option 3: Passing parameters separately (other dialects)\n\n\nvar sequelize = new Sequelize(\"hrms\", \"root\", \"12072002\", {\n  host: \"localhost\",\n  dialect: \"mysql\",\n  logging: false\n});\n\nvar connectDB = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return sequelize.authenticate();\n\n          case 3:\n            console.log(\"Connection has been established successfully.\");\n            _context.next = 9;\n            break;\n\n          case 6:\n            _context.prev = 6;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(\"Unable to connect to the database: \", _context.t0);\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 6]]);\n  }));\n\n  return function connectDB() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nmodule.exports = connectDB;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiU2VxdWVsaXplIiwic2VxdWVsaXplIiwiaG9zdCIsImRpYWxlY3QiLCJsb2dnaW5nIiwiY29ubmVjdERCIiwiYXV0aGVudGljYXRlIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy8iLCJzb3VyY2VzIjpbImRiY29ubmVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgeyBjcmVhdGVSZXF1aXJlIH0gZnJvbSBcIm1vZHVsZVwiO1xuXG4vLyBjb25zdCByZXF1aXJlID0gY3JlYXRlUmVxdWlyZShpbXBvcnQubWV0YS51cmwpO1xuXG5jb25zdCB7IFNlcXVlbGl6ZSB9ID0gcmVxdWlyZShcInNlcXVlbGl6ZVwiKTtcbi8vIE9wdGlvbiAzOiBQYXNzaW5nIHBhcmFtZXRlcnMgc2VwYXJhdGVseSAob3RoZXIgZGlhbGVjdHMpXG5jb25zdCBzZXF1ZWxpemUgPSBuZXcgU2VxdWVsaXplKFwiaHJtc1wiLCBcInJvb3RcIiwgXCIxMjA3MjAwMlwiLCB7XG4gIGhvc3Q6IFwibG9jYWxob3N0XCIsXG4gIGRpYWxlY3Q6IFwibXlzcWxcIixcbiAgbG9nZ2luZzogZmFsc2UsXG59KTtcblxubGV0IGNvbm5lY3REQiA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBzZXF1ZWxpemUuYXV0aGVudGljYXRlKCk7XG4gICAgY29uc29sZS5sb2coXCJDb25uZWN0aW9uIGhhcyBiZWVuIGVzdGFibGlzaGVkIHN1Y2Nlc3NmdWxseS5cIik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIlVuYWJsZSB0byBjb25uZWN0IHRvIHRoZSBkYXRhYmFzZTogXCIsIGVycm9yKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBjb25uZWN0REI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7K0NBQ0Esb0o7Ozs7OztBQURBO0FBRUE7QUFFQSxlQUFzQkEsT0FBTyxDQUFDLFdBQUQsQ0FBN0I7QUFBQSxJQUFRQyxTQUFSLFlBQVFBLFNBQVIsQyxDQUNBOzs7QUFDQSxJQUFNQyxTQUFTLEdBQUcsSUFBSUQsU0FBSixDQUFjLE1BQWQsRUFBc0IsTUFBdEIsRUFBOEIsVUFBOUIsRUFBMEM7RUFDMURFLElBQUksRUFBRSxXQURvRDtFQUUxREMsT0FBTyxFQUFFLE9BRmlEO0VBRzFEQyxPQUFPLEVBQUU7QUFIaUQsQ0FBMUMsQ0FBbEI7O0FBTUEsSUFBSUMsU0FBUztFQUFBLHNFQUFHO0lBQUE7TUFBQTtRQUFBO1VBQUE7WUFBQTtZQUFBO1lBQUEsT0FFTkosU0FBUyxDQUFDSyxZQUFWLEVBRk07O1VBQUE7WUFHWkMsT0FBTyxDQUFDQyxHQUFSLENBQVksK0NBQVo7WUFIWTtZQUFBOztVQUFBO1lBQUE7WUFBQTtZQUtaRCxPQUFPLENBQUNFLEtBQVIsQ0FBYyxxQ0FBZDs7VUFMWTtVQUFBO1lBQUE7UUFBQTtNQUFBO0lBQUE7RUFBQSxDQUFIOztFQUFBLGdCQUFUSixTQUFTO0lBQUE7RUFBQTtBQUFBLEdBQWI7O0FBU0FLLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQk4sU0FBakIifQ==","map":{"version":3,"names":["require","Sequelize","sequelize","host","dialect","logging","connectDB","authenticate","console","log","error","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/","sources":["dbconnect.js"],"sourcesContent":["// import { createRequire } from \"module\";\n\n// const require = createRequire(import.meta.url);\n\nconst { Sequelize } = require(\"sequelize\");\n// Option 3: Passing parameters separately (other dialects)\nconst sequelize = new Sequelize(\"hrms\", \"root\", \"12072002\", {\n  host: \"localhost\",\n  dialect: \"mysql\",\n  logging: false,\n});\n\nlet connectDB = async () => {\n  try {\n    await sequelize.authenticate();\n    console.log(\"Connection has been established successfully.\");\n  } catch (error) {\n    console.error(\"Unable to connect to the database: \", error);\n  }\n};\n\nmodule.exports = connectDB;\n"],"mappings":";;;;+CACA,oJ;;;;;;AADA;AAEA;AAEA,eAAsBA,OAAO,CAAC,WAAD,CAA7B;AAAA,IAAQC,SAAR,YAAQA,SAAR,C,CACA;;;AACA,IAAMC,SAAS,GAAG,IAAID,SAAJ,CAAc,MAAd,EAAsB,MAAtB,EAA8B,UAA9B,EAA0C;EAC1DE,IAAI,EAAE,WADoD;EAE1DC,OAAO,EAAE,OAFiD;EAG1DC,OAAO,EAAE;AAHiD,CAA1C,CAAlB;;AAMA,IAAIC,SAAS;EAAA,sEAAG;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA;YAAA,OAENJ,SAAS,CAACK,YAAV,EAFM;;UAAA;YAGZC,OAAO,CAACC,GAAR,CAAY,+CAAZ;YAHY;YAAA;;UAAA;YAAA;YAAA;YAKZD,OAAO,CAACE,KAAR,CAAc,qCAAd;;UALY;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAATJ,SAAS;IAAA;EAAA;AAAA,GAAb;;AASAK,MAAM,CAACC,OAAP,GAAiBN,SAAjB"}},"mtime":1664347662149},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/members.service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar bycrypt = require(\"bcrypt\");\n\nvar jwt = require(\"jsonwebtoken\");\n\nvar httpStatus = require(\"http-status\");\n\nvar _require = require(\"../middleware/apiError\"),\n    ApiError = _require.ApiError;\n\nvar membersRepository = require(\"../repository/members.repository\");\n\nvar hashPassword = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(password) {\n    var salt, hashedPass;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return bycrypt.genSalt(10);\n\n          case 2:\n            salt = _context.sent;\n            _context.next = 5;\n            return bycrypt.hash(password, salt);\n\n          case 5:\n            hashedPass = _context.sent;\n            return _context.abrupt(\"return\", hashedPass);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function hashPassword(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar createNewMember = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var member, memberExisted, hashPass, newMember;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            member = req.body;\n            _context2.next = 4;\n            return membersRepository.getMemberByEmail(member.email);\n\n          case 4:\n            memberExisted = _context2.sent;\n\n            if (!memberExisted) {\n              _context2.next = 7;\n              break;\n            }\n\n            throw new ApiError(httpStatus.BAD_REQUEST, \"Email already taken\");\n\n          case 7:\n            _context2.next = 9;\n            return hashPassword(member.password);\n\n          case 9:\n            hashPass = _context2.sent;\n            _context2.next = 12;\n            return membersRepository.createNewMember({\n              email: member.email,\n              password: hashPass,\n              fullname: member.fullname,\n              avatar: member.avatar,\n              current_resume_url: member.current_resume_url\n            });\n\n          case 12:\n            newMember = _context2.sent;\n\n            if (newMember) {\n              _context2.next = 15;\n              break;\n            }\n\n            throw new ApiError(httpStatus.BAD_REQUEST, \"Register fail\");\n\n          case 15:\n            return _context2.abrupt(\"return\", newMember);\n\n          case 18:\n            _context2.prev = 18;\n            _context2.t0 = _context2[\"catch\"](0);\n            throw _context2.t0;\n\n          case 21:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 18]]);\n  }));\n\n  return function createNewMember(_x2, _x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nmodule.exports = {\n  createNewMember: createNewMember\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJieWNyeXB0IiwicmVxdWlyZSIsImp3dCIsImh0dHBTdGF0dXMiLCJBcGlFcnJvciIsIm1lbWJlcnNSZXBvc2l0b3J5IiwiaGFzaFBhc3N3b3JkIiwicGFzc3dvcmQiLCJnZW5TYWx0Iiwic2FsdCIsImhhc2giLCJoYXNoZWRQYXNzIiwiY3JlYXRlTmV3TWVtYmVyIiwicmVxIiwicmVzIiwibWVtYmVyIiwiYm9keSIsImdldE1lbWJlckJ5RW1haWwiLCJlbWFpbCIsIm1lbWJlckV4aXN0ZWQiLCJCQURfUkVRVUVTVCIsImhhc2hQYXNzIiwiZnVsbG5hbWUiLCJhdmF0YXIiLCJjdXJyZW50X3Jlc3VtZV91cmwiLCJuZXdNZW1iZXIiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL3NlcnZpY2UvIiwic291cmNlcyI6WyJtZW1iZXJzLnNlcnZpY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYnljcnlwdCA9IHJlcXVpcmUoXCJiY3J5cHRcIik7XG5jb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xuY29uc3QgaHR0cFN0YXR1cyA9IHJlcXVpcmUoXCJodHRwLXN0YXR1c1wiKTtcblxuY29uc3QgeyBBcGlFcnJvciB9ID0gcmVxdWlyZShcIi4uL21pZGRsZXdhcmUvYXBpRXJyb3JcIik7XG5jb25zdCBtZW1iZXJzUmVwb3NpdG9yeSA9IHJlcXVpcmUoXCIuLi9yZXBvc2l0b3J5L21lbWJlcnMucmVwb3NpdG9yeVwiKTtcblxuY29uc3QgaGFzaFBhc3N3b3JkID0gYXN5bmMgKHBhc3N3b3JkKSA9PiB7XG4gIGNvbnN0IHNhbHQgPSBhd2FpdCBieWNyeXB0LmdlblNhbHQoMTApO1xuICBjb25zdCBoYXNoZWRQYXNzID0gYXdhaXQgYnljcnlwdC5oYXNoKHBhc3N3b3JkLCBzYWx0KTtcbiAgcmV0dXJuIGhhc2hlZFBhc3M7XG59O1xuXG5jb25zdCBjcmVhdGVOZXdNZW1iZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBtZW1iZXIgPSByZXEuYm9keTtcbiAgICBjb25zdCBtZW1iZXJFeGlzdGVkID0gYXdhaXQgbWVtYmVyc1JlcG9zaXRvcnkuZ2V0TWVtYmVyQnlFbWFpbChcbiAgICAgIG1lbWJlci5lbWFpbFxuICAgICk7XG4gICAgaWYgKG1lbWJlckV4aXN0ZWQpIHtcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLkJBRF9SRVFVRVNULCBcIkVtYWlsIGFscmVhZHkgdGFrZW5cIik7XG4gICAgfVxuICAgIGNvbnN0IGhhc2hQYXNzID0gYXdhaXQgaGFzaFBhc3N3b3JkKG1lbWJlci5wYXNzd29yZCk7XG4gICAgY29uc3QgbmV3TWVtYmVyID0gYXdhaXQgbWVtYmVyc1JlcG9zaXRvcnkuY3JlYXRlTmV3TWVtYmVyKHtcbiAgICAgIGVtYWlsOiBtZW1iZXIuZW1haWwsXG4gICAgICBwYXNzd29yZDogaGFzaFBhc3MsXG4gICAgICBmdWxsbmFtZTogbWVtYmVyLmZ1bGxuYW1lLFxuICAgICAgYXZhdGFyOiBtZW1iZXIuYXZhdGFyLFxuICAgICAgY3VycmVudF9yZXN1bWVfdXJsOiBtZW1iZXIuY3VycmVudF9yZXN1bWVfdXJsLFxuICAgIH0pO1xuICAgIGlmICghbmV3TWVtYmVyKSB7XG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5CQURfUkVRVUVTVCwgXCJSZWdpc3RlciBmYWlsXCIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3TWVtYmVyO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNyZWF0ZU5ld01lbWJlcixcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7K0NBQ0Esb0o7Ozs7OztBQURBLElBQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFFBQUQsQ0FBdkI7O0FBQ0EsSUFBTUMsR0FBRyxHQUFHRCxPQUFPLENBQUMsY0FBRCxDQUFuQjs7QUFDQSxJQUFNRSxVQUFVLEdBQUdGLE9BQU8sQ0FBQyxhQUFELENBQTFCOztBQUVBLGVBQXFCQSxPQUFPLENBQUMsd0JBQUQsQ0FBNUI7QUFBQSxJQUFRRyxRQUFSLFlBQVFBLFFBQVI7O0FBQ0EsSUFBTUMsaUJBQWlCLEdBQUdKLE9BQU8sQ0FBQyxrQ0FBRCxDQUFqQzs7QUFFQSxJQUFNSyxZQUFZO0VBQUEsc0VBQUcsaUJBQU9DLFFBQVA7SUFBQTtJQUFBO01BQUE7UUFBQTtVQUFBO1lBQUE7WUFBQSxPQUNBUCxPQUFPLENBQUNRLE9BQVIsQ0FBZ0IsRUFBaEIsQ0FEQTs7VUFBQTtZQUNiQyxJQURhO1lBQUE7WUFBQSxPQUVNVCxPQUFPLENBQUNVLElBQVIsQ0FBYUgsUUFBYixFQUF1QkUsSUFBdkIsQ0FGTjs7VUFBQTtZQUViRSxVQUZhO1lBQUEsaUNBR1pBLFVBSFk7O1VBQUE7VUFBQTtZQUFBO1FBQUE7TUFBQTtJQUFBO0VBQUEsQ0FBSDs7RUFBQSxnQkFBWkwsWUFBWTtJQUFBO0VBQUE7QUFBQSxHQUFsQjs7QUFNQSxJQUFNTSxlQUFlO0VBQUEsdUVBQUcsa0JBQU9DLEdBQVAsRUFBWUMsR0FBWjtJQUFBO0lBQUE7TUFBQTtRQUFBO1VBQUE7WUFBQTtZQUVkQyxNQUZjLEdBRUxGLEdBQUcsQ0FBQ0csSUFGQztZQUFBO1lBQUEsT0FHUVgsaUJBQWlCLENBQUNZLGdCQUFsQixDQUMxQkYsTUFBTSxDQUFDRyxLQURtQixDQUhSOztVQUFBO1lBR2RDLGFBSGM7O1lBQUEsS0FNaEJBLGFBTmdCO2NBQUE7Y0FBQTtZQUFBOztZQUFBLE1BT1osSUFBSWYsUUFBSixDQUFhRCxVQUFVLENBQUNpQixXQUF4QixFQUFxQyxxQkFBckMsQ0FQWTs7VUFBQTtZQUFBO1lBQUEsT0FTR2QsWUFBWSxDQUFDUyxNQUFNLENBQUNSLFFBQVIsQ0FUZjs7VUFBQTtZQVNkYyxRQVRjO1lBQUE7WUFBQSxPQVVJaEIsaUJBQWlCLENBQUNPLGVBQWxCLENBQWtDO2NBQ3hETSxLQUFLLEVBQUVILE1BQU0sQ0FBQ0csS0FEMEM7Y0FFeERYLFFBQVEsRUFBRWMsUUFGOEM7Y0FHeERDLFFBQVEsRUFBRVAsTUFBTSxDQUFDTyxRQUh1QztjQUl4REMsTUFBTSxFQUFFUixNQUFNLENBQUNRLE1BSnlDO2NBS3hEQyxrQkFBa0IsRUFBRVQsTUFBTSxDQUFDUztZQUw2QixDQUFsQyxDQVZKOztVQUFBO1lBVWRDLFNBVmM7O1lBQUEsSUFpQmZBLFNBakJlO2NBQUE7Y0FBQTtZQUFBOztZQUFBLE1Ba0JaLElBQUlyQixRQUFKLENBQWFELFVBQVUsQ0FBQ2lCLFdBQXhCLEVBQXFDLGVBQXJDLENBbEJZOztVQUFBO1lBQUEsa0NBb0JiSyxTQXBCYTs7VUFBQTtZQUFBO1lBQUE7WUFBQTs7VUFBQTtVQUFBO1lBQUE7UUFBQTtNQUFBO0lBQUE7RUFBQSxDQUFIOztFQUFBLGdCQUFmYixlQUFlO0lBQUE7RUFBQTtBQUFBLEdBQXJCOztBQXlCQWMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2ZmLGVBQWUsRUFBZkE7QUFEZSxDQUFqQiJ9","map":{"version":3,"names":["bycrypt","require","jwt","httpStatus","ApiError","membersRepository","hashPassword","password","genSalt","salt","hash","hashedPass","createNewMember","req","res","member","body","getMemberByEmail","email","memberExisted","BAD_REQUEST","hashPass","fullname","avatar","current_resume_url","newMember","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/","sources":["members.service.js"],"sourcesContent":["const bycrypt = require(\"bcrypt\");\nconst jwt = require(\"jsonwebtoken\");\nconst httpStatus = require(\"http-status\");\n\nconst { ApiError } = require(\"../middleware/apiError\");\nconst membersRepository = require(\"../repository/members.repository\");\n\nconst hashPassword = async (password) => {\n  const salt = await bycrypt.genSalt(10);\n  const hashedPass = await bycrypt.hash(password, salt);\n  return hashedPass;\n};\n\nconst createNewMember = async (req, res) => {\n  try {\n    const member = req.body;\n    const memberExisted = await membersRepository.getMemberByEmail(\n      member.email\n    );\n    if (memberExisted) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Email already taken\");\n    }\n    const hashPass = await hashPassword(member.password);\n    const newMember = await membersRepository.createNewMember({\n      email: member.email,\n      password: hashPass,\n      fullname: member.fullname,\n      avatar: member.avatar,\n      current_resume_url: member.current_resume_url,\n    });\n    if (!newMember) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Register fail\");\n    }\n    return newMember;\n  } catch (error) {\n    throw error;\n  }\n};\nmodule.exports = {\n  createNewMember,\n};\n"],"mappings":";;;;+CACA,oJ;;;;;;AADA,IAAMA,OAAO,GAAGC,OAAO,CAAC,QAAD,CAAvB;;AACA,IAAMC,GAAG,GAAGD,OAAO,CAAC,cAAD,CAAnB;;AACA,IAAME,UAAU,GAAGF,OAAO,CAAC,aAAD,CAA1B;;AAEA,eAAqBA,OAAO,CAAC,wBAAD,CAA5B;AAAA,IAAQG,QAAR,YAAQA,QAAR;;AACA,IAAMC,iBAAiB,GAAGJ,OAAO,CAAC,kCAAD,CAAjC;;AAEA,IAAMK,YAAY;EAAA,sEAAG,iBAAOC,QAAP;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,OACAP,OAAO,CAACQ,OAAR,CAAgB,EAAhB,CADA;;UAAA;YACbC,IADa;YAAA;YAAA,OAEMT,OAAO,CAACU,IAAR,CAAaH,QAAb,EAAuBE,IAAvB,CAFN;;UAAA;YAEbE,UAFa;YAAA,iCAGZA,UAHY;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAZL,YAAY;IAAA;EAAA;AAAA,GAAlB;;AAMA,IAAMM,eAAe;EAAA,uEAAG,kBAAOC,GAAP,EAAYC,GAAZ;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAEdC,MAFc,GAELF,GAAG,CAACG,IAFC;YAAA;YAAA,OAGQX,iBAAiB,CAACY,gBAAlB,CAC1BF,MAAM,CAACG,KADmB,CAHR;;UAAA;YAGdC,aAHc;;YAAA,KAMhBA,aANgB;cAAA;cAAA;YAAA;;YAAA,MAOZ,IAAIf,QAAJ,CAAaD,UAAU,CAACiB,WAAxB,EAAqC,qBAArC,CAPY;;UAAA;YAAA;YAAA,OASGd,YAAY,CAACS,MAAM,CAACR,QAAR,CATf;;UAAA;YASdc,QATc;YAAA;YAAA,OAUIhB,iBAAiB,CAACO,eAAlB,CAAkC;cACxDM,KAAK,EAAEH,MAAM,CAACG,KAD0C;cAExDX,QAAQ,EAAEc,QAF8C;cAGxDC,QAAQ,EAAEP,MAAM,CAACO,QAHuC;cAIxDC,MAAM,EAAER,MAAM,CAACQ,MAJyC;cAKxDC,kBAAkB,EAAET,MAAM,CAACS;YAL6B,CAAlC,CAVJ;;UAAA;YAUdC,SAVc;;YAAA,IAiBfA,SAjBe;cAAA;cAAA;YAAA;;YAAA,MAkBZ,IAAIrB,QAAJ,CAAaD,UAAU,CAACiB,WAAxB,EAAqC,eAArC,CAlBY;;UAAA;YAAA,kCAoBbK,SApBa;;UAAA;YAAA;YAAA;YAAA;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAfb,eAAe;IAAA;EAAA;AAAA,GAArB;;AAyBAc,MAAM,CAACC,OAAP,GAAiB;EACff,eAAe,EAAfA;AADe,CAAjB"}},"mtime":1664238499882},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/middleware/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/middleware/apiError.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _httpStatus = _interopRequireDefault(require(\"http-status\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct.bind(); } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar ApiError = /*#__PURE__*/function (_Error) {\n  _inherits(ApiError, _Error);\n\n  var _super = _createSuper(ApiError);\n\n  function ApiError(statusCode, message) {\n    var _this;\n\n    _classCallCheck(this, ApiError);\n\n    _this = _super.call(this);\n    _this.statusCode = statusCode;\n    _this.message = message;\n    return _this;\n  }\n\n  return _createClass(ApiError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar handleError = function handleError(err, res) {\n  var statusCode = err.statusCode,\n      message = err.message;\n  res.status(statusCode).json({\n    status: \"error\",\n    statusCode: statusCode,\n    message: message\n  });\n};\n\nvar convertToApiError = function convertToApiError(err, req, res, next) {\n  var error = err; // check nu ko c error\n\n  if (!(error instanceof ApiError)) {\n    var statusCode = error.statusCode || _httpStatus[\"default\"].BAD_REQUEST || _httpStatus[\"default\"].INTERNAL_SERVER_ERROR;\n    var message = error.message || _httpStatus[\"default\"][statusCode];\n    error = new ApiError(statusCode, message);\n  }\n\n  next(error);\n};\n\nmodule.exports = {\n  ApiError: ApiError,\n  handleError: handleError,\n  convertToApiError: convertToApiError\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBcGlFcnJvciIsInN0YXR1c0NvZGUiLCJtZXNzYWdlIiwiRXJyb3IiLCJoYW5kbGVFcnJvciIsImVyciIsInJlcyIsInN0YXR1cyIsImpzb24iLCJjb252ZXJ0VG9BcGlFcnJvciIsInJlcSIsIm5leHQiLCJlcnJvciIsImh0dHBTdGF0dXMiLCJCQURfUkVRVUVTVCIsIklOVEVSTkFMX1NFUlZFUl9FUlJPUiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvbWlkZGxld2FyZS8iLCJzb3VyY2VzIjpbImFwaUVycm9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBodHRwU3RhdHVzIGZyb20gXCJodHRwLXN0YXR1c1wiO1xuY2xhc3MgQXBpRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHN0YXR1c0NvZGUsIG1lc3NhZ2UpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGU7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgfVxufVxuXG5jb25zdCBoYW5kbGVFcnJvciA9IChlcnIsIHJlcykgPT4ge1xuICBjb25zdCB7IHN0YXR1c0NvZGUsIG1lc3NhZ2UgfSA9IGVycjtcbiAgcmVzLnN0YXR1cyhzdGF0dXNDb2RlKS5qc29uKHtcbiAgICBzdGF0dXM6IFwiZXJyb3JcIixcbiAgICBzdGF0dXNDb2RlLFxuICAgIG1lc3NhZ2UsXG4gIH0pO1xufTtcbmNvbnN0IGNvbnZlcnRUb0FwaUVycm9yID0gKGVyciwgcmVxLCByZXMsIG5leHQpID0+IHtcbiAgbGV0IGVycm9yID0gZXJyO1xuICAvLyBjaGVjayBu4bq/dSBrbyBjw7MgZXJyb3JcbiAgaWYgKCEoZXJyb3IgaW5zdGFuY2VvZiBBcGlFcnJvcikpIHtcbiAgICBjb25zdCBzdGF0dXNDb2RlID1cbiAgICAgIGVycm9yLnN0YXR1c0NvZGUgfHxcbiAgICAgIGh0dHBTdGF0dXMuQkFEX1JFUVVFU1QgfHxcbiAgICAgIGh0dHBTdGF0dXMuSU5URVJOQUxfU0VSVkVSX0VSUk9SO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlIHx8IGh0dHBTdGF0dXNbc3RhdHVzQ29kZV07XG4gICAgZXJyb3IgPSBuZXcgQXBpRXJyb3Ioc3RhdHVzQ29kZSwgbWVzc2FnZSk7XG4gIH1cbiAgbmV4dChlcnJvcik7XG59O1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIEFwaUVycm9yLFxuICBoYW5kbGVFcnJvcixcbiAgY29udmVydFRvQXBpRXJyb3IsXG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUNNQSxROzs7OztFQUNKLGtCQUFZQyxVQUFaLEVBQXdCQyxPQUF4QixFQUFpQztJQUFBOztJQUFBOztJQUMvQjtJQUNBLE1BQUtELFVBQUwsR0FBa0JBLFVBQWxCO0lBQ0EsTUFBS0MsT0FBTCxHQUFlQSxPQUFmO0lBSCtCO0VBSWhDOzs7aUNBTG9CQyxLOztBQVF2QixJQUFNQyxXQUFXLEdBQUcsU0FBZEEsV0FBYyxDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBYztFQUNoQyxJQUFRTCxVQUFSLEdBQWdDSSxHQUFoQyxDQUFRSixVQUFSO0VBQUEsSUFBb0JDLE9BQXBCLEdBQWdDRyxHQUFoQyxDQUFvQkgsT0FBcEI7RUFDQUksR0FBRyxDQUFDQyxNQUFKLENBQVdOLFVBQVgsRUFBdUJPLElBQXZCLENBQTRCO0lBQzFCRCxNQUFNLEVBQUUsT0FEa0I7SUFFMUJOLFVBQVUsRUFBVkEsVUFGMEI7SUFHMUJDLE9BQU8sRUFBUEE7RUFIMEIsQ0FBNUI7QUFLRCxDQVBEOztBQVFBLElBQU1PLGlCQUFpQixHQUFHLFNBQXBCQSxpQkFBb0IsQ0FBQ0osR0FBRCxFQUFNSyxHQUFOLEVBQVdKLEdBQVgsRUFBZ0JLLElBQWhCLEVBQXlCO0VBQ2pELElBQUlDLEtBQUssR0FBR1AsR0FBWixDQURpRCxDQUVqRDs7RUFDQSxJQUFJLEVBQUVPLEtBQUssWUFBWVosUUFBbkIsQ0FBSixFQUFrQztJQUNoQyxJQUFNQyxVQUFVLEdBQ2RXLEtBQUssQ0FBQ1gsVUFBTixJQUNBWSxzQkFBQSxDQUFXQyxXQURYLElBRUFELHNCQUFBLENBQVdFLHFCQUhiO0lBSUEsSUFBTWIsT0FBTyxHQUFHVSxLQUFLLENBQUNWLE9BQU4sSUFBaUJXLHNCQUFBLENBQVdaLFVBQVgsQ0FBakM7SUFDQVcsS0FBSyxHQUFHLElBQUlaLFFBQUosQ0FBYUMsVUFBYixFQUF5QkMsT0FBekIsQ0FBUjtFQUNEOztFQUNEUyxJQUFJLENBQUNDLEtBQUQsQ0FBSjtBQUNELENBWkQ7O0FBYUFJLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmakIsUUFBUSxFQUFSQSxRQURlO0VBRWZJLFdBQVcsRUFBWEEsV0FGZTtFQUdmSyxpQkFBaUIsRUFBakJBO0FBSGUsQ0FBakIifQ==","map":{"version":3,"names":["ApiError","statusCode","message","Error","handleError","err","res","status","json","convertToApiError","req","next","error","httpStatus","BAD_REQUEST","INTERNAL_SERVER_ERROR","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/middleware/","sources":["apiError.js"],"sourcesContent":["import httpStatus from \"http-status\";\nclass ApiError extends Error {\n  constructor(statusCode, message) {\n    super();\n    this.statusCode = statusCode;\n    this.message = message;\n  }\n}\n\nconst handleError = (err, res) => {\n  const { statusCode, message } = err;\n  res.status(statusCode).json({\n    status: \"error\",\n    statusCode,\n    message,\n  });\n};\nconst convertToApiError = (err, req, res, next) => {\n  let error = err;\n  // check nu ko c error\n  if (!(error instanceof ApiError)) {\n    const statusCode =\n      error.statusCode ||\n      httpStatus.BAD_REQUEST ||\n      httpStatus.INTERNAL_SERVER_ERROR;\n    const message = error.message || httpStatus[statusCode];\n    error = new ApiError(statusCode, message);\n  }\n  next(error);\n};\nmodule.exports = {\n  ApiError,\n  handleError,\n  convertToApiError,\n};\n"],"mappings":";;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IACMA,Q;;;;;EACJ,kBAAYC,UAAZ,EAAwBC,OAAxB,EAAiC;IAAA;;IAAA;;IAC/B;IACA,MAAKD,UAAL,GAAkBA,UAAlB;IACA,MAAKC,OAAL,GAAeA,OAAf;IAH+B;EAIhC;;;iCALoBC,K;;AAQvB,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,GAAD,EAAMC,GAAN,EAAc;EAChC,IAAQL,UAAR,GAAgCI,GAAhC,CAAQJ,UAAR;EAAA,IAAoBC,OAApB,GAAgCG,GAAhC,CAAoBH,OAApB;EACAI,GAAG,CAACC,MAAJ,CAAWN,UAAX,EAAuBO,IAAvB,CAA4B;IAC1BD,MAAM,EAAE,OADkB;IAE1BN,UAAU,EAAVA,UAF0B;IAG1BC,OAAO,EAAPA;EAH0B,CAA5B;AAKD,CAPD;;AAQA,IAAMO,iBAAiB,GAAG,SAApBA,iBAAoB,CAACJ,GAAD,EAAMK,GAAN,EAAWJ,GAAX,EAAgBK,IAAhB,EAAyB;EACjD,IAAIC,KAAK,GAAGP,GAAZ,CADiD,CAEjD;;EACA,IAAI,EAAEO,KAAK,YAAYZ,QAAnB,CAAJ,EAAkC;IAChC,IAAMC,UAAU,GACdW,KAAK,CAACX,UAAN,IACAY,sBAAA,CAAWC,WADX,IAEAD,sBAAA,CAAWE,qBAHb;IAIA,IAAMb,OAAO,GAAGU,KAAK,CAACV,OAAN,IAAiBW,sBAAA,CAAWZ,UAAX,CAAjC;IACAW,KAAK,GAAG,IAAIZ,QAAJ,CAAaC,UAAb,EAAyBC,OAAzB,CAAR;EACD;;EACDS,IAAI,CAACC,KAAD,CAAJ;AACD,CAZD;;AAaAI,MAAM,CAACC,OAAP,GAAiB;EACfjB,QAAQ,EAARA,QADe;EAEfI,WAAW,EAAXA,WAFe;EAGfK,iBAAiB,EAAjBA;AAHe,CAAjB"}},"mtime":1664588508910},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/members.repository.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar db = require(\"../models\");\n\nvar findOne = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(where) {\n    var _yield$db$Members$fin;\n\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return db.Members.findOne({\n              where: where\n            });\n\n          case 2:\n            _context.t1 = _yield$db$Members$fin = _context.sent;\n            _context.t0 = _context.t1 === null;\n\n            if (_context.t0) {\n              _context.next = 6;\n              break;\n            }\n\n            _context.t0 = _yield$db$Members$fin === void 0;\n\n          case 6:\n            if (!_context.t0) {\n              _context.next = 10;\n              break;\n            }\n\n            _context.t2 = void 0;\n            _context.next = 11;\n            break;\n\n          case 10:\n            _context.t2 = _yield$db$Members$fin.dataValues;\n\n          case 11:\n            return _context.abrupt(\"return\", _context.t2);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function findOne(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar createNewMember = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(user) {\n    var member;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return db.Members.create({\n              email: user.email,\n              fullname: user.fullname,\n              password: user.password\n            });\n\n          case 2:\n            member = _context2.sent;\n            return _context2.abrupt(\"return\", member === null || member === void 0 ? void 0 : member.dataValues);\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function createNewMember(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar getMemberByEmail = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(email) {\n    var _yield$db$Members$fin2;\n\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return db.Members.findOne({\n              where: {\n                email: email\n              }\n            });\n\n          case 2:\n            _context3.t1 = _yield$db$Members$fin2 = _context3.sent;\n            _context3.t0 = _context3.t1 === null;\n\n            if (_context3.t0) {\n              _context3.next = 6;\n              break;\n            }\n\n            _context3.t0 = _yield$db$Members$fin2 === void 0;\n\n          case 6:\n            if (!_context3.t0) {\n              _context3.next = 10;\n              break;\n            }\n\n            _context3.t2 = void 0;\n            _context3.next = 11;\n            break;\n\n          case 10:\n            _context3.t2 = _yield$db$Members$fin2.dataValues;\n\n          case 11:\n            return _context3.abrupt(\"return\", _context3.t2);\n\n          case 12:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function getMemberByEmail(_x3) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar getMemberById = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(memberID) {\n    var _yield$db$Members$fin3;\n\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return db.Members.findOne({\n              where: {\n                id: memberID\n              }\n            });\n\n          case 2:\n            _context4.t1 = _yield$db$Members$fin3 = _context4.sent;\n            _context4.t0 = _context4.t1 === null;\n\n            if (_context4.t0) {\n              _context4.next = 6;\n              break;\n            }\n\n            _context4.t0 = _yield$db$Members$fin3 === void 0;\n\n          case 6:\n            if (!_context4.t0) {\n              _context4.next = 10;\n              break;\n            }\n\n            _context4.t2 = void 0;\n            _context4.next = 11;\n            break;\n\n          case 10:\n            _context4.t2 = _yield$db$Members$fin3.dataValues;\n\n          case 11:\n            return _context4.abrupt(\"return\", _context4.t2);\n\n          case 12:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function getMemberById(_x4) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nvar update = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(newObj, where) {\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return db.Members.update(newObj, {\n              where: where\n            });\n\n          case 2:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n\n  return function update(_x5, _x6) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\nvar showAllMember = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n    var memberList;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            memberList = [];\n            _context6.next = 3;\n            return db.Members.findAll({\n              raw: true\n            });\n\n          case 3:\n            memberList = _context6.sent;\n            return _context6.abrupt(\"return\", memberList);\n\n          case 5:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n\n  return function showAllMember() {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\nmodule.exports = {\n  findOne: findOne,\n  createNewMember: createNewMember,\n  getMemberByEmail: getMemberByEmail,\n  getMemberById: getMemberById,\n  update: update,\n  showAllMember: showAllMember\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYiIsInJlcXVpcmUiLCJmaW5kT25lIiwid2hlcmUiLCJNZW1iZXJzIiwiZGF0YVZhbHVlcyIsImNyZWF0ZU5ld01lbWJlciIsInVzZXIiLCJjcmVhdGUiLCJlbWFpbCIsImZ1bGxuYW1lIiwicGFzc3dvcmQiLCJtZW1iZXIiLCJnZXRNZW1iZXJCeUVtYWlsIiwiZ2V0TWVtYmVyQnlJZCIsIm1lbWJlcklEIiwiaWQiLCJ1cGRhdGUiLCJuZXdPYmoiLCJzaG93QWxsTWVtYmVyIiwibWVtYmVyTGlzdCIsImZpbmRBbGwiLCJyYXciLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL3JlcG9zaXRvcnkvIiwic291cmNlcyI6WyJtZW1iZXJzLnJlcG9zaXRvcnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGIgPSByZXF1aXJlKFwiLi4vbW9kZWxzXCIpO1xuXG5jb25zdCBmaW5kT25lID0gYXN5bmMgKHdoZXJlKSA9PiB7XG4gIHJldHVybiAoYXdhaXQgZGIuTWVtYmVycy5maW5kT25lKHsgd2hlcmU6IHdoZXJlIH0pKT8uZGF0YVZhbHVlcztcbn07XG5jb25zdCBjcmVhdGVOZXdNZW1iZXIgPSBhc3luYyAodXNlcikgPT4ge1xuICBjb25zdCBtZW1iZXIgPSBhd2FpdCBkYi5NZW1iZXJzLmNyZWF0ZSh7XG4gICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgZnVsbG5hbWU6IHVzZXIuZnVsbG5hbWUsXG4gICAgcGFzc3dvcmQ6IHVzZXIucGFzc3dvcmQsXG4gIH0pO1xuICByZXR1cm4gbWVtYmVyPy5kYXRhVmFsdWVzO1xufTtcblxuY29uc3QgZ2V0TWVtYmVyQnlFbWFpbCA9IGFzeW5jIChlbWFpbCkgPT4ge1xuICByZXR1cm4gKFxuICAgIGF3YWl0IGRiLk1lbWJlcnMuZmluZE9uZSh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBlbWFpbDogZW1haWwsXG4gICAgICB9LFxuICAgIH0pXG4gICk/LmRhdGFWYWx1ZXM7XG59O1xuXG5jb25zdCBnZXRNZW1iZXJCeUlkID0gYXN5bmMgKG1lbWJlcklEKSA9PiB7XG4gIHJldHVybiAoXG4gICAgYXdhaXQgZGIuTWVtYmVycy5maW5kT25lKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGlkOiBtZW1iZXJJRCxcbiAgICAgIH0sXG4gICAgfSlcbiAgKT8uZGF0YVZhbHVlcztcbn07XG5jb25zdCB1cGRhdGUgPSBhc3luYyAobmV3T2JqLCB3aGVyZSkgPT4ge1xuICBhd2FpdCBkYi5NZW1iZXJzLnVwZGF0ZShuZXdPYmosIHtcbiAgICB3aGVyZTogd2hlcmUsXG4gIH0pO1xufTtcbmNvbnN0IHNob3dBbGxNZW1iZXIgPSBhc3luYyAoKSA9PiB7XG4gIGxldCBtZW1iZXJMaXN0ID0gW107XG4gIG1lbWJlckxpc3QgPSBhd2FpdCBkYi5NZW1iZXJzLmZpbmRBbGwoeyByYXc6IHRydWUgfSk7XG4gIHJldHVybiBtZW1iZXJMaXN0O1xufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBmaW5kT25lLFxuICBjcmVhdGVOZXdNZW1iZXIsXG4gIGdldE1lbWJlckJ5RW1haWwsXG4gIGdldE1lbWJlckJ5SWQsXG4gIHVwZGF0ZSxcbiAgc2hvd0FsbE1lbWJlcixcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7K0NBQ0Esb0o7Ozs7OztBQURBLElBQU1BLEVBQUUsR0FBR0MsT0FBTyxDQUFDLFdBQUQsQ0FBbEI7O0FBRUEsSUFBTUMsT0FBTztFQUFBLHNFQUFHLGlCQUFPQyxLQUFQO0lBQUE7O0lBQUE7TUFBQTtRQUFBO1VBQUE7WUFBQTtZQUFBLE9BQ0FILEVBQUUsQ0FBQ0ksT0FBSCxDQUFXRixPQUFYLENBQW1CO2NBQUVDLEtBQUssRUFBRUE7WUFBVCxDQUFuQixDQURBOztVQUFBO1lBQUE7WUFBQTs7WUFBQTtjQUFBO2NBQUE7WUFBQTs7WUFBQTs7VUFBQTtZQUFBO2NBQUE7Y0FBQTtZQUFBOztZ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","map":{"version":3,"names":["db","require","findOne","where","Members","dataValues","createNewMember","user","create","email","fullname","password","member","getMemberByEmail","getMemberById","memberID","id","update","newObj","showAllMember","memberList","findAll","raw","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/","sources":["members.repository.js"],"sourcesContent":["const db = require(\"../models\");\n\nconst findOne = async (where) => {\n  return (await db.Members.findOne({ where: where }))?.dataValues;\n};\nconst createNewMember = async (user) => {\n  const member = await db.Members.create({\n    email: user.email,\n    fullname: user.fullname,\n    password: user.password,\n  });\n  return member?.dataValues;\n};\n\nconst getMemberByEmail = async (email) => {\n  return (\n    await db.Members.findOne({\n      where: {\n        email: email,\n      },\n    })\n  )?.dataValues;\n};\n\nconst getMemberById = async (memberID) => {\n  return (\n    await db.Members.findOne({\n      where: {\n        id: memberID,\n      },\n    })\n  )?.dataValues;\n};\nconst update = async (newObj, where) => {\n  await db.Members.update(newObj, {\n    where: where,\n  });\n};\nconst showAllMember = async () => {\n  let memberList = [];\n  memberList = await db.Members.findAll({ raw: true });\n  return memberList;\n};\nmodule.exports = {\n  findOne,\n  createNewMember,\n  getMemberByEmail,\n  getMemberById,\n  update,\n  showAllMember,\n};\n"],"mappings":"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"}},"mtime":1664837005358},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar fs = require(\"fs\");\n\nvar path = require(\"path\");\n\nvar Sequelize = require(\"sequelize\");\n\nvar basename = path.basename(__filename);\nvar env = process.env.NODE_ENV || \"development\";\nconsole.log(__dirname);\n\nvar config = require(\"../../config/config.json\")[env];\n\nvar db = {};\nvar sequelize;\n\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(config.database, config.username, config.password, config);\n}\n\nfs.readdirSync(__dirname).filter(function (file) {\n  return file.indexOf(\".\") !== 0 && file !== basename && file.slice(-3) === \".js\";\n}).forEach(function (file) {\n  console.log(__dirname);\n  console.log(file);\n\n  var model = require(path.join(__dirname, file))(sequelize, Sequelize.DataTypes);\n\n  db[model.name] = model;\n});\nObject.keys(db).forEach(function (modelName) {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\nmodule.exports = db;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJwYXRoIiwiU2VxdWVsaXplIiwiYmFzZW5hbWUiLCJfX2ZpbGVuYW1lIiwiZW52IiwicHJvY2VzcyIsIk5PREVfRU5WIiwiY29uc29sZSIsImxvZyIsIl9fZGlybmFtZSIsImNvbmZpZyIsImRiIiwic2VxdWVsaXplIiwidXNlX2Vudl92YXJpYWJsZSIsImRhdGFiYXNlIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInJlYWRkaXJTeW5jIiwiZmlsdGVyIiwiZmlsZSIsImluZGV4T2YiLCJzbGljZSIsImZvckVhY2giLCJtb2RlbCIsImpvaW4iLCJEYXRhVHlwZXMiLCJuYW1lIiwiT2JqZWN0Iiwia2V5cyIsIm1vZGVsTmFtZSIsImFzc29jaWF0ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvbW9kZWxzLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5jb25zdCBmcyA9IHJlcXVpcmUoXCJmc1wiKTtcclxuY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xyXG5jb25zdCBTZXF1ZWxpemUgPSByZXF1aXJlKFwic2VxdWVsaXplXCIpO1xyXG5jb25zdCBiYXNlbmFtZSA9IHBhdGguYmFzZW5hbWUoX19maWxlbmFtZSk7XHJcbmNvbnN0IGVudiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WIHx8IFwiZGV2ZWxvcG1lbnRcIjtcclxuY29uc29sZS5sb2coX19kaXJuYW1lKTtcclxuY29uc3QgY29uZmlnID0gcmVxdWlyZShcIi4uLy4uL2NvbmZpZy9jb25maWcuanNvblwiKVtlbnZdO1xyXG5jb25zdCBkYiA9IHt9O1xyXG5cclxubGV0IHNlcXVlbGl6ZTtcclxuaWYgKGNvbmZpZy51c2VfZW52X3ZhcmlhYmxlKSB7XHJcbiAgc2VxdWVsaXplID0gbmV3IFNlcXVlbGl6ZShwcm9jZXNzLmVudltjb25maWcudXNlX2Vudl92YXJpYWJsZV0sIGNvbmZpZyk7XHJcbn0gZWxzZSB7XHJcbiAgc2VxdWVsaXplID0gbmV3IFNlcXVlbGl6ZShcclxuICAgIGNvbmZpZy5kYXRhYmFzZSxcclxuICAgIGNvbmZpZy51c2VybmFtZSxcclxuICAgIGNvbmZpZy5wYXNzd29yZCxcclxuICAgIGNvbmZpZ1xyXG4gICk7XHJcbn1cclxuXHJcbmZzLnJlYWRkaXJTeW5jKF9fZGlybmFtZSlcclxuICAuZmlsdGVyKChmaWxlKSA9PiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICBmaWxlLmluZGV4T2YoXCIuXCIpICE9PSAwICYmIGZpbGUgIT09IGJhc2VuYW1lICYmIGZpbGUuc2xpY2UoLTMpID09PSBcIi5qc1wiXHJcbiAgICApO1xyXG4gIH0pXHJcbiAgLmZvckVhY2goKGZpbGUpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKF9fZGlybmFtZSk7XHJcbiAgICBjb25zb2xlLmxvZyhmaWxlKTtcclxuICAgIGNvbnN0IG1vZGVsID0gcmVxdWlyZShwYXRoLmpvaW4oX19kaXJuYW1lLCBmaWxlKSkoXHJcbiAgICAgIHNlcXVlbGl6ZSxcclxuICAgICAgU2VxdWVsaXplLkRhdGFUeXBlc1xyXG4gICAgKTtcclxuICAgIGRiW21vZGVsLm5hbWVdID0gbW9kZWw7XHJcbiAgfSk7XHJcblxyXG5PYmplY3Qua2V5cyhkYikuZm9yRWFjaCgobW9kZWxOYW1lKSA9PiB7XHJcbiAgaWYgKGRiW21vZGVsTmFtZV0uYXNzb2NpYXRlKSB7XHJcbiAgICBkYlttb2RlbE5hbWVdLmFzc29jaWF0ZShkYik7XHJcbiAgfVxyXG59KTtcclxuXHJcbmRiLnNlcXVlbGl6ZSA9IHNlcXVlbGl6ZTtcclxuZGIuU2VxdWVsaXplID0gU2VxdWVsaXplO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBkYjtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxJQUFNQSxFQUFFLEdBQUdDLE9BQU8sQ0FBQyxJQUFELENBQWxCOztBQUNBLElBQU1DLElBQUksR0FBR0QsT0FBTyxDQUFDLE1BQUQsQ0FBcEI7O0FBQ0EsSUFBTUUsU0FBUyxHQUFHRixPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxJQUFNRyxRQUFRLEdBQUdGLElBQUksQ0FBQ0UsUUFBTCxDQUFjQyxVQUFkLENBQWpCO0FBQ0EsSUFBTUMsR0FBRyxHQUFHQyxPQUFPLENBQUNELEdBQVIsQ0FBWUUsUUFBWixJQUF3QixhQUFwQztBQUNBQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsU0FBWjs7QUFDQSxJQUFNQyxNQUFNLEdBQUdYLE9BQU8sQ0FBQywwQkFBRCxDQUFQLENBQW9DSyxHQUFwQyxDQUFmOztBQUNBLElBQU1PLEVBQUUsR0FBRyxFQUFYO0FBRUEsSUFBSUMsU0FBSjs7QUFDQSxJQUFJRixNQUFNLENBQUNHLGdCQUFYLEVBQTZCO0VBQzNCRCxTQUFTLEdBQUcsSUFBSVgsU0FBSixDQUFjSSxPQUFPLENBQUNELEdBQVIsQ0FBWU0sTUFBTSxDQUFDRyxnQkFBbkIsQ0FBZCxFQUFvREgsTUFBcEQsQ0FBWjtBQUNELENBRkQsTUFFTztFQUNMRSxTQUFTLEdBQUcsSUFBSVgsU0FBSixDQUNWUyxNQUFNLENBQUNJLFFBREcsRUFFVkosTUFBTSxDQUFDSyxRQUZHLEVBR1ZMLE1BQU0sQ0FBQ00sUUFIRyxFQUlWTixNQUpVLENBQVo7QUFNRDs7QUFFRFosRUFBRSxDQUFDbUIsV0FBSCxDQUFlUixTQUFmLEVBQ0dTLE1BREgsQ0FDVSxVQUFDQyxJQUFELEVBQVU7RUFDaEIsT0FDRUEsSUFBSSxDQUFDQyxPQUFMLENBQWEsR0FBYixNQUFzQixDQUF0QixJQUEyQkQsSUFBSSxLQUFLakIsUUFBcEMsSUFBZ0RpQixJQUFJLENBQUNFLEtBQUwsQ0FBVyxDQUFDLENBQVosTUFBbUIsS0FEckU7QUFHRCxDQUxILEVBTUdDLE9BTkgsQ0FNVyxVQUFDSCxJQUFELEVBQVU7RUFDakJaLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxTQUFaO0VBQ0FGLE9BQU8sQ0FBQ0MsR0FBUixDQUFZVyxJQUFaOztFQUNBLElBQU1JLEtBQUssR0FBR3hCLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDd0IsSUFBTCxDQUFVZixTQUFWLEVBQXFCVSxJQUFyQixDQUFELENBQVAsQ0FDWlAsU0FEWSxFQUVaWCxTQUFTLENBQUN3QixTQUZFLENBQWQ7O0VBSUFkLEVBQUUsQ0FBQ1ksS0FBSyxDQUFDRyxJQUFQLENBQUYsR0FBaUJILEtBQWpCO0FBQ0QsQ0FkSDtBQWdCQUksTUFBTSxDQUFDQyxJQUFQLENBQVlqQixFQUFaLEVBQWdCVyxPQUFoQixDQUF3QixVQUFDTyxTQUFELEVBQWU7RUFDckMsSUFBSWxCLEVBQUUsQ0FBQ2tCLFNBQUQsQ0FBRixDQUFjQyxTQUFsQixFQUE2QjtJQUMzQm5CLEVBQUUsQ0FBQ2tCLFNBQUQsQ0FBRixDQUFjQyxTQUFkLENBQXdCbkIsRUFBeEI7RUFDRDtBQUNGLENBSkQ7QUFNQUEsRUFBRSxDQUFDQyxTQUFILEdBQWVBLFNBQWY7QUFDQUQsRUFBRSxDQUFDVixTQUFILEdBQWVBLFNBQWY7QUFFQThCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnJCLEVBQWpCIn0=","map":{"version":3,"names":["fs","require","path","Sequelize","basename","__filename","env","process","NODE_ENV","console","log","__dirname","config","db","sequelize","use_env_variable","database","username","password","readdirSync","filter","file","indexOf","slice","forEach","model","join","DataTypes","name","Object","keys","modelName","associate","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/","sources":["index.js"],"sourcesContent":["\"use strict\";\r\n\r\nconst fs = require(\"fs\");\r\nconst path = require(\"path\");\r\nconst Sequelize = require(\"sequelize\");\r\nconst basename = path.basename(__filename);\r\nconst env = process.env.NODE_ENV || \"development\";\r\nconsole.log(__dirname);\r\nconst config = require(\"../../config/config.json\")[env];\r\nconst db = {};\r\n\r\nlet sequelize;\r\nif (config.use_env_variable) {\r\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\r\n} else {\r\n  sequelize = new Sequelize(\r\n    config.database,\r\n    config.username,\r\n    config.password,\r\n    config\r\n  );\r\n}\r\n\r\nfs.readdirSync(__dirname)\r\n  .filter((file) => {\r\n    return (\r\n      file.indexOf(\".\") !== 0 && file !== basename && file.slice(-3) === \".js\"\r\n    );\r\n  })\r\n  .forEach((file) => {\r\n    console.log(__dirname);\r\n    console.log(file);\r\n    const model = require(path.join(__dirname, file))(\r\n      sequelize,\r\n      Sequelize.DataTypes\r\n    );\r\n    db[model.name] = model;\r\n  });\r\n\r\nObject.keys(db).forEach((modelName) => {\r\n  if (db[modelName].associate) {\r\n    db[modelName].associate(db);\r\n  }\r\n});\r\n\r\ndb.sequelize = sequelize;\r\ndb.Sequelize = Sequelize;\r\n\r\nmodule.exports = db;\r\n"],"mappings":"AAAA;;AAEA,IAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACA,IAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AACA,IAAME,SAAS,GAAGF,OAAO,CAAC,WAAD,CAAzB;;AACA,IAAMG,QAAQ,GAAGF,IAAI,CAACE,QAAL,CAAcC,UAAd,CAAjB;AACA,IAAMC,GAAG,GAAGC,OAAO,CAACD,GAAR,CAAYE,QAAZ,IAAwB,aAApC;AACAC,OAAO,CAACC,GAAR,CAAYC,SAAZ;;AACA,IAAMC,MAAM,GAAGX,OAAO,CAAC,0BAAD,CAAP,CAAoCK,GAApC,CAAf;;AACA,IAAMO,EAAE,GAAG,EAAX;AAEA,IAAIC,SAAJ;;AACA,IAAIF,MAAM,CAACG,gBAAX,EAA6B;EAC3BD,SAAS,GAAG,IAAIX,SAAJ,CAAcI,OAAO,CAACD,GAAR,CAAYM,MAAM,CAACG,gBAAnB,CAAd,EAAoDH,MAApD,CAAZ;AACD,CAFD,MAEO;EACLE,SAAS,GAAG,IAAIX,SAAJ,CACVS,MAAM,CAACI,QADG,EAEVJ,MAAM,CAACK,QAFG,EAGVL,MAAM,CAACM,QAHG,EAIVN,MAJU,CAAZ;AAMD;;AAEDZ,EAAE,CAACmB,WAAH,CAAeR,SAAf,EACGS,MADH,CACU,UAACC,IAAD,EAAU;EAChB,OACEA,IAAI,CAACC,OAAL,CAAa,GAAb,MAAsB,CAAtB,IAA2BD,IAAI,KAAKjB,QAApC,IAAgDiB,IAAI,CAACE,KAAL,CAAW,CAAC,CAAZ,MAAmB,KADrE;AAGD,CALH,EAMGC,OANH,CAMW,UAACH,IAAD,EAAU;EACjBZ,OAAO,CAACC,GAAR,CAAYC,SAAZ;EACAF,OAAO,CAACC,GAAR,CAAYW,IAAZ;;EACA,IAAMI,KAAK,GAAGxB,OAAO,CAACC,IAAI,CAACwB,IAAL,CAAUf,SAAV,EAAqBU,IAArB,CAAD,CAAP,CACZP,SADY,EAEZX,SAAS,CAACwB,SAFE,CAAd;;EAIAd,EAAE,CAACY,KAAK,CAACG,IAAP,CAAF,GAAiBH,KAAjB;AACD,CAdH;AAgBAI,MAAM,CAACC,IAAP,CAAYjB,EAAZ,EAAgBW,OAAhB,CAAwB,UAACO,SAAD,EAAe;EACrC,IAAIlB,EAAE,CAACkB,SAAD,CAAF,CAAcC,SAAlB,EAA6B;IAC3BnB,EAAE,CAACkB,SAAD,CAAF,CAAcC,SAAd,CAAwBnB,EAAxB;EACD;AACF,CAJD;AAMAA,EAAE,CAACC,SAAH,GAAeA,SAAf;AACAD,EAAE,CAACV,SAAH,GAAeA,SAAf;AAEA8B,MAAM,CAACC,OAAP,GAAiBrB,EAAjB"}},"mtime":1664371860698},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/campaigns.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar _require = require(\"sequelize\"),\n    Model = _require.Model;\n\nvar _require2 = require(\"../constant/campaignStatus.enum\"),\n    campaignStatusDefault = _require2.campaignStatusDefault,\n    campaignStatus = _require2.campaignStatus;\n\nmodule.exports = function (sequelize, DataTypes) {\n  var Campaigns = /*#__PURE__*/function (_Model) {\n    _inherits(Campaigns, _Model);\n\n    var _super = _createSuper(Campaigns);\n\n    function Campaigns() {\n      _classCallCheck(this, Campaigns);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(Campaigns, null, [{\n      key: \"associate\",\n      value: function associate(models) {\n        // define association here\n        Campaigns.hasMany(models.Jobs, {\n          foreignKey: \"Campaign_id\"\n        });\n      }\n    }]);\n\n    return Campaigns;\n  }(Model);\n\n  Campaigns.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(6)\n    },\n    title: {\n      allowNull: false,\n      type: DataTypes.STRING(45)\n    },\n    description: {\n      allowNull: false,\n      type: DataTypes.TEXT\n    },\n    start_date: {\n      allowNull: false,\n      type: DataTypes.DATEONLY\n    },\n    end_date: {\n      allowNull: false,\n      type: DataTypes.DATEONLY\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(campaignStatus),\n      defaultValue: campaignStatusDefault\n    }\n  }, {\n    sequelize: sequelize,\n    modelName: \"Campaigns\",\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  return Campaigns;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiTW9kZWwiLCJjYW1wYWlnblN0YXR1c0RlZmF1bHQiLCJjYW1wYWlnblN0YXR1cyIsIm1vZHVsZSIsImV4cG9ydHMiLCJzZXF1ZWxpemUiLCJEYXRhVHlwZXMiLCJDYW1wYWlnbnMiLCJtb2RlbHMiLCJoYXNNYW55IiwiSm9icyIsImZvcmVpZ25LZXkiLCJpbml0IiwiaWQiLCJhbGxvd051bGwiLCJwcmltYXJ5S2V5IiwidHlwZSIsIlNUUklORyIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJURVhUIiwic3RhcnRfZGF0ZSIsIkRBVEVPTkxZIiwiZW5kX2RhdGUiLCJzdGF0dXMiLCJFTlVNIiwiZGVmYXVsdFZhbHVlIiwibW9kZWxOYW1lIiwidGltZXN0YW1wcyIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9tb2RlbHMvIiwic291cmNlcyI6WyJjYW1wYWlnbnMubW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbmNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJzZXF1ZWxpemVcIik7XHJcbmNvbnN0IHtcclxuICBjYW1wYWlnblN0YXR1c0RlZmF1bHQsXHJcbiAgY2FtcGFpZ25TdGF0dXMsXHJcbn0gPSByZXF1aXJlKFwiLi4vY29uc3RhbnQvY2FtcGFpZ25TdGF0dXMuZW51bVwiKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gKHNlcXVlbGl6ZSwgRGF0YVR5cGVzKSA9PiB7XHJcbiAgY2xhc3MgQ2FtcGFpZ25zIGV4dGVuZHMgTW9kZWwge1xyXG4gICAgc3RhdGljIGFzc29jaWF0ZShtb2RlbHMpIHtcclxuICAgICAgLy8gZGVmaW5lIGFzc29jaWF0aW9uIGhlcmVcclxuICAgICAgQ2FtcGFpZ25zLmhhc01hbnkobW9kZWxzLkpvYnMsIHsgZm9yZWlnbktleTogXCJDYW1wYWlnbl9pZFwiIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICBDYW1wYWlnbnMuaW5pdChcclxuICAgIHtcclxuICAgICAgaWQ6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHByaW1hcnlLZXk6IHRydWUsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyg2KSxcclxuICAgICAgfSxcclxuICAgICAgdGl0bGU6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoNDUpLFxyXG4gICAgICB9LFxyXG4gICAgICBkZXNjcmlwdGlvbjoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlRFWFQsXHJcbiAgICAgIH0sXHJcbiAgICAgIHN0YXJ0X2RhdGU6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5EQVRFT05MWSxcclxuICAgICAgfSxcclxuICAgICAgZW5kX2RhdGU6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5EQVRFT05MWSxcclxuICAgICAgfSxcclxuICAgICAgc3RhdHVzOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuRU5VTShjYW1wYWlnblN0YXR1cyksXHJcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBjYW1wYWlnblN0YXR1c0RlZmF1bHQsXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBzZXF1ZWxpemUsXHJcbiAgICAgIG1vZGVsTmFtZTogXCJDYW1wYWlnbnNcIixcclxuICAgICAgdGltZXN0YW1wczogZmFsc2UsXHJcbiAgICAgIGNyZWF0ZWRBdDogZmFsc2UsXHJcbiAgICAgIHVwZGF0ZWRBdDogZmFsc2UsXHJcbiAgICB9XHJcbiAgKTtcclxuICByZXR1cm4gQ2FtcGFpZ25zO1xyXG59O1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxlQUFrQkEsT0FBTyxDQUFDLFdBQUQsQ0FBekI7QUFBQSxJQUFRQyxLQUFSLFlBQVFBLEtBQVI7O0FBQ0EsZ0JBR0lELE9BQU8sQ0FBQyxpQ0FBRCxDQUhYO0FBQUEsSUFDRUUscUJBREYsYUFDRUEscUJBREY7QUFBQSxJQUVFQyxjQUZGLGFBRUVBLGNBRkY7O0FBS0FDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixVQUFDQyxTQUFELEVBQVlDLFNBQVosRUFBMEI7RUFBQSxJQUNuQ0MsU0FEbUM7SUFBQTs7SUFBQTs7SUFBQTtNQUFBOztNQUFBO0lBQUE7O0lBQUE7TUFBQTtNQUFBLE9BRXZDLG1CQUFpQkMsTUFBakIsRUFBeUI7UUFDdkI7UUFDQUQsU0FBUyxDQUFDRSxPQUFWLENBQWtCRCxNQUFNLENBQUNFLElBQXpCLEVBQStCO1VBQUVDLFVBQVUsRUFBRTtRQUFkLENBQS9CO01BQ0Q7SUFMc0M7O0lBQUE7RUFBQSxFQUNqQlgsS0FEaUI7O0VBT3pDTyxTQUFTLENBQUNLLElBQVYsQ0FDRTtJQUNFQyxFQUFFLEVBQUU7TUFDRkMsU0FBUyxFQUFFLEtBRFQ7TUFFRkMsVUFBVSxFQUFFLElBRlY7TUFHRkMsSUFBSSxFQUFFVixTQUFTLENBQUNXLE1BQVYsQ0FBaUIsQ0FBakI7SUFISixDQUROO0lBTUVDLEtBQUssRUFBRTtNQUNMSixTQUFTLEVBQUUsS0FETjtNQUVMRSxJQUFJLEVBQUVWLFNBQVMsQ0FBQ1csTUFBVixDQUFpQixFQUFqQjtJQUZELENBTlQ7SUFVRUUsV0FBVyxFQUFFO01BQ1hMLFNBQVMsRUFBRSxLQURBO01BRVhFLElBQUksRUFBRVYsU0FBUyxDQUFDYztJQUZMLENBVmY7SUFjRUMsVUFBVSxFQUFFO01BQ1ZQLFNBQVMsRUFBRSxLQUREO01BRVZFLElBQUksRUFBRVYsU0FBUyxDQUFDZ0I7SUFGTixDQWRkO0lBa0JFQyxRQUFRLEVBQUU7TUFDUlQsU0FBUyxFQUFFLEtBREg7TUFFUkUsSUFBSSxFQUFFVixTQUFTLENBQUNnQjtJQUZSLENBbEJaO0lBc0JFRSxNQUFNLEVBQUU7TUFDTlYsU0FBUyxFQUFFLEtBREw7TUFFTkUsSUFBSSxFQUFFVixTQUFTLENBQUNtQixJQUFWLENBQWV2QixjQUFmLENBRkE7TUFHTndCLFlBQVksRUFBRXpCO0lBSFI7RUF0QlYsQ0FERixFQTZCRTtJQUNFSSxTQUFTLEVBQVRBLFNBREY7SUFFRXNCLFNBQVMsRUFBRSxXQUZiO0lBR0VDLFVBQVUsRUFBRSxLQUhkO0lBSUVDLFNBQVMsRUFBRSxLQUpiO0lBS0VDLFNBQVMsRUFBRTtFQUxiLENBN0JGO0VBcUNBLE9BQU92QixTQUFQO0FBQ0QsQ0E3Q0QifQ==","map":{"version":3,"names":["require","Model","campaignStatusDefault","campaignStatus","module","exports","sequelize","DataTypes","Campaigns","models","hasMany","Jobs","foreignKey","init","id","allowNull","primaryKey","type","STRING","title","description","TEXT","start_date","DATEONLY","end_date","status","ENUM","defaultValue","modelName","timestamps","createdAt","updatedAt"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/","sources":["campaigns.model.js"],"sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nconst {\r\n  campaignStatusDefault,\r\n  campaignStatus,\r\n} = require(\"../constant/campaignStatus.enum\");\r\n\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Campaigns extends Model {\r\n    static associate(models) {\r\n      // define association here\r\n      Campaigns.hasMany(models.Jobs, { foreignKey: \"Campaign_id\" });\r\n    }\r\n  }\r\n  Campaigns.init(\r\n    {\r\n      id: {\r\n        allowNull: false,\r\n        primaryKey: true,\r\n        type: DataTypes.STRING(6),\r\n      },\r\n      title: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(45),\r\n      },\r\n      description: {\r\n        allowNull: false,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      start_date: {\r\n        allowNull: false,\r\n        type: DataTypes.DATEONLY,\r\n      },\r\n      end_date: {\r\n        allowNull: false,\r\n        type: DataTypes.DATEONLY,\r\n      },\r\n      status: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(campaignStatus),\r\n        defaultValue: campaignStatusDefault,\r\n      },\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"Campaigns\",\r\n      timestamps: false,\r\n      createdAt: false,\r\n      updatedAt: false,\r\n    }\r\n  );\r\n  return Campaigns;\r\n};\r\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;AACA,eAAkBA,OAAO,CAAC,WAAD,CAAzB;AAAA,IAAQC,KAAR,YAAQA,KAAR;;AACA,gBAGID,OAAO,CAAC,iCAAD,CAHX;AAAA,IACEE,qBADF,aACEA,qBADF;AAAA,IAEEC,cAFF,aAEEA,cAFF;;AAKAC,MAAM,CAACC,OAAP,GAAiB,UAACC,SAAD,EAAYC,SAAZ,EAA0B;EAAA,IACnCC,SADmC;IAAA;;IAAA;;IAAA;MAAA;;MAAA;IAAA;;IAAA;MAAA;MAAA,OAEvC,mBAAiBC,MAAjB,EAAyB;QACvB;QACAD,SAAS,CAACE,OAAV,CAAkBD,MAAM,CAACE,IAAzB,EAA+B;UAAEC,UAAU,EAAE;QAAd,CAA/B;MACD;IALsC;;IAAA;EAAA,EACjBX,KADiB;;EAOzCO,SAAS,CAACK,IAAV,CACE;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEV,SAAS,CAACW,MAAV,CAAiB,CAAjB;IAHJ,CADN;IAMEC,KAAK,EAAE;MACLJ,SAAS,EAAE,KADN;MAELE,IAAI,EAAEV,SAAS,CAACW,MAAV,CAAiB,EAAjB;IAFD,CANT;IAUEE,WAAW,EAAE;MACXL,SAAS,EAAE,KADA;MAEXE,IAAI,EAAEV,SAAS,CAACc;IAFL,CAVf;IAcEC,UAAU,EAAE;MACVP,SAAS,EAAE,KADD;MAEVE,IAAI,EAAEV,SAAS,CAACgB;IAFN,CAdd;IAkBEC,QAAQ,EAAE;MACRT,SAAS,EAAE,KADH;MAERE,IAAI,EAAEV,SAAS,CAACgB;IAFR,CAlBZ;IAsBEE,MAAM,EAAE;MACNV,SAAS,EAAE,KADL;MAENE,IAAI,EAAEV,SAAS,CAACmB,IAAV,CAAevB,cAAf,CAFA;MAGNwB,YAAY,EAAEzB;IAHR;EAtBV,CADF,EA6BE;IACEI,SAAS,EAATA,SADF;IAEEsB,SAAS,EAAE,WAFb;IAGEC,UAAU,EAAE,KAHd;IAIEC,SAAS,EAAE,KAJb;IAKEC,SAAS,EAAE;EALb,CA7BF;EAqCA,OAAOvB,SAAP;AACD,CA7CD"}},"mtime":1664367834924},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/campaignStatus.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  campaignStatus: [\"Not started\", \"Processing\", \"Finished\"],\n  campaignStatusDefault: \"Not started\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiY2FtcGFpZ25TdGF0dXMiLCJjYW1wYWlnblN0YXR1c0RlZmF1bHQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvY29uc3RhbnQvIiwic291cmNlcyI6WyJjYW1wYWlnblN0YXR1cy5lbnVtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGNhbXBhaWduU3RhdHVzOiBbXCJOb3Qgc3RhcnRlZFwiLCBcIlByb2Nlc3NpbmdcIiwgXCJGaW5pc2hlZFwiXSxcbiAgICBjYW1wYWlnblN0YXR1c0RlZmF1bHQ6IFwiTm90IHN0YXJ0ZWRcIlxufSJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2JDLGNBQWMsRUFBRSxDQUFDLGFBQUQsRUFBZ0IsWUFBaEIsRUFBOEIsVUFBOUIsQ0FESDtFQUViQyxxQkFBcUIsRUFBRTtBQUZWLENBQWpCIn0=","map":{"version":3,"names":["module","exports","campaignStatus","campaignStatusDefault"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/","sources":["campaignStatus.enum.js"],"sourcesContent":["module.exports = {\n    campaignStatus: [\"Not started\", \"Processing\", \"Finished\"],\n    campaignStatusDefault: \"Not started\"\n}"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACbC,cAAc,EAAE,CAAC,aAAD,EAAgB,YAAhB,EAA8B,UAA9B,CADH;EAEbC,qBAAqB,EAAE;AAFV,CAAjB"}},"mtime":1664175774117},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/candidatedetails.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar _require = require(\"sequelize\"),\n    Model = _require.Model;\n\nvar _require2 = require(\"../constant/cvStatus.enum.js\"),\n    applyStatus = _require2.applyStatus,\n    applyStatusDefault = _require2.applyStatusDefault;\n\nmodule.exports = function (sequelize, DataTypes) {\n  var CandidateDetails = /*#__PURE__*/function (_Model) {\n    _inherits(CandidateDetails, _Model);\n\n    var _super = _createSuper(CandidateDetails);\n\n    function CandidateDetails() {\n      _classCallCheck(this, CandidateDetails);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(CandidateDetails, null, [{\n      key: \"associate\",\n      value: function associate(models) {\n        // define association here\n        CandidateDetails.belongsTo(models.Members, {\n          foreignKey: \"Member_id\"\n        });\n        CandidateDetails.belongsTo(models.Staffs, {\n          foreignKey: \"HRStaff_id\"\n        });\n        CandidateDetails.belongsTo(models.Jobs, {\n          foreignKey: \"Job_id\"\n        });\n        CandidateDetails.hasMany(models.Interviews, {\n          foreignKey: \"CandidateDetail_id\"\n        });\n      }\n    }]);\n\n    return CandidateDetails;\n  }(Model);\n\n  CandidateDetails.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(6)\n    },\n    identity_number: {\n      allowNull: false,\n      type: DataTypes.STRING(12)\n    },\n    resume_url: {\n      allowNull: false,\n      type: DataTypes.TEXT\n    },\n    phone: {\n      allowNull: false,\n      type: DataTypes.STRING(10)\n    },\n    applied_status: {\n      allowNull: false,\n      type: DataTypes.ENUM(applyStatus),\n      defaultValue: applyStatusDefault\n    },\n    dob: {\n      allowNull: false,\n      type: DataTypes.DATEONLY\n    },\n    adress: {\n      allowNull: false,\n      type: DataTypes.TEXT\n    },\n    Job_id: {\n      allowNull: false,\n      type: DataTypes.STRING(6),\n      references: {\n        model: \"Jobs\",\n        key: \"id\"\n      }\n    },\n    HRStaff_id: {\n      allowNull: false,\n      type: DataTypes.STRING(6),\n      references: {\n        model: \"Staffs\",\n        key: \"id\"\n      }\n    },\n    Member_id: {\n      allowNull: false,\n      type: DataTypes.STRING(6),\n      references: {\n        model: \"Members\",\n        key: \"id\"\n      }\n    }\n  }, {\n    sequelize: sequelize,\n    modelName: \"CandidateDetails\",\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  return CandidateDetails;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiTW9kZWwiLCJhcHBseVN0YXR1cyIsImFwcGx5U3RhdHVzRGVmYXVsdCIsIm1vZHVsZSIsImV4cG9ydHMiLCJzZXF1ZWxpemUiLCJEYXRhVHlwZXMiLCJDYW5kaWRhdGVEZXRhaWxzIiwibW9kZWxzIiwiYmVsb25nc1RvIiwiTWVtYmVycyIsImZvcmVpZ25LZXkiLCJTdGFmZnMiLCJKb2JzIiwiaGFzTWFueSIsIkludGVydmlld3MiLCJpbml0IiwiaWQiLCJhbGxvd051bGwiLCJwcmltYXJ5S2V5IiwidHlwZSIsIlNUUklORyIsImlkZW50aXR5X251bWJlciIsInJlc3VtZV91cmwiLCJURVhUIiwicGhvbmUiLCJhcHBsaWVkX3N0YXR1cyIsIkVOVU0iLCJkZWZhdWx0VmFsdWUiLCJkb2IiLCJEQVRFT05MWSIsImFkcmVzcyIsIkpvYl9pZCIsInJlZmVyZW5jZXMiLCJtb2RlbCIsImtleSIsIkhSU3RhZmZfaWQiLCJNZW1iZXJfaWQiLCJtb2RlbE5hbWUiLCJ0aW1lc3RhbXBzIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0Il0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL21vZGVscy8iLCJzb3VyY2VzIjpbImNhbmRpZGF0ZWRldGFpbHMubW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbmNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJzZXF1ZWxpemVcIik7XHJcbmNvbnN0IHtcclxuICBhcHBseVN0YXR1cyxcclxuICBhcHBseVN0YXR1c0RlZmF1bHQsXHJcbn0gPSByZXF1aXJlKFwiLi4vY29uc3RhbnQvY3ZTdGF0dXMuZW51bS5qc1wiKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gKHNlcXVlbGl6ZSwgRGF0YVR5cGVzKSA9PiB7XHJcbiAgY2xhc3MgQ2FuZGlkYXRlRGV0YWlscyBleHRlbmRzIE1vZGVsIHtcclxuICAgIHN0YXRpYyBhc3NvY2lhdGUobW9kZWxzKSB7XHJcbiAgICAgIC8vIGRlZmluZSBhc3NvY2lhdGlvbiBoZXJlXHJcbiAgICAgIENhbmRpZGF0ZURldGFpbHMuYmVsb25nc1RvKG1vZGVscy5NZW1iZXJzLCB7IGZvcmVpZ25LZXk6IFwiTWVtYmVyX2lkXCIgfSk7XHJcbiAgICAgIENhbmRpZGF0ZURldGFpbHMuYmVsb25nc1RvKG1vZGVscy5TdGFmZnMsIHsgZm9yZWlnbktleTogXCJIUlN0YWZmX2lkXCIgfSk7XHJcbiAgICAgIENhbmRpZGF0ZURldGFpbHMuYmVsb25nc1RvKG1vZGVscy5Kb2JzLCB7IGZvcmVpZ25LZXk6IFwiSm9iX2lkXCIgfSk7XHJcbiAgICAgIENhbmRpZGF0ZURldGFpbHMuaGFzTWFueShtb2RlbHMuSW50ZXJ2aWV3cywge1xyXG4gICAgICAgIGZvcmVpZ25LZXk6IFwiQ2FuZGlkYXRlRGV0YWlsX2lkXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICBDYW5kaWRhdGVEZXRhaWxzLmluaXQoXHJcbiAgICB7XHJcbiAgICAgIGlkOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICBwcmltYXJ5S2V5OiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoNiksXHJcbiAgICAgIH0sXHJcbiAgICAgIGlkZW50aXR5X251bWJlcjoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygxMiksXHJcbiAgICAgIH0sXHJcbiAgICAgIHJlc3VtZV91cmw6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5URVhULFxyXG4gICAgICB9LFxyXG4gICAgICBwaG9uZToge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygxMCksXHJcbiAgICAgIH0sXHJcbiAgICAgIGFwcGxpZWRfc3RhdHVzOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuRU5VTShhcHBseVN0YXR1cyksXHJcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBhcHBseVN0YXR1c0RlZmF1bHQsXHJcbiAgICAgIH0sXHJcbiAgICAgIGRvYjoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkRBVEVPTkxZLFxyXG4gICAgICB9LFxyXG4gICAgICBhZHJlc3M6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5URVhULFxyXG4gICAgICB9LFxyXG4gICAgICBKb2JfaWQ6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoNiksXHJcbiAgICAgICAgcmVmZXJlbmNlczoge1xyXG4gICAgICAgICAgbW9kZWw6IFwiSm9ic1wiLFxyXG4gICAgICAgICAga2V5OiBcImlkXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAgSFJTdGFmZl9pZDoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyg2KSxcclxuICAgICAgICByZWZlcmVuY2VzOiB7XHJcbiAgICAgICAgICBtb2RlbDogXCJTdGFmZnNcIixcclxuICAgICAgICAgIGtleTogXCJpZFwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIE1lbWJlcl9pZDoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyg2KSxcclxuICAgICAgICByZWZlcmVuY2VzOiB7XHJcbiAgICAgICAgICBtb2RlbDogXCJNZW1iZXJzXCIsXHJcbiAgICAgICAgICBrZXk6IFwiaWRcIixcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgc2VxdWVsaXplLFxyXG4gICAgICBtb2RlbE5hbWU6IFwiQ2FuZGlkYXRlRGV0YWlsc1wiLFxyXG4gICAgICB0aW1lc3RhbXBzOiBmYWxzZSxcclxuICAgICAgY3JlYXRlZEF0OiBmYWxzZSxcclxuICAgICAgdXBkYXRlZEF0OiBmYWxzZSxcclxuICAgIH1cclxuICApO1xyXG4gIHJldHVybiBDYW5kaWRhdGVEZXRhaWxzO1xyXG59O1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxlQUFrQkEsT0FBTyxDQUFDLFdBQUQsQ0FBekI7QUFBQSxJQUFRQyxLQUFSLFlBQVFBLEtBQVI7O0FBQ0EsZ0JBR0lELE9BQU8sQ0FBQyw4QkFBRCxDQUhYO0FBQUEsSUFDRUUsV0FERixhQUNFQSxXQURGO0FBQUEsSUFFRUMsa0JBRkYsYUFFRUEsa0JBRkY7O0FBS0FDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixVQUFDQyxTQUFELEVBQVlDLFNBQVosRUFBMEI7RUFBQSxJQUNuQ0MsZ0JBRG1DO0lBQUE7O0lBQUE7O0lBQUE7TUFBQTs7TUFBQTtJQUFBOztJQUFBO01BQUE7TUFBQSxPQUV2QyxtQkFBaUJDLE1BQWpCLEVBQXlCO1FBQ3ZCO1FBQ0FELGdCQUFnQixDQUFDRSxTQUFqQixDQUEyQkQsTUFBTSxDQUFDRSxPQUFsQyxFQUEyQztVQUFFQyxVQUFVLEVBQUU7UUFBZCxDQUEzQztRQUNBSixnQkFBZ0IsQ0FBQ0UsU0FBakIsQ0FBMkJELE1BQU0sQ0FBQ0ksTUFBbEMsRUFBMEM7VUFBRUQsVUFBVSxFQUFFO1FBQWQsQ0FBMUM7UUFDQUosZ0JBQWdCLENBQUNFLFNBQWpCLENBQTJCRCxNQUFNLENBQUNLLElBQWxDLEVBQXdDO1VBQUVGLFVBQVUsRUFBRTtRQUFkLENBQXhDO1FBQ0FKLGdCQUFnQixDQUFDTyxPQUFqQixDQUF5Qk4sTUFBTSxDQUFDTyxVQUFoQyxFQUE0QztVQUMxQ0osVUFBVSxFQUFFO1FBRDhCLENBQTVDO01BR0Q7SUFWc0M7O0lBQUE7RUFBQSxFQUNWWCxLQURVOztFQVl6Q08sZ0JBQWdCLENBQUNTLElBQWpCLENBQ0U7SUFDRUMsRUFBRSxFQUFFO01BQ0ZDLFNBQVMsRUFBRSxLQURUO01BRUZDLFVBQVUsRUFBRSxJQUZWO01BR0ZDLElBQUksRUFBRWQsU0FBUyxDQUFDZSxNQUFWLENBQWlCLENBQWpCO0lBSEosQ0FETjtJQU1FQyxlQUFlLEVBQUU7TUFDZkosU0FBUyxFQUFFLEtBREk7TUFFZkUsSUFBSSxFQUFFZCxTQUFTLENBQUNlLE1BQVYsQ0FBaUIsRUFBakI7SUFGUyxDQU5uQjtJQVVFRSxVQUFVLEVBQUU7TUFDVkwsU0FBUyxFQUFFLEtBREQ7TUFFVkUsSUFBSSxFQUFFZCxTQUFTLENBQUNrQjtJQUZOLENBVmQ7SUFjRUMsS0FBSyxFQUFFO01BQ0xQLFNBQVMsRUFBRSxLQUROO01BRUxFLElBQUksRUFBRWQsU0FBUyxDQUFDZSxNQUFWLENBQWlCLEVBQWpCO0lBRkQsQ0FkVDtJQWtCRUssY0FBYyxFQUFFO01BQ2RSLFNBQVMsRUFBRSxLQURHO01BRWRFLElBQUksRUFBRWQsU0FBUyxDQUFDcUIsSUFBVixDQUFlMUIsV0FBZixDQUZRO01BR2QyQixZQUFZLEVBQUUxQjtJQUhBLENBbEJsQjtJQXVCRTJCLEdBQUcsRUFBRTtNQUNIWCxTQUFTLEVBQUUsS0FEUjtNQUVIRSxJQUFJLEVBQUVkLFNBQVMsQ0FBQ3dCO0lBRmIsQ0F2QlA7SUEyQkVDLE1BQU0sRUFBRTtNQUNOYixTQUFTLEVBQUUsS0FETDtNQUVORSxJQUFJLEVBQUVkLFNBQVMsQ0FBQ2tCO0lBRlYsQ0EzQlY7SUErQkVRLE1BQU0sRUFBRTtNQUNOZCxTQUFTLEVBQUUsS0FETDtNQUVORSxJQUFJLEVBQUVkLFNBQVMsQ0FBQ2UsTUFBVixDQUFpQixDQUFqQixDQUZBO01BR05ZLFVBQVUsRUFBRTtRQUNWQyxLQUFLLEVBQUUsTUFERztRQUVWQyxHQUFHLEVBQUU7TUFGSztJQUhOLENBL0JWO0lBdUNFQyxVQUFVLEVBQUU7TUFDVmxCLFNBQVMsRUFBRSxLQUREO01BRVZFLElBQUksRUFBRWQsU0FBUyxDQUFDZSxNQUFWLENBQWlCLENBQWpCLENBRkk7TUFHVlksVUFBVSxFQUFFO1FBQ1ZDLEtBQUssRUFBRSxRQURHO1FBRVZDLEdBQUcsRUFBRTtNQUZLO0lBSEYsQ0F2Q2Q7SUErQ0VFLFNBQVMsRUFBRTtNQUNUbkIsU0FBUyxFQUFFLEtBREY7TUFFVEUsSUFBSSxFQUFFZCxTQUFTLENBQUNlLE1BQVYsQ0FBaUIsQ0FBakIsQ0FGRztNQUdUWSxVQUFVLEVBQUU7UUFDVkMsS0FBSyxFQUFFLFNBREc7UUFFVkMsR0FBRyxFQUFFO01BRks7SUFISDtFQS9DYixDQURGLEVBeURFO0lBQ0U5QixTQUFTLEVBQVRBLFNBREY7SUFFRWlDLFNBQVMsRUFBRSxrQkFGYjtJQUdFQyxVQUFVLEVBQUUsS0FIZDtJQUlFQyxTQUFTLEVBQUUsS0FKYjtJQUtFQyxTQUFTLEVBQUU7RUFMYixDQXpERjtFQWlFQSxPQUFPbEMsZ0JBQVA7QUFDRCxDQTlFRCJ9","map":{"version":3,"names":["require","Model","applyStatus","applyStatusDefault","module","exports","sequelize","DataTypes","CandidateDetails","models","belongsTo","Members","foreignKey","Staffs","Jobs","hasMany","Interviews","init","id","allowNull","primaryKey","type","STRING","identity_number","resume_url","TEXT","phone","applied_status","ENUM","defaultValue","dob","DATEONLY","adress","Job_id","references","model","key","HRStaff_id","Member_id","modelName","timestamps","createdAt","updatedAt"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/","sources":["candidatedetails.model.js"],"sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nconst {\r\n  applyStatus,\r\n  applyStatusDefault,\r\n} = require(\"../constant/cvStatus.enum.js\");\r\n\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class CandidateDetails extends Model {\r\n    static associate(models) {\r\n      // define association here\r\n      CandidateDetails.belongsTo(models.Members, { foreignKey: \"Member_id\" });\r\n      CandidateDetails.belongsTo(models.Staffs, { foreignKey: \"HRStaff_id\" });\r\n      CandidateDetails.belongsTo(models.Jobs, { foreignKey: \"Job_id\" });\r\n      CandidateDetails.hasMany(models.Interviews, {\r\n        foreignKey: \"CandidateDetail_id\",\r\n      });\r\n    }\r\n  }\r\n  CandidateDetails.init(\r\n    {\r\n      id: {\r\n        allowNull: false,\r\n        primaryKey: true,\r\n        type: DataTypes.STRING(6),\r\n      },\r\n      identity_number: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(12),\r\n      },\r\n      resume_url: {\r\n        allowNull: false,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      phone: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(10),\r\n      },\r\n      applied_status: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(applyStatus),\r\n        defaultValue: applyStatusDefault,\r\n      },\r\n      dob: {\r\n        allowNull: false,\r\n        type: DataTypes.DATEONLY,\r\n      },\r\n      adress: {\r\n        allowNull: false,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      Job_id: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(6),\r\n        references: {\r\n          model: \"Jobs\",\r\n          key: \"id\",\r\n        },\r\n      },\r\n      HRStaff_id: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(6),\r\n        references: {\r\n          model: \"Staffs\",\r\n          key: \"id\",\r\n        },\r\n      },\r\n      Member_id: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(6),\r\n        references: {\r\n          model: \"Members\",\r\n          key: \"id\",\r\n        },\r\n      },\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"CandidateDetails\",\r\n      timestamps: false,\r\n      createdAt: false,\r\n      updatedAt: false,\r\n    }\r\n  );\r\n  return CandidateDetails;\r\n};\r\n"],"mappings":"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"}},"mtime":1664367844861},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/cvStatus.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  applyStatus: [\"Success\", \"Failed\"],\n  applyStatusDefault: \"Failed\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiYXBwbHlTdGF0dXMiLCJhcHBseVN0YXR1c0RlZmF1bHQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvY29uc3RhbnQvIiwic291cmNlcyI6WyJjdlN0YXR1cy5lbnVtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGFwcGx5U3RhdHVzOiBbXCJTdWNjZXNzXCIsIFwiRmFpbGVkXCJdLFxuICAgIGFwcGx5U3RhdHVzRGVmYXVsdDogXCJGYWlsZWRcIixcbn0iXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNiQyxXQUFXLEVBQUUsQ0FBQyxTQUFELEVBQVksUUFBWixDQURBO0VBRWJDLGtCQUFrQixFQUFFO0FBRlAsQ0FBakIifQ==","map":{"version":3,"names":["module","exports","applyStatus","applyStatusDefault"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/","sources":["cvStatus.enum.js"],"sourcesContent":["module.exports = {\n    applyStatus: [\"Success\", \"Failed\"],\n    applyStatusDefault: \"Failed\",\n}"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACbC,WAAW,EAAE,CAAC,SAAD,EAAY,QAAZ,CADA;EAEbC,kBAAkB,EAAE;AAFP,CAAjB"}},"mtime":1664175774118},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/categories.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"'use strict';\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar _require = require('sequelize'),\n    Model = _require.Model;\n\nmodule.exports = function (sequelize, DataTypes) {\n  var Categories = /*#__PURE__*/function (_Model) {\n    _inherits(Categories, _Model);\n\n    var _super = _createSuper(Categories);\n\n    function Categories() {\n      _classCallCheck(this, Categories);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(Categories, null, [{\n      key: \"associate\",\n      value: function associate(models) {\n        // define association here\n        Categories.hasMany(models.Jobs, {\n          foreignKey: 'Category_id'\n        });\n      }\n    }]);\n\n    return Categories;\n  }(Model);\n\n  ;\n  Categories.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(6)\n    },\n    name: {\n      allowNull: false,\n      type: DataTypes.STRING(45)\n    },\n    description: {\n      allowNull: false,\n      type: DataTypes.TEXT\n    }\n  }, {\n    sequelize: sequelize,\n    modelName: 'Categories',\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  return Categories;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiTW9kZWwiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiQ2F0ZWdvcmllcyIsIm1vZGVscyIsImhhc01hbnkiLCJKb2JzIiwiZm9yZWlnbktleSIsImluaXQiLCJpZCIsImFsbG93TnVsbCIsInByaW1hcnlLZXkiLCJ0eXBlIiwiU1RSSU5HIiwibmFtZSIsImRlc2NyaXB0aW9uIiwiVEVYVCIsIm1vZGVsTmFtZSIsInRpbWVzdGFtcHMiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvbW9kZWxzLyIsInNvdXJjZXMiOlsiY2F0ZWdvcmllcy5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcbmNvbnN0IHtcclxuICBNb2RlbFxyXG59ID0gcmVxdWlyZSgnc2VxdWVsaXplJyk7XHJcbm1vZHVsZS5leHBvcnRzID0gKHNlcXVlbGl6ZSwgRGF0YVR5cGVzKSA9PiB7XHJcbiAgY2xhc3MgQ2F0ZWdvcmllcyBleHRlbmRzIE1vZGVsIHtcclxuXHJcbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xyXG4gICAgICAvLyBkZWZpbmUgYXNzb2NpYXRpb24gaGVyZVxyXG4gICAgICBDYXRlZ29yaWVzLmhhc01hbnkobW9kZWxzLkpvYnMsIHsgZm9yZWlnbktleTogJ0NhdGVnb3J5X2lkJyB9KVxyXG4gICAgfVxyXG4gIH07XHJcbiAgQ2F0ZWdvcmllcy5pbml0KHtcclxuICAgIGlkOiB7XHJcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgIHByaW1hcnlLZXk6IHRydWUsXHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoNilcclxuICAgIH0sXHJcbiAgICBuYW1lOiB7XHJcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoNDUpXHJcbiAgICB9LFxyXG4gICAgZGVzY3JpcHRpb246IHtcclxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgdHlwZTogRGF0YVR5cGVzLlRFWFRcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBzZXF1ZWxpemUsXHJcbiAgICBtb2RlbE5hbWU6ICdDYXRlZ29yaWVzJyxcclxuICAgIHRpbWVzdGFtcHM6IGZhbHNlLFxyXG4gICAgY3JlYXRlZEF0OiBmYWxzZSxcclxuICAgIHVwZGF0ZWRBdDogZmFsc2VcclxuICB9KTtcclxuICByZXR1cm4gQ2F0ZWdvcmllcztcclxufTsiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxlQUVJQSxPQUFPLENBQUMsV0FBRCxDQUZYO0FBQUEsSUFDRUMsS0FERixZQUNFQSxLQURGOztBQUdBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsVUFBQ0MsU0FBRCxFQUFZQyxTQUFaLEVBQTBCO0VBQUEsSUFDbkNDLFVBRG1DO0lBQUE7O0lBQUE7O0lBQUE7TUFBQTs7TUFBQTtJQUFBOztJQUFBO01BQUE7TUFBQSxPQUd2QyxtQkFBaUJDLE1BQWpCLEVBQXlCO1FBQ3ZCO1FBQ0FELFVBQVUsQ0FBQ0UsT0FBWCxDQUFtQkQsTUFBTSxDQUFDRSxJQUExQixFQUFnQztVQUFFQyxVQUFVLEVBQUU7UUFBZCxDQUFoQztNQUNEO0lBTnNDOztJQUFBO0VBQUEsRUFDaEJULEtBRGdCOztFQU94QztFQUNESyxVQUFVLENBQUNLLElBQVgsQ0FBZ0I7SUFDZEMsRUFBRSxFQUFFO01BQ0ZDLFNBQVMsRUFBRSxLQURUO01BRUZDLFVBQVUsRUFBRSxJQUZWO01BR0ZDLElBQUksRUFBRVYsU0FBUyxDQUFDVyxNQUFWLENBQWlCLENBQWpCO0lBSEosQ0FEVTtJQU1kQyxJQUFJLEVBQUU7TUFDSkosU0FBUyxFQUFFLEtBRFA7TUFFSkUsSUFBSSxFQUFFVixTQUFTLENBQUNXLE1BQVYsQ0FBaUIsRUFBakI7SUFGRixDQU5RO0lBVWRFLFdBQVcsRUFBRTtNQUNYTCxTQUFTLEVBQUUsS0FEQTtNQUVYRSxJQUFJLEVBQUVWLFNBQVMsQ0FBQ2M7SUFGTDtFQVZDLENBQWhCLEVBY0c7SUFDRGYsU0FBUyxFQUFUQSxTQURDO0lBRURnQixTQUFTLEVBQUUsWUFGVjtJQUdEQyxVQUFVLEVBQUUsS0FIWDtJQUlEQyxTQUFTLEVBQUUsS0FKVjtJQUtEQyxTQUFTLEVBQUU7RUFMVixDQWRIO0VBcUJBLE9BQU9qQixVQUFQO0FBQ0QsQ0E5QkQifQ==","map":{"version":3,"names":["require","Model","module","exports","sequelize","DataTypes","Categories","models","hasMany","Jobs","foreignKey","init","id","allowNull","primaryKey","type","STRING","name","description","TEXT","modelName","timestamps","createdAt","updatedAt"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/","sources":["categories.model.js"],"sourcesContent":["'use strict';\r\nconst {\r\n  Model\r\n} = require('sequelize');\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Categories extends Model {\r\n\r\n    static associate(models) {\r\n      // define association here\r\n      Categories.hasMany(models.Jobs, { foreignKey: 'Category_id' })\r\n    }\r\n  };\r\n  Categories.init({\r\n    id: {\r\n      allowNull: false,\r\n      primaryKey: true,\r\n      type: DataTypes.STRING(6)\r\n    },\r\n    name: {\r\n      allowNull: false,\r\n      type: DataTypes.STRING(45)\r\n    },\r\n    description: {\r\n      allowNull: false,\r\n      type: DataTypes.TEXT\r\n    }\r\n  }, {\r\n    sequelize,\r\n    modelName: 'Categories',\r\n    timestamps: false,\r\n    createdAt: false,\r\n    updatedAt: false\r\n  });\r\n  return Categories;\r\n};"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;AACA,eAEIA,OAAO,CAAC,WAAD,CAFX;AAAA,IACEC,KADF,YACEA,KADF;;AAGAC,MAAM,CAACC,OAAP,GAAiB,UAACC,SAAD,EAAYC,SAAZ,EAA0B;EAAA,IACnCC,UADmC;IAAA;;IAAA;;IAAA;MAAA;;MAAA;IAAA;;IAAA;MAAA;MAAA,OAGvC,mBAAiBC,MAAjB,EAAyB;QACvB;QACAD,UAAU,CAACE,OAAX,CAAmBD,MAAM,CAACE,IAA1B,EAAgC;UAAEC,UAAU,EAAE;QAAd,CAAhC;MACD;IANsC;;IAAA;EAAA,EAChBT,KADgB;;EAOxC;EACDK,UAAU,CAACK,IAAX,CAAgB;IACdC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEV,SAAS,CAACW,MAAV,CAAiB,CAAjB;IAHJ,CADU;IAMdC,IAAI,EAAE;MACJJ,SAAS,EAAE,KADP;MAEJE,IAAI,EAAEV,SAAS,CAACW,MAAV,CAAiB,EAAjB;IAFF,CANQ;IAUdE,WAAW,EAAE;MACXL,SAAS,EAAE,KADA;MAEXE,IAAI,EAAEV,SAAS,CAACc;IAFL;EAVC,CAAhB,EAcG;IACDf,SAAS,EAATA,SADC;IAEDgB,SAAS,EAAE,YAFV;IAGDC,UAAU,EAAE,KAHX;IAIDC,SAAS,EAAE,KAJV;IAKDC,SAAS,EAAE;EALV,CAdH;EAqBA,OAAOjB,UAAP;AACD,CA9BD"}},"mtime":1664253578307},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/interviews.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar _require = require(\"sequelize\"),\n    Model = _require.Model;\n\nvar _require2 = require(\"../constant/interviewStatus.enum.js\"),\n    interviewStatus = _require2.interviewStatus,\n    interviewStatusDefault = _require2.interviewStatusDefault;\n\nmodule.exports = function (sequelize, DataTypes) {\n  var Interviews = /*#__PURE__*/function (_Model) {\n    _inherits(Interviews, _Model);\n\n    var _super = _createSuper(Interviews);\n\n    function Interviews() {\n      _classCallCheck(this, Interviews);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(Interviews, null, [{\n      key: \"associate\",\n      value: function associate(models) {\n        // define association here\n        Interviews.belongsTo(models.CandidateDetails, {\n          foreignKey: \"CandidateDetail_id\"\n        });\n        Interviews.belongsTo(models.Staffs, {\n          foreignKey: \"Interviewer_id\"\n        });\n      }\n    }]);\n\n    return Interviews;\n  }(Model);\n\n  Interviews.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(6)\n    },\n    room: {\n      allowNull: false,\n      type: DataTypes.STRING(20)\n    },\n    start_time: {\n      allowNull: false,\n      type: DataTypes.DATE\n    },\n    end_time: {\n      allowNull: false,\n      type: DataTypes.DATE\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(interviewStatus),\n      defaultValue: interviewStatusDefault\n    },\n    mark: {\n      allowNull: false,\n      type: DataTypes.INTEGER\n    },\n    comment: {\n      allowNull: false,\n      type: DataTypes.TEXT\n    },\n    Interviewer_id: {\n      allowNull: false,\n      type: DataTypes.STRING(6),\n      references: {\n        model: \"Staffs\",\n        key: \"id\"\n      }\n    },\n    CandidateDetail_id: {\n      allowNull: false,\n      type: DataTypes.STRING(6),\n      references: {\n        model: \"CandidateDetails\",\n        key: \"id\"\n      }\n    }\n  }, {\n    sequelize: sequelize,\n    modelName: \"Interviews\",\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  return Interviews;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiTW9kZWwiLCJpbnRlcnZpZXdTdGF0dXMiLCJpbnRlcnZpZXdTdGF0dXNEZWZhdWx0IiwibW9kdWxlIiwiZXhwb3J0cyIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsIkludGVydmlld3MiLCJtb2RlbHMiLCJiZWxvbmdzVG8iLCJDYW5kaWRhdGVEZXRhaWxzIiwiZm9yZWlnbktleSIsIlN0YWZmcyIsImluaXQiLCJpZCIsImFsbG93TnVsbCIsInByaW1hcnlLZXkiLCJ0eXBlIiwiU1RSSU5HIiwicm9vbSIsInN0YXJ0X3RpbWUiLCJEQVRFIiwiZW5kX3RpbWUiLCJzdGF0dXMiLCJFTlVNIiwiZGVmYXVsdFZhbHVlIiwibWFyayIsIklOVEVHRVIiLCJjb21tZW50IiwiVEVYVCIsIkludGVydmlld2VyX2lkIiwicmVmZXJlbmNlcyIsIm1vZGVsIiwia2V5IiwiQ2FuZGlkYXRlRGV0YWlsX2lkIiwibW9kZWxOYW1lIiwidGltZXN0YW1wcyIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9tb2RlbHMvIiwic291cmNlcyI6WyJpbnRlcnZpZXdzLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5jb25zdCB7IE1vZGVsIH0gPSByZXF1aXJlKFwic2VxdWVsaXplXCIpO1xyXG5jb25zdCB7XHJcbiAgaW50ZXJ2aWV3U3RhdHVzLFxyXG4gIGludGVydmlld1N0YXR1c0RlZmF1bHQsXHJcbn0gPSByZXF1aXJlKFwiLi4vY29uc3RhbnQvaW50ZXJ2aWV3U3RhdHVzLmVudW0uanNcIik7XHJcbm1vZHVsZS5leHBvcnRzID0gKHNlcXVlbGl6ZSwgRGF0YVR5cGVzKSA9PiB7XHJcbiAgY2xhc3MgSW50ZXJ2aWV3cyBleHRlbmRzIE1vZGVsIHtcclxuICAgIHN0YXRpYyBhc3NvY2lhdGUobW9kZWxzKSB7XHJcbiAgICAgIC8vIGRlZmluZSBhc3NvY2lhdGlvbiBoZXJlXHJcbiAgICAgIEludGVydmlld3MuYmVsb25nc1RvKG1vZGVscy5DYW5kaWRhdGVEZXRhaWxzLCB7XHJcbiAgICAgICAgZm9yZWlnbktleTogXCJDYW5kaWRhdGVEZXRhaWxfaWRcIixcclxuICAgICAgfSk7XHJcbiAgICAgIEludGVydmlld3MuYmVsb25nc1RvKG1vZGVscy5TdGFmZnMsIHsgZm9yZWlnbktleTogXCJJbnRlcnZpZXdlcl9pZFwiIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICBJbnRlcnZpZXdzLmluaXQoXHJcbiAgICB7XHJcbiAgICAgIGlkOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICBwcmltYXJ5S2V5OiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoNiksXHJcbiAgICAgIH0sXHJcbiAgICAgIHJvb206IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoMjApLFxyXG4gICAgICB9LFxyXG4gICAgICBzdGFydF90aW1lOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURSxcclxuICAgICAgfSxcclxuICAgICAgZW5kX3RpbWU6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5EQVRFLFxyXG4gICAgICB9LFxyXG4gICAgICBzdGF0dXM6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5FTlVNKGludGVydmlld1N0YXR1cyksXHJcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBpbnRlcnZpZXdTdGF0dXNEZWZhdWx0LFxyXG4gICAgICB9LFxyXG4gICAgICBtYXJrOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcclxuICAgICAgfSxcclxuICAgICAgY29tbWVudDoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlRFWFQsXHJcbiAgICAgIH0sXHJcbiAgICAgIEludGVydmlld2VyX2lkOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDYpLFxyXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcclxuICAgICAgICAgIG1vZGVsOiBcIlN0YWZmc1wiLFxyXG4gICAgICAgICAga2V5OiBcImlkXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAgQ2FuZGlkYXRlRGV0YWlsX2lkOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDYpLFxyXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcclxuICAgICAgICAgIG1vZGVsOiBcIkNhbmRpZGF0ZURldGFpbHNcIixcclxuICAgICAgICAgIGtleTogXCJpZFwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBzZXF1ZWxpemUsXHJcbiAgICAgIG1vZGVsTmFtZTogXCJJbnRlcnZpZXdzXCIsXHJcbiAgICAgIHRpbWVzdGFtcHM6IGZhbHNlLFxyXG4gICAgICBjcmVhdGVkQXQ6IGZhbHNlLFxyXG4gICAgICB1cGRhdGVkQXQ6IGZhbHNlLFxyXG4gICAgfVxyXG4gICk7XHJcbiAgcmV0dXJuIEludGVydmlld3M7XHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLGVBQWtCQSxPQUFPLENBQUMsV0FBRCxDQUF6QjtBQUFBLElBQVFDLEtBQVIsWUFBUUEsS0FBUjs7QUFDQSxnQkFHSUQsT0FBTyxD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","map":{"version":3,"names":["require","Model","interviewStatus","interviewStatusDefault","module","exports","sequelize","DataTypes","Interviews","models","belongsTo","CandidateDetails","foreignKey","Staffs","init","id","allowNull","primaryKey","type","STRING","room","start_time","DATE","end_time","status","ENUM","defaultValue","mark","INTEGER","comment","TEXT","Interviewer_id","references","model","key","CandidateDetail_id","modelName","timestamps","createdAt","updatedAt"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/","sources":["interviews.model.js"],"sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nconst {\r\n  interviewStatus,\r\n  interviewStatusDefault,\r\n} = require(\"../constant/interviewStatus.enum.js\");\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Interviews extends Model {\r\n    static associate(models) {\r\n      // define association here\r\n      Interviews.belongsTo(models.CandidateDetails, {\r\n        foreignKey: \"CandidateDetail_id\",\r\n      });\r\n      Interviews.belongsTo(models.Staffs, { foreignKey: \"Interviewer_id\" });\r\n    }\r\n  }\r\n  Interviews.init(\r\n    {\r\n      id: {\r\n        allowNull: false,\r\n        primaryKey: true,\r\n        type: DataTypes.STRING(6),\r\n      },\r\n      room: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(20),\r\n      },\r\n      start_time: {\r\n        allowNull: false,\r\n        type: DataTypes.DATE,\r\n      },\r\n      end_time: {\r\n        allowNull: false,\r\n        type: DataTypes.DATE,\r\n      },\r\n      status: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(interviewStatus),\r\n        defaultValue: interviewStatusDefault,\r\n      },\r\n      mark: {\r\n        allowNull: false,\r\n        type: DataTypes.INTEGER,\r\n      },\r\n      comment: {\r\n        allowNull: false,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      Interviewer_id: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(6),\r\n        references: {\r\n          model: \"Staffs\",\r\n          key: \"id\",\r\n        },\r\n      },\r\n      CandidateDetail_id: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(6),\r\n        references: {\r\n          model: \"CandidateDetails\",\r\n          key: \"id\",\r\n        },\r\n      },\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"Interviews\",\r\n      timestamps: false,\r\n      createdAt: false,\r\n      updatedAt: false,\r\n    }\r\n  );\r\n  return Interviews;\r\n};\r\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;AACA,eAAkBA,OAAO,CAAC,WAAD,CAAzB;AAAA,IAAQC,KAAR,YAAQA,KAAR;;AACA,gBAGID,OAAO,CAAC,qCAAD,CAHX;AAAA,IACEE,eADF,aACEA,eADF;AAAA,IAEEC,sBAFF,aAEEA,sBAFF;;AAIAC,MAAM,CAACC,OAAP,GAAiB,UAACC,SAAD,EAAYC,SAAZ,EAA0B;EAAA,IACnCC,UADmC;IAAA;;IAAA;;IAAA;MAAA;;MAAA;IAAA;;IAAA;MAAA;MAAA,OAEvC,mBAAiBC,MAAjB,EAAyB;QACvB;QACAD,UAAU,CAACE,SAAX,CAAqBD,MAAM,CAACE,gBAA5B,EAA8C;UAC5CC,UAAU,EAAE;QADgC,CAA9C;QAGAJ,UAAU,CAACE,SAAX,CAAqBD,MAAM,CAACI,MAA5B,EAAoC;UAAED,UAAU,EAAE;QAAd,CAApC;MACD;IARsC;;IAAA;EAAA,EAChBX,KADgB;;EAUzCO,UAAU,CAACM,IAAX,CACE;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,CAAjB;IAHJ,CADN;IAMEC,IAAI,EAAE;MACJJ,SAAS,EAAE,KADP;MAEJE,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB;IAFF,CANR;IAUEE,UAAU,EAAE;MACVL,SAAS,EAAE,KADD;MAEVE,IAAI,EAAEX,SAAS,CAACe;IAFN,CAVd;IAcEC,QAAQ,EAAE;MACRP,SAAS,EAAE,KADH;MAERE,IAAI,EAAEX,SAAS,CAACe;IAFR,CAdZ;IAkBEE,MAAM,EAAE;MACNR,SAAS,EAAE,KADL;MAENE,IAAI,EAAEX,SAAS,CAACkB,IAAV,CAAevB,eAAf,CAFA;MAGNwB,YAAY,EAAEvB;IAHR,CAlBV;IAuBEwB,IAAI,EAAE;MACJX,SAAS,EAAE,KADP;MAEJE,IAAI,EAAEX,SAAS,CAACqB;IAFZ,CAvBR;IA2BEC,OAAO,EAAE;MACPb,SAAS,EAAE,KADJ;MAEPE,IAAI,EAAEX,SAAS,CAACuB;IAFT,CA3BX;IA+BEC,cAAc,EAAE;MACdf,SAAS,EAAE,KADG;MAEdE,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,CAAjB,CAFQ;MAGda,UAAU,EAAE;QACVC,KAAK,EAAE,QADG;QAEVC,GAAG,EAAE;MAFK;IAHE,CA/BlB;IAuCEC,kBAAkB,EAAE;MAClBnB,SAAS,EAAE,KADO;MAElBE,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,CAAjB,CAFY;MAGlBa,UAAU,EAAE;QACVC,KAAK,EAAE,kBADG;QAEVC,GAAG,EAAE;MAFK;IAHM;EAvCtB,CADF,EAiDE;IACE5B,SAAS,EAATA,SADF;IAEE8B,SAAS,EAAE,YAFb;IAGEC,UAAU,EAAE,KAHd;IAIEC,SAAS,EAAE,KAJb;IAKEC,SAAS,EAAE;EALb,CAjDF;EAyDA,OAAO/B,UAAP;AACD,CApED"}},"mtime":1664367872798},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/interviewStatus.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  interviewStatus: [\"Processing\", \"Waiting\", \"Done\", \"Cancelled\"],\n  interviewStatusDefault: \"Waiting\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiaW50ZXJ2aWV3U3RhdHVzIiwiaW50ZXJ2aWV3U3RhdHVzRGVmYXVsdCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9jb25zdGFudC8iLCJzb3VyY2VzIjpbImludGVydmlld1N0YXR1cy5lbnVtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGludGVydmlld1N0YXR1czogW1wiUHJvY2Vzc2luZ1wiLCBcIldhaXRpbmdcIiwgXCJEb25lXCIsIFwiQ2FuY2VsbGVkXCJdLFxuICAgIGludGVydmlld1N0YXR1c0RlZmF1bHQ6IFwiV2FpdGluZ1wiLFxufSJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2JDLGVBQWUsRUFBRSxDQUFDLFlBQUQsRUFBZSxTQUFmLEVBQTBCLE1BQTFCLEVBQWtDLFdBQWxDLENBREo7RUFFYkMsc0JBQXNCLEVBQUU7QUFGWCxDQUFqQiJ9","map":{"version":3,"names":["module","exports","interviewStatus","interviewStatusDefault"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/","sources":["interviewStatus.enum.js"],"sourcesContent":["module.exports = {\n    interviewStatus: [\"Processing\", \"Waiting\", \"Done\", \"Cancelled\"],\n    interviewStatusDefault: \"Waiting\",\n}"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACbC,eAAe,EAAE,CAAC,YAAD,EAAe,SAAf,EAA0B,MAA1B,EAAkC,WAAlC,CADJ;EAEbC,sBAAsB,EAAE;AAFX,CAAjB"}},"mtime":1664175774118},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/jobs.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"'use strict';\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar _require = require('sequelize'),\n    Model = _require.Model;\n\nmodule.exports = function (sequelize, DataTypes) {\n  var Jobs = /*#__PURE__*/function (_Model) {\n    _inherits(Jobs, _Model);\n\n    var _super = _createSuper(Jobs);\n\n    function Jobs() {\n      _classCallCheck(this, Jobs);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(Jobs, null, [{\n      key: \"associate\",\n      value: function associate(models) {\n        // define association here\n        Jobs.hasMany(models.CandidateDetails, {\n          foreignKey: 'Job_id'\n        });\n        Jobs.belongsTo(models.Categories, {\n          foreignKey: 'Category_id'\n        });\n        Jobs.belongsTo(models.Campaigns, {\n          foreignKey: 'Campaign_id'\n        });\n      }\n    }]);\n\n    return Jobs;\n  }(Model);\n\n  ;\n  Jobs.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(6)\n    },\n    name: {\n      allowNull: false,\n      type: DataTypes.STRING(45)\n    },\n    description: {\n      allowNull: false,\n      type: DataTypes.TEXT\n    },\n    salary: {\n      allowNull: true,\n      type: DataTypes.STRING(45)\n    },\n    quantity: {\n      defaultValue: 0,\n      allowNull: false,\n      type: DataTypes.INTEGER,\n      validate: {\n        min: 0\n      }\n    },\n    start_date: {\n      allowNull: false,\n      type: DataTypes.DATEONLY\n    },\n    end_date: {\n      allowNull: false,\n      type: DataTypes.DATEONLY\n    },\n    Category_id: {\n      allowNull: false,\n      type: DataTypes.STRING(6),\n      references: {\n        model: 'Categories',\n        key: 'id'\n      }\n    },\n    Campaign_id: {\n      allowNull: false,\n      type: DataTypes.STRING(6),\n      references: {\n        model: 'Campaigns',\n        key: 'id'\n      }\n    }\n  }, {\n    sequelize: sequelize,\n    modelName: 'Jobs',\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  return Jobs;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiTW9kZWwiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiSm9icyIsIm1vZGVscyIsImhhc01hbnkiLCJDYW5kaWRhdGVEZXRhaWxzIiwiZm9yZWlnbktleSIsImJlbG9uZ3NUbyIsIkNhdGVnb3JpZXMiLCJDYW1wYWlnbnMiLCJpbml0IiwiaWQiLCJhbGxvd051bGwiLCJwcmltYXJ5S2V5IiwidHlwZSIsIlNUUklORyIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsIlRFWFQiLCJzYWxhcnkiLCJxdWFudGl0eSIsImRlZmF1bHRWYWx1ZSIsIklOVEVHRVIiLCJ2YWxpZGF0ZSIsIm1pbiIsInN0YXJ0X2RhdGUiLCJEQVRFT05MWSIsImVuZF9kYXRlIiwiQ2F0ZWdvcnlfaWQiLCJyZWZlcmVuY2VzIiwibW9kZWwiLCJrZXkiLCJDYW1wYWlnbl9pZCIsIm1vZGVsTmFtZSIsInRpbWVzdGFtcHMiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvbW9kZWxzLyIsInNvdXJjZXMiOlsiam9icy5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcbmNvbnN0IHtcclxuICBNb2RlbFxyXG59ID0gcmVxdWlyZSgnc2VxdWVsaXplJyk7XHJcbm1vZHVsZS5leHBvcnRzID0gKHNlcXVlbGl6ZSwgRGF0YVR5cGVzKSA9PiB7XHJcbiAgY2xhc3MgSm9icyBleHRlbmRzIE1vZGVsIHtcclxuXHJcbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xyXG4gICAgICAvLyBkZWZpbmUgYXNzb2NpYXRpb24gaGVyZVxyXG4gICAgICBKb2JzLmhhc01hbnkobW9kZWxzLkNhbmRpZGF0ZURldGFpbHMsIHsgZm9yZWlnbktleTogJ0pvYl9pZCcgfSlcclxuICAgICAgSm9icy5iZWxvbmdzVG8obW9kZWxzLkNhdGVnb3JpZXMsIHsgZm9yZWlnbktleTogJ0NhdGVnb3J5X2lkJyB9KVxyXG4gICAgICBKb2JzLmJlbG9uZ3NUbyhtb2RlbHMuQ2FtcGFpZ25zLCB7IGZvcmVpZ25LZXk6ICdDYW1wYWlnbl9pZCcgfSlcclxuXHJcbiAgICB9XHJcbiAgfTtcclxuICBKb2JzLmluaXQoe1xyXG4gICAgaWQ6IHtcclxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcclxuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyg2KVxyXG4gICAgfSxcclxuICAgIG5hbWU6IHtcclxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyg0NSlcclxuICAgIH0sXHJcbiAgICBkZXNjcmlwdGlvbjoge1xyXG4gICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICB0eXBlOiBEYXRhVHlwZXMuVEVYVFxyXG4gICAgfSxcclxuICAgIHNhbGFyeToge1xyXG4gICAgICBhbGxvd051bGw6IHRydWUsXHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoNDUpLFxyXG4gICAgfSxcclxuICAgIHF1YW50aXR5OiB7XHJcbiAgICAgIGRlZmF1bHRWYWx1ZTogMCxcclxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXHJcbiAgICAgIHZhbGlkYXRlOiB7XHJcbiAgICAgICAgbWluOiAwXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzdGFydF9kYXRlOiB7XHJcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5EQVRFT05MWVxyXG4gICAgfSxcclxuICAgIGVuZF9kYXRlOiB7XHJcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5EQVRFT05MWVxyXG4gICAgfSxcclxuICAgIENhdGVnb3J5X2lkOiB7XHJcbiAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoNiksXHJcbiAgICAgIHJlZmVyZW5jZXM6IHtcclxuICAgICAgICBtb2RlbDogJ0NhdGVnb3JpZXMnLFxyXG4gICAgICAgIGtleTogJ2lkJ1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgQ2FtcGFpZ25faWQ6IHtcclxuICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyg2KSxcclxuICAgICAgcmVmZXJlbmNlczoge1xyXG4gICAgICAgIG1vZGVsOiAnQ2FtcGFpZ25zJyxcclxuICAgICAgICBrZXk6ICdpZCdcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIHNlcXVlbGl6ZSxcclxuICAgIG1vZGVsTmFtZTogJ0pvYnMnLFxyXG4gICAgdGltZXN0YW1wczogZmFsc2UsXHJcbiAgICBjcmVhdGVkQXQ6IGZhbHNlLFxyXG4gICAgdXBkYXRlZEF0OiBmYWxzZVxyXG4gIH0pO1xyXG4gIHJldHVybiBKb2JzO1xyXG59OyJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLGVBRUlBLE9BQU8sQ0FBQyxXQUFELENBRlg7QUFBQSxJQUNFQyxLQURGLFlBQ0VBLEtBREY7O0FBR0FDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixVQUFDQyxTQUFELEVBQVlDLFNBQVosRUFBMEI7RUFBQSxJQUNuQ0MsSUFEbUM7SUFBQTs7SUFBQTs7SUFBQTtNQUFBOztNQUFBO0lBQUE7O0lBQUE7TUFBQTtNQUFBLE9BR3ZDLG1CQUFpQkMsTUFBakIsRUFBeUI7UUFDdkI7UUFDQUQsSUFBSSxDQUFDRSxPQUFMLENBQWFELE1BQU0sQ0FBQ0UsZ0JBQXBCLEVBQXNDO1VBQUVDLFVBQVUsRUFBRTtRQUFkLENBQXRDO1FBQ0FKLElBQUksQ0FBQ0ssU0FBTCxDQUFlSixNQUFNLENBQUNLLFVBQXRCLEVBQWtDO1VBQUVGLFVBQVUsRUFBRTtRQUFkLENBQWxDO1FBQ0FKLElBQUksQ0FBQ0ssU0FBTCxDQUFlSixNQUFNLENBQUNNLFNBQXRCLEVBQWlDO1VBQUVILFVBQVUsRUFBRTtRQUFkLENBQWpDO01BRUQ7SUFUc0M7O0lBQUE7RUFBQSxFQUN0QlQsS0FEc0I7O0VBVXhDO0VBQ0RLLElBQUksQ0FBQ1EsSUFBTCxDQUFVO0lBQ1JDLEVBQUUsRUFBRTtNQUNGQyxTQUFTLEVBQUUsS0FEVDtNQUVGQyxVQUFVLEVBQUUsSUFGVjtNQUdGQyxJQUFJLEVBQUViLFNBQVMsQ0FBQ2MsTUFBVixDQUFpQixDQUFqQjtJQUhKLENBREk7SUFNUkMsSUFBSSxFQUFFO01BQ0pKLFNBQVMsRUFBRSxLQURQO01BRUpFLElBQUksRUFBRWIsU0FBUyxDQUFDYyxNQUFWLENBQWlCLEVBQWpCO0lBRkYsQ0FORTtJQVVSRSxXQUFXLEVBQUU7TUFDWEwsU0FBUyxFQUFFLEtBREE7TUFFWEUsSUFBSSxFQUFFYixTQUFTLENBQUNpQjtJQUZMLENBVkw7SUFjUkMsTUFBTSxFQUFFO01BQ05QLFNBQVMsRUFBRSxJQURMO01BRU5FLElBQUksRUFBRWIsU0FBUyxDQUFDYyxNQUFWLENBQWlCLEVBQWpCO0lBRkEsQ0FkQTtJQWtCUkssUUFBUSxFQUFFO01BQ1JDLFlBQVksRUFBRSxDQUROO01BRVJULFNBQVMsRUFBRSxLQUZIO01BR1JFLElBQUksRUFBRWIsU0FBUyxDQUFDcUIsT0FIUjtNQUlSQyxRQUFRLEVBQUU7UUFDUkMsR0FBRyxFQUFFO01BREc7SUFKRixDQWxCRjtJQTBCUkMsVUFBVSxFQUFFO01BQ1ZiLFNBQVMsRUFBRSxLQUREO01BRVZFLElBQUksRUFBRWIsU0FBUyxDQUFDeUI7SUFGTixDQTFCSjtJQThCUkMsUUFBUSxFQUFFO01BQ1JmLFNBQVMsRUFBRSxLQURIO01BRVJFLElBQUksRUFBRWIsU0FBUyxDQUFDeUI7SUFGUixDQTlCRjtJQWtDUkUsV0FBVyxFQUFFO01BQ1hoQixTQUFTLEVBQUUsS0FEQTtNQUVYRSxJQUFJLEVBQUViLFNBQVMsQ0FBQ2MsTUFBVixDQUFpQixDQUFqQixDQUZLO01BR1hjLFVBQVUsRUFBRTtRQUNWQyxLQUFLLEVBQUUsWUFERztRQUVWQyxHQUFHLEVBQUU7TUFGSztJQUhELENBbENMO0lBMENSQyxXQUFXLEVBQUU7TUFDWHBCLFNBQVMsRUFBRSxLQURBO01BRVhFLElBQUksRUFBRWIsU0FBUyxDQUFDYyxNQUFWLENBQWlCLENBQWpCLENBRks7TUFHWGMsVUFBVSxFQUFFO1FBQ1ZDLEtBQUssRUFBRSxXQURHO1FBRVZDLEdBQUcsRUFBRTtNQUZLO0lBSEQ7RUExQ0wsQ0FBVixFQWtERztJQUNEL0IsU0FBUyxFQUFUQSxTQURDO0lBRURpQyxTQUFTLEVBQUUsTUFGVjtJQUdEQyxVQUFVLEVBQUUsS0FIWDtJQUlEQyxTQUFTLEVBQUUsS0FKVjtJQUtEQyxTQUFTLEVBQUU7RUFMVixDQWxESDtFQXlEQSxPQUFPbEMsSUFBUDtBQUNELENBckVEIn0=","map":{"version":3,"names":["require","Model","module","exports","sequelize","DataTypes","Jobs","models","hasMany","CandidateDetails","foreignKey","belongsTo","Categories","Campaigns","init","id","allowNull","primaryKey","type","STRING","name","description","TEXT","salary","quantity","defaultValue","INTEGER","validate","min","start_date","DATEONLY","end_date","Category_id","references","model","key","Campaign_id","modelName","timestamps","createdAt","updatedAt"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/","sources":["jobs.model.js"],"sourcesContent":["'use strict';\r\nconst {\r\n  Model\r\n} = require('sequelize');\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Jobs extends Model {\r\n\r\n    static associate(models) {\r\n      // define association here\r\n      Jobs.hasMany(models.CandidateDetails, { foreignKey: 'Job_id' })\r\n      Jobs.belongsTo(models.Categories, { foreignKey: 'Category_id' })\r\n      Jobs.belongsTo(models.Campaigns, { foreignKey: 'Campaign_id' })\r\n\r\n    }\r\n  };\r\n  Jobs.init({\r\n    id: {\r\n      allowNull: false,\r\n      primaryKey: true,\r\n      type: DataTypes.STRING(6)\r\n    },\r\n    name: {\r\n      allowNull: false,\r\n      type: DataTypes.STRING(45)\r\n    },\r\n    description: {\r\n      allowNull: false,\r\n      type: DataTypes.TEXT\r\n    },\r\n    salary: {\r\n      allowNull: true,\r\n      type: DataTypes.STRING(45),\r\n    },\r\n    quantity: {\r\n      defaultValue: 0,\r\n      allowNull: false,\r\n      type: DataTypes.INTEGER,\r\n      validate: {\r\n        min: 0\r\n      }\r\n    },\r\n    start_date: {\r\n      allowNull: false,\r\n      type: DataTypes.DATEONLY\r\n    },\r\n    end_date: {\r\n      allowNull: false,\r\n      type: DataTypes.DATEONLY\r\n    },\r\n    Category_id: {\r\n      allowNull: false,\r\n      type: DataTypes.STRING(6),\r\n      references: {\r\n        model: 'Categories',\r\n        key: 'id'\r\n      }\r\n    },\r\n    Campaign_id: {\r\n      allowNull: false,\r\n      type: DataTypes.STRING(6),\r\n      references: {\r\n        model: 'Campaigns',\r\n        key: 'id'\r\n      }\r\n    }\r\n  }, {\r\n    sequelize,\r\n    modelName: 'Jobs',\r\n    timestamps: false,\r\n    createdAt: false,\r\n    updatedAt: false\r\n  });\r\n  return Jobs;\r\n};"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;AACA,eAEIA,OAAO,CAAC,WAAD,CAFX;AAAA,IACEC,KADF,YACEA,KADF;;AAGAC,MAAM,CAACC,OAAP,GAAiB,UAACC,SAAD,EAAYC,SAAZ,EAA0B;EAAA,IACnCC,IADmC;IAAA;;IAAA;;IAAA;MAAA;;MAAA;IAAA;;IAAA;MAAA;MAAA,OAGvC,mBAAiBC,MAAjB,EAAyB;QACvB;QACAD,IAAI,CAACE,OAAL,CAAaD,MAAM,CAACE,gBAApB,EAAsC;UAAEC,UAAU,EAAE;QAAd,CAAtC;QACAJ,IAAI,CAACK,SAAL,CAAeJ,MAAM,CAACK,UAAtB,EAAkC;UAAEF,UAAU,EAAE;QAAd,CAAlC;QACAJ,IAAI,CAACK,SAAL,CAAeJ,MAAM,CAACM,SAAtB,EAAiC;UAAEH,UAAU,EAAE;QAAd,CAAjC;MAED;IATsC;;IAAA;EAAA,EACtBT,KADsB;;EAUxC;EACDK,IAAI,CAACQ,IAAL,CAAU;IACRC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEb,SAAS,CAACc,MAAV,CAAiB,CAAjB;IAHJ,CADI;IAMRC,IAAI,EAAE;MACJJ,SAAS,EAAE,KADP;MAEJE,IAAI,EAAEb,SAAS,CAACc,MAAV,CAAiB,EAAjB;IAFF,CANE;IAURE,WAAW,EAAE;MACXL,SAAS,EAAE,KADA;MAEXE,IAAI,EAAEb,SAAS,CAACiB;IAFL,CAVL;IAcRC,MAAM,EAAE;MACNP,SAAS,EAAE,IADL;MAENE,IAAI,EAAEb,SAAS,CAACc,MAAV,CAAiB,EAAjB;IAFA,CAdA;IAkBRK,QAAQ,EAAE;MACRC,YAAY,EAAE,CADN;MAERT,SAAS,EAAE,KAFH;MAGRE,IAAI,EAAEb,SAAS,CAACqB,OAHR;MAIRC,QAAQ,EAAE;QACRC,GAAG,EAAE;MADG;IAJF,CAlBF;IA0BRC,UAAU,EAAE;MACVb,SAAS,EAAE,KADD;MAEVE,IAAI,EAAEb,SAAS,CAACyB;IAFN,CA1BJ;IA8BRC,QAAQ,EAAE;MACRf,SAAS,EAAE,KADH;MAERE,IAAI,EAAEb,SAAS,CAACyB;IAFR,CA9BF;IAkCRE,WAAW,EAAE;MACXhB,SAAS,EAAE,KADA;MAEXE,IAAI,EAAEb,SAAS,CAACc,MAAV,CAAiB,CAAjB,CAFK;MAGXc,UAAU,EAAE;QACVC,KAAK,EAAE,YADG;QAEVC,GAAG,EAAE;MAFK;IAHD,CAlCL;IA0CRC,WAAW,EAAE;MACXpB,SAAS,EAAE,KADA;MAEXE,IAAI,EAAEb,SAAS,CAACc,MAAV,CAAiB,CAAjB,CAFK;MAGXc,UAAU,EAAE;QACVC,KAAK,EAAE,WADG;QAEVC,GAAG,EAAE;MAFK;IAHD;EA1CL,CAAV,EAkDG;IACD/B,SAAS,EAATA,SADC;IAEDiC,SAAS,EAAE,MAFV;IAGDC,UAAU,EAAE,KAHX;IAIDC,SAAS,EAAE,KAJV;IAKDC,SAAS,EAAE;EALV,CAlDH;EAyDA,OAAOlC,IAAP;AACD,CArED"}},"mtime":1664253593219},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/members.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar _require = require(\"sequelize\"),\n    Model = _require.Model;\n\nvar _require2 = require(\"../constant/userStatus.enum.js\"),\n    userStatus = _require2.userStatus,\n    userStatusDefault = _require2.userStatusDefault;\n\nvar _require3 = require(\"uuid\"),\n    uuidv4 = _require3.v4;\n\nmodule.exports = function (sequelize, DataTypes) {\n  var Members = /*#__PURE__*/function (_Model) {\n    _inherits(Members, _Model);\n\n    var _super = _createSuper(Members);\n\n    function Members() {\n      _classCallCheck(this, Members);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(Members, null, [{\n      key: \"associate\",\n      value: function associate(models) {\n        // define association here\n        Members.hasMany(models.CandidateDetails, {\n          foreignKey: \"Member_id\"\n        });\n      }\n    }]);\n\n    return Members;\n  }(Model);\n\n  Members.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    email: {\n      allowNull: false,\n      type: DataTypes.STRING(320)\n    },\n    fullname: {\n      allowNull: false,\n      type: DataTypes.STRING(60)\n    },\n    password: {\n      allowNull: false,\n      type: DataTypes.STRING(60)\n    },\n    avatar: {\n      allowNull: true,\n      type: DataTypes.TEXT\n    },\n    current_resume_url: {\n      allowNull: true,\n      type: DataTypes.TEXT\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(userStatus),\n      defaultValue: userStatusDefault\n    }\n  }, {\n    sequelize: sequelize,\n    modelName: \"Members\",\n    createdAt: false,\n    updatedAt: false\n  });\n  Members.beforeCreate(function (user) {\n    return user.id = uuidv4();\n  });\n  return Members;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiTW9kZWwiLCJ1c2VyU3RhdHVzIiwidXNlclN0YXR1c0RlZmF1bHQiLCJ1dWlkdjQiLCJ2NCIsIm1vZHVsZSIsImV4cG9ydHMiLCJzZXF1ZWxpemUiLCJEYXRhVHlwZXMiLCJNZW1iZXJzIiwibW9kZWxzIiwiaGFzTWFueSIsIkNhbmRpZGF0ZURldGFpbHMiLCJmb3JlaWduS2V5IiwiaW5pdCIsImlkIiwiYWxsb3dOdWxsIiwicHJpbWFyeUtleSIsInR5cGUiLCJTVFJJTkciLCJkZWZhdWx0VmFsdWUiLCJVVUlEVjQiLCJlbWFpbCIsImZ1bGxuYW1lIiwicGFzc3dvcmQiLCJhdmF0YXIiLCJURVhUIiwiY3VycmVudF9yZXN1bWVfdXJsIiwic3RhdHVzIiwiRU5VTSIsIm1vZGVsTmFtZSIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsImJlZm9yZUNyZWF0ZSIsInVzZXIiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvbW9kZWxzLyIsInNvdXJjZXMiOlsibWVtYmVycy5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcInNlcXVlbGl6ZVwiKTtcclxuY29uc3Qge1xyXG4gIHVzZXJTdGF0dXMsXHJcbiAgdXNlclN0YXR1c0RlZmF1bHQsXHJcbn0gPSByZXF1aXJlKFwiLi4vY29uc3RhbnQvdXNlclN0YXR1cy5lbnVtLmpzXCIpO1xyXG5jb25zdCB7IHY0OiB1dWlkdjQgfSA9IHJlcXVpcmUoXCJ1dWlkXCIpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSAoc2VxdWVsaXplLCBEYXRhVHlwZXMpID0+IHtcclxuICBjbGFzcyBNZW1iZXJzIGV4dGVuZHMgTW9kZWwge1xyXG4gICAgc3RhdGljIGFzc29jaWF0ZShtb2RlbHMpIHtcclxuICAgICAgLy8gZGVmaW5lIGFzc29jaWF0aW9uIGhlcmVcclxuICAgICAgTWVtYmVycy5oYXNNYW55KG1vZGVscy5DYW5kaWRhdGVEZXRhaWxzLCB7IGZvcmVpZ25LZXk6IFwiTWVtYmVyX2lkXCIgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIE1lbWJlcnMuaW5pdChcclxuICAgIHtcclxuICAgICAgaWQ6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHByaW1hcnlLZXk6IHRydWUsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygzNiksXHJcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuVVVJRFY0LFxyXG4gICAgICB9LFxyXG4gICAgICBlbWFpbDoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygzMjApLFxyXG4gICAgICB9LFxyXG4gICAgICBmdWxsbmFtZToge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyg2MCksXHJcbiAgICAgIH0sXHJcbiAgICAgIHBhc3N3b3JkOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDYwKSxcclxuICAgICAgfSxcclxuICAgICAgYXZhdGFyOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5URVhULFxyXG4gICAgICB9LFxyXG4gICAgICBjdXJyZW50X3Jlc3VtZV91cmw6IHtcclxuICAgICAgICBhbGxvd051bGw6IHRydWUsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlRFWFQsXHJcbiAgICAgIH0sXHJcbiAgICAgIHN0YXR1czoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkVOVU0odXNlclN0YXR1cyksXHJcbiAgICAgICAgZGVmYXVsdFZhbHVlOiB1c2VyU3RhdHVzRGVmYXVsdCxcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHNlcXVlbGl6ZSxcclxuICAgICAgbW9kZWxOYW1lOiBcIk1lbWJlcnNcIixcclxuICAgICAgY3JlYXRlZEF0OiBmYWxzZSxcclxuICAgICAgdXBkYXRlZEF0OiBmYWxzZSxcclxuICAgIH1cclxuICApO1xyXG4gIE1lbWJlcnMuYmVmb3JlQ3JlYXRlKCh1c2VyKSA9PiAodXNlci5pZCA9IHV1aWR2NCgpKSk7XHJcblxyXG4gIHJldHVybiBNZW1iZXJzO1xyXG59O1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxlQUFrQkEsT0FBTyxDQUFDLFdBQUQsQ0FBekI7QUFBQSxJQUFRQyxLQUFSLFlBQVFBLEtBQVI7O0FBQ0EsZ0JBR0lELE9BQU8sQ0FBQyxnQ0FBRCxDQUhYO0FBQUEsSUFDRUUsVUFERixhQUNFQSxVQURGO0FBQUEsSUFFRUMsaUJBRkYsYUFFRUEsaUJBRkY7O0FBSUEsZ0JBQXVCSCxPQUFPLENBQUMsTUFBRCxDQUE5QjtBQUFBLElBQVlJLE1BQVosYUFBUUMsRUFBUjs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFVBQUNDLFNBQUQsRUFBWUMsU0FBWixFQUEwQjtFQUFBLElBQ25DQyxPQURtQztJQUFBOztJQUFBOztJQUFBO01BQUE7O01BQUE7SUFBQTs7SUFBQTtNQUFBO01BQUEsT0FFdkMsbUJBQWlCQyxNQUFqQixFQUF5QjtRQUN2QjtRQUNBRCxPQUFPLENBQUNFLE9BQVIsQ0FBZ0JELE1BQU0sQ0FBQ0UsZ0JBQXZCLEVBQXlDO1VBQUVDLFVBQVUsRUFBRTtRQUFkLENBQXpDO01BQ0Q7SUFMc0M7O0lBQUE7RUFBQSxFQUNuQmIsS0FEbUI7O0VBT3pDUyxPQUFPLENBQUNLLElBQVIsQ0FDRTtJQUNFQyxFQUFFLEVBQUU7TUFDRkMsU0FBUyxFQUFFLEtBRFQ7TUFFRkMsVUFBVSxFQUFFLElBRlY7TUFHRkMsSUFBSSxFQUFFVixTQUFTLENBQUNXLE1BQVYsQ0FBaUIsRUFBakIsQ0FISjtNQUlGQyxZQUFZLEVBQUVaLFNBQVMsQ0FBQ2E7SUFKdEIsQ0FETjtJQU9FQyxLQUFLLEVBQUU7TUFDTE4sU0FBUyxFQUFFLEtBRE47TUFFTEUsSUFBSSxFQUFFVixTQUFTLENBQUNXLE1BQVYsQ0FBaUIsR0FBakI7SUFGRCxDQVBUO0lBV0VJLFFBQVEsRUFBRTtNQUNSUCxTQUFTLEVBQUUsS0FESDtNQUVSRSxJQUFJLEVBQUVWLFNBQVMsQ0FBQ1csTUFBVixDQUFpQixFQUFqQjtJQUZFLENBWFo7SUFlRUssUUFBUSxFQUFFO01BQ1JSLFNBQVMsRUFBRSxLQURIO01BRVJFLElBQUksRUFBRVYsU0FBUyxDQUFDVyxNQUFWLENBQWlCLEVBQWpCO0lBRkUsQ0FmWjtJQW1CRU0sTUFBTSxFQUFFO01BQ05ULFNBQVMsRUFBRSxJQURMO01BRU5FLElBQUksRUFBRVYsU0FBUyxDQUFDa0I7SUFGVixDQW5CVjtJQXVCRUMsa0JBQWtCLEVBQUU7TUFDbEJYLFNBQVMsRUFBRSxJQURPO01BRWxCRSxJQUFJLEVBQUVWLFNBQVMsQ0FBQ2tCO0lBRkUsQ0F2QnRCO0lBMkJFRSxNQUFNLEVBQUU7TUFDTlosU0FBUyxFQUFFLEtBREw7TUFFTkUsSUFBSSxFQUFFVixTQUFTLENBQUNxQixJQUFWLENBQWU1QixVQUFmLENBRkE7TUFHTm1CLFlBQVksRUFBRWxCO0lBSFI7RUEzQlYsQ0FERixFQWtDRTtJQUNFSyxTQUFTLEVBQVRBLFNBREY7SUFFRXVCLFNBQVMsRUFBRSxTQUZiO0lBR0VDLFNBQVMsRUFBRSxLQUhiO0lBSUVDLFNBQVMsRUFBRTtFQUpiLENBbENGO0VBeUNBdkIsT0FBTyxDQUFDd0IsWUFBUixDQUFxQixVQUFDQyxJQUFEO0lBQUEsT0FBV0EsSUFBSSxDQUFDbkIsRUFBTCxHQUFVWixNQUFNLEVBQTNCO0VBQUEsQ0FBckI7RUFFQSxPQUFPTSxPQUFQO0FBQ0QsQ0FuREQifQ==","map":{"version":3,"names":["require","Model","userStatus","userStatusDefault","uuidv4","v4","module","exports","sequelize","DataTypes","Members","models","hasMany","CandidateDetails","foreignKey","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","email","fullname","password","avatar","TEXT","current_resume_url","status","ENUM","modelName","createdAt","updatedAt","beforeCreate","user"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/","sources":["members.model.js"],"sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nconst {\r\n  userStatus,\r\n  userStatusDefault,\r\n} = require(\"../constant/userStatus.enum.js\");\r\nconst { v4: uuidv4 } = require(\"uuid\");\r\n\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Members extends Model {\r\n    static associate(models) {\r\n      // define association here\r\n      Members.hasMany(models.CandidateDetails, { foreignKey: \"Member_id\" });\r\n    }\r\n  }\r\n  Members.init(\r\n    {\r\n      id: {\r\n        allowNull: false,\r\n        primaryKey: true,\r\n        type: DataTypes.STRING(36),\r\n        defaultValue: DataTypes.UUIDV4,\r\n      },\r\n      email: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(320),\r\n      },\r\n      fullname: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(60),\r\n      },\r\n      password: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(60),\r\n      },\r\n      avatar: {\r\n        allowNull: true,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      current_resume_url: {\r\n        allowNull: true,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      status: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(userStatus),\r\n        defaultValue: userStatusDefault,\r\n      },\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"Members\",\r\n      createdAt: false,\r\n      updatedAt: false,\r\n    }\r\n  );\r\n  Members.beforeCreate((user) => (user.id = uuidv4()));\r\n\r\n  return Members;\r\n};\r\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;AACA,eAAkBA,OAAO,CAAC,WAAD,CAAzB;AAAA,IAAQC,KAAR,YAAQA,KAAR;;AACA,gBAGID,OAAO,CAAC,gCAAD,CAHX;AAAA,IACEE,UADF,aACEA,UADF;AAAA,IAEEC,iBAFF,aAEEA,iBAFF;;AAIA,gBAAuBH,OAAO,CAAC,MAAD,CAA9B;AAAA,IAAYI,MAAZ,aAAQC,EAAR;;AAEAC,MAAM,CAACC,OAAP,GAAiB,UAACC,SAAD,EAAYC,SAAZ,EAA0B;EAAA,IACnCC,OADmC;IAAA;;IAAA;;IAAA;MAAA;;MAAA;IAAA;;IAAA;MAAA;MAAA,OAEvC,mBAAiBC,MAAjB,EAAyB;QACvB;QACAD,OAAO,CAACE,OAAR,CAAgBD,MAAM,CAACE,gBAAvB,EAAyC;UAAEC,UAAU,EAAE;QAAd,CAAzC;MACD;IALsC;;IAAA;EAAA,EACnBb,KADmB;;EAOzCS,OAAO,CAACK,IAAR,CACE;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEV,SAAS,CAACW,MAAV,CAAiB,EAAjB,CAHJ;MAIFC,YAAY,EAAEZ,SAAS,CAACa;IAJtB,CADN;IAOEC,KAAK,EAAE;MACLN,SAAS,EAAE,KADN;MAELE,IAAI,EAAEV,SAAS,CAACW,MAAV,CAAiB,GAAjB;IAFD,CAPT;IAWEI,QAAQ,EAAE;MACRP,SAAS,EAAE,KADH;MAERE,IAAI,EAAEV,SAAS,CAACW,MAAV,CAAiB,EAAjB;IAFE,CAXZ;IAeEK,QAAQ,EAAE;MACRR,SAAS,EAAE,KADH;MAERE,IAAI,EAAEV,SAAS,CAACW,MAAV,CAAiB,EAAjB;IAFE,CAfZ;IAmBEM,MAAM,EAAE;MACNT,SAAS,EAAE,IADL;MAENE,IAAI,EAAEV,SAAS,CAACkB;IAFV,CAnBV;IAuBEC,kBAAkB,EAAE;MAClBX,SAAS,EAAE,IADO;MAElBE,IAAI,EAAEV,SAAS,CAACkB;IAFE,CAvBtB;IA2BEE,MAAM,EAAE;MACNZ,SAAS,EAAE,KADL;MAENE,IAAI,EAAEV,SAAS,CAACqB,IAAV,CAAe5B,UAAf,CAFA;MAGNmB,YAAY,EAAElB;IAHR;EA3BV,CADF,EAkCE;IACEK,SAAS,EAATA,SADF;IAEEuB,SAAS,EAAE,SAFb;IAGEC,SAAS,EAAE,KAHb;IAIEC,SAAS,EAAE;EAJb,CAlCF;EAyCAvB,OAAO,CAACwB,YAAR,CAAqB,UAACC,IAAD;IAAA,OAAWA,IAAI,CAACnB,EAAL,GAAUZ,MAAM,EAA3B;EAAA,CAArB;EAEA,OAAOM,OAAP;AACD,CAnDD"}},"mtime":1664375116495},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/userStatus.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  userStatus: [\"Active\", \"Inactive\"],\n  userStatusDefault: \"Active\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwidXNlclN0YXR1cyIsInVzZXJTdGF0dXNEZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL2NvbnN0YW50LyIsInNvdXJjZXMiOlsidXNlclN0YXR1cy5lbnVtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICB1c2VyU3RhdHVzOiBbXCJBY3RpdmVcIiwgXCJJbmFjdGl2ZVwiXSxcbiAgdXNlclN0YXR1c0RlZmF1bHQ6IFwiQWN0aXZlXCIsXG59O1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7RUFDZkMsVUFBVSxFQUFFLENBQUMsUUFBRCxFQUFXLFVBQVgsQ0FERztFQUVmQyxpQkFBaUIsRUFBRTtBQUZKLENBQWpCIn0=","map":{"version":3,"names":["module","exports","userStatus","userStatusDefault"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/","sources":["userStatus.enum.js"],"sourcesContent":["module.exports = {\n  userStatus: [\"Active\", \"Inactive\"],\n  userStatusDefault: \"Active\",\n};\n"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACfC,UAAU,EAAE,CAAC,QAAD,EAAW,UAAX,CADG;EAEfC,iBAAiB,EAAE;AAFJ,CAAjB"}},"mtime":1664201493048},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/staff.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar _require = require(\"sequelize\"),\n    Model = _require.Model;\n\nvar _require2 = require(\"../constant/role.enum.js\"),\n    role = _require2.role,\n    roleDefault = _require2.roleDefault;\n\nvar _require3 = require(\"../constant/userStatus.enum.js\"),\n    userStatus = _require3.userStatus,\n    userStatusDefault = _require3.userStatusDefault;\n\nvar _require4 = require(\"uuid\"),\n    uuidv4 = _require4.v4;\n\nmodule.exports = function (sequelize, DataTypes) {\n  var Staffs = /*#__PURE__*/function (_Model) {\n    _inherits(Staffs, _Model);\n\n    var _super = _createSuper(Staffs);\n\n    function Staffs() {\n      _classCallCheck(this, Staffs);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(Staffs, null, [{\n      key: \"associate\",\n      value: function associate(models) {\n        // define association here\n        Staffs.hasMany(models.Interviews, {\n          foreignKey: \"Interviewer_id\"\n        });\n        Staffs.hasMany(models.CandidateDetails, {\n          foreignKey: \"CandidateDetail_id\"\n        });\n      }\n    }]);\n\n    return Staffs;\n  }(Model);\n\n  Staffs.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    email: {\n      allowNull: false,\n      type: DataTypes.STRING(320)\n    },\n    fullname: {\n      allowNull: false,\n      type: DataTypes.STRING(60)\n    },\n    password: {\n      allowNull: false,\n      type: DataTypes.STRING(60)\n    },\n    role: {\n      allowNull: false,\n      type: DataTypes.ENUM(role),\n      defaultValue: roleDefault\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(userStatus),\n      defaultValue: userStatusDefault\n    }\n  }, {\n    sequelize: sequelize,\n    modelName: \"Staffs\",\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  return Staffs;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiTW9kZWwiLCJyb2xlIiwicm9sZURlZmF1bHQiLCJ1c2VyU3RhdHVzIiwidXNlclN0YXR1c0RlZmF1bHQiLCJ1dWlkdjQiLCJ2NCIsIm1vZHVsZSIsImV4cG9ydHMiLCJzZXF1ZWxpemUiLCJEYXRhVHlwZXMiLCJTdGFmZnMiLCJtb2RlbHMiLCJoYXNNYW55IiwiSW50ZXJ2aWV3cyIsImZvcmVpZ25LZXkiLCJDYW5kaWRhdGVEZXRhaWxzIiwiaW5pdCIsImlkIiwiYWxsb3dOdWxsIiwicHJpbWFyeUtleSIsInR5cGUiLCJTVFJJTkciLCJkZWZhdWx0VmFsdWUiLCJVVUlEVjQiLCJlbWFpbCIsImZ1bGxuYW1lIiwicGFzc3dvcmQiLCJFTlVNIiwic3RhdHVzIiwibW9kZWxOYW1lIiwidGltZXN0YW1wcyIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9tb2RlbHMvIiwic291cmNlcyI6WyJzdGFmZi5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcInNlcXVlbGl6ZVwiKTtcclxuY29uc3QgeyByb2xlLCByb2xlRGVmYXVsdCB9ID0gcmVxdWlyZShcIi4uL2NvbnN0YW50L3JvbGUuZW51bS5qc1wiKTtcclxuY29uc3Qge1xyXG4gIHVzZXJTdGF0dXMsXHJcbiAgdXNlclN0YXR1c0RlZmF1bHQsXHJcbn0gPSByZXF1aXJlKFwiLi4vY29uc3RhbnQvdXNlclN0YXR1cy5lbnVtLmpzXCIpO1xyXG5jb25zdCB7IHY0OiB1dWlkdjQgfSA9IHJlcXVpcmUoXCJ1dWlkXCIpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xyXG4gIGNsYXNzIFN0YWZmcyBleHRlbmRzIE1vZGVsIHtcclxuICAgIHN0YXRpYyBhc3NvY2lhdGUobW9kZWxzKSB7XHJcbiAgICAgIC8vIGRlZmluZSBhc3NvY2lhdGlvbiBoZXJlXHJcbiAgICAgIFN0YWZmcy5oYXNNYW55KG1vZGVscy5JbnRlcnZpZXdzLCB7IGZvcmVpZ25LZXk6IFwiSW50ZXJ2aWV3ZXJfaWRcIiB9KTtcclxuICAgICAgU3RhZmZzLmhhc01hbnkobW9kZWxzLkNhbmRpZGF0ZURldGFpbHMsIHtcclxuICAgICAgICBmb3JlaWduS2V5OiBcIkNhbmRpZGF0ZURldGFpbF9pZFwiLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgU3RhZmZzLmluaXQoXHJcbiAgICB7XHJcbiAgICAgIGlkOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICBwcmltYXJ5S2V5OiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoMzYpLFxyXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLlVVSURWNCxcclxuICAgICAgfSxcclxuICAgICAgZW1haWw6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoMzIwKSxcclxuICAgICAgfSxcclxuICAgICAgZnVsbG5hbWU6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoNjApLFxyXG4gICAgICB9LFxyXG4gICAgICBwYXNzd29yZDoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyg2MCksXHJcbiAgICAgIH0sXHJcbiAgICAgIHJvbGU6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5FTlVNKHJvbGUpLFxyXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogcm9sZURlZmF1bHQsXHJcbiAgICAgIH0sXHJcbiAgICAgIHN0YXR1czoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkVOVU0odXNlclN0YXR1cyksXHJcbiAgICAgICAgZGVmYXVsdFZhbHVlOiB1c2VyU3RhdHVzRGVmYXVsdCxcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHNlcXVlbGl6ZSxcclxuICAgICAgbW9kZWxOYW1lOiBcIlN0YWZmc1wiLFxyXG4gICAgICB0aW1lc3RhbXBzOiBmYWxzZSxcclxuICAgICAgY3JlYXRlZEF0OiBmYWxzZSxcclxuICAgICAgdXBkYXRlZEF0OiBmYWxzZSxcclxuICAgIH1cclxuICApO1xyXG4gIHJldHVybiBTdGFmZnM7XHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLGVBQWtCQSxPQUFPLENBQUMsV0FBRCxDQUF6QjtBQUFBLElBQVFDLEtBQVIsWUFBUUEsS0FBUjs7QUFDQSxnQkFBOEJELE9BQU8sQ0FBQywwQkFBRCxDQUFyQztBQUFBLElBQVFFLElBQVIsYUFBUUEsSUFBUjtBQUFBLElBQWNDLFdBQWQsYUFBY0EsV0FBZDs7QUFDQSxnQkFHSUgsT0FBTyxDQUFDLGdDQUFELENBSFg7QUFBQSxJQUNFSSxVQURGLGFBQ0VBLFVBREY7QUFBQSxJQUVFQyxpQkFGRixhQUVFQSxpQkFGRjs7QUFJQSxnQkFBdUJMLE9BQU8sQ0FBQyxNQUFELENBQTlCO0FBQUEsSUFBWU0sTUFBWixhQUFRQyxFQUFSOztBQUNBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsVUFBQ0MsU0FBRCxFQUFZQyxTQUFaLEVBQTBCO0VBQUEsSUFDbkNDLE1BRG1DO0lBQUE7O0lBQUE7O0lBQUE7TUFBQTs7TUFBQTtJQUFBOztJQUFBO01BQUE7TUFBQSxPQUV2QyxtQkFBaUJDLE1BQWpCLEVBQXlCO1FBQ3ZCO1FBQ0FELE1BQU0sQ0FBQ0UsT0FBUCxDQUFlRCxNQUFNLENBQUNFLFVBQXRCLEVBQWtDO1VBQUVDLFVBQVUsRUFBRTtRQUFkLENBQWxDO1FBQ0FKLE1BQU0sQ0FBQ0UsT0FBUCxDQUFlRCxNQUFNLENBQUNJLGdCQUF0QixFQUF3QztVQUN0Q0QsVUFBVSxFQUFFO1FBRDBCLENBQXhDO01BR0Q7SUFSc0M7O0lBQUE7RUFBQSxFQUNwQmYsS0FEb0I7O0VBVXpDVyxNQUFNLENBQUNNLElBQVAsQ0FDRTtJQUNFQyxFQUFFLEVBQUU7TUFDRkMsU0FBUyxFQUFFLEtBRFQ7TUFFRkMsVUFBVSxFQUFFLElBRlY7TUFHRkMsSUFBSSxFQUFFWCxTQUFTLENBQUNZLE1BQVYsQ0FBaUIsRUFBakIsQ0FISjtNQUlGQyxZQUFZLEVBQUViLFNBQVMsQ0FBQ2M7SUFKdEIsQ0FETjtJQU9FQyxLQUFLLEVBQUU7TUFDTE4sU0FBUyxFQUFFLEtBRE47TUFFTEUsSUFBSSxFQUFFWCxTQUFTLENBQUNZLE1BQVYsQ0FBaUIsR0FBakI7SUFGRCxDQVBUO0lBV0VJLFFBQVEsRUFBRTtNQUNSUCxTQUFTLEVBQUUsS0FESDtNQUVSRSxJQUFJLEVBQUVYLFNBQVMsQ0FBQ1ksTUFBVixDQUFpQixFQUFqQjtJQUZFLENBWFo7SUFlRUssUUFBUSxFQUFFO01BQ1JSLFNBQVMsRUFBRSxLQURIO01BRVJFLElBQUksRUFBRVgsU0FBUyxDQUFDWSxNQUFWLENBQWlCLEVBQWpCO0lBRkUsQ0FmWjtJQW1CRXJCLElBQUksRUFBRTtNQUNKa0IsU0FBUyxFQUFFLEtBRFA7TUFFSkUsSUFBSSxFQUFFWCxTQUFTLENBQUNrQixJQUFWLENBQWUzQixJQUFmLENBRkY7TUFHSnNCLFlBQVksRUFBRXJCO0lBSFYsQ0FuQlI7SUF3QkUyQixNQUFNLEVBQUU7TUFDTlYsU0FBUyxFQUFFLEtBREw7TUFFTkUsSUFBSSxFQUFFWCxTQUFTLENBQUNrQixJQUFWLENBQWV6QixVQUFmLENBRkE7TUFHTm9CLFlBQVksRUFBRW5CO0lBSFI7RUF4QlYsQ0FERixFQStCRTtJQUNFSyxTQUFTLEVBQVRBLFNBREY7SUFFRXFCLFNBQVMsRUFBRSxRQUZiO0lBR0VDLFVBQVUsRUFBRSxLQUhkO0lBSUVDLFNBQVMsRUFBRSxLQUpiO0lBS0VDLFNBQVMsRUFBRTtFQUxiLENBL0JGO0VBdUNBLE9BQU90QixNQUFQO0FBQ0QsQ0FsREQifQ==","map":{"version":3,"names":["require","Model","role","roleDefault","userStatus","userStatusDefault","uuidv4","v4","module","exports","sequelize","DataTypes","Staffs","models","hasMany","Interviews","foreignKey","CandidateDetails","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","email","fullname","password","ENUM","status","modelName","timestamps","createdAt","updatedAt"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/","sources":["staff.model.js"],"sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nconst { role, roleDefault } = require(\"../constant/role.enum.js\");\r\nconst {\r\n  userStatus,\r\n  userStatusDefault,\r\n} = require(\"../constant/userStatus.enum.js\");\r\nconst { v4: uuidv4 } = require(\"uuid\");\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Staffs extends Model {\r\n    static associate(models) {\r\n      // define association here\r\n      Staffs.hasMany(models.Interviews, { foreignKey: \"Interviewer_id\" });\r\n      Staffs.hasMany(models.CandidateDetails, {\r\n        foreignKey: \"CandidateDetail_id\",\r\n      });\r\n    }\r\n  }\r\n  Staffs.init(\r\n    {\r\n      id: {\r\n        allowNull: false,\r\n        primaryKey: true,\r\n        type: DataTypes.STRING(36),\r\n        defaultValue: DataTypes.UUIDV4,\r\n      },\r\n      email: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(320),\r\n      },\r\n      fullname: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(60),\r\n      },\r\n      password: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(60),\r\n      },\r\n      role: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(role),\r\n        defaultValue: roleDefault,\r\n      },\r\n      status: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(userStatus),\r\n        defaultValue: userStatusDefault,\r\n      },\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"Staffs\",\r\n      timestamps: false,\r\n      createdAt: false,\r\n      updatedAt: false,\r\n    }\r\n  );\r\n  return Staffs;\r\n};\r\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;AACA,eAAkBA,OAAO,CAAC,WAAD,CAAzB;AAAA,IAAQC,KAAR,YAAQA,KAAR;;AACA,gBAA8BD,OAAO,CAAC,0BAAD,CAArC;AAAA,IAAQE,IAAR,aAAQA,IAAR;AAAA,IAAcC,WAAd,aAAcA,WAAd;;AACA,gBAGIH,OAAO,CAAC,gCAAD,CAHX;AAAA,IACEI,UADF,aACEA,UADF;AAAA,IAEEC,iBAFF,aAEEA,iBAFF;;AAIA,gBAAuBL,OAAO,CAAC,MAAD,CAA9B;AAAA,IAAYM,MAAZ,aAAQC,EAAR;;AACAC,MAAM,CAACC,OAAP,GAAiB,UAACC,SAAD,EAAYC,SAAZ,EAA0B;EAAA,IACnCC,MADmC;IAAA;;IAAA;;IAAA;MAAA;;MAAA;IAAA;;IAAA;MAAA;MAAA,OAEvC,mBAAiBC,MAAjB,EAAyB;QACvB;QACAD,MAAM,CAACE,OAAP,CAAeD,MAAM,CAACE,UAAtB,EAAkC;UAAEC,UAAU,EAAE;QAAd,CAAlC;QACAJ,MAAM,CAACE,OAAP,CAAeD,MAAM,CAACI,gBAAtB,EAAwC;UACtCD,UAAU,EAAE;QAD0B,CAAxC;MAGD;IARsC;;IAAA;EAAA,EACpBf,KADoB;;EAUzCW,MAAM,CAACM,IAAP,CACE;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB,CAHJ;MAIFC,YAAY,EAAEb,SAAS,CAACc;IAJtB,CADN;IAOEC,KAAK,EAAE;MACLN,SAAS,EAAE,KADN;MAELE,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,GAAjB;IAFD,CAPT;IAWEI,QAAQ,EAAE;MACRP,SAAS,EAAE,KADH;MAERE,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB;IAFE,CAXZ;IAeEK,QAAQ,EAAE;MACRR,SAAS,EAAE,KADH;MAERE,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB;IAFE,CAfZ;IAmBErB,IAAI,EAAE;MACJkB,SAAS,EAAE,KADP;MAEJE,IAAI,EAAEX,SAAS,CAACkB,IAAV,CAAe3B,IAAf,CAFF;MAGJsB,YAAY,EAAErB;IAHV,CAnBR;IAwBE2B,MAAM,EAAE;MACNV,SAAS,EAAE,KADL;MAENE,IAAI,EAAEX,SAAS,CAACkB,IAAV,CAAezB,UAAf,CAFA;MAGNoB,YAAY,EAAEnB;IAHR;EAxBV,CADF,EA+BE;IACEK,SAAS,EAATA,SADF;IAEEqB,SAAS,EAAE,QAFb;IAGEC,UAAU,EAAE,KAHd;IAIEC,SAAS,EAAE,KAJb;IAKEC,SAAS,EAAE;EALb,CA/BF;EAuCA,OAAOtB,MAAP;AACD,CAlDD"}},"mtime":1664851632608},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/role.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  role: [\"Admin\", \"HR Staff\", \"HR Manager\", \"Interviewer\"],\n  roleDefault: \"HR Staff\",\n  memberRole: \"Member\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwicm9sZSIsInJvbGVEZWZhdWx0IiwibWVtYmVyUm9sZSJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9jb25zdGFudC8iLCJzb3VyY2VzIjpbInJvbGUuZW51bS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICByb2xlOiBbXCJBZG1pblwiLCBcIkhSIFN0YWZmXCIsIFwiSFIgTWFuYWdlclwiLCBcIkludGVydmlld2VyXCJdLFxuICAgIHJvbGVEZWZhdWx0OiBcIkhSIFN0YWZmXCIsXG4gICAgbWVtYmVyUm9sZTogXCJNZW1iZXJcIixcbn0iXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNiQyxJQUFJLEVBQUUsQ0FBQyxPQUFELEVBQVUsVUFBVixFQUFzQixZQUF0QixFQUFvQyxhQUFwQyxDQURPO0VBRWJDLFdBQVcsRUFBRSxVQUZBO0VBR2JDLFVBQVUsRUFBRTtBQUhDLENBQWpCIn0=","map":{"version":3,"names":["module","exports","role","roleDefault","memberRole"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/","sources":["role.enum.js"],"sourcesContent":["module.exports = {\n    role: [\"Admin\", \"HR Staff\", \"HR Manager\", \"Interviewer\"],\n    roleDefault: \"HR Staff\",\n    memberRole: \"Member\",\n}"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACbC,IAAI,EAAE,CAAC,OAAD,EAAU,UAAV,EAAsB,YAAtB,EAAoC,aAApC,CADO;EAEbC,WAAW,EAAE,UAFA;EAGbC,UAAU,EAAE;AAHC,CAAjB"}},"mtime":1664175774119},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports.authService = require(\"./auth.service\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiYXV0aFNlcnZpY2UiLCJyZXF1aXJlIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL3NlcnZpY2UvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cy5hdXRoU2VydmljZSA9IHJlcXVpcmUoXCIuL2F1dGguc2VydmljZVwiKTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsTUFBTSxDQUFDQyxPQUFQLENBQWVDLFdBQWYsR0FBNkJDLE9BQU8sQ0FBQyxnQkFBRCxDQUFwQyJ9","map":{"version":3,"names":["module","exports","authService","require"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/","sources":["index.js"],"sourcesContent":["module.exports.authService = require(\"./auth.service\");\n"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,CAAeC,WAAf,GAA6BC,OAAO,CAAC,gBAAD,CAApC"}},"mtime":1664365720885},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/auth.service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nrequire(\"dotenv\").config();\n\nvar bcrypt = require(\"bcrypt\");\n\nvar jwt = require(\"jsonwebtoken\");\n\nvar httpStatus = require(\"http-status\");\n\nvar _require = require(\"../middleware/apiError\"),\n    ApiError = _require.ApiError;\n\nvar membersRepository = require(\"../repository/members.repository\");\n\nvar hashPassword = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(password) {\n    var salt, hashedPass;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return bcrypt.genSalt(10);\n\n          case 2:\n            salt = _context.sent;\n            _context.next = 5;\n            return bcrypt.hash(password, salt);\n\n          case 5:\n            hashedPass = _context.sent;\n            return _context.abrupt(\"return\", hashedPass);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function hashPassword(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar createNewMember = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var member, memberExisted, hashPass, newMember;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            member = req.body;\n            _context2.next = 4;\n            return membersRepository.getMemberByEmail(member.email);\n\n          case 4:\n            memberExisted = _context2.sent;\n\n            if (!memberExisted) {\n              _context2.next = 7;\n              break;\n            }\n\n            throw new ApiError(httpStatus.BAD_REQUEST, \"Email already taken\");\n\n          case 7:\n            _context2.next = 9;\n            return hashPassword(member.password);\n\n          case 9:\n            hashPass = _context2.sent;\n            _context2.next = 12;\n            return membersRepository.createNewMember({\n              email: member.email,\n              fullname: member.fullname,\n              password: hashPass,\n              avatar: null\n            });\n\n          case 12:\n            newMember = _context2.sent;\n            console.log(newMember);\n\n            if (newMember) {\n              _context2.next = 16;\n              break;\n            }\n\n            throw new ApiError(httpStatus.BAD_REQUEST, \"Register fail\");\n\n          case 16:\n            return _context2.abrupt(\"return\", newMember);\n\n          case 19:\n            _context2.prev = 19;\n            _context2.t0 = _context2[\"catch\"](0);\n            throw _context2.t0;\n\n          case 22:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 19]]);\n  }));\n\n  return function createNewMember(_x2, _x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar genAuthToken = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(user) {\n    var userObj, token;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            userObj = {\n              sub: user.id,\n              email: user.email,\n              id: user.id\n            };\n            token = jwt.sign(userObj, process.env.ACCESS_TOKEN_SECRET, {\n              expiresIn: \"1d\"\n            });\n            return _context3.abrupt(\"return\", token);\n\n          case 3:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function genAuthToken(_x4) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar comparePassword = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(candidatePassword, hashPassword) {\n    var match;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return bcrypt.compare(candidatePassword, hashPassword);\n\n          case 2:\n            match = _context4.sent;\n            return _context4.abrupt(\"return\", match);\n\n          case 4:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function comparePassword(_x5, _x6) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nvar signInWithEmailPassword = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(email, password) {\n    var member;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.prev = 0;\n            _context5.next = 3;\n            return membersRepository.getMemberByEmail(email);\n\n          case 3:\n            member = _context5.sent;\n\n            if (member) {\n              _context5.next = 6;\n              break;\n            }\n\n            throw new ApiError(httpStatus.UNAUTHORIZED, \"Sorry Bad Email\");\n\n          case 6:\n            _context5.next = 8;\n            return comparePassword(password, member.password);\n\n          case 8:\n            if (_context5.sent) {\n              _context5.next = 10;\n              break;\n            }\n\n            throw new ApiError(httpStatus.UNAUTHORIZED, \"Ti khon hoc mt khu khng chnh xc\");\n\n          case 10:\n            return _context5.abrupt(\"return\", member);\n\n          case 13:\n            _context5.prev = 13;\n            _context5.t0 = _context5[\"catch\"](0);\n            throw _context5.t0;\n\n          case 16:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5, null, [[0, 13]]);\n  }));\n\n  return function signInWithEmailPassword(_x7, _x8) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\nmodule.exports = {\n  createNewMember: createNewMember,\n  genAuthToken: genAuthToken,\n  signInWithEmailPassword: signInWithEmailPassword\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiYmNyeXB0Iiwiand0IiwiaHR0cFN0YXR1cyIsIkFwaUVycm9yIiwibWVtYmVyc1JlcG9zaXRvcnkiLCJoYXNoUGFzc3dvcmQiLCJwYXNzd29yZCIsImdlblNhbHQiLCJzYWx0IiwiaGFzaCIsImhhc2hlZFBhc3MiLCJjcmVhdGVOZXdNZW1iZXIiLCJyZXEiLCJyZXMiLCJtZW1iZXIiLCJib2R5IiwiZ2V0TWVtYmVyQnlFbWFpbCIsImVtYWlsIiwibWVtYmVyRXhpc3RlZCIsIkJBRF9SRVFVRVNUIiwiaGFzaFBhc3MiLCJmdWxsbmFtZSIsImF2YXRhciIsIm5ld01lbWJlciIsImNvbnNvbGUiLCJsb2ciLCJnZW5BdXRoVG9rZW4iLCJ1c2VyIiwidXNlck9iaiIsInN1YiIsImlkIiwidG9rZW4iLCJzaWduIiwicHJvY2VzcyIsImVudiIsIkFDQ0VTU19UT0tFTl9TRUNSRVQiLCJleHBpcmVzSW4iLCJjb21wYXJlUGFzc3dvcmQiLCJjYW5kaWRhdGVQYXNzd29yZCIsImNvbXBhcmUiLCJtYXRjaCIsInNpZ25JbldpdGhFbWFpbFBhc3N3b3JkIiwiVU5BVVRIT1JJWkVEIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9zZXJ2aWNlLyIsInNvdXJjZXMiOlsiYXV0aC5zZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoXCJkb3RlbnZcIikuY29uZmlnKCk7XG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKFwiYmNyeXB0XCIpO1xuY29uc3Qgand0ID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTtcbmNvbnN0IGh0dHBTdGF0dXMgPSByZXF1aXJlKFwiaHR0cC1zdGF0dXNcIik7XG5cbmNvbnN0IHsgQXBpRXJyb3IgfSA9IHJlcXVpcmUoXCIuLi9taWRkbGV3YXJlL2FwaUVycm9yXCIpO1xuY29uc3QgbWVtYmVyc1JlcG9zaXRvcnkgPSByZXF1aXJlKFwiLi4vcmVwb3NpdG9yeS9tZW1iZXJzLnJlcG9zaXRvcnlcIik7XG5cbmNvbnN0IGhhc2hQYXNzd29yZCA9IGFzeW5jIChwYXNzd29yZCkgPT4ge1xuICBjb25zdCBzYWx0ID0gYXdhaXQgYmNyeXB0LmdlblNhbHQoMTApO1xuICBjb25zdCBoYXNoZWRQYXNzID0gYXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIHNhbHQpO1xuICByZXR1cm4gaGFzaGVkUGFzcztcbn07XG5cbmNvbnN0IGNyZWF0ZU5ld01lbWJlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IG1lbWJlciA9IHJlcS5ib2R5O1xuICAgIGNvbnN0IG1lbWJlckV4aXN0ZWQgPSBhd2FpdCBtZW1iZXJzUmVwb3NpdG9yeS5nZXRNZW1iZXJCeUVtYWlsKFxuICAgICAgbWVtYmVyLmVtYWlsXG4gICAgKTtcbiAgICBpZiAobWVtYmVyRXhpc3RlZCkge1xuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKGh0dHBTdGF0dXMuQkFEX1JFUVVFU1QsIFwiRW1haWwgYWxyZWFkeSB0YWtlblwiKTtcbiAgICB9XG4gICAgY29uc3QgaGFzaFBhc3MgPSBhd2FpdCBoYXNoUGFzc3dvcmQobWVtYmVyLnBhc3N3b3JkKTtcbiAgICBjb25zdCBuZXdNZW1iZXIgPSBhd2FpdCBtZW1iZXJzUmVwb3NpdG9yeS5jcmVhdGVOZXdNZW1iZXIoe1xuICAgICAgZW1haWw6IG1lbWJlci5lbWFpbCxcbiAgICAgIGZ1bGxuYW1lOiBtZW1iZXIuZnVsbG5hbWUsXG4gICAgICBwYXNzd29yZDogaGFzaFBhc3MsXG4gICAgICBhdmF0YXI6IG51bGwsXG4gICAgfSk7XG4gICAgY29uc29sZS5sb2cobmV3TWVtYmVyKTtcbiAgICBpZiAoIW5ld01lbWJlcikge1xuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKGh0dHBTdGF0dXMuQkFEX1JFUVVFU1QsIFwiUmVnaXN0ZXIgZmFpbFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld01lbWJlcjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcbmNvbnN0IGdlbkF1dGhUb2tlbiA9IGFzeW5jICh1c2VyKSA9PiB7XG4gIGNvbnN0IHVzZXJPYmogPSB7XG4gICAgc3ViOiB1c2VyLmlkLFxuICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgIGlkOiB1c2VyLmlkLFxuICB9O1xuICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHVzZXJPYmosIHByb2Nlc3MuZW52LkFDQ0VTU19UT0tFTl9TRUNSRVQsIHtcbiAgICBleHBpcmVzSW46IFwiMWRcIixcbiAgfSk7XG4gIHJldHVybiB0b2tlbjtcbn07XG5jb25zdCBjb21wYXJlUGFzc3dvcmQgPSBhc3luYyAoY2FuZGlkYXRlUGFzc3dvcmQsIGhhc2hQYXNzd29yZCkgPT4ge1xuICAvLyBjYW5kaWRhdGUgcGFzc3dvcmQgPSBoYXNoIHBhc3N3b3JkXG5cbiAgY29uc3QgbWF0Y2ggPSBhd2FpdCBiY3J5cHQuY29tcGFyZShjYW5kaWRhdGVQYXNzd29yZCwgaGFzaFBhc3N3b3JkKTtcbiAgcmV0dXJuIG1hdGNoO1xufTtcbmNvbnN0IHNpZ25JbldpdGhFbWFpbFBhc3N3b3JkID0gYXN5bmMgKGVtYWlsLCBwYXNzd29yZCkgPT4ge1xuICB0cnkge1xuICAgIC8vIGNoZWNrIGVtYWlsXG4gICAgY29uc3QgbWVtYmVyID0gYXdhaXQgbWVtYmVyc1JlcG9zaXRvcnkuZ2V0TWVtYmVyQnlFbWFpbChlbWFpbCk7XG4gICAgaWYgKCFtZW1iZXIpIHtcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLlVOQVVUSE9SSVpFRCwgXCJTb3JyeSBCYWQgRW1haWxcIik7XG4gICAgfVxuICAgIGlmICghKGF3YWl0IGNvbXBhcmVQYXNzd29yZChwYXNzd29yZCwgbWVtYmVyLnBhc3N3b3JkKSkpIHtcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcihcbiAgICAgICAgaHR0cFN0YXR1cy5VTkFVVEhPUklaRUQsXG4gICAgICAgIFwiVMOgaSBraG/huqNuIGhv4bq3YyBt4bqtdCBraOG6qXUga2jDtG5nIGNow61uaCB4w6FjXCJcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBtZW1iZXI7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjcmVhdGVOZXdNZW1iZXIsXG4gIGdlbkF1dGhUb2tlbixcbiAgc2lnbkluV2l0aEVtYWlsUGFzc3dvcmQsXG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7OytDQUNBLG9KOzs7Ozs7QUFEQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEI7O0FBQ0EsSUFBTUMsTUFBTSxHQUFHRixPQUFPLENBQUMsUUFBRCxDQUF0Qjs7QUFDQSxJQUFNRyxHQUFHLEdBQUdILE9BQU8sQ0FBQyxjQUFELENBQW5COztBQUNBLElBQU1JLFVBQVUsR0FBR0osT0FBTyxDQUFDLGFBQUQsQ0FBMUI7O0FBRUEsZUFBcUJBLE9BQU8sQ0FBQyx3QkFBRCxDQUE1QjtBQUFBLElBQVFLLFFBQVIsWUFBUUEsUUFBUjs7QUFDQSxJQUFNQyxpQkFBaUIsR0FBR04sT0FBTyxDQUFDLGtDQUFELENBQWpDOztBQUVBLElBQU1PLFlBQVk7RUFBQSxzRUFBRyxpQkFBT0MsUUFBUDtJQUFBO0lBQUE7TUFBQTtRQUFBO1VBQUE7WUFBQTtZQUFBLE9BQ0FOLE1BQU0sQ0FBQ08sT0FBUCxDQUFlLEVBQWYsQ0FEQTs7VUFBQTtZQUNiQyxJQURhO1lBQUE7WUFBQSxPQUVNUixNQUFNLENBQUNTLElBQVAsQ0FBWUgsUUFBWixFQUFzQkUsSUFBdEIsQ0FGTjs7VUFBQTtZQUViRSxVQUZhO1lBQUEsaUNBR1pBLFVBSFk7O1VBQUE7VUFBQTtZQUFBO1FBQUE7TUFBQTtJQUFBO0VBQUEsQ0FBSDs7RUFBQSxnQkFBWkwsWUFBWTtJQUFBO0VBQUE7QUFBQSxHQUFsQjs7QUFNQSxJQUFNTSxlQUFlO0VB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","map":{"version":3,"names":["require","config","bcrypt","jwt","httpStatus","ApiError","membersRepository","hashPassword","password","genSalt","salt","hash","hashedPass","createNewMember","req","res","member","body","getMemberByEmail","email","memberExisted","BAD_REQUEST","hashPass","fullname","avatar","newMember","console","log","genAuthToken","user","userObj","sub","id","token","sign","process","env","ACCESS_TOKEN_SECRET","expiresIn","comparePassword","candidatePassword","compare","match","signInWithEmailPassword","UNAUTHORIZED","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/","sources":["auth.service.js"],"sourcesContent":["require(\"dotenv\").config();\nconst bcrypt = require(\"bcrypt\");\nconst jwt = require(\"jsonwebtoken\");\nconst httpStatus = require(\"http-status\");\n\nconst { ApiError } = require(\"../middleware/apiError\");\nconst membersRepository = require(\"../repository/members.repository\");\n\nconst hashPassword = async (password) => {\n  const salt = await bcrypt.genSalt(10);\n  const hashedPass = await bcrypt.hash(password, salt);\n  return hashedPass;\n};\n\nconst createNewMember = async (req, res) => {\n  try {\n    const member = req.body;\n    const memberExisted = await membersRepository.getMemberByEmail(\n      member.email\n    );\n    if (memberExisted) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Email already taken\");\n    }\n    const hashPass = await hashPassword(member.password);\n    const newMember = await membersRepository.createNewMember({\n      email: member.email,\n      fullname: member.fullname,\n      password: hashPass,\n      avatar: null,\n    });\n    console.log(newMember);\n    if (!newMember) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Register fail\");\n    }\n    return newMember;\n  } catch (error) {\n    throw error;\n  }\n};\nconst genAuthToken = async (user) => {\n  const userObj = {\n    sub: user.id,\n    email: user.email,\n    id: user.id,\n  };\n  const token = jwt.sign(userObj, process.env.ACCESS_TOKEN_SECRET, {\n    expiresIn: \"1d\",\n  });\n  return token;\n};\nconst comparePassword = async (candidatePassword, hashPassword) => {\n  // candidate password = hash password\n\n  const match = await bcrypt.compare(candidatePassword, hashPassword);\n  return match;\n};\nconst signInWithEmailPassword = async (email, password) => {\n  try {\n    // check email\n    const member = await membersRepository.getMemberByEmail(email);\n    if (!member) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"Sorry Bad Email\");\n    }\n    if (!(await comparePassword(password, member.password))) {\n      throw new ApiError(\n        httpStatus.UNAUTHORIZED,\n        \"Ti khon hoc mt khu khng chnh xc\"\n      );\n    }\n    return member;\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  createNewMember,\n  genAuthToken,\n  signInWithEmailPassword,\n};\n"],"mappings":"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"}},"mtime":1664845500574},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/member.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar express = require(\"express\");\n\nvar auth = require(\"../middleware/auth.middleware\");\n\nvar memberController = require(\"../controller/member.controller\");\n\nvar router = express.Router();\n\nvar db = require(\"../models\");\n\nrouter.route(\"/profile\").get(auth, memberController.profile).patch(auth, memberController.updateProfile);\nrouter.get(\"/all\", memberController.getAllMember);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImF1dGgiLCJtZW1iZXJDb250cm9sbGVyIiwicm91dGVyIiwiUm91dGVyIiwiZGIiLCJyb3V0ZSIsImdldCIsInByb2ZpbGUiLCJwYXRjaCIsInVwZGF0ZVByb2ZpbGUiLCJnZXRBbGxNZW1iZXIiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL3JvdXRlcy8iLCJzb3VyY2VzIjpbIm1lbWJlci5yb3V0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5jb25zdCBhdXRoID0gcmVxdWlyZShcIi4uL21pZGRsZXdhcmUvYXV0aC5taWRkbGV3YXJlXCIpO1xuY29uc3QgbWVtYmVyQ29udHJvbGxlciA9IHJlcXVpcmUoXCIuLi9jb250cm9sbGVyL21lbWJlci5jb250cm9sbGVyXCIpO1xuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbmNvbnN0IGRiID0gcmVxdWlyZShcIi4uL21vZGVsc1wiKTtcbnJvdXRlclxuICAucm91dGUoXCIvcHJvZmlsZVwiKVxuICAuZ2V0KGF1dGgsIG1lbWJlckNvbnRyb2xsZXIucHJvZmlsZSlcbiAgLnBhdGNoKGF1dGgsIG1lbWJlckNvbnRyb2xsZXIudXBkYXRlUHJvZmlsZSk7XG5yb3V0ZXIuZ2V0KFwiL2FsbFwiLCBtZW1iZXJDb250cm9sbGVyLmdldEFsbE1lbWJlcik7XG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBLElBQU1DLElBQUksR0FBR0QsT0FBTyxDQUFDLCtCQUFELENBQXBCOztBQUNBLElBQU1FLGdCQUFnQixHQUFHRixPQUFPLENBQUMsaUNBQUQsQ0FBaEM7O0FBQ0EsSUFBTUcsTUFBTSxHQUFHSixPQUFPLENBQUNLLE1BQVIsRUFBZjs7QUFDQSxJQUFNQyxFQUFFLEdBQUdMLE9BQU8sQ0FBQyxXQUFELENBQWxCOztBQUNBRyxNQUFNLENBQ0hHLEtBREgsQ0FDUyxVQURULEVBRUdDLEdBRkgsQ0FFT04sSUFGUCxFQUVhQyxnQkFBZ0IsQ0FBQ00sT0FGOUIsRUFHR0MsS0FISCxDQUdTUixJQUhULEVBR2VDLGdCQUFnQixDQUFDUSxhQUhoQztBQUlBUCxNQUFNLENBQUNJLEdBQVAsQ0FBVyxNQUFYLEVBQW1CTCxnQkFBZ0IsQ0FBQ1MsWUFBcEM7QUFDQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCVixNQUFqQiJ9","map":{"version":3,"names":["express","require","auth","memberController","router","Router","db","route","get","profile","patch","updateProfile","getAllMember","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["member.route.js"],"sourcesContent":["const express = require(\"express\");\nconst auth = require(\"../middleware/auth.middleware\");\nconst memberController = require(\"../controller/member.controller\");\nconst router = express.Router();\nconst db = require(\"../models\");\nrouter\n  .route(\"/profile\")\n  .get(auth, memberController.profile)\n  .patch(auth, memberController.updateProfile);\nrouter.get(\"/all\", memberController.getAllMember);\nmodule.exports = router;\n"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,IAAI,GAAGD,OAAO,CAAC,+BAAD,CAApB;;AACA,IAAME,gBAAgB,GAAGF,OAAO,CAAC,iCAAD,CAAhC;;AACA,IAAMG,MAAM,GAAGJ,OAAO,CAACK,MAAR,EAAf;;AACA,IAAMC,EAAE,GAAGL,OAAO,CAAC,WAAD,CAAlB;;AACAG,MAAM,CACHG,KADH,CACS,UADT,EAEGC,GAFH,CAEON,IAFP,EAEaC,gBAAgB,CAACM,OAF9B,EAGGC,KAHH,CAGSR,IAHT,EAGeC,gBAAgB,CAACQ,aAHhC;AAIAP,MAAM,CAACI,GAAP,CAAW,MAAX,EAAmBL,gBAAgB,CAACS,YAApC;AACAC,MAAM,CAACC,OAAP,GAAiBV,MAAjB"}},"mtime":1664836382863},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/middleware/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/middleware/auth.middleware.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar httpStatus = require(\"http-status\");\n\nvar jwt = require(\"jsonwebtoken\");\n\nrequire(\"dotenv\").config();\n\nvar _require = require(\"./apiError\"),\n    ApiError = _require.ApiError;\n\nvar auth = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res, next) {\n    var _req$header, token, currentUser;\n\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            token = (_req$header = req.header(\"Authorization\")) === null || _req$header === void 0 ? void 0 : _req$header.replace(\"Bearer \", \"\");\n\n            if (token) {\n              _context.next = 4;\n              break;\n            }\n\n            throw new ApiError(httpStatus.UNAUTHORIZED, \"INVALID TOKEN\");\n\n          case 4:\n            currentUser = jwt.verify(token, process.env.ACCESS_TOKEN_SECRET, function (err, payload) {\n              if (!err) {\n                return payload;\n              }\n\n              throw new ApiError(httpStatus.UNAUTHORIZED, \"BAD REQUEST\");\n            });\n            req.currentUser = currentUser;\n            next();\n            _context.next = 12;\n            break;\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](0);\n            next(_context.t0);\n\n          case 12:\n            _context.prev = 12;\n            return _context.finish(12);\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 9, 12, 14]]);\n  }));\n\n  return function auth(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nmodule.exports = auth;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwU3RhdHVzIiwicmVxdWlyZSIsImp3dCIsImNvbmZpZyIsIkFwaUVycm9yIiwiYXV0aCIsInJlcSIsInJlcyIsIm5leHQiLCJ0b2tlbiIsImhlYWRlciIsInJlcGxhY2UiLCJVTkFVVEhPUklaRUQiLCJjdXJyZW50VXNlciIsInZlcmlmeSIsInByb2Nlc3MiLCJlbnYiLCJBQ0NFU1NfVE9LRU5fU0VDUkVUIiwiZXJyIiwicGF5bG9hZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvbWlkZGxld2FyZS8iLCJzb3VyY2VzIjpbImF1dGgubWlkZGxld2FyZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBodHRwU3RhdHVzID0gcmVxdWlyZShcImh0dHAtc3RhdHVzXCIpO1xuY29uc3Qgand0ID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTtcbnJlcXVpcmUoXCJkb3RlbnZcIikuY29uZmlnKCk7XG5jb25zdCB7IEFwaUVycm9yIH0gPSByZXF1aXJlKFwiLi9hcGlFcnJvclwiKTtcbmNvbnN0IGF1dGggPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB0b2tlbiA9IHJlcS5oZWFkZXIoXCJBdXRob3JpemF0aW9uXCIpPy5yZXBsYWNlKFwiQmVhcmVyIFwiLCBcIlwiKTtcbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5VTkFVVEhPUklaRUQsIFwiSU5WQUxJRCBUT0tFTlwiKTtcbiAgICB9XG4gICAgY29uc3QgY3VycmVudFVzZXIgPSBqd3QudmVyaWZ5KFxuICAgICAgdG9rZW4sXG4gICAgICBwcm9jZXNzLmVudi5BQ0NFU1NfVE9LRU5fU0VDUkVULFxuICAgICAgKGVyciwgcGF5bG9hZCkgPT4ge1xuICAgICAgICBpZiAoIWVycikge1xuICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLlVOQVVUSE9SSVpFRCwgXCJCQUQgUkVRVUVTVFwiKTtcbiAgICAgIH1cbiAgICApO1xuICAgIHJlcS5jdXJyZW50VXNlciA9IGN1cnJlbnRVc2VyO1xuXG4gICAgbmV4dCgpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIG5leHQoZXJyb3IpO1xuICB9IGZpbmFsbHkge1xuICB9XG59O1xubW9kdWxlLmV4cG9ydHMgPSBhdXRoO1xuIl0sIm1hcHBpbmdzIjoiOzs7OytDQUNBLG9KOzs7Ozs7QUFEQSxJQUFNQSxVQUFVLEdBQUdDLE9BQU8sQ0FBQyxhQUFELENBQTFCOztBQUNBLElBQU1DLEdBQUcsR0FBR0QsT0FBTyxDQUFDLGNBQUQsQ0FBbkI7O0FBQ0FBLE9BQU8sQ0FBQyxRQUFELENBQVAsQ0FBa0JFLE1BQWxCOztBQUNBLGVBQXFCRixPQUFPLENBQUMsWUFBRCxDQUE1QjtBQUFBLElBQVFHLFFBQVIsWUFBUUEsUUFBUjs7QUFDQSxJQUFNQyxJQUFJO0VBQUEsc0VBQUcsaUJBQU9DLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakI7SUFBQTs7SUFBQTtNQUFBO1FBQUE7VUFBQTtZQUFBO1lBRUhDLEtBRkcsa0JBRUtILEdBQUcsQ0FBQ0ksTUFBSixDQUFXLGVBQVgsQ0FGTCxnREFFSyxZQUE2QkMsT0FBN0IsQ0FBcUMsU0FBckMsRUFBZ0QsRUFBaEQsQ0FGTDs7WUFBQSxJQUdKRixLQUhJO2NBQUE7Y0FBQTtZQUFBOztZQUFBLE1BSUQsSUFBSUwsUUFBSixDQUFhSixVQUFVLENBQUNZLFlBQXhCLEVBQXNDLGVBQXRDLENBSkM7O1VBQUE7WUFNSEMsV0FORyxHQU1XWCxHQUFHLENBQUNZLE1BQUosQ0FDbEJMLEtBRGtCLEVBRWxCTSxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsbUJBRk0sRUFHbEIsVUFBQ0MsR0FBRCxFQUFNQyxPQUFOLEVBQWtCO2NBQ2hCLElBQUksQ0FBQ0QsR0FBTCxFQUFVO2dCQUNSLE9BQU9DLE9BQVA7Y0FDRDs7Y0FDRCxNQUFNLElBQUlmLFFBQUosQ0FBYUosVUFBVSxDQUFDWSxZQUF4QixFQUFzQyxhQUF0QyxDQUFOO1lBQ0QsQ0FSaUIsQ0FOWDtZQWdCVE4sR0FBRyxDQUFDTyxXQUFKLEdBQWtCQSxXQUFsQjtZQUVBTCxJQUFJO1lBbEJLO1lBQUE7O1VBQUE7WUFBQTtZQUFBO1lBb0JUQSxJQUFJLGFBQUo7O1VBcEJTO1lBQUE7WUFBQTs7VUFBQTtVQUFBO1lBQUE7UUFBQTtNQUFBO0lBQUE7RUFBQSxDQUFIOztFQUFBLGdCQUFKSCxJQUFJO0lBQUE7RUFBQTtBQUFBLEdBQVY7O0FBd0JBZSxNQUFNLENBQUNDLE9BQVAsR0FBaUJoQixJQUFqQiJ9","map":{"version":3,"names":["httpStatus","require","jwt","config","ApiError","auth","req","res","next","token","header","replace","UNAUTHORIZED","currentUser","verify","process","env","ACCESS_TOKEN_SECRET","err","payload","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/middleware/","sources":["auth.middleware.js"],"sourcesContent":["const httpStatus = require(\"http-status\");\nconst jwt = require(\"jsonwebtoken\");\nrequire(\"dotenv\").config();\nconst { ApiError } = require(\"./apiError\");\nconst auth = async (req, res, next) => {\n  try {\n    const token = req.header(\"Authorization\")?.replace(\"Bearer \", \"\");\n    if (!token) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"INVALID TOKEN\");\n    }\n    const currentUser = jwt.verify(\n      token,\n      process.env.ACCESS_TOKEN_SECRET,\n      (err, payload) => {\n        if (!err) {\n          return payload;\n        }\n        throw new ApiError(httpStatus.UNAUTHORIZED, \"BAD REQUEST\");\n      }\n    );\n    req.currentUser = currentUser;\n\n    next();\n  } catch (error) {\n    next(error);\n  } finally {\n  }\n};\nmodule.exports = auth;\n"],"mappings":";;;;+CACA,oJ;;;;;;AADA,IAAMA,UAAU,GAAGC,OAAO,CAAC,aAAD,CAA1B;;AACA,IAAMC,GAAG,GAAGD,OAAO,CAAC,cAAD,CAAnB;;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBE,MAAlB;;AACA,eAAqBF,OAAO,CAAC,YAAD,CAA5B;AAAA,IAAQG,QAAR,YAAQA,QAAR;;AACA,IAAMC,IAAI;EAAA,sEAAG,iBAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB;IAAA;;IAAA;MAAA;QAAA;UAAA;YAAA;YAEHC,KAFG,kBAEKH,GAAG,CAACI,MAAJ,CAAW,eAAX,CAFL,gDAEK,YAA6BC,OAA7B,CAAqC,SAArC,EAAgD,EAAhD,CAFL;;YAAA,IAGJF,KAHI;cAAA;cAAA;YAAA;;YAAA,MAID,IAAIL,QAAJ,CAAaJ,UAAU,CAACY,YAAxB,EAAsC,eAAtC,CAJC;;UAAA;YAMHC,WANG,GAMWX,GAAG,CAACY,MAAJ,CAClBL,KADkB,EAElBM,OAAO,CAACC,GAAR,CAAYC,mBAFM,EAGlB,UAACC,GAAD,EAAMC,OAAN,EAAkB;cAChB,IAAI,CAACD,GAAL,EAAU;gBACR,OAAOC,OAAP;cACD;;cACD,MAAM,IAAIf,QAAJ,CAAaJ,UAAU,CAACY,YAAxB,EAAsC,aAAtC,CAAN;YACD,CARiB,CANX;YAgBTN,GAAG,CAACO,WAAJ,GAAkBA,WAAlB;YAEAL,IAAI;YAlBK;YAAA;;UAAA;YAAA;YAAA;YAoBTA,IAAI,aAAJ;;UApBS;YAAA;YAAA;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAJH,IAAI;IAAA;EAAA;AAAA,GAAV;;AAwBAe,MAAM,CAACC,OAAP,GAAiBhB,IAAjB"}},"mtime":1664394567190},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/member.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar httpStatus = require(\"http-status\");\n\nvar _require = require(\"../middleware/apiError\"),\n    ApiError = _require.ApiError;\n\nvar _require2 = require(\"../repository/members.repository\"),\n    getMemberByEmail = _require2.getMemberByEmail,\n    showAllMember = _require2.showAllMember;\n\nvar _require3 = require(\"../service/member.service\"),\n    updateMemberProfile = _require3.updateMemberProfile;\n\nvar memberController = {\n  profile: function profile(req, res, next) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var member;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return getMemberByEmail(req.currentUser.email);\n\n            case 3:\n              member = _context.sent;\n\n              if (member) {\n                _context.next = 6;\n                break;\n              }\n\n              throw new ApiError(httpStatus.NOT_FOUND, \"Member Not Found\");\n\n            case 6:\n              res.json(member);\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n              next(_context.t0);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 9]]);\n    }))();\n  },\n  updateProfile: function updateProfile(req, res, next) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      var updatedMember;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return updateMemberProfile(req);\n\n            case 3:\n              updatedMember = _context2.sent;\n              res.json(updatedMember);\n              _context2.next = 10;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              next(_context2.t0);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7]]);\n    }))();\n  },\n  getAllMember: function getAllMember(req, res) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n      var allMember;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return showAllMember();\n\n            case 3:\n              allMember = _context3.sent;\n              res.send(allMember);\n\n              if (allMember) {\n                _context3.next = 7;\n                break;\n              }\n\n              throw new ApiError(\"Member khong ton tai\");\n\n            case 7:\n              _context3.next = 11;\n              break;\n\n            case 9:\n              _context3.prev = 9;\n              _context3.t0 = _context3[\"catch\"](0);\n\n            case 11:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 9]]);\n    }))();\n  }\n};\nmodule.exports = memberController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwU3RhdHVzIiwicmVxdWlyZSIsIkFwaUVycm9yIiwiZ2V0TWVtYmVyQnlFbWFpbCIsInNob3dBbGxNZW1iZXIiLCJ1cGRhdGVNZW1iZXJQcm9maWxlIiwibWVtYmVyQ29udHJvbGxlciIsInByb2ZpbGUiLCJyZXEiLCJyZXMiLCJuZXh0IiwiY3VycmVudFVzZXIiLCJlbWFpbCIsIm1lbWJlciIsIk5PVF9GT1VORCIsImpzb24iLCJ1cGRhdGVQcm9maWxlIiwidXBkYXRlZE1lbWJlciIsImdldEFsbE1lbWJlciIsImFsbE1lbWJlciIsInNlbmQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL2NvbnRyb2xsZXIvIiwic291cmNlcyI6WyJtZW1iZXIuY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBodHRwU3RhdHVzID0gcmVxdWlyZShcImh0dHAtc3RhdHVzXCIpO1xuY29uc3QgeyBBcGlFcnJvciB9ID0gcmVxdWlyZShcIi4uL21pZGRsZXdhcmUvYXBpRXJyb3JcIik7XG5jb25zdCB7XG4gIGdldE1lbWJlckJ5RW1haWwsXG4gIHNob3dBbGxNZW1iZXIsXG59ID0gcmVxdWlyZShcIi4uL3JlcG9zaXRvcnkvbWVtYmVycy5yZXBvc2l0b3J5XCIpO1xuY29uc3QgeyB1cGRhdGVNZW1iZXJQcm9maWxlIH0gPSByZXF1aXJlKFwiLi4vc2VydmljZS9tZW1iZXIuc2VydmljZVwiKTtcbmNvbnN0IG1lbWJlckNvbnRyb2xsZXIgPSB7XG4gIGFzeW5jIHByb2ZpbGUocmVxLCByZXMsIG5leHQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbWVtYmVyID0gYXdhaXQgZ2V0TWVtYmVyQnlFbWFpbChyZXEuY3VycmVudFVzZXIuZW1haWwpO1xuXG4gICAgICBpZiAoIW1lbWJlcikge1xuICAgICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5OT1RfRk9VTkQsIFwiTWVtYmVyIE5vdCBGb3VuZFwiKTtcbiAgICAgIH1cbiAgICAgIHJlcy5qc29uKG1lbWJlcik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG5leHQoZXJyb3IpO1xuICAgIH1cbiAgfSxcbiAgYXN5bmMgdXBkYXRlUHJvZmlsZShyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cGRhdGVkTWVtYmVyID0gYXdhaXQgdXBkYXRlTWVtYmVyUHJvZmlsZShyZXEpO1xuICAgICAgcmVzLmpzb24odXBkYXRlZE1lbWJlcik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG5leHQoZXJyb3IpO1xuICAgIH1cbiAgfSxcbiAgYXN5bmMgZ2V0QWxsTWVtYmVyKHJlcSwgcmVzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFsbE1lbWJlciA9IGF3YWl0IHNob3dBbGxNZW1iZXIoKTtcbiAgICAgIHJlcy5zZW5kKGFsbE1lbWJlcik7XG4gICAgICBpZiAoIWFsbE1lbWJlcikge1xuICAgICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoXCJNZW1iZXIga2hvbmcgdG9uIHRhaVwiKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge31cbiAgfSxcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gbWVtYmVyQ29udHJvbGxlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7OzsrQ0FDQSxvSjs7Ozs7O0FBREEsSUFBTUEsVUFBVSxHQUFHQyxPQUFPLENBQUMsYUFBRCxDQUExQjs7QUFDQSxlQUFxQkEsT0FBTyxDQUFDLHdCQUFELENBQTVCO0FBQUEsSUFBUUMsUUFBUixZQUFRQSxRQUFSOztBQUNBLGdCQUdJRCxPQUFPLENBQUMsa0NBQUQsQ0FIWDtBQUFBLElBQ0VFLGdCQURGLGFBQ0VBLGdCQURGO0FBQUEsSUFFRUMsYUFGRixhQUVFQSxhQUZGOztBQUlBLGdCQUFnQ0gsT0FBTyxDQUFDLDJCQUFELENBQXZDO0FBQUEsSUFBUUksbUJBQVIsYUFBUUEsbUJBQVI7O0FBQ0EsSUFBTUMsZ0JBQWdCLEdBQUc7RUFDakJDLE9BRGlCLG1CQUNUQyxHQURTLEVBQ0pDLEdBREksRUFDQ0MsSUFERCxFQUNPO0lBQUE7TUFBQTtNQUFBO1FBQUE7VUFBQTtZQUFBO2NBQUE7Y0FBQTtjQUFBLE9BRUxQLGdCQUFnQixDQUFDSyxHQUFHLENBQUNHLFdBQUosQ0FBZ0JDLEtBQWpCLENBRlg7O1lBQUE7Y0FFcEJDLE1BRm9COztjQUFBLElBSXJCQSxNQUpxQjtnQkFBQTtnQkFBQTtjQUFBOztjQUFBLE1BS2xCLElBQUlYLFFBQUosQ0FBYUYsVUFBVSxDQUFDYyxTQUF4QixFQUFtQyxrQkFBbkMsQ0FMa0I7O1lBQUE7Y0FPMUJMLEdBQUcsQ0FBQ00sSUFBSixDQUFTRixNQUFUO2NBUDBCO2NBQUE7O1lBQUE7Y0FBQTtjQUFBO2NBUzFCSCxJQUFJLGFBQUo7O1lBVDBCO1lBQUE7Y0FBQTtVQUFBO1FBQUE7TUFBQTtJQUFBO0VBVzdCLENBWnNCO0VBYWpCTSxhQWJpQix5QkFhSFIsR0FiRyxFQWFFQyxHQWJGLEVBYU9DLElBYlAsRUFhYTtJQUFBO01BQUE7TUFBQTtRQUFBO1VBQUE7WUFBQTtjQUFBO2NBQUE7Y0FBQSxPQUVKTCxtQkFBbUIsQ0FBQ0csR0FBRCxDQUZmOztZQUFBO2NBRTFCUyxhQUYwQjtjQUdoQ1IsR0FBRyxDQUFDTSxJQUFKLENBQVNFLGFBQVQ7Y0FIZ0M7Y0FBQTs7WUFBQTtjQUFBO2NBQUE7Y0FLaENQLElBQUksY0FBSjs7WUFMZ0M7WUFBQTtjQUFBO1VBQUE7UUFBQTtNQUFBO0lBQUE7RUFPbkMsQ0FwQnNCO0VBcUJqQlEsWUFyQmlCLHdCQXFCSlYsR0FyQkksRUFxQkNDLEdBckJELEVBcUJNO0lBQUE7TUFBQTtNQUFBO1FBQUE7VUFBQTtZQUFBO2NBQUE7Y0FBQTtjQUFBLE9BRURMLGFBQWEsRUFGWjs7WUFBQTtjQUVuQmUsU0FGbUI7Y0FHekJWLEdBQUcsQ0FBQ1csSUFBSixDQUFTRCxTQUFUOztjQUh5QixJQUlwQkEsU0FKb0I7Z0JBQUE7Z0JBQUE7Y0FBQTs7Y0FBQSxNQUtqQixJQUFJakIsUUFBSixDQUFhLHNCQUFiLENBTGlCOztZQUFBO2NBQUE7Y0FBQTs7WUFBQTtjQUFBO2NBQUE7O1lBQUE7WUFBQTtjQUFBO1VBQUE7UUFBQTtNQUFBO0lBQUE7RUFRNUI7QUE3QnNCLENBQXpCO0FBZ0NBbUIsTUFBTSxDQUFDQyxPQUFQLEdBQWlCaEIsZ0JBQWpCIn0=","map":{"version":3,"names":["httpStatus","require","ApiError","getMemberByEmail","showAllMember","updateMemberProfile","memberController","profile","req","res","next","currentUser","email","member","NOT_FOUND","json","updateProfile","updatedMember","getAllMember","allMember","send","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/","sources":["member.controller.js"],"sourcesContent":["const httpStatus = require(\"http-status\");\nconst { ApiError } = require(\"../middleware/apiError\");\nconst {\n  getMemberByEmail,\n  showAllMember,\n} = require(\"../repository/members.repository\");\nconst { updateMemberProfile } = require(\"../service/member.service\");\nconst memberController = {\n  async profile(req, res, next) {\n    try {\n      const member = await getMemberByEmail(req.currentUser.email);\n\n      if (!member) {\n        throw new ApiError(httpStatus.NOT_FOUND, \"Member Not Found\");\n      }\n      res.json(member);\n    } catch (error) {\n      next(error);\n    }\n  },\n  async updateProfile(req, res, next) {\n    try {\n      const updatedMember = await updateMemberProfile(req);\n      res.json(updatedMember);\n    } catch (error) {\n      next(error);\n    }\n  },\n  async getAllMember(req, res) {\n    try {\n      const allMember = await showAllMember();\n      res.send(allMember);\n      if (!allMember) {\n        throw new ApiError(\"Member khong ton tai\");\n      }\n    } catch (error) {}\n  },\n};\n\nmodule.exports = memberController;\n"],"mappings":";;;;+CACA,oJ;;;;;;AADA,IAAMA,UAAU,GAAGC,OAAO,CAAC,aAAD,CAA1B;;AACA,eAAqBA,OAAO,CAAC,wBAAD,CAA5B;AAAA,IAAQC,QAAR,YAAQA,QAAR;;AACA,gBAGID,OAAO,CAAC,kCAAD,CAHX;AAAA,IACEE,gBADF,aACEA,gBADF;AAAA,IAEEC,aAFF,aAEEA,aAFF;;AAIA,gBAAgCH,OAAO,CAAC,2BAAD,CAAvC;AAAA,IAAQI,mBAAR,aAAQA,mBAAR;;AACA,IAAMC,gBAAgB,GAAG;EACjBC,OADiB,mBACTC,GADS,EACJC,GADI,EACCC,IADD,EACO;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA;cAAA,OAELP,gBAAgB,CAACK,GAAG,CAACG,WAAJ,CAAgBC,KAAjB,CAFX;;YAAA;cAEpBC,MAFoB;;cAAA,IAIrBA,MAJqB;gBAAA;gBAAA;cAAA;;cAAA,MAKlB,IAAIX,QAAJ,CAAaF,UAAU,CAACc,SAAxB,EAAmC,kBAAnC,CALkB;;YAAA;cAO1BL,GAAG,CAACM,IAAJ,CAASF,MAAT;cAP0B;cAAA;;YAAA;cAAA;cAAA;cAS1BH,IAAI,aAAJ;;YAT0B;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAW7B,CAZsB;EAajBM,aAbiB,yBAaHR,GAbG,EAaEC,GAbF,EAaOC,IAbP,EAaa;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA;cAAA,OAEJL,mBAAmB,CAACG,GAAD,CAFf;;YAAA;cAE1BS,aAF0B;cAGhCR,GAAG,CAACM,IAAJ,CAASE,aAAT;cAHgC;cAAA;;YAAA;cAAA;cAAA;cAKhCP,IAAI,cAAJ;;YALgC;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAOnC,CApBsB;EAqBjBQ,YArBiB,wBAqBJV,GArBI,EAqBCC,GArBD,EAqBM;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA;cAAA,OAEDL,aAAa,EAFZ;;YAAA;cAEnBe,SAFmB;cAGzBV,GAAG,CAACW,IAAJ,CAASD,SAAT;;cAHyB,IAIpBA,SAJoB;gBAAA;gBAAA;cAAA;;cAAA,MAKjB,IAAIjB,QAAJ,CAAa,sBAAb,CALiB;;YAAA;cAAA;cAAA;;YAAA;cAAA;cAAA;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAQ5B;AA7BsB,CAAzB;AAgCAmB,MAAM,CAACC,OAAP,GAAiBhB,gBAAjB"}},"mtime":1664837069063},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/member.service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar _require = require(\"../repository/members.repository\"),\n    update = _require.update,\n    getMemberById = _require.getMemberById;\n\nrequire(\"dotenv\").config();\n\nvar updateMemberProfile = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req) {\n    var member;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return update(req.body, {\n              id: req.currentUser.id\n            });\n\n          case 3:\n            _context.next = 5;\n            return getMemberById(req.currentUser.id);\n\n          case 5:\n            member = _context.sent;\n            return _context.abrupt(\"return\", member);\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](0);\n            throw _context.t0;\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 9]]);\n  }));\n\n  return function updateMemberProfile(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nmodule.exports = {\n  updateMemberProfile: updateMemberProfile\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwidXBkYXRlIiwiZ2V0TWVtYmVyQnlJZCIsImNvbmZpZyIsInVwZGF0ZU1lbWJlclByb2ZpbGUiLCJyZXEiLCJib2R5IiwiaWQiLCJjdXJyZW50VXNlciIsIm1lbWJlciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvc2VydmljZS8iLCJzb3VyY2VzIjpbIm1lbWJlci5zZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgdXBkYXRlLCBnZXRNZW1iZXJCeUlkIH0gPSByZXF1aXJlKFwiLi4vcmVwb3NpdG9yeS9tZW1iZXJzLnJlcG9zaXRvcnlcIik7XG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xuXG5jb25zdCB1cGRhdGVNZW1iZXJQcm9maWxlID0gYXN5bmMgKHJlcSkgPT4ge1xuICB0cnkge1xuICAgIGF3YWl0IHVwZGF0ZShyZXEuYm9keSwgeyBpZDogcmVxLmN1cnJlbnRVc2VyLmlkIH0pO1xuICAgIGNvbnN0IG1lbWJlciA9IGF3YWl0IGdldE1lbWJlckJ5SWQocmVxLmN1cnJlbnRVc2VyLmlkKTtcbiAgICByZXR1cm4gbWVtYmVyO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHVwZGF0ZU1lbWJlclByb2ZpbGUsXG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7OytDQUNBLG9KOzs7Ozs7QUFEQSxlQUFrQ0EsT0FBTyxDQUFDLGtDQUFELENBQXpDO0FBQUEsSUFBUUMsTUFBUixZQUFRQSxNQUFSO0FBQUEsSUFBZ0JDLGFBQWhCLFlBQWdCQSxhQUFoQjs7QUFDQUYsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkcsTUFBbEI7O0FBRUEsSUFBTUMsbUJBQW1CO0VBQUEsc0VBQUcsaUJBQU9DLEdBQVA7SUFBQTtJQUFBO01BQUE7UUFBQTtVQUFBO1lBQUE7WUFBQTtZQUFBLE9BRWxCSixNQUFNLENBQUNJLEdBQUcsQ0FBQ0MsSUFBTCxFQUFXO2NBQUVDLEVBQUUsRUFBRUYsR0FBRyxDQUFDRyxXQUFKLENBQWdCRDtZQUF0QixDQUFYLENBRlk7O1VBQUE7WUFBQTtZQUFBLE9BR0hMLGFBQWEsQ0FBQ0csR0FBRyxDQUFDRyxXQUFKLENBQWdCRCxFQUFqQixDQUhWOztVQUFBO1lBR2xCRSxNQUhrQjtZQUFBLGlDQUlqQkEsTUFKaUI7O1VBQUE7WUFBQTtZQUFBO1lBQUE7O1VBQUE7VUFBQTtZQUFBO1FBQUE7TUFBQTtJQUFBO0VBQUEsQ0FBSDs7RUFBQSxnQkFBbkJMLG1CQUFtQjtJQUFBO0VBQUE7QUFBQSxHQUF6Qjs7QUFTQU0sTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2ZQLG1CQUFtQixFQUFuQkE7QUFEZSxDQUFqQiJ9","map":{"version":3,"names":["require","update","getMemberById","config","updateMemberProfile","req","body","id","currentUser","member","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/","sources":["member.service.js"],"sourcesContent":["const { update, getMemberById } = require(\"../repository/members.repository\");\nrequire(\"dotenv\").config();\n\nconst updateMemberProfile = async (req) => {\n  try {\n    await update(req.body, { id: req.currentUser.id });\n    const member = await getMemberById(req.currentUser.id);\n    return member;\n  } catch (error) {\n    throw error;\n  }\n};\nmodule.exports = {\n  updateMemberProfile,\n};\n"],"mappings":";;;;+CACA,oJ;;;;;;AADA,eAAkCA,OAAO,CAAC,kCAAD,CAAzC;AAAA,IAAQC,MAAR,YAAQA,MAAR;AAAA,IAAgBC,aAAhB,YAAgBA,aAAhB;;AACAF,OAAO,CAAC,QAAD,CAAP,CAAkBG,MAAlB;;AAEA,IAAMC,mBAAmB;EAAA,sEAAG,iBAAOC,GAAP;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA;YAAA,OAElBJ,MAAM,CAACI,GAAG,CAACC,IAAL,EAAW;cAAEC,EAAE,EAAEF,GAAG,CAACG,WAAJ,CAAgBD;YAAtB,CAAX,CAFY;;UAAA;YAAA;YAAA,OAGHL,aAAa,CAACG,GAAG,CAACG,WAAJ,CAAgBD,EAAjB,CAHV;;UAAA;YAGlBE,MAHkB;YAAA,iCAIjBA,MAJiB;;UAAA;YAAA;YAAA;YAAA;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAnBL,mBAAmB;IAAA;EAAA;AAAA,GAAzB;;AASAM,MAAM,CAACC,OAAP,GAAiB;EACfP,mBAAmB,EAAnBA;AADe,CAAjB"}},"mtime":1664847854012},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/staff.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar express = require(\"express\");\n\nvar auth = require(\"../middleware/auth.middleware\");\n\nvar staffController = require(\"../controller/staff.controller\");\n\nvar router = express.Router();\nrouter.get(\"/profile\", auth, staffController.profile);\nrouter.patch(\"/profile\", auth, staffController.updateProfile);\nrouter.get(\"/all\", staffController.getAllStaff); //   .get(auth, memberController.profile)\n//   .patch(auth, memberController.updateProfile);\n// router.get(\"/all\", memberController.getAllMember);\n\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImF1dGgiLCJzdGFmZkNvbnRyb2xsZXIiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJnZXQiLCJwcm9maWxlIiwicGF0Y2giLCJ1cGRhdGVQcm9maWxlIiwiZ2V0QWxsU3RhZmYiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL3JvdXRlcy8iLCJzb3VyY2VzIjpbInN0YWZmLnJvdXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IGF1dGggPSByZXF1aXJlKFwiLi4vbWlkZGxld2FyZS9hdXRoLm1pZGRsZXdhcmVcIik7XG5jb25zdCBzdGFmZkNvbnRyb2xsZXIgPSByZXF1aXJlKFwiLi4vY29udHJvbGxlci9zdGFmZi5jb250cm9sbGVyXCIpO1xuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLmdldChcIi9wcm9maWxlXCIsIGF1dGgsIHN0YWZmQ29udHJvbGxlci5wcm9maWxlKTtcbnJvdXRlci5wYXRjaChcIi9wcm9maWxlXCIsIGF1dGgsIHN0YWZmQ29udHJvbGxlci51cGRhdGVQcm9maWxlKTtcbnJvdXRlci5nZXQoXCIvYWxsXCIsIHN0YWZmQ29udHJvbGxlci5nZXRBbGxTdGFmZik7XG4vLyAgIC5nZXQoYXV0aCwgbWVtYmVyQ29udHJvbGxlci5wcm9maWxlKVxuLy8gICAucGF0Y2goYXV0aCwgbWVtYmVyQ29udHJvbGxlci51cGRhdGVQcm9maWxlKTtcbi8vIHJvdXRlci5nZXQoXCIvYWxsXCIsIG1lbWJlckNvbnRyb2xsZXIuZ2V0QWxsTWVtYmVyKTtcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsSUFBTUMsSUFBSSxHQUFHRCxPQUFPLENBQUMsK0JBQUQsQ0FBcEI7O0FBQ0EsSUFBTUUsZUFBZSxHQUFHRixPQUFPLENBQUMsZ0NBQUQsQ0FBL0I7O0FBQ0EsSUFBTUcsTUFBTSxHQUFHSixPQUFPLENBQUNLLE1BQVIsRUFBZjtBQUVBRCxNQUFNLENBQUNFLEdBQVAsQ0FBVyxVQUFYLEVBQXVCSixJQUF2QixFQUE2QkMsZUFBZSxDQUFDSSxPQUE3QztBQUNBSCxNQUFNLENBQUNJLEtBQVAsQ0FBYSxVQUFiLEVBQXlCTixJQUF6QixFQUErQkMsZUFBZSxDQUFDTSxhQUEvQztBQUNBTCxNQUFNLENBQUNFLEdBQVAsQ0FBVyxNQUFYLEVBQW1CSCxlQUFlLENBQUNPLFdBQW5DLEUsQ0FDQTtBQUNBO0FBQ0E7O0FBQ0FDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlIsTUFBakIifQ==","map":{"version":3,"names":["express","require","auth","staffController","router","Router","get","profile","patch","updateProfile","getAllStaff","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["staff.route.js"],"sourcesContent":["const express = require(\"express\");\nconst auth = require(\"../middleware/auth.middleware\");\nconst staffController = require(\"../controller/staff.controller\");\nconst router = express.Router();\n\nrouter.get(\"/profile\", auth, staffController.profile);\nrouter.patch(\"/profile\", auth, staffController.updateProfile);\nrouter.get(\"/all\", staffController.getAllStaff);\n//   .get(auth, memberController.profile)\n//   .patch(auth, memberController.updateProfile);\n// router.get(\"/all\", memberController.getAllMember);\nmodule.exports = router;\n"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,IAAI,GAAGD,OAAO,CAAC,+BAAD,CAApB;;AACA,IAAME,eAAe,GAAGF,OAAO,CAAC,gCAAD,CAA/B;;AACA,IAAMG,MAAM,GAAGJ,OAAO,CAACK,MAAR,EAAf;AAEAD,MAAM,CAACE,GAAP,CAAW,UAAX,EAAuBJ,IAAvB,EAA6BC,eAAe,CAACI,OAA7C;AACAH,MAAM,CAACI,KAAP,CAAa,UAAb,EAAyBN,IAAzB,EAA+BC,eAAe,CAACM,aAA/C;AACAL,MAAM,CAACE,GAAP,CAAW,MAAX,EAAmBH,eAAe,CAACO,WAAnC,E,CACA;AACA;AACA;;AACAC,MAAM,CAACC,OAAP,GAAiBR,MAAjB"}},"mtime":1664852141844},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/staff.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _apiError = require(\"../middleware/apiError\");\n\nvar _staffs = require(\"../repository/staffs.repository\");\n\nvar _staff = require(\"../service/staff.service\");\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar httpStatus = require(\"http-status\");\n\nvar staffController = {\n  // #TODO: xiu nua authen roi chinh parameter o getStaffByEmail()\n  updateProfile: function updateProfile(req, res, next) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var updatedStaff;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return (0, _staff.updateStaffProfile)(req);\n\n            case 3:\n              updatedStaff = _context.sent;\n              res.json(updatedStaff);\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              next(_context.t0);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }))();\n  },\n  profile: function profile(req, res, next) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      var staff;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return (0, _staffs.getStaffByEmail)(req.currentUser.email);\n\n            case 3:\n              staff = _context2.sent;\n\n              if (staff) {\n                _context2.next = 6;\n                break;\n              }\n\n              throw new _apiError.ApiError(httpStatus.NOT_FOUND, \"Staff Not Found\");\n\n            case 6:\n              res.json(staff);\n              _context2.next = 12;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](0);\n              next(_context2.t0);\n\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 9]]);\n    }))();\n  },\n  getAllStaff: function getAllStaff(req, res) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n      var allStaff;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return (0, _staffs.showAllStaff)();\n\n            case 3:\n              allStaff = _context3.sent;\n              res.send(allStaff);\n\n              if (allStaff) {\n                _context3.next = 7;\n                break;\n              }\n\n              throw new _apiError.ApiError(\"Staff khong ton tai\");\n\n            case 7:\n              _context3.next = 11;\n              break;\n\n            case 9:\n              _context3.prev = 9;\n              _context3.t0 = _context3[\"catch\"](0);\n\n            case 11:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 9]]);\n    }))();\n  }\n};\nmodule.exports = staffController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwU3RhdHVzIiwicmVxdWlyZSIsInN0YWZmQ29udHJvbGxlciIsInVwZGF0ZVByb2ZpbGUiLCJyZXEiLCJyZXMiLCJuZXh0IiwidXBkYXRlU3RhZmZQcm9maWxlIiwidXBkYXRlZFN0YWZmIiwianNvbiIsInByb2ZpbGUiLCJnZXRTdGFmZkJ5RW1haWwiLCJjdXJyZW50VXNlciIsImVtYWlsIiwic3RhZmYiLCJBcGlFcnJvciIsIk5PVF9GT1VORCIsImdldEFsbFN0YWZmIiwic2hvd0FsbFN0YWZmIiwiYWxsU3RhZmYiLCJzZW5kIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9jb250cm9sbGVyLyIsInNvdXJjZXMiOlsic3RhZmYuY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBodHRwU3RhdHVzID0gcmVxdWlyZShcImh0dHAtc3RhdHVzXCIpO1xuaW1wb3J0IHsgQXBpRXJyb3IgfSBmcm9tIFwiLi4vbWlkZGxld2FyZS9hcGlFcnJvclwiO1xuaW1wb3J0IHsgZ2V0U3RhZmZCeUVtYWlsLCBzaG93QWxsU3RhZmYgfSBmcm9tIFwiLi4vcmVwb3NpdG9yeS9zdGFmZnMucmVwb3NpdG9yeVwiO1xuaW1wb3J0IHsgdXBkYXRlU3RhZmZQcm9maWxlIH0gZnJvbSBcIi4uL3NlcnZpY2Uvc3RhZmYuc2VydmljZVwiO1xuY29uc3Qgc3RhZmZDb250cm9sbGVyID0ge1xuICAvLyAjVE9ETzogeGl1IG51YSBhdXRoZW4gcm9pIGNoaW5oIHBhcmFtZXRlciBvIGdldFN0YWZmQnlFbWFpbCgpXG4gIGFzeW5jIHVwZGF0ZVByb2ZpbGUocmVxLCByZXMsIG5leHQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXBkYXRlZFN0YWZmID0gYXdhaXQgdXBkYXRlU3RhZmZQcm9maWxlKHJlcSk7XG4gICAgICByZXMuanNvbih1cGRhdGVkU3RhZmYpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBuZXh0KGVycm9yKTtcbiAgICB9XG4gIH0sXG4gIGFzeW5jIHByb2ZpbGUocmVxLCByZXMsIG5leHQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3RhZmYgPSBhd2FpdCBnZXRTdGFmZkJ5RW1haWwocmVxLmN1cnJlbnRVc2VyLmVtYWlsKTtcbiAgICAgIGlmICghc3RhZmYpIHtcbiAgICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKGh0dHBTdGF0dXMuTk9UX0ZPVU5ELCBcIlN0YWZmIE5vdCBGb3VuZFwiKTtcbiAgICAgIH1cbiAgICAgIHJlcy5qc29uKHN0YWZmKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbmV4dChlcnJvcik7XG4gICAgfVxuICB9LFxuICBhc3luYyBnZXRBbGxTdGFmZihyZXEsIHJlcykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhbGxTdGFmZiA9IGF3YWl0IHNob3dBbGxTdGFmZigpO1xuICAgICAgcmVzLnNlbmQoYWxsU3RhZmYpO1xuICAgICAgaWYgKCFhbGxTdGFmZikge1xuICAgICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoXCJTdGFmZiBraG9uZyB0b24gdGFpXCIpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxuICB9LFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBzdGFmZkNvbnRyb2xsZXI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7QUFDQTs7QUFDQTs7QUFDQTs7K0NBRkEsb0o7Ozs7OztBQURBLElBQU1BLFVBQVUsR0FBR0MsT0FBTyxDQUFDLGFBQUQsQ0FBMUI7O0FBSUEsSUFBTUMsZUFBZSxHQUFHO0VBQ3RCO0VBQ01DLGFBRmdCLHlCQUVGQyxHQUZFLEVBRUdDLEdBRkgsRUFFUUMsSUFGUixFQUVjO0lBQUE7TUFBQTtNQUFBO1FBQUE7VUFBQTtZQUFBO2NBQUE7Y0FBQTtjQUFBLE9BRUwsSUFBQUMseUJBQUEsRUFBbUJILEdBQW5CLENBRks7O1lBQUE7Y0FFMUJJLFlBRjBCO2NBR2hDSCxHQUFHLENBQUNJLElBQUosQ0FBU0QsWUFBVDtjQUhnQztjQUFBOztZQUFBO2NBQUE7Y0FBQTtjQUtoQ0YsSUFBSSxhQUFKOztZQUxnQztZQUFBO2NBQUE7VUFBQTtRQUFBO01BQUE7SUFBQTtFQU9uQyxDQVRxQjtFQVVoQkksT0FWZ0IsbUJBVVJOLEdBVlEsRUFVSEMsR0FWRyxFQVVFQyxJQVZGLEVBVVE7SUFBQTtNQUFBO01BQUE7UUFBQTtVQUFBO1lBQUE7Y0FBQTtjQUFBO2NBQUEsT0FFTixJQUFBSyx1QkFBQSxFQUFnQlAsR0FBRyxDQUFDUSxXQUFKLENBQWdCQyxLQUFoQyxDQUZNOztZQUFBO2NBRXBCQyxLQUZvQjs7Y0FBQSxJQUdyQkEsS0FIcUI7Z0JBQUE7Z0JBQUE7Y0FBQTs7Y0FBQSxNQUlsQixJQUFJQyxrQkFBSixDQUFhZixVQUFVLENBQUNnQixTQUF4QixFQUFtQyxpQkFBbkMsQ0FKa0I7O1lBQUE7Y0FNMUJYLEdBQUcsQ0FBQ0ksSUFBSixDQUFTSyxLQUFUO2NBTjBCO2NBQUE7O1lBQUE7Y0FBQTtjQUFBO2NBUTFCUixJQUFJLGNBQUo7O1lBUjBCO1lBQUE7Y0FBQTtVQUFBO1FBQUE7TUFBQTtJQUFBO0VBVTdCLENBcEJxQjtFQXFCaEJXLFdBckJnQix1QkFxQkpiLEdBckJJLEVBcUJDQyxHQXJCRCxFQXFCTTtJQUFBO01BQUE7TUFBQTtRQUFBO1VBQUE7WUFBQTtjQUFBO2NBQUE7Y0FBQSxPQUVELElBQUFhLG9CQUFBLEdBRkM7O1lBQUE7Y0FFbEJDLFFBRmtCO2NBR3hCZCxHQUFHLENBQUNlLElBQUosQ0FBU0QsUUFBVDs7Y0FId0IsSUFJbkJBLFFBSm1CO2dCQUFBO2dCQUFBO2NBQUE7O2NBQUEsTUFLaEIsSUFBSUosa0JBQUosQ0FBYSxxQkFBYixDQUxnQjs7WUFBQTtjQUFBO2NBQUE7O1lBQUE7Y0FBQTtjQUFBOztZQUFBO1lBQUE7Y0FBQTtVQUFBO1FBQUE7TUFBQTtJQUFBO0VBUTNCO0FBN0JxQixDQUF4QjtBQWdDQU0sTUFBTSxDQUFDQyxPQUFQLEdBQWlCcEIsZUFBakIifQ==","map":{"version":3,"names":["httpStatus","require","staffController","updateProfile","req","res","next","updateStaffProfile","updatedStaff","json","profile","getStaffByEmail","currentUser","email","staff","ApiError","NOT_FOUND","getAllStaff","showAllStaff","allStaff","send","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/","sources":["staff.controller.js"],"sourcesContent":["const httpStatus = require(\"http-status\");\nimport { ApiError } from \"../middleware/apiError\";\nimport { getStaffByEmail, showAllStaff } from \"../repository/staffs.repository\";\nimport { updateStaffProfile } from \"../service/staff.service\";\nconst staffController = {\n  // #TODO: xiu nua authen roi chinh parameter o getStaffByEmail()\n  async updateProfile(req, res, next) {\n    try {\n      const updatedStaff = await updateStaffProfile(req);\n      res.json(updatedStaff);\n    } catch (error) {\n      next(error);\n    }\n  },\n  async profile(req, res, next) {\n    try {\n      const staff = await getStaffByEmail(req.currentUser.email);\n      if (!staff) {\n        throw new ApiError(httpStatus.NOT_FOUND, \"Staff Not Found\");\n      }\n      res.json(staff);\n    } catch (error) {\n      next(error);\n    }\n  },\n  async getAllStaff(req, res) {\n    try {\n      const allStaff = await showAllStaff();\n      res.send(allStaff);\n      if (!allStaff) {\n        throw new ApiError(\"Staff khong ton tai\");\n      }\n    } catch (error) {}\n  },\n};\n\nmodule.exports = staffController;\n"],"mappings":";;;;AACA;;AACA;;AACA;;+CAFA,oJ;;;;;;AADA,IAAMA,UAAU,GAAGC,OAAO,CAAC,aAAD,CAA1B;;AAIA,IAAMC,eAAe,GAAG;EACtB;EACMC,aAFgB,yBAEFC,GAFE,EAEGC,GAFH,EAEQC,IAFR,EAEc;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA;cAAA,OAEL,IAAAC,yBAAA,EAAmBH,GAAnB,CAFK;;YAAA;cAE1BI,YAF0B;cAGhCH,GAAG,CAACI,IAAJ,CAASD,YAAT;cAHgC;cAAA;;YAAA;cAAA;cAAA;cAKhCF,IAAI,aAAJ;;YALgC;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAOnC,CATqB;EAUhBI,OAVgB,mBAURN,GAVQ,EAUHC,GAVG,EAUEC,IAVF,EAUQ;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA;cAAA,OAEN,IAAAK,uBAAA,EAAgBP,GAAG,CAACQ,WAAJ,CAAgBC,KAAhC,CAFM;;YAAA;cAEpBC,KAFoB;;cAAA,IAGrBA,KAHqB;gBAAA;gBAAA;cAAA;;cAAA,MAIlB,IAAIC,kBAAJ,CAAaf,UAAU,CAACgB,SAAxB,EAAmC,iBAAnC,CAJkB;;YAAA;cAM1BX,GAAG,CAACI,IAAJ,CAASK,KAAT;cAN0B;cAAA;;YAAA;cAAA;cAAA;cAQ1BR,IAAI,cAAJ;;YAR0B;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAU7B,CApBqB;EAqBhBW,WArBgB,uBAqBJb,GArBI,EAqBCC,GArBD,EAqBM;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA;cAAA,OAED,IAAAa,oBAAA,GAFC;;YAAA;cAElBC,QAFkB;cAGxBd,GAAG,CAACe,IAAJ,CAASD,QAAT;;cAHwB,IAInBA,QAJmB;gBAAA;gBAAA;cAAA;;cAAA,MAKhB,IAAIJ,kBAAJ,CAAa,qBAAb,CALgB;;YAAA;cAAA;cAAA;;YAAA;cAAA;cAAA;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAQ3B;AA7BqB,CAAxB;AAgCAM,MAAM,CAACC,OAAP,GAAiBpB,eAAjB"}},"mtime":1664852189477},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/staffs.repository.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar db = require(\"../models\");\n\nvar findOne = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(where) {\n    var _yield$db$Staffs$find;\n\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return db.Staffs.findOne({\n              where: where\n            });\n\n          case 2:\n            _context.t1 = _yield$db$Staffs$find = _context.sent;\n            _context.t0 = _context.t1 === null;\n\n            if (_context.t0) {\n              _context.next = 6;\n              break;\n            }\n\n            _context.t0 = _yield$db$Staffs$find === void 0;\n\n          case 6:\n            if (!_context.t0) {\n              _context.next = 10;\n              break;\n            }\n\n            _context.t2 = void 0;\n            _context.next = 11;\n            break;\n\n          case 10:\n            _context.t2 = _yield$db$Staffs$find.dataValues;\n\n          case 11:\n            return _context.abrupt(\"return\", _context.t2);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function findOne(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar createNewStaff = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(user) {\n    var staff;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return db.Staffs.create({\n              email: user.email,\n              fullname: user.fullname,\n              password: user.password\n            });\n\n          case 2:\n            staff = _context2.sent;\n            return _context2.abrupt(\"return\", staff === null || staff === void 0 ? void 0 : staff.dataValues);\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function createNewStaff(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar getStaffByEmail = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(email) {\n    var _yield$db$Staffs$find2;\n\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return db.Staffs.findOne({\n              where: {\n                email: email\n              }\n            });\n\n          case 2:\n            _context3.t1 = _yield$db$Staffs$find2 = _context3.sent;\n            _context3.t0 = _context3.t1 === null;\n\n            if (_context3.t0) {\n              _context3.next = 6;\n              break;\n            }\n\n            _context3.t0 = _yield$db$Staffs$find2 === void 0;\n\n          case 6:\n            if (!_context3.t0) {\n              _context3.next = 10;\n              break;\n            }\n\n            _context3.t2 = void 0;\n            _context3.next = 11;\n            break;\n\n          case 10:\n            _context3.t2 = _yield$db$Staffs$find2.dataValues;\n\n          case 11:\n            return _context3.abrupt(\"return\", _context3.t2);\n\n          case 12:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function getStaffByEmail(_x3) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar getStaffById = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(staffID) {\n    var _yield$db$Staffs$find3;\n\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return db.Staffs.findOne({\n              where: {\n                id: staffID\n              }\n            });\n\n          case 2:\n            _context4.t1 = _yield$db$Staffs$find3 = _context4.sent;\n            _context4.t0 = _context4.t1 === null;\n\n            if (_context4.t0) {\n              _context4.next = 6;\n              break;\n            }\n\n            _context4.t0 = _yield$db$Staffs$find3 === void 0;\n\n          case 6:\n            if (!_context4.t0) {\n              _context4.next = 10;\n              break;\n            }\n\n            _context4.t2 = void 0;\n            _context4.next = 11;\n            break;\n\n          case 10:\n            _context4.t2 = _yield$db$Staffs$find3.dataValues;\n\n          case 11:\n            return _context4.abrupt(\"return\", _context4.t2);\n\n          case 12:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function getStaffById(_x4) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nvar update = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(newObj, where) {\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return db.Staffs.update(newObj, {\n              where: where\n            });\n\n          case 2:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n\n  return function update(_x5, _x6) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\nvar showAllStaff = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n    var staffList;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            staffList = [];\n            _context6.next = 3;\n            return db.Staffs.findAll({\n              raw: true\n            });\n\n          case 3:\n            staffList = _context6.sent;\n            return _context6.abrupt(\"return\", staffList);\n\n          case 5:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n\n  return function showAllStaff() {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\nmodule.exports = {\n  findOne: findOne,\n  createNewStaff: createNewStaff,\n  getStaffByEmail: getStaffByEmail,\n  getStaffById: getStaffById,\n  update: update,\n  showAllStaff: showAllStaff\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYiIsInJlcXVpcmUiLCJmaW5kT25lIiwid2hlcmUiLCJTdGFmZnMiLCJkYXRhVmFsdWVzIiwiY3JlYXRlTmV3U3RhZmYiLCJ1c2VyIiwiY3JlYXRlIiwiZW1haWwiLCJmdWxsbmFtZSIsInBhc3N3b3JkIiwic3RhZmYiLCJnZXRTdGFmZkJ5RW1haWwiLCJnZXRTdGFmZkJ5SWQiLCJzdGFmZklEIiwiaWQiLCJ1cGRhdGUiLCJuZXdPYmoiLCJzaG93QWxsU3RhZmYiLCJzdGFmZkxpc3QiLCJmaW5kQWxsIiwicmF3IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9yZXBvc2l0b3J5LyIsInNvdXJjZXMiOlsic3RhZmZzLnJlcG9zaXRvcnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGIgPSByZXF1aXJlKFwiLi4vbW9kZWxzXCIpO1xuY29uc3QgZmluZE9uZSA9IGFzeW5jICh3aGVyZSkgPT4ge1xuICByZXR1cm4gKGF3YWl0IGRiLlN0YWZmcy5maW5kT25lKHsgd2hlcmU6IHdoZXJlIH0pKT8uZGF0YVZhbHVlcztcbn07XG5jb25zdCBjcmVhdGVOZXdTdGFmZiA9IGFzeW5jICh1c2VyKSA9PiB7XG4gIGNvbnN0IHN0YWZmID0gYXdhaXQgZGIuU3RhZmZzLmNyZWF0ZSh7XG4gICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgZnVsbG5hbWU6IHVzZXIuZnVsbG5hbWUsXG4gICAgcGFzc3dvcmQ6IHVzZXIucGFzc3dvcmQsXG4gIH0pO1xuICByZXR1cm4gc3RhZmY/LmRhdGFWYWx1ZXM7XG59O1xuY29uc3QgZ2V0U3RhZmZCeUVtYWlsID0gYXN5bmMgKGVtYWlsKSA9PiB7XG4gIHJldHVybiAoXG4gICAgYXdhaXQgZGIuU3RhZmZzLmZpbmRPbmUoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgZW1haWw6IGVtYWlsLFxuICAgICAgfSxcbiAgICB9KVxuICApPy5kYXRhVmFsdWVzO1xufTtcblxuY29uc3QgZ2V0U3RhZmZCeUlkID0gYXN5bmMgKHN0YWZmSUQpID0+IHtcbiAgcmV0dXJuIChcbiAgICBhd2FpdCBkYi5TdGFmZnMuZmluZE9uZSh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBpZDogc3RhZmZJRCxcbiAgICAgIH0sXG4gICAgfSlcbiAgKT8uZGF0YVZhbHVlcztcbn07XG5jb25zdCB1cGRhdGUgPSBhc3luYyAobmV3T2JqLCB3aGVyZSkgPT4ge1xuICBhd2FpdCBkYi5TdGFmZnMudXBkYXRlKG5ld09iaiwge1xuICAgIHdoZXJlOiB3aGVyZSxcbiAgfSk7XG59O1xuY29uc3Qgc2hvd0FsbFN0YWZmID0gYXN5bmMgKCkgPT4ge1xuICBsZXQgc3RhZmZMaXN0ID0gW107XG4gIHN0YWZmTGlzdCA9IGF3YWl0IGRiLlN0YWZmcy5maW5kQWxsKHsgcmF3OiB0cnVlIH0pO1xuICByZXR1cm4gc3RhZmZMaXN0O1xufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBmaW5kT25lLFxuICBjcmVhdGVOZXdTdGFmZixcbiAgZ2V0U3RhZmZCeUVtYWlsLFxuICBnZXRTdGFmZkJ5SWQsXG4gIHVwZGF0ZSxcbiAgc2hvd0FsbFN0YWZmLFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7OzsrQ0FDQSxvSjs7Ozs7O0FBREEsSUFBTUEsRUFBRSxHQUFHQyxPQUFPLENBQUMsV0FBRCxDQUFsQjs7QUFDQSxJQUFNQyxPQUFPO0VBQUEsc0VBQUcsaUJBQU9DLEtBQVA7SUFBQTs7SUFBQTtNQUFBO1FBQUE7VUFBQTtZQUFBO1lBQUEsT0FDQUgsRUFBRSxDQUFDSSxNQUFILENBQVVGLE9BQVYsQ0FBa0I7Y0FBRUMsS0FBSyxFQUFFQTtZQUFULENBQWxCLENBREE7O1VBQUE7WUFBQTtZQUFBOztZQUFBO2NBQUE7Y0FBQTtZQUFBOztZQUFBOztVQUFBO1lBQUE7Y0FBQTtjQUFBO1lBQUE7O1lBQUE7WUFBQTtZQUFBOztVQUFBO1lBQUEsY0FDUCxzQkFB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","map":{"version":3,"names":["db","require","findOne","where","Staffs","dataValues","createNewStaff","user","create","email","fullname","password","staff","getStaffByEmail","getStaffById","staffID","id","update","newObj","showAllStaff","staffList","findAll","raw","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/","sources":["staffs.repository.js"],"sourcesContent":["const db = require(\"../models\");\nconst findOne = async (where) => {\n  return (await db.Staffs.findOne({ where: where }))?.dataValues;\n};\nconst createNewStaff = async (user) => {\n  const staff = await db.Staffs.create({\n    email: user.email,\n    fullname: user.fullname,\n    password: user.password,\n  });\n  return staff?.dataValues;\n};\nconst getStaffByEmail = async (email) => {\n  return (\n    await db.Staffs.findOne({\n      where: {\n        email: email,\n      },\n    })\n  )?.dataValues;\n};\n\nconst getStaffById = async (staffID) => {\n  return (\n    await db.Staffs.findOne({\n      where: {\n        id: staffID,\n      },\n    })\n  )?.dataValues;\n};\nconst update = async (newObj, where) => {\n  await db.Staffs.update(newObj, {\n    where: where,\n  });\n};\nconst showAllStaff = async () => {\n  let staffList = [];\n  staffList = await db.Staffs.findAll({ raw: true });\n  return staffList;\n};\nmodule.exports = {\n  findOne,\n  createNewStaff,\n  getStaffByEmail,\n  getStaffById,\n  update,\n  showAllStaff,\n};\n"],"mappings":"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"}},"mtime":1664846587658},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/staffAuth.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar express = require(\"express\");\n\nvar staffAuthController = require(\"../controller/staffAuth.controller.js\");\n\nvar auth = require(\"../middleware/auth.middleware\");\n\nvar router = express.Router();\nrouter.post(\"/register\", staffAuthController.register);\nrouter.post(\"/login\", staffAuthController.login);\nrouter.get(\"/isauth\", auth, staffAuthController.isauth);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInN0YWZmQXV0aENvbnRyb2xsZXIiLCJhdXRoIiwicm91dGVyIiwiUm91dGVyIiwicG9zdCIsInJlZ2lzdGVyIiwibG9naW4iLCJnZXQiLCJpc2F1dGgiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL3JvdXRlcy8iLCJzb3VyY2VzIjpbInN0YWZmQXV0aC5yb3V0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5jb25zdCBzdGFmZkF1dGhDb250cm9sbGVyID0gcmVxdWlyZShcIi4uL2NvbnRyb2xsZXIvc3RhZmZBdXRoLmNvbnRyb2xsZXIuanNcIik7XG5jb25zdCBhdXRoID0gcmVxdWlyZShcIi4uL21pZGRsZXdhcmUvYXV0aC5taWRkbGV3YXJlXCIpO1xuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgc3RhZmZBdXRoQ29udHJvbGxlci5yZWdpc3Rlcik7XG5yb3V0ZXIucG9zdChcIi9sb2dpblwiLCBzdGFmZkF1dGhDb250cm9sbGVyLmxvZ2luKTtcbnJvdXRlci5nZXQoXCIvaXNhdXRoXCIsIGF1dGgsIHN0YWZmQXV0aENvbnRyb2xsZXIuaXNhdXRoKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxJQUFNQyxtQkFBbUIsR0FBR0QsT0FBTyxDQUFDLHVDQUFELENBQW5DOztBQUNBLElBQU1FLElBQUksR0FBR0YsT0FBTyxDQUFDLCtCQUFELENBQXBCOztBQUNBLElBQU1HLE1BQU0sR0FBR0osT0FBTyxDQUFDSyxNQUFSLEVBQWY7QUFFQUQsTUFBTSxDQUFDRSxJQUFQLENBQVksV0FBWixFQUF5QkosbUJBQW1CLENBQUNLLFFBQTdDO0FBQ0FILE1BQU0sQ0FBQ0UsSUFBUCxDQUFZLFFBQVosRUFBc0JKLG1CQUFtQixDQUFDTSxLQUExQztBQUNBSixNQUFNLENBQUNLLEdBQVAsQ0FBVyxTQUFYLEVBQXNCTixJQUF0QixFQUE0QkQsbUJBQW1CLENBQUNRLE1BQWhEO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlIsTUFBakIifQ==","map":{"version":3,"names":["express","require","staffAuthController","auth","router","Router","post","register","login","get","isauth","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["staffAuth.route.js"],"sourcesContent":["const express = require(\"express\");\nconst staffAuthController = require(\"../controller/staffAuth.controller.js\");\nconst auth = require(\"../middleware/auth.middleware\");\nconst router = express.Router();\n\nrouter.post(\"/register\", staffAuthController.register);\nrouter.post(\"/login\", staffAuthController.login);\nrouter.get(\"/isauth\", auth, staffAuthController.isauth);\n\nmodule.exports = router;\n"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,mBAAmB,GAAGD,OAAO,CAAC,uCAAD,CAAnC;;AACA,IAAME,IAAI,GAAGF,OAAO,CAAC,+BAAD,CAApB;;AACA,IAAMG,MAAM,GAAGJ,OAAO,CAACK,MAAR,EAAf;AAEAD,MAAM,CAACE,IAAP,CAAY,WAAZ,EAAyBJ,mBAAmB,CAACK,QAA7C;AACAH,MAAM,CAACE,IAAP,CAAY,QAAZ,EAAsBJ,mBAAmB,CAACM,KAA1C;AACAJ,MAAM,CAACK,GAAP,CAAW,SAAX,EAAsBN,IAAtB,EAA4BD,mBAAmB,CAACQ,MAAhD;AAEAC,MAAM,CAACC,OAAP,GAAiBR,MAAjB"}},"mtime":1664848370662},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/staff.service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _staffs = require(\"../repository/staffs.repository\");\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar updateStaffProfile = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req) {\n    var staff;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return (0, _staffs.update)(req.body, {\n              id: req.currentUser.id\n            });\n\n          case 3:\n            _context.next = 5;\n            return (0, _staffs.getStaffById)(req.currentUser.id);\n\n          case 5:\n            staff = _context.sent;\n            return _context.abrupt(\"return\", staff);\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](0);\n            throw _context.t0;\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 9]]);\n  }));\n\n  return function updateStaffProfile(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nmodule.exports = {\n  updateStaffProfile: updateStaffProfile\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1cGRhdGVTdGFmZlByb2ZpbGUiLCJyZXEiLCJ1cGRhdGUiLCJib2R5IiwiaWQiLCJjdXJyZW50VXNlciIsImdldFN0YWZmQnlJZCIsInN0YWZmIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9zZXJ2aWNlLyIsInNvdXJjZXMiOlsic3RhZmYuc2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRTdGFmZkJ5SWQsIHVwZGF0ZSB9IGZyb20gXCIuLi9yZXBvc2l0b3J5L3N0YWZmcy5yZXBvc2l0b3J5XCI7XG5jb25zdCB1cGRhdGVTdGFmZlByb2ZpbGUgPSBhc3luYyAocmVxKSA9PiB7XG4gIHRyeSB7XG4gICAgYXdhaXQgdXBkYXRlKHJlcS5ib2R5LCB7IGlkOiByZXEuY3VycmVudFVzZXIuaWQgfSk7XG4gICAgY29uc3Qgc3RhZmYgPSBhd2FpdCBnZXRTdGFmZkJ5SWQocmVxLmN1cnJlbnRVc2VyLmlkKTtcbiAgICByZXR1cm4gc3RhZmY7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgdXBkYXRlU3RhZmZQcm9maWxlLFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzsrQ0FDQSxvSjs7Ozs7O0FBQUEsSUFBTUEsa0JBQWtCO0VBQUEsc0VBQUcsaUJBQU9DLEdBQVA7SUFBQTtJQUFBO01BQUE7UUFBQTtVQUFBO1lBQUE7WUFBQTtZQUFBLE9BRWpCLElBQUFDLGNBQUEsRUFBT0QsR0FBRyxDQUFDRSxJQUFYLEVBQWlCO2NBQUVDLEVBQUUsRUFBRUgsR0FBRyxDQUFDSSxXQUFKLENBQWdCRDtZQUF0QixDQUFqQixDQUZpQjs7VUFBQTtZQUFBO1lBQUEsT0FHSCxJQUFBRSxvQkFBQSxFQUFhTCxHQUFHLENBQUNJLFdBQUosQ0FBZ0JELEVBQTdCLENBSEc7O1VBQUE7WUFHakJHLEtBSGlCO1lBQUEsaUNBSWhCQSxLQUpnQjs7VUFBQTtZQUFBO1lBQUE7WUFBQTs7VUFBQTtVQUFBO1lBQUE7UUFBQTtNQUFBO0lBQUE7RUFBQSxDQUFIOztFQUFBLGdCQUFsQlAsa0JBQWtCO0lBQUE7RUFBQTtBQUFBLEdBQXhCOztBQVNBUSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7RUFDZlQsa0JBQWtCLEVBQWxCQTtBQURlLENBQWpCIn0=","map":{"version":3,"names":["updateStaffProfile","req","update","body","id","currentUser","getStaffById","staff","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/","sources":["staff.service.js"],"sourcesContent":["import { getStaffById, update } from \"../repository/staffs.repository\";\nconst updateStaffProfile = async (req) => {\n  try {\n    await update(req.body, { id: req.currentUser.id });\n    const staff = await getStaffById(req.currentUser.id);\n    return staff;\n  } catch (error) {\n    throw error;\n  }\n};\nmodule.exports = {\n  updateStaffProfile,\n};\n"],"mappings":";;;;AAAA;;+CACA,oJ;;;;;;AAAA,IAAMA,kBAAkB;EAAA,sEAAG,iBAAOC,GAAP;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA;YAAA,OAEjB,IAAAC,cAAA,EAAOD,GAAG,CAACE,IAAX,EAAiB;cAAEC,EAAE,EAAEH,GAAG,CAACI,WAAJ,CAAgBD;YAAtB,CAAjB,CAFiB;;UAAA;YAAA;YAAA,OAGH,IAAAE,oBAAA,EAAaL,GAAG,CAACI,WAAJ,CAAgBD,EAA7B,CAHG;;UAAA;YAGjBG,KAHiB;YAAA,iCAIhBA,KAJgB;;UAAA;YAAA;YAAA;YAAA;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAlBP,kBAAkB;IAAA;EAAA;AAAA,GAAxB;;AASAQ,MAAM,CAACC,OAAP,GAAiB;EACfT,kBAAkB,EAAlBA;AADe,CAAjB"}},"mtime":1664852418009},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/staffAuth.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _staffAuth = require(\"../service/staffAuth.service\");\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar staffAuth = {\n  register: function register(req, res, next) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var staff, token;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              res.header(\"Access-Control-Allow-Headers\", \"*\");\n              res.header(\"Access-Control-Allow-Credentials\", true);\n              res.header(\"Access-Control-Allow-Methods\", \"GET,PUT,POST,DELETE\");\n              _context.next = 6;\n              return (0, _staffAuth.createStaff)(req, res);\n\n            case 6:\n              staff = _context.sent;\n              _context.next = 9;\n              return (0, _staffAuth.genAuthToken)(staff);\n\n            case 9:\n              token = _context.sent;\n              res.cookie(\"sang\", \"sang dep chai\");\n              res.cookie(\"x-access-token\", token).status(200).send({\n                staff: staff,\n                token: token\n              });\n              _context.next = 18;\n              break;\n\n            case 14:\n              _context.prev = 14;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n              next(_context.t0);\n\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 14]]);\n    }))();\n  },\n  login: function login(req, res, next) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      var _req$body, email, password, staff, token;\n\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _req$body = req.body, email = _req$body.email, password = _req$body.password;\n              _context2.next = 4;\n              return (0, _staffAuth.signInWithEmailPassword)(email, password);\n\n            case 4:\n              staff = _context2.sent;\n              _context2.next = 7;\n              return (0, _staffAuth.genAuthToken)(staff);\n\n            case 7:\n              token = _context2.sent;\n              res.cookie(\"x-access-token\", token).send({\n                staff: staff,\n                token: token\n              });\n              _context2.next = 14;\n              break;\n\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2[\"catch\"](0);\n              next(_context2.t0); // res.send({ error: error.statusCode, message: error.message });\n\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 11]]);\n    }))();\n  },\n  isauth: function isauth(req, res, next) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              res.json(req.currentUser);\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }))();\n  }\n};\nmodule.exports = staffAuth;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzdGFmZkF1dGgiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsIm5leHQiLCJoZWFkZXIiLCJjcmVhdGVTdGFmZiIsInN0YWZmIiwiZ2VuQXV0aFRva2VuIiwidG9rZW4iLCJjb29raWUiLCJzdGF0dXMiLCJzZW5kIiwiY29uc29sZSIsImxvZyIsImxvZ2luIiwiYm9keSIsImVtYWlsIiwicGFzc3dvcmQiLCJzaWduSW5XaXRoRW1haWxQYXNzd29yZCIsImlzYXV0aCIsImpzb24iLCJjdXJyZW50VXNlciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvY29udHJvbGxlci8iLCJzb3VyY2VzIjpbInN0YWZmQXV0aC5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGNyZWF0ZVN0YWZmLFxuICBnZW5BdXRoVG9rZW4sXG4gIHNpZ25JbldpdGhFbWFpbFBhc3N3b3JkLFxufSBmcm9tIFwiLi4vc2VydmljZS9zdGFmZkF1dGguc2VydmljZVwiO1xuY29uc3Qgc3RhZmZBdXRoID0ge1xuICBhc3luYyByZWdpc3RlcihyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICByZXMuaGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVyc1wiLCBcIipcIik7XG4gICAgICByZXMuaGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHNcIiwgdHJ1ZSk7XG4gICAgICByZXMuaGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kc1wiLCBcIkdFVCxQVVQsUE9TVCxERUxFVEVcIik7XG4gICAgICBjb25zdCBzdGFmZiA9IGF3YWl0IGNyZWF0ZVN0YWZmKHJlcSwgcmVzKTtcbiAgICAgIGNvbnN0IHRva2VuID0gYXdhaXQgZ2VuQXV0aFRva2VuKHN0YWZmKTtcbiAgICAgIHJlcy5jb29raWUoXCJzYW5nXCIsIFwic2FuZyBkZXAgY2hhaVwiKTtcbiAgICAgIHJlcy5jb29raWUoXCJ4LWFjY2Vzcy10b2tlblwiLCB0b2tlbikuc3RhdHVzKDIwMCkuc2VuZCh7XG4gICAgICAgIHN0YWZmLFxuICAgICAgICB0b2tlbixcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICBuZXh0KGVycm9yKTtcbiAgICB9XG4gIH0sXG4gIGFzeW5jIGxvZ2luKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcbiAgICAgIGNvbnN0IHN0YWZmID0gYXdhaXQgc2lnbkluV2l0aEVtYWlsUGFzc3dvcmQoZW1haWwsIHBhc3N3b3JkKTtcbiAgICAgIGNvbnN0IHRva2VuID0gYXdhaXQgZ2VuQXV0aFRva2VuKHN0YWZmKTtcbiAgICAgIHJlcy5jb29raWUoXCJ4LWFjY2Vzcy10b2tlblwiLCB0b2tlbikuc2VuZCh7XG4gICAgICAgIHN0YWZmLFxuICAgICAgICB0b2tlbixcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBuZXh0KGVycm9yKTtcbiAgICAgIC8vIHJlcy5zZW5kKHsgZXJyb3I6IGVycm9yLnN0YXR1c0NvZGUsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfSk7XG4gICAgfVxuICB9LFxuICBhc3luYyBpc2F1dGgocmVxLCByZXMsIG5leHQpIHtcbiAgICByZXMuanNvbihyZXEuY3VycmVudFVzZXIpO1xuICB9LFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBzdGFmZkF1dGg7XG4iXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7K0NBQ0Esb0o7Ozs7OztBQUlBLElBQU1BLFNBQVMsR0FBRztFQUNWQyxRQURVLG9CQUNEQyxHQURDLEVBQ0lDLEdBREosRUFDU0MsSUFEVCxFQUNlO0lBQUE7TUFBQTtNQUFBO1FBQUE7VUFBQTtZQUFBO2NBQUE7Y0FFM0JELEdBQUcsQ0FBQ0UsTUFBSixDQUFXLDhCQUFYLEVBQTJDLEdBQTNDO2NBQ0FGLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLGtDQUFYLEVBQStDLElBQS9DO2NBQ0FGLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLDhCQUFYLEVBQTJDLHFCQUEzQztjQUoyQjtjQUFBLE9BS1AsSUFBQUMsc0JBQUEsRUFBWUosR0FBWixFQUFpQkMsR0FBakIsQ0FMTzs7WUFBQTtjQUtyQkksS0FMcUI7Y0FBQTtjQUFBLE9BTVAsSUFBQUMsdUJBQUEsRUFBYUQsS0FBYixDQU5POztZQUFBO2NBTXJCRSxLQU5xQjtjQU8zQk4sR0FBRyxDQUFDTyxNQUFKLENBQVcsTUFBWCxFQUFtQixlQUFuQjtjQUNBUCxHQUFHLENBQUNPLE1BQUosQ0FBVyxnQkFBWCxFQUE2QkQsS0FBN0IsRUFBb0NFLE1BQXBDLENBQTJDLEdBQTNDLEVBQWdEQyxJQUFoRCxDQUFxRDtnQkFDbkRMLEtBQUssRUFBTEEsS0FEbUQ7Z0JBRW5ERSxLQUFLLEVBQUxBO2NBRm1ELENBQXJEO2NBUjJCO2NBQUE7O1lBQUE7Y0FBQTtjQUFBO2NBYTNCSSxPQUFPLENBQUNDLEdBQVI7Y0FDQVYsSUFBSSxhQUFKOztZQWQyQjtZQUFBO2NBQUE7VUFBQTtRQUFBO01BQUE7SUFBQTtFQWdCOUIsQ0FqQmU7RUFrQlZXLEtBbEJVLGlCQWtCSmIsR0FsQkksRUFrQkNDLEdBbEJELEVBa0JNQyxJQWxCTixFQWtCWTtJQUFBO01BQUE7O01BQUE7UUFBQTtVQUFBO1lBQUE7Y0FBQTtjQUFBLFlBRUlGLEdBQUcsQ0FBQ2MsSUFGUixFQUVoQkMsS0FGZ0IsYUFFaEJBLEtBRmdCLEVBRVRDLFFBRlMsYUFFVEEsUUFGUztjQUFBO2NBQUEsT0FHSixJQUFBQyxrQ0FBQSxFQUF3QkYsS0FBeEIsRUFBK0JDLFFBQS9CLENBSEk7O1lBQUE7Y0FHbEJYLEtBSGtCO2NBQUE7Y0FBQSxPQUlKLElBQUFDLHVCQUFBLEVBQWFELEtBQWIsQ0FKSTs7WUFBQTtjQUlsQkUsS0FKa0I7Y0FLeEJOLEdBQUcsQ0FBQ08sTUFBSixDQUFXLGdCQUFYLEVBQTZCRCxLQUE3QixFQUFvQ0csSUFBcEMsQ0FBeUM7Z0JBQ3ZDTCxLQUFLLEVBQUxBLEtBRHVDO2dCQUV2Q0UsS0FBSyxFQUFMQTtjQUZ1QyxDQUF6QztjQUx3QjtjQUFBOztZQUFBO2NBQUE7Y0FBQTtjQVV4QkwsSUFBSSxjQUFKLENBVndCLENBV3hCOztZQVh3QjtZQUFBO2NBQUE7VUFBQTtRQUFBO01BQUE7SUFBQTtFQWEzQixDQS9CZTtFQWdDVmdCLE1BaENVLGtCQWdDSGxCLEdBaENHLEVBZ0NFQyxHQWhDRixFQWdDT0MsSUFoQ1AsRUFnQ2E7SUFBQTtNQUFBO1FBQUE7VUFBQTtZQUFBO2NBQzNCRCxHQUFHLENBQUNrQixJQUFKLENBQVNuQixHQUFHLENBQUNvQixXQUFiOztZQUQyQjtZQUFBO2NBQUE7VUFBQTtRQUFBO01BQUE7SUFBQTtFQUU1QjtBQWxDZSxDQUFsQjtBQXFDQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCeEIsU0FBakIifQ==","map":{"version":3,"names":["staffAuth","register","req","res","next","header","createStaff","staff","genAuthToken","token","cookie","status","send","console","log","login","body","email","password","signInWithEmailPassword","isauth","json","currentUser","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/","sources":["staffAuth.controller.js"],"sourcesContent":["import {\n  createStaff,\n  genAuthToken,\n  signInWithEmailPassword,\n} from \"../service/staffAuth.service\";\nconst staffAuth = {\n  async register(req, res, next) {\n    try {\n      res.header(\"Access-Control-Allow-Headers\", \"*\");\n      res.header(\"Access-Control-Allow-Credentials\", true);\n      res.header(\"Access-Control-Allow-Methods\", \"GET,PUT,POST,DELETE\");\n      const staff = await createStaff(req, res);\n      const token = await genAuthToken(staff);\n      res.cookie(\"sang\", \"sang dep chai\");\n      res.cookie(\"x-access-token\", token).status(200).send({\n        staff,\n        token,\n      });\n    } catch (error) {\n      console.log(error);\n      next(error);\n    }\n  },\n  async login(req, res, next) {\n    try {\n      const { email, password } = req.body;\n      const staff = await signInWithEmailPassword(email, password);\n      const token = await genAuthToken(staff);\n      res.cookie(\"x-access-token\", token).send({\n        staff,\n        token,\n      });\n    } catch (error) {\n      next(error);\n      // res.send({ error: error.statusCode, message: error.message });\n    }\n  },\n  async isauth(req, res, next) {\n    res.json(req.currentUser);\n  },\n};\n\nmodule.exports = staffAuth;\n"],"mappings":";;;;AAAA;;+CACA,oJ;;;;;;AAIA,IAAMA,SAAS,GAAG;EACVC,QADU,oBACDC,GADC,EACIC,GADJ,EACSC,IADT,EACe;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAE3BD,GAAG,CAACE,MAAJ,CAAW,8BAAX,EAA2C,GAA3C;cACAF,GAAG,CAACE,MAAJ,CAAW,kCAAX,EAA+C,IAA/C;cACAF,GAAG,CAACE,MAAJ,CAAW,8BAAX,EAA2C,qBAA3C;cAJ2B;cAAA,OAKP,IAAAC,sBAAA,EAAYJ,GAAZ,EAAiBC,GAAjB,CALO;;YAAA;cAKrBI,KALqB;cAAA;cAAA,OAMP,IAAAC,uBAAA,EAAaD,KAAb,CANO;;YAAA;cAMrBE,KANqB;cAO3BN,GAAG,CAACO,MAAJ,CAAW,MAAX,EAAmB,eAAnB;cACAP,GAAG,CAACO,MAAJ,CAAW,gBAAX,EAA6BD,KAA7B,EAAoCE,MAApC,CAA2C,GAA3C,EAAgDC,IAAhD,CAAqD;gBACnDL,KAAK,EAALA,KADmD;gBAEnDE,KAAK,EAALA;cAFmD,CAArD;cAR2B;cAAA;;YAAA;cAAA;cAAA;cAa3BI,OAAO,CAACC,GAAR;cACAV,IAAI,aAAJ;;YAd2B;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAgB9B,CAjBe;EAkBVW,KAlBU,iBAkBJb,GAlBI,EAkBCC,GAlBD,EAkBMC,IAlBN,EAkBY;IAAA;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,YAEIF,GAAG,CAACc,IAFR,EAEhBC,KAFgB,aAEhBA,KAFgB,EAETC,QAFS,aAETA,QAFS;cAAA;cAAA,OAGJ,IAAAC,kCAAA,EAAwBF,KAAxB,EAA+BC,QAA/B,CAHI;;YAAA;cAGlBX,KAHkB;cAAA;cAAA,OAIJ,IAAAC,uBAAA,EAAaD,KAAb,CAJI;;YAAA;cAIlBE,KAJkB;cAKxBN,GAAG,CAACO,MAAJ,CAAW,gBAAX,EAA6BD,KAA7B,EAAoCG,IAApC,CAAyC;gBACvCL,KAAK,EAALA,KADuC;gBAEvCE,KAAK,EAALA;cAFuC,CAAzC;cALwB;cAAA;;YAAA;cAAA;cAAA;cAUxBL,IAAI,cAAJ,CAVwB,CAWxB;;YAXwB;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAa3B,CA/Be;EAgCVgB,MAhCU,kBAgCHlB,GAhCG,EAgCEC,GAhCF,EAgCOC,IAhCP,EAgCa;IAAA;MAAA;QAAA;UAAA;YAAA;cAC3BD,GAAG,CAACkB,IAAJ,CAASnB,GAAG,CAACoB,WAAb;;YAD2B;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAE5B;AAlCe,CAAlB;AAqCAC,MAAM,CAACC,OAAP,GAAiBxB,SAAjB"}},"mtime":1664851460844},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/staffAuth.service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _staffs = require(\"../repository/staffs.repository\");\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nrequire(\"dotenv\").config();\n\nvar bcrypt = require(\"bcrypt\");\n\nvar jwt = require(\"jsonwebtoken\");\n\nvar httpStatus = require(\"http-status\");\n\nvar _require = require(\"../middleware/apiError\"),\n    ApiError = _require.ApiError;\n\nvar hashPassword = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(password) {\n    var salt, hashedPass;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return bcrypt.genSalt(10);\n\n          case 2:\n            salt = _context.sent;\n            _context.next = 5;\n            return bcrypt.hash(password, salt);\n\n          case 5:\n            hashedPass = _context.sent;\n            return _context.abrupt(\"return\", hashedPass);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function hashPassword(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar createStaff = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var staff, staffExisted, hashPass, newStaff;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            staff = req.body;\n            _context2.next = 4;\n            return (0, _staffs.getStaffByEmail)(staff.email);\n\n          case 4:\n            staffExisted = _context2.sent;\n\n            if (!staffExisted) {\n              _context2.next = 7;\n              break;\n            }\n\n            throw new ApiError(httpStatus.BAD_REQUEST, \"Email already taken\");\n\n          case 7:\n            _context2.next = 9;\n            return hashPassword(staff.password);\n\n          case 9:\n            hashPass = _context2.sent;\n            _context2.next = 12;\n            return (0, _staffs.createNewStaff)({\n              email: staff.email,\n              fullname: staff.fullname,\n              password: hashPass,\n              avatar: null\n            });\n\n          case 12:\n            newStaff = _context2.sent;\n            console.log(newStaff);\n\n            if (newStaff) {\n              _context2.next = 16;\n              break;\n            }\n\n            throw new ApiError(httpStatus.BAD_REQUEST, \"Register fail\");\n\n          case 16:\n            return _context2.abrupt(\"return\", newStaff);\n\n          case 19:\n            _context2.prev = 19;\n            _context2.t0 = _context2[\"catch\"](0);\n            throw _context2.t0;\n\n          case 22:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 19]]);\n  }));\n\n  return function createStaff(_x2, _x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar genAuthToken = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(user) {\n    var userObj, token;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            userObj = {\n              sub: user.id,\n              email: user.email,\n              id: user.id\n            };\n            token = jwt.sign(userObj, process.env.ACCESS_TOKEN_SECRET, {\n              expiresIn: \"1d\"\n            });\n            return _context3.abrupt(\"return\", token);\n\n          case 3:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function genAuthToken(_x4) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar comparePassword = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(candidatePassword, hashPassword) {\n    var match;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return bcrypt.compare(candidatePassword, hashPassword);\n\n          case 2:\n            match = _context4.sent;\n            return _context4.abrupt(\"return\", match);\n\n          case 4:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function comparePassword(_x5, _x6) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nvar signInWithEmailPassword = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(email, password) {\n    var staff;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.prev = 0;\n            _context5.next = 3;\n            return (0, _staffs.getStaffByEmail)(email);\n\n          case 3:\n            staff = _context5.sent;\n\n            if (staff) {\n              _context5.next = 6;\n              break;\n            }\n\n            throw new ApiError(httpStatus.UNAUTHORIZED, \"Sorry Bad Email\");\n\n          case 6:\n            _context5.next = 8;\n            return comparePassword(password, staff.password);\n\n          case 8:\n            if (_context5.sent) {\n              _context5.next = 10;\n              break;\n            }\n\n            throw new ApiError(httpStatus.UNAUTHORIZED, \"Ti khon hoc mt khu khng chnh xc\");\n\n          case 10:\n            return _context5.abrupt(\"return\", staff);\n\n          case 13:\n            _context5.prev = 13;\n            _context5.t0 = _context5[\"catch\"](0);\n            throw _context5.t0;\n\n          case 16:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5, null, [[0, 13]]);\n  }));\n\n  return function signInWithEmailPassword(_x7, _x8) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\nmodule.exports = {\n  createStaff: createStaff,\n  genAuthToken: genAuthToken,\n  signInWithEmailPassword: signInWithEmailPassword\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiYmNyeXB0Iiwiand0IiwiaHR0cFN0YXR1cyIsIkFwaUVycm9yIiwiaGFzaFBhc3N3b3JkIiwicGFzc3dvcmQiLCJnZW5TYWx0Iiwic2FsdCIsImhhc2giLCJoYXNoZWRQYXNzIiwiY3JlYXRlU3RhZmYiLCJyZXEiLCJyZXMiLCJzdGFmZiIsImJvZHkiLCJnZXRTdGFmZkJ5RW1haWwiLCJlbWFpbCIsInN0YWZmRXhpc3RlZCIsIkJBRF9SRVFVRVNUIiwiaGFzaFBhc3MiLCJjcmVhdGVOZXdTdGFmZiIsImZ1bGxuYW1lIiwiYXZhdGFyIiwibmV3U3RhZmYiLCJjb25zb2xlIiwibG9nIiwiZ2VuQXV0aFRva2VuIiwidXNlciIsInVzZXJPYmoiLCJzdWIiLCJpZCIsInRva2VuIiwic2lnbiIsInByb2Nlc3MiLCJlbnYiLCJBQ0NFU1NfVE9LRU5fU0VDUkVUIiwiZXhwaXJlc0luIiwiY29tcGFyZVBhc3N3b3JkIiwiY2FuZGlkYXRlUGFzc3dvcmQiLCJjb21wYXJlIiwibWF0Y2giLCJzaWduSW5XaXRoRW1haWxQYXNzd29yZCIsIlVOQVVUSE9SSVpFRCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvc2VydmljZS8iLCJzb3VyY2VzIjpbInN0YWZmQXV0aC5zZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoXCJkb3RlbnZcIikuY29uZmlnKCk7XG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKFwiYmNyeXB0XCIpO1xuY29uc3Qgand0ID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTtcbmNvbnN0IGh0dHBTdGF0dXMgPSByZXF1aXJlKFwiaHR0cC1zdGF0dXNcIik7XG5cbmNvbnN0IHsgQXBpRXJyb3IgfSA9IHJlcXVpcmUoXCIuLi9taWRkbGV3YXJlL2FwaUVycm9yXCIpO1xuaW1wb3J0IHtcbiAgZ2V0U3RhZmZCeUVtYWlsLFxuICBjcmVhdGVOZXdTdGFmZixcbn0gZnJvbSBcIi4uL3JlcG9zaXRvcnkvc3RhZmZzLnJlcG9zaXRvcnlcIjtcblxuY29uc3QgaGFzaFBhc3N3b3JkID0gYXN5bmMgKHBhc3N3b3JkKSA9PiB7XG4gIGNvbnN0IHNhbHQgPSBhd2FpdCBiY3J5cHQuZ2VuU2FsdCgxMCk7XG4gIGNvbnN0IGhhc2hlZFBhc3MgPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgc2FsdCk7XG4gIHJldHVybiBoYXNoZWRQYXNzO1xufTtcblxuY29uc3QgY3JlYXRlU3RhZmYgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzdGFmZiA9IHJlcS5ib2R5O1xuICAgIGNvbnN0IHN0YWZmRXhpc3RlZCA9IGF3YWl0IGdldFN0YWZmQnlFbWFpbChzdGFmZi5lbWFpbCk7XG4gICAgaWYgKHN0YWZmRXhpc3RlZCkge1xuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKGh0dHBTdGF0dXMuQkFEX1JFUVVFU1QsIFwiRW1haWwgYWxyZWFkeSB0YWtlblwiKTtcbiAgICB9XG4gICAgY29uc3QgaGFzaFBhc3MgPSBhd2FpdCBoYXNoUGFzc3dvcmQoc3RhZmYucGFzc3dvcmQpO1xuICAgIGNvbnN0IG5ld1N0YWZmID0gYXdhaXQgY3JlYXRlTmV3U3RhZmYoe1xuICAgICAgZW1haWw6IHN0YWZmLmVtYWlsLFxuICAgICAgZnVsbG5hbWU6IHN0YWZmLmZ1bGxuYW1lLFxuICAgICAgcGFzc3dvcmQ6IGhhc2hQYXNzLFxuICAgICAgYXZhdGFyOiBudWxsLFxuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKG5ld1N0YWZmKTtcbiAgICBpZiAoIW5ld1N0YWZmKSB7XG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5CQURfUkVRVUVTVCwgXCJSZWdpc3RlciBmYWlsXCIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3U3RhZmY7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5jb25zdCBnZW5BdXRoVG9rZW4gPSBhc3luYyAodXNlcikgPT4ge1xuICBjb25zdCB1c2VyT2JqID0ge1xuICAgIHN1YjogdXNlci5pZCxcbiAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICBpZDogdXNlci5pZCxcbiAgfTtcbiAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih1c2VyT2JqLCBwcm9jZXNzLmVudi5BQ0NFU1NfVE9LRU5fU0VDUkVULCB7XG4gICAgZXhwaXJlc0luOiBcIjFkXCIsXG4gIH0pO1xuICByZXR1cm4gdG9rZW47XG59O1xuY29uc3QgY29tcGFyZVBhc3N3b3JkID0gYXN5bmMgKGNhbmRpZGF0ZVBhc3N3b3JkLCBoYXNoUGFzc3dvcmQpID0+IHtcbiAgLy8gY2FuZGlkYXRlIHBhc3N3b3JkID0gaGFzaCBwYXNzd29yZFxuXG4gIGNvbnN0IG1hdGNoID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUoY2FuZGlkYXRlUGFzc3dvcmQsIGhhc2hQYXNzd29yZCk7XG4gIHJldHVybiBtYXRjaDtcbn07XG5jb25zdCBzaWduSW5XaXRoRW1haWxQYXNzd29yZCA9IGFzeW5jIChlbWFpbCwgcGFzc3dvcmQpID0+IHtcbiAgdHJ5IHtcbiAgICAvLyBjaGVjayBlbWFpbFxuICAgIGNvbnN0IHN0YWZmID0gYXdhaXQgZ2V0U3RhZmZCeUVtYWlsKGVtYWlsKTtcbiAgICBpZiAoIXN0YWZmKSB7XG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5VTkFVVEhPUklaRUQsIFwiU29ycnkgQmFkIEVtYWlsXCIpO1xuICAgIH1cbiAgICBpZiAoIShhd2FpdCBjb21wYXJlUGFzc3dvcmQocGFzc3dvcmQsIHN0YWZmLnBhc3N3b3JkKSkpIHtcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcihcbiAgICAgICAgaHR0cFN0YXR1cy5VTkFVVEhPUklaRUQsXG4gICAgICAgIFwiVMOgaSBraG/huqNuIGhv4bq3YyBt4bqtdCBraOG6qXUga2jDtG5nIGNow61uaCB4w6FjXCJcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBzdGFmZjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNyZWF0ZVN0YWZmLFxuICBnZW5BdXRoVG9rZW4sXG4gIHNpZ25JbldpdGhFbWFpbFBhc3N3b3JkLFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7OztBQU1BOzsrQ0FMQSxvSjs7Ozs7O0FBREFBLE9BQU8sQ0FBQyxRQUFELENBQVAsQ0FBa0JDLE1BQWxCOztBQUNBLElBQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDLFFBQUQsQ0FBdEI7O0FBQ0EsSUFBTUcsR0FBRyxHQUFHSCxPQUFPLENBQUMsY0FBRCxDQUFuQjs7QUFDQSxJQUFNSSxVQUFVLEdBQUdKLE9BQU8sQ0FBQyxhQUFELENBQTFCOztBQUVBLGVBQXFCQSxPQUFPLENBQUMsd0JBQUQsQ0FBNUI7QUFBQSxJQUFRSyxRQUFSLFlBQVFBLFFBQVI7O0FBTUEsSUFBTUMsWUFBWTtFQUFBLHNFQUFHLGlCQUFPQyxRQUFQO0lBQUE7SUFBQTtNQUFBO1FBQUE7VUFBQTtZQUFBO1lBQUEsT0FDQUwsTUFBTSxDQUFDTSxPQUFQLENBQWUsRUFBZixDQURBOztVQUFBO1lBQ2JDLElBRGE7WUFBQTtZQUFBLE9BRU1QLE1BQU0sQ0FBQ1EsSUFBUCxDQUFZSCxRQUFaLEVBQXNCRSxJQUF0QixDQUZOOztVQUFBO1lBRWJFLFVBRmE7WUFBQSxpQ0FHWkEsVUFIWTs7VUFBQTtVQUFBO1lBQUE7UUFBQTtNQUFBO0lBQUE7RUFBQSxDQUFIOztFQUFBLGdCQUFaTCxZQUFZO0lBQUE7RUFBQTtBQUFBLEdBQWxCOztBQU1BLElBQU1NLFdBQVc7RUFBQSx1RUFBRyxrQkFBT0MsR0FBUCxFQUFZQyxHQUFaO0lBQUE7SUFBQTtNQUFBO1FBQUE7VUFBQTtZQUFBO1lBRVZDLEtBRlUsR0FFRkYsR0FBRyxDQUFDRyxJQUZGO1lBQUE7WUFBQSxPQUdXLElBQUFDLHVCQUFB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","map":{"version":3,"names":["require","config","bcrypt","jwt","httpStatus","ApiError","hashPassword","password","genSalt","salt","hash","hashedPass","createStaff","req","res","staff","body","getStaffByEmail","email","staffExisted","BAD_REQUEST","hashPass","createNewStaff","fullname","avatar","newStaff","console","log","genAuthToken","user","userObj","sub","id","token","sign","process","env","ACCESS_TOKEN_SECRET","expiresIn","comparePassword","candidatePassword","compare","match","signInWithEmailPassword","UNAUTHORIZED","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/","sources":["staffAuth.service.js"],"sourcesContent":["require(\"dotenv\").config();\nconst bcrypt = require(\"bcrypt\");\nconst jwt = require(\"jsonwebtoken\");\nconst httpStatus = require(\"http-status\");\n\nconst { ApiError } = require(\"../middleware/apiError\");\nimport {\n  getStaffByEmail,\n  createNewStaff,\n} from \"../repository/staffs.repository\";\n\nconst hashPassword = async (password) => {\n  const salt = await bcrypt.genSalt(10);\n  const hashedPass = await bcrypt.hash(password, salt);\n  return hashedPass;\n};\n\nconst createStaff = async (req, res) => {\n  try {\n    const staff = req.body;\n    const staffExisted = await getStaffByEmail(staff.email);\n    if (staffExisted) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Email already taken\");\n    }\n    const hashPass = await hashPassword(staff.password);\n    const newStaff = await createNewStaff({\n      email: staff.email,\n      fullname: staff.fullname,\n      password: hashPass,\n      avatar: null,\n    });\n    console.log(newStaff);\n    if (!newStaff) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Register fail\");\n    }\n    return newStaff;\n  } catch (error) {\n    throw error;\n  }\n};\nconst genAuthToken = async (user) => {\n  const userObj = {\n    sub: user.id,\n    email: user.email,\n    id: user.id,\n  };\n  const token = jwt.sign(userObj, process.env.ACCESS_TOKEN_SECRET, {\n    expiresIn: \"1d\",\n  });\n  return token;\n};\nconst comparePassword = async (candidatePassword, hashPassword) => {\n  // candidate password = hash password\n\n  const match = await bcrypt.compare(candidatePassword, hashPassword);\n  return match;\n};\nconst signInWithEmailPassword = async (email, password) => {\n  try {\n    // check email\n    const staff = await getStaffByEmail(email);\n    if (!staff) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"Sorry Bad Email\");\n    }\n    if (!(await comparePassword(password, staff.password))) {\n      throw new ApiError(\n        httpStatus.UNAUTHORIZED,\n        \"Ti khon hoc mt khu khng chnh xc\"\n      );\n    }\n    return staff;\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  createStaff,\n  genAuthToken,\n  signInWithEmailPassword,\n};\n"],"mappings":"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"}},"mtime":1664851467389},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/server.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst express = require(\"express\");\n\nconst routes = require(\"./routes/index.js\");\n\nconst connectDB = require(\"./dbconnect.js\");\n\nrequire(\"dotenv\").config();\n\nconst {\n  handleError,\n  convertToApiError\n} = require(\"./middleware/apiError\"); // const db = require(\"../models/index\");\n\n\nconst app = express();\napp.use((0, _cors.default)()); //middleware\n\napp.use(express.json()); // thg nay cho body parser ve JSON\n\napp.use(express.urlencoded({\n  extended: true\n}));\nconnectDB(); //routes\n\napp.use(\"/api\", routes); // const db = require('../models/index');\n// //get all member list\n// (async () => {\n//   const member = await db.Members.findAll({});\n//   console.log(member);\n// })();\n//ve nha lam inner join 2 bang\n// (async () => {\n//   const job = await db.Jobs.findAll({ raw: true });\n//   console.log(job);\n// })();\n//insert member into members table(database)\n// ty ve nha thu lai status de trong xem no co tu set active ko??\n// (async () => {\n//   const newMember = await db.Members.create({\n//     id: \"ME-002\",\n//     email: \"khanhphdse160477@fpt.edu.vn\",\n//     fullname: \"Phm Hng Duyn Khnh\",\n//     password: \"1\",\n//     current_resume_url: \"#\",\n//     status: \"Active\"\n//   });\n//   console.log(newMember);\n// })();\n//port=8000\n\napp.use(convertToApiError);\napp.use((err, req, res, next) => {\n  handleError(err, res);\n}); // app.get('/job', async (_req, res) => {\n//   try {\n//     const job = await db.Jobs.findAll();\n//     res.send(job);\n//   } catch (err) {\n//     res.send(err);\n//   }\n// })\n\nconst port = process.env.PORT || 3000;\napp.listen(port, () => {\n  console.log(`listening on port ${port}`);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlcyIsImNvbm5lY3REQiIsImNvbmZpZyIsImhhbmRsZUVycm9yIiwiY29udmVydFRvQXBpRXJyb3IiLCJhcHAiLCJ1c2UiLCJjb3JzIiwianNvbiIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsImVyciIsInJlcSIsInJlcyIsIm5leHQiLCJwb3J0IiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjLyIsInNvdXJjZXMiOlsic2VydmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcblxuY29uc3Qgcm91dGVzID0gcmVxdWlyZShcIi4vcm91dGVzL2luZGV4LmpzXCIpO1xuY29uc3QgY29ubmVjdERCID0gcmVxdWlyZShcIi4vZGJjb25uZWN0LmpzXCIpO1xuaW1wb3J0IGNvcnMgZnJvbSBcImNvcnNcIjtcbnJlcXVpcmUoXCJkb3RlbnZcIikuY29uZmlnKCk7XG5jb25zdCB7IGhhbmRsZUVycm9yLCBjb252ZXJ0VG9BcGlFcnJvciB9ID0gcmVxdWlyZShcIi4vbWlkZGxld2FyZS9hcGlFcnJvclwiKTtcbi8vIGNvbnN0IGRiID0gcmVxdWlyZShcIi4uL21vZGVscy9pbmRleFwiKTtcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmFwcC51c2UoY29ycygpKTtcbi8vbWlkZGxld2FyZVxuYXBwLnVzZShleHByZXNzLmpzb24oKSk7IC8vIHRoZyBuYXkgY2hvIGJvZHkgcGFyc2VyIHZlIEpTT05cbmFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xuXG5jb25uZWN0REIoKTtcblxuLy9yb3V0ZXNcbmFwcC51c2UoXCIvYXBpXCIsIHJvdXRlcyk7XG5cbi8vIGNvbnN0IGRiID0gcmVxdWlyZSgnLi4vbW9kZWxzL2luZGV4Jyk7XG5cbi8vIC8vZ2V0IGFsbCBtZW1iZXIgbGlzdFxuLy8gKGFzeW5jICgpID0+IHtcbi8vICAgY29uc3QgbWVtYmVyID0gYXdhaXQgZGIuTWVtYmVycy5maW5kQWxsKHt9KTtcbi8vICAgY29uc29sZS5sb2cobWVtYmVyKTtcbi8vIH0pKCk7XG5cbi8vdmUgbmhhIGxhbSBpbm5lciBqb2luIDIgYmFuZ1xuLy8gKGFzeW5jICgpID0+IHtcbi8vICAgY29uc3Qgam9iID0gYXdhaXQgZGIuSm9icy5maW5kQWxsKHsgcmF3OiB0cnVlIH0pO1xuLy8gICBjb25zb2xlLmxvZyhqb2IpO1xuLy8gfSkoKTtcblxuLy9pbnNlcnQgbWVtYmVyIGludG8gbWVtYmVycyB0YWJsZShkYXRhYmFzZSlcbi8vIHR5IHZlIG5oYSB0aHUgbGFpIHN0YXR1cyBkZSB0cm9uZyB4ZW0gbm8gY28gdHUgc2V0IGFjdGl2ZSBrbz8/XG5cbi8vIChhc3luYyAoKSA9PiB7XG4vLyAgIGNvbnN0IG5ld01lbWJlciA9IGF3YWl0IGRiLk1lbWJlcnMuY3JlYXRlKHtcbi8vICAgICBpZDogXCJNRS0wMDJcIixcbi8vICAgICBlbWFpbDogXCJraGFuaHBoZHNlMTYwNDc3QGZwdC5lZHUudm5cIixcbi8vICAgICBmdWxsbmFtZTogXCJQaOG6oW0gSOG7k25nIER1ecOqbiBLaMOhbmhcIixcbi8vICAgICBwYXNzd29yZDogXCIxXCIsXG4vLyAgICAgY3VycmVudF9yZXN1bWVfdXJsOiBcIiNcIixcbi8vICAgICBzdGF0dXM6IFwiQWN0aXZlXCJcbi8vICAgfSk7XG4vLyAgIGNvbnNvbGUubG9nKG5ld01lbWJlcik7XG4vLyB9KSgpO1xuXG4vL3BvcnQ9ODAwMFxuYXBwLnVzZShjb252ZXJ0VG9BcGlFcnJvcik7XG5hcHAudXNlKChlcnIsIHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGhhbmRsZUVycm9yKGVyciwgcmVzKTtcbn0pO1xuLy8gYXBwLmdldCgnL2pvYicsIGFzeW5jIChfcmVxLCByZXMpID0+IHtcbi8vICAgdHJ5IHtcbi8vICAgICBjb25zdCBqb2IgPSBhd2FpdCBkYi5Kb2JzLmZpbmRBbGwoKTtcbi8vICAgICByZXMuc2VuZChqb2IpO1xuLy8gICB9IGNhdGNoIChlcnIpIHtcbi8vICAgICByZXMuc2VuZChlcnIpO1xuLy8gICB9XG4vLyB9KVxuXG5jb25zdCBwb3J0ID0gcHJvY2Vzcy5lbnYuUE9SVCB8fCAzMDAwO1xuXG5hcHAubGlzdGVuKHBvcnQsICgpID0+IHtcbiAgY29uc29sZS5sb2coYGxpc3RlbmluZyBvbiBwb3J0ICR7cG9ydH1gKTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiOztBQUlBOzs7O0FBSkEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFFQSxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxtQkFBRCxDQUF0Qjs7QUFDQSxNQUFNRSxTQUFTLEdBQUdGLE9BQU8sQ0FBQyxnQkFBRCxDQUF6Qjs7QUFFQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkcsTUFBbEI7O0FBQ0EsTUFBTTtFQUFFQyxXQUFGO0VBQWVDO0FBQWYsSUFBcUNMLE9BQU8sQ0FBQyx1QkFBRCxDQUFsRCxDLENBQ0E7OztBQUNBLE1BQU1NLEdBQUcsR0FBR1AsT0FBTyxFQUFuQjtBQUNBTyxHQUFHLENBQUNDLEdBQUosQ0FBUSxJQUFBQyxhQUFBLEdBQVIsRSxDQUNBOztBQUNBRixHQUFHLENBQUNDLEdBQUosQ0FBUVIsT0FBTyxDQUFDVSxJQUFSLEVBQVIsRSxDQUF5Qjs7QUFDekJILEdBQUcsQ0FBQ0MsR0FBSixDQUFRUixPQUFPLENBQUNXLFVBQVIsQ0FBbUI7RUFBRUMsUUFBUSxFQUFFO0FBQVosQ0FBbkIsQ0FBUjtBQUVBVCxTQUFTLEcsQ0FFVDs7QUFDQUksR0FBRyxDQUFDQyxHQUFKLENBQVEsTUFBUixFQUFnQk4sTUFBaEIsRSxDQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBSyxHQUFHLENBQUNDLEdBQUosQ0FBUUYsaUJBQVI7QUFDQUMsR0FBRyxDQUFDQyxHQUFKLENBQVEsQ0FBQ0ssR0FBRCxFQUFNQyxHQUFOLEVBQVdDLEdBQVgsRUFBZ0JDLElBQWhCLEtBQXlCO0VBQy9CWCxXQUFXLENBQUNRLEdBQUQsRUFBTUUsR0FBTixDQUFYO0FBQ0QsQ0FGRCxFLENBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNRSxJQUFJLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxJQUFaLElBQW9CLElBQWpDO0FBRUFiLEdBQUcsQ0FBQ2MsTUFBSixDQUFXSixJQUFYLEVBQWlCLE1BQU07RUFDckJLLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLHFCQUFvQk4sSUFBSyxFQUF0QztBQUNELENBRkQifQ==","map":{"version":3,"names":["express","require","routes","connectDB","config","handleError","convertToApiError","app","use","cors","json","urlencoded","extended","err","req","res","next","port","process","env","PORT","listen","console","log"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/","sources":["server.js"],"sourcesContent":["const express = require(\"express\");\n\nconst routes = require(\"./routes/index.js\");\nconst connectDB = require(\"./dbconnect.js\");\nimport cors from \"cors\";\nrequire(\"dotenv\").config();\nconst { handleError, convertToApiError } = require(\"./middleware/apiError\");\n// const db = require(\"../models/index\");\nconst app = express();\napp.use(cors());\n//middleware\napp.use(express.json()); // thg nay cho body parser ve JSON\napp.use(express.urlencoded({ extended: true }));\n\nconnectDB();\n\n//routes\napp.use(\"/api\", routes);\n\n// const db = require('../models/index');\n\n// //get all member list\n// (async () => {\n//   const member = await db.Members.findAll({});\n//   console.log(member);\n// })();\n\n//ve nha lam inner join 2 bang\n// (async () => {\n//   const job = await db.Jobs.findAll({ raw: true });\n//   console.log(job);\n// })();\n\n//insert member into members table(database)\n// ty ve nha thu lai status de trong xem no co tu set active ko??\n\n// (async () => {\n//   const newMember = await db.Members.create({\n//     id: \"ME-002\",\n//     email: \"khanhphdse160477@fpt.edu.vn\",\n//     fullname: \"Phm Hng Duyn Khnh\",\n//     password: \"1\",\n//     current_resume_url: \"#\",\n//     status: \"Active\"\n//   });\n//   console.log(newMember);\n// })();\n\n//port=8000\napp.use(convertToApiError);\napp.use((err, req, res, next) => {\n  handleError(err, res);\n});\n// app.get('/job', async (_req, res) => {\n//   try {\n//     const job = await db.Jobs.findAll();\n//     res.send(job);\n//   } catch (err) {\n//     res.send(err);\n//   }\n// })\n\nconst port = process.env.PORT || 3000;\n\napp.listen(port, () => {\n  console.log(`listening on port ${port}`);\n});\n"],"mappings":";;AAIA;;;;AAJA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AAEA,MAAMC,MAAM,GAAGD,OAAO,CAAC,mBAAD,CAAtB;;AACA,MAAME,SAAS,GAAGF,OAAO,CAAC,gBAAD,CAAzB;;AAEAA,OAAO,CAAC,QAAD,CAAP,CAAkBG,MAAlB;;AACA,MAAM;EAAEC,WAAF;EAAeC;AAAf,IAAqCL,OAAO,CAAC,uBAAD,CAAlD,C,CACA;;;AACA,MAAMM,GAAG,GAAGP,OAAO,EAAnB;AACAO,GAAG,CAACC,GAAJ,CAAQ,IAAAC,aAAA,GAAR,E,CACA;;AACAF,GAAG,CAACC,GAAJ,CAAQR,OAAO,CAACU,IAAR,EAAR,E,CAAyB;;AACzBH,GAAG,CAACC,GAAJ,CAAQR,OAAO,CAACW,UAAR,CAAmB;EAAEC,QAAQ,EAAE;AAAZ,CAAnB,CAAR;AAEAT,SAAS,G,CAET;;AACAI,GAAG,CAACC,GAAJ,CAAQ,MAAR,EAAgBN,MAAhB,E,CAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACAK,GAAG,CAACC,GAAJ,CAAQF,iBAAR;AACAC,GAAG,CAACC,GAAJ,CAAQ,CAACK,GAAD,EAAMC,GAAN,EAAWC,GAAX,EAAgBC,IAAhB,KAAyB;EAC/BX,WAAW,CAACQ,GAAD,EAAME,GAAN,CAAX;AACD,CAFD,E,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAME,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC;AAEAb,GAAG,CAACc,MAAJ,CAAWJ,IAAX,EAAiB,MAAM;EACrBK,OAAO,CAACC,GAAR,CAAa,qBAAoBN,IAAK,EAAtC;AACD,CAFD"}},"mtime":1666695687177},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\n\nconst authRoute = require(\"./auth.route.js\");\n\nconst memberRoute = require(\"./member.route\");\n\nconst staffRoute = require(\"./staff.route\");\n\nconst staffAuthRoute = require(\"./staffAuth.route\");\n\nconst categoryRoute = require(\"./categories.route\");\n\nconst campaignRoute = require(\"./campaigns.route\");\n\nconst jobRoute = require(\"./jobs.route.js\");\n\nconst candidateRoute = require(\"./candidate.route\");\n\nconst interviewRoute = require(\"./interview.route\");\n\nconst reportRoute = require(\"./report.route\");\n\nconst zoomRoute = require(\"./zoom.route\");\n\nconst router = express.Router();\nconst routesIndex = [{\n  path: \"/member-auth\",\n  route: authRoute\n}, {\n  path: \"/category\",\n  route: categoryRoute\n}, {\n  path: \"/campaign\",\n  route: campaignRoute\n}, {\n  path: \"/job\",\n  route: jobRoute\n}, {\n  path: \"/member\",\n  route: memberRoute\n}, {\n  path: \"/staff\",\n  route: staffRoute\n}, {\n  path: \"/staff-auth\",\n  route: staffAuthRoute\n}, {\n  path: \"/candidate\",\n  route: candidateRoute\n}, {\n  path: \"/interview\",\n  route: interviewRoute\n}, {\n  path: \"/report\",\n  route: reportRoute\n}, {\n  path: \"/meeting\",\n  route: zoomRoute\n}];\nroutesIndex.forEach(route => {\n  router.use(route.path, route.route);\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImF1dGhSb3V0ZSIsIm1lbWJlclJvdXRlIiwic3RhZmZSb3V0ZSIsInN0YWZmQXV0aFJvdXRlIiwiY2F0ZWdvcnlSb3V0ZSIsImNhbXBhaWduUm91dGUiLCJqb2JSb3V0ZSIsImNhbmRpZGF0ZVJvdXRlIiwiaW50ZXJ2aWV3Um91dGUiLCJyZXBvcnRSb3V0ZSIsInpvb21Sb3V0ZSIsInJvdXRlciIsIlJvdXRlciIsInJvdXRlc0luZGV4IiwicGF0aCIsInJvdXRlIiwiZm9yRWFjaCIsInVzZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3QgYXV0aFJvdXRlID0gcmVxdWlyZShcIi4vYXV0aC5yb3V0ZS5qc1wiKTtcbmNvbnN0IG1lbWJlclJvdXRlID0gcmVxdWlyZShcIi4vbWVtYmVyLnJvdXRlXCIpO1xuY29uc3Qgc3RhZmZSb3V0ZSA9IHJlcXVpcmUoXCIuL3N0YWZmLnJvdXRlXCIpO1xuY29uc3Qgc3RhZmZBdXRoUm91dGUgPSByZXF1aXJlKFwiLi9zdGFmZkF1dGgucm91dGVcIik7XG5jb25zdCBjYXRlZ29yeVJvdXRlID0gcmVxdWlyZShcIi4vY2F0ZWdvcmllcy5yb3V0ZVwiKTtcbmNvbnN0IGNhbXBhaWduUm91dGUgPSByZXF1aXJlKFwiLi9jYW1wYWlnbnMucm91dGVcIik7XG5jb25zdCBqb2JSb3V0ZSA9IHJlcXVpcmUoXCIuL2pvYnMucm91dGUuanNcIik7XG5jb25zdCBjYW5kaWRhdGVSb3V0ZSA9IHJlcXVpcmUoXCIuL2NhbmRpZGF0ZS5yb3V0ZVwiKTtcbmNvbnN0IGludGVydmlld1JvdXRlID0gcmVxdWlyZShcIi4vaW50ZXJ2aWV3LnJvdXRlXCIpO1xuY29uc3QgcmVwb3J0Um91dGUgPSByZXF1aXJlKFwiLi9yZXBvcnQucm91dGVcIik7XG5jb25zdCB6b29tUm91dGUgPSByZXF1aXJlKFwiLi96b29tLnJvdXRlXCIpO1xuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxuY29uc3Qgcm91dGVzSW5kZXggPSBbXG4gIHtcbiAgICBwYXRoOiBcIi9tZW1iZXItYXV0aFwiLFxuICAgIHJvdXRlOiBhdXRoUm91dGUsXG4gIH0sXG4gIHtcbiAgICBwYXRoOiBcIi9jYXRlZ29yeVwiLFxuICAgIHJvdXRlOiBjYXRlZ29yeVJvdXRlLFxuICB9LFxuICB7XG4gICAgcGF0aDogXCIvY2FtcGFpZ25cIixcbiAgICByb3V0ZTogY2FtcGFpZ25Sb3V0ZSxcbiAgfSxcbiAge1xuICAgIHBhdGg6IFwiL2pvYlwiLFxuICAgIHJvdXRlOiBqb2JSb3V0ZSxcbiAgfSxcbiAge1xuICAgIHBhdGg6IFwiL21lbWJlclwiLFxuICAgIHJvdXRlOiBtZW1iZXJSb3V0ZSxcbiAgfSxcbiAge1xuICAgIHBhdGg6IFwiL3N0YWZmXCIsXG4gICAgcm91dGU6IHN0YWZmUm91dGUsXG4gIH0sXG4gIHtcbiAgICBwYXRoOiBcIi9zdGFmZi1hdXRoXCIsXG4gICAgcm91dGU6IHN0YWZmQXV0aFJvdXRlLFxuICB9LFxuICB7XG4gICAgcGF0aDogXCIvY2FuZGlkYXRlXCIsXG4gICAgcm91dGU6IGNhbmRpZGF0ZVJvdXRlLFxuICB9LFxuICB7XG4gICAgcGF0aDogXCIvaW50ZXJ2aWV3XCIsXG4gICAgcm91dGU6IGludGVydmlld1JvdXRlLFxuICB9LFxuICB7XG4gICAgcGF0aDogXCIvcmVwb3J0XCIsXG4gICAgcm91dGU6IHJlcG9ydFJvdXRlLFxuICB9LFxuICB7XG4gICAgcGF0aDogXCIvbWVldGluZ1wiLFxuICAgIHJvdXRlOiB6b29tUm91dGUsXG4gIH0sXG5dO1xuXG5yb3V0ZXNJbmRleC5mb3JFYWNoKChyb3V0ZSkgPT4ge1xuICByb3V0ZXIudXNlKHJvdXRlLnBhdGgsIHJvdXRlLnJvdXRlKTtcbn0pO1xubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxTQUFTLEdBQUdELE9BQU8sQ0FBQyxpQkFBRCxDQUF6Qjs7QUFDQSxNQUFNRSxXQUFXLEdBQUdGLE9BQU8sQ0FBQyxnQkFBRCxDQUEzQjs7QUFDQSxNQUFNRyxVQUFVLEdBQUdILE9BQU8sQ0FBQyxlQUFELENBQTFCOztBQUNBLE1BQU1JLGNBQWMsR0FBR0osT0FBTyxDQUFDLG1CQUFELENBQTlCOztBQUNBLE1BQU1LLGFBQWEsR0FBR0wsT0FBTyxDQUFDLG9CQUFELENBQTdCOztBQUNBLE1BQU1NLGFBQWEsR0FBR04sT0FBTyxDQUFDLG1CQUFELENBQTdCOztBQUNBLE1BQU1PLFFBQVEsR0FBR1AsT0FBTyxDQUFDLGlCQUFELENBQXhCOztBQUNBLE1BQU1RLGNBQWMsR0FBR1IsT0FBTyxDQUFDLG1CQUFELENBQTlCOztBQUNBLE1BQU1TLGNBQWMsR0FBR1QsT0FBTyxDQUFDLG1CQUFELENBQTlCOztBQUNBLE1BQU1VLFdBQVcsR0FBR1YsT0FBTyxDQUFDLGdCQUFELENBQTNCOztBQUNBLE1BQU1XLFNBQVMsR0FBR1gsT0FBTyxDQUFDLGNBQUQsQ0FBekI7O0FBQ0EsTUFBTVksTUFBTSxHQUFHYixPQUFPLENBQUNjLE1BQVIsRUFBZjtBQUVBLE1BQU1DLFdBQVcsR0FBRyxDQUNsQjtFQUNFQyxJQUFJLEVBQUUsY0FEUjtFQUVFQyxLQUFLLEVBQUVmO0FBRlQsQ0FEa0IsRUFLbEI7RUFDRWMsSUFBSSxFQUFFLFdBRFI7RUFFRUMsS0FBSyxFQUFFWDtBQUZULENBTGtCLEVBU2xCO0VBQ0VVLElBQUksRUFBRSxXQURSO0VBRUVDLEtBQUssRUFBRVY7QUFGVCxDQVRrQixFQWFsQjtFQUNFUyxJQUFJLEVBQUUsTUFEUjtFQUVFQyxLQUFLLEVBQUVUO0FBRlQsQ0Fia0IsRUFpQmxCO0VBQ0VRLElBQUksRUFBRSxTQURSO0VBRUVDLEtBQUssRUFBRWQ7QUFGVCxDQWpCa0IsRUFxQmxCO0VBQ0VhLElBQUksRUFBRSxRQURSO0VBRUVDLEtBQUssRUFBRWI7QUFGVCxDQXJCa0IsRUF5QmxCO0VBQ0VZLElBQUksRUFBRSxhQURSO0VBRUVDLEtBQUssRUFBRVo7QUFGVCxDQXpCa0IsRUE2QmxCO0VBQ0VXLElBQUksRUFBRSxZQURSO0VBRUVDLEtBQUssRUFBRVI7QUFGVCxDQTdCa0IsRUFpQ2xCO0VBQ0VPLElBQUksRUFBRSxZQURSO0VBRUVDLEtBQUssRUFBRVA7QUFGVCxDQWpDa0IsRUFxQ2xCO0VBQ0VNLElBQUksRUFBRSxTQURSO0VBRUVDLEtBQUssRUFBRU47QUFGVCxDQXJDa0IsRUF5Q2xCO0VBQ0VLLElBQUksRUFBRSxVQURSO0VBRUVDLEtBQUssRUFBRUw7QUFGVCxDQXpDa0IsQ0FBcEI7QUErQ0FHLFdBQVcsQ0FBQ0csT0FBWixDQUFxQkQsS0FBRCxJQUFXO0VBQzdCSixNQUFNLENBQUNNLEdBQVAsQ0FBV0YsS0FBSyxDQUFDRCxJQUFqQixFQUF1QkMsS0FBSyxDQUFDQSxLQUE3QjtBQUNELENBRkQ7QUFHQUcsTUFBTSxDQUFDQyxPQUFQLEdBQWlCUixNQUFqQiJ9","map":{"version":3,"names":["express","require","authRoute","memberRoute","staffRoute","staffAuthRoute","categoryRoute","campaignRoute","jobRoute","candidateRoute","interviewRoute","reportRoute","zoomRoute","router","Router","routesIndex","path","route","forEach","use","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["index.js"],"sourcesContent":["const express = require(\"express\");\nconst authRoute = require(\"./auth.route.js\");\nconst memberRoute = require(\"./member.route\");\nconst staffRoute = require(\"./staff.route\");\nconst staffAuthRoute = require(\"./staffAuth.route\");\nconst categoryRoute = require(\"./categories.route\");\nconst campaignRoute = require(\"./campaigns.route\");\nconst jobRoute = require(\"./jobs.route.js\");\nconst candidateRoute = require(\"./candidate.route\");\nconst interviewRoute = require(\"./interview.route\");\nconst reportRoute = require(\"./report.route\");\nconst zoomRoute = require(\"./zoom.route\");\nconst router = express.Router();\n\nconst routesIndex = [\n  {\n    path: \"/member-auth\",\n    route: authRoute,\n  },\n  {\n    path: \"/category\",\n    route: categoryRoute,\n  },\n  {\n    path: \"/campaign\",\n    route: campaignRoute,\n  },\n  {\n    path: \"/job\",\n    route: jobRoute,\n  },\n  {\n    path: \"/member\",\n    route: memberRoute,\n  },\n  {\n    path: \"/staff\",\n    route: staffRoute,\n  },\n  {\n    path: \"/staff-auth\",\n    route: staffAuthRoute,\n  },\n  {\n    path: \"/candidate\",\n    route: candidateRoute,\n  },\n  {\n    path: \"/interview\",\n    route: interviewRoute,\n  },\n  {\n    path: \"/report\",\n    route: reportRoute,\n  },\n  {\n    path: \"/meeting\",\n    route: zoomRoute,\n  },\n];\n\nroutesIndex.forEach((route) => {\n  router.use(route.path, route.route);\n});\nmodule.exports = router;\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,SAAS,GAAGD,OAAO,CAAC,iBAAD,CAAzB;;AACA,MAAME,WAAW,GAAGF,OAAO,CAAC,gBAAD,CAA3B;;AACA,MAAMG,UAAU,GAAGH,OAAO,CAAC,eAAD,CAA1B;;AACA,MAAMI,cAAc,GAAGJ,OAAO,CAAC,mBAAD,CAA9B;;AACA,MAAMK,aAAa,GAAGL,OAAO,CAAC,oBAAD,CAA7B;;AACA,MAAMM,aAAa,GAAGN,OAAO,CAAC,mBAAD,CAA7B;;AACA,MAAMO,QAAQ,GAAGP,OAAO,CAAC,iBAAD,CAAxB;;AACA,MAAMQ,cAAc,GAAGR,OAAO,CAAC,mBAAD,CAA9B;;AACA,MAAMS,cAAc,GAAGT,OAAO,CAAC,mBAAD,CAA9B;;AACA,MAAMU,WAAW,GAAGV,OAAO,CAAC,gBAAD,CAA3B;;AACA,MAAMW,SAAS,GAAGX,OAAO,CAAC,cAAD,CAAzB;;AACA,MAAMY,MAAM,GAAGb,OAAO,CAACc,MAAR,EAAf;AAEA,MAAMC,WAAW,GAAG,CAClB;EACEC,IAAI,EAAE,cADR;EAEEC,KAAK,EAAEf;AAFT,CADkB,EAKlB;EACEc,IAAI,EAAE,WADR;EAEEC,KAAK,EAAEX;AAFT,CALkB,EASlB;EACEU,IAAI,EAAE,WADR;EAEEC,KAAK,EAAEV;AAFT,CATkB,EAalB;EACES,IAAI,EAAE,MADR;EAEEC,KAAK,EAAET;AAFT,CAbkB,EAiBlB;EACEQ,IAAI,EAAE,SADR;EAEEC,KAAK,EAAEd;AAFT,CAjBkB,EAqBlB;EACEa,IAAI,EAAE,QADR;EAEEC,KAAK,EAAEb;AAFT,CArBkB,EAyBlB;EACEY,IAAI,EAAE,aADR;EAEEC,KAAK,EAAEZ;AAFT,CAzBkB,EA6BlB;EACEW,IAAI,EAAE,YADR;EAEEC,KAAK,EAAER;AAFT,CA7BkB,EAiClB;EACEO,IAAI,EAAE,YADR;EAEEC,KAAK,EAAEP;AAFT,CAjCkB,EAqClB;EACEM,IAAI,EAAE,SADR;EAEEC,KAAK,EAAEN;AAFT,CArCkB,EAyClB;EACEK,IAAI,EAAE,UADR;EAEEC,KAAK,EAAEL;AAFT,CAzCkB,CAApB;AA+CAG,WAAW,CAACG,OAAZ,CAAqBD,KAAD,IAAW;EAC7BJ,MAAM,CAACM,GAAP,CAAWF,KAAK,CAACD,IAAjB,EAAuBC,KAAK,CAACA,KAA7B;AACD,CAFD;AAGAG,MAAM,CAACC,OAAP,GAAiBR,MAAjB"}},"mtime":1667271025605},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/categories.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _categoryController = require(\"../controller/category.controller.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.get(\"/\", _categoryController.handleGetAllCategory);\nrouter.post(\"/add\", _categoryController.handleCreateNewCategory);\nrouter.patch(\"/update\", _categoryController.handleUpdateCategory);\nrouter.patch(\"/delete/:id\", _categoryController.handleDeleteCategory);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwiaGFuZGxlR2V0QWxsQ2F0ZWdvcnkiLCJwb3N0IiwiaGFuZGxlQ3JlYXRlTmV3Q2F0ZWdvcnkiLCJwYXRjaCIsImhhbmRsZVVwZGF0ZUNhdGVnb3J5IiwiaGFuZGxlRGVsZXRlQ2F0ZWdvcnkiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL3JvdXRlcy8iLCJzb3VyY2VzIjpbImNhdGVnb3JpZXMucm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCB7XG4gIGhhbmRsZUNyZWF0ZU5ld0NhdGVnb3J5LFxuICBoYW5kbGVHZXRBbGxDYXRlZ29yeSxcbiAgaGFuZGxlVXBkYXRlQ2F0ZWdvcnksXG4gIGhhbmRsZURlbGV0ZUNhdGVnb3J5LFxufSBmcm9tIFwiLi4vY29udHJvbGxlci9jYXRlZ29yeS5jb250cm9sbGVyLmpzXCI7XG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIuZ2V0KFwiL1wiLCBoYW5kbGVHZXRBbGxDYXRlZ29yeSk7XG5yb3V0ZXIucG9zdChcIi9hZGRcIiwgaGFuZGxlQ3JlYXRlTmV3Q2F0ZWdvcnkpO1xucm91dGVyLnBhdGNoKFwiL3VwZGF0ZVwiLCBoYW5kbGVVcGRhdGVDYXRlZ29yeSk7XG5yb3V0ZXIucGF0Y2goXCIvZGVsZXRlLzppZFwiLCBoYW5kbGVEZWxldGVDYXRlZ29yeSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOzs7O0FBTUEsTUFBTUEsTUFBTSxHQUFHQyxnQkFBQSxDQUFRQyxNQUFSLEVBQWY7O0FBRUFGLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLEdBQVgsRUFBZ0JDLHdDQUFoQjtBQUNBSixNQUFNLENBQUNLLElBQVAsQ0FBWSxNQUFaLEVBQW9CQywyQ0FBcEI7QUFDQU4sTUFBTSxDQUFDTyxLQUFQLENBQWEsU0FBYixFQUF3QkMsd0NBQXhCO0FBQ0FSLE1BQU0sQ0FBQ08sS0FBUCxDQUFhLGFBQWIsRUFBNEJFLHdDQUE1QjtBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJYLE1BQWpCIn0=","map":{"version":3,"names":["router","express","Router","get","handleGetAllCategory","post","handleCreateNewCategory","patch","handleUpdateCategory","handleDeleteCategory","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["categories.route.js"],"sourcesContent":["import express from \"express\";\nimport {\n  handleCreateNewCategory,\n  handleGetAllCategory,\n  handleUpdateCategory,\n  handleDeleteCategory,\n} from \"../controller/category.controller.js\";\nconst router = express.Router();\n\nrouter.get(\"/\", handleGetAllCategory);\nrouter.post(\"/add\", handleCreateNewCategory);\nrouter.patch(\"/update\", handleUpdateCategory);\nrouter.patch(\"/delete/:id\", handleDeleteCategory);\n\nmodule.exports = router;\n"],"mappings":";;AAAA;;AACA;;;;AAMA,MAAMA,MAAM,GAAGC,gBAAA,CAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgBC,wCAAhB;AACAJ,MAAM,CAACK,IAAP,CAAY,MAAZ,EAAoBC,2CAApB;AACAN,MAAM,CAACO,KAAP,CAAa,SAAb,EAAwBC,wCAAxB;AACAR,MAAM,CAACO,KAAP,CAAa,aAAb,EAA4BE,wCAA5B;AAEAC,MAAM,CAACC,OAAP,GAAiBX,MAAjB"}},"mtime":1666594653416},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/category.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst categoryService = require('../service/categoryService.js');\n\nconst handleGetAllCategory = async (req, res) => {\n  let categories = await categoryService.getAllCategory();\n  return res.json({\n    categories\n  });\n};\n\nconst handleCreateNewCategory = async (req, res, next) => {\n  try {\n    let message = await categoryService.createNewCategory(req.body);\n    return res.json(message);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleUpdateCategory = async (req, res, next) => {\n  try {\n    let data = req.body;\n    let category = await categoryService.updateCategory(data);\n    return res.json(category);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleDeleteCategory = async (req, res) => {\n  if (!req.params.id) {\n    return res.json({\n      errCode: 1,\n      errMsg: \"Missing category id\"\n    });\n  }\n\n  let message = await categoryService.deleteCategory(req.params.id);\n  return res.json(message);\n};\n\nmodule.exports = {\n  handleGetAllCategory,\n  handleCreateNewCategory,\n  handleUpdateCategory,\n  handleDeleteCategory\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXRlZ29yeVNlcnZpY2UiLCJyZXF1aXJlIiwiaGFuZGxlR2V0QWxsQ2F0ZWdvcnkiLCJyZXEiLCJyZXMiLCJjYXRlZ29yaWVzIiwiZ2V0QWxsQ2F0ZWdvcnkiLCJqc29uIiwiaGFuZGxlQ3JlYXRlTmV3Q2F0ZWdvcnkiLCJuZXh0IiwibWVzc2FnZSIsImNyZWF0ZU5ld0NhdGVnb3J5IiwiYm9keSIsImVycm9yIiwiaGFuZGxlVXBkYXRlQ2F0ZWdvcnkiLCJkYXRhIiwiY2F0ZWdvcnkiLCJ1cGRhdGVDYXRlZ29yeSIsImhhbmRsZURlbGV0ZUNhdGVnb3J5IiwicGFyYW1zIiwiaWQiLCJlcnJDb2RlIiwiZXJyTXNnIiwiZGVsZXRlQ2F0ZWdvcnkiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL2NvbnRyb2xsZXIvIiwic291cmNlcyI6WyJjYXRlZ29yeS5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuY29uc3QgY2F0ZWdvcnlTZXJ2aWNlID0gcmVxdWlyZSgnLi4vc2VydmljZS9jYXRlZ29yeVNlcnZpY2UuanMnKVxuXG5cblxuY29uc3QgaGFuZGxlR2V0QWxsQ2F0ZWdvcnkgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBsZXQgY2F0ZWdvcmllcyA9IGF3YWl0IGNhdGVnb3J5U2VydmljZS5nZXRBbGxDYXRlZ29yeSgpO1xuICAgIHJldHVybiByZXMuanNvbih7IGNhdGVnb3JpZXMgfSk7XG59XG5cbmNvbnN0IGhhbmRsZUNyZWF0ZU5ld0NhdGVnb3J5ID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBhd2FpdCBjYXRlZ29yeVNlcnZpY2UuY3JlYXRlTmV3Q2F0ZWdvcnkocmVxLmJvZHkpO1xuICAgICAgICByZXR1cm4gcmVzLmpzb24obWVzc2FnZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgbmV4dChlcnJvcik7XG4gICAgfVxufVxuXG5jb25zdCBoYW5kbGVVcGRhdGVDYXRlZ29yeSA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XG4gICAgICAgIGxldCBjYXRlZ29yeSA9IGF3YWl0IGNhdGVnb3J5U2VydmljZS51cGRhdGVDYXRlZ29yeShkYXRhKTtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKGNhdGVnb3J5KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBuZXh0KGVycm9yKTtcbiAgICB9XG59XG5cbmNvbnN0IGhhbmRsZURlbGV0ZUNhdGVnb3J5ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgaWYgKCFyZXEucGFyYW1zLmlkKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbih7XG4gICAgICAgICAgICBlcnJDb2RlOiAxLFxuICAgICAgICAgICAgZXJyTXNnOiBcIk1pc3NpbmcgY2F0ZWdvcnkgaWRcIlxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGV0IG1lc3NhZ2UgPSBhd2FpdCBjYXRlZ29yeVNlcnZpY2UuZGVsZXRlQ2F0ZWdvcnkocmVxLnBhcmFtcy5pZCk7XG4gICAgcmV0dXJuIHJlcy5qc29uKG1lc3NhZ2UpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBoYW5kbGVHZXRBbGxDYXRlZ29yeSxcbiAgICBoYW5kbGVDcmVhdGVOZXdDYXRlZ29yeSxcbiAgICBoYW5kbGVVcGRhdGVDYXRlZ29yeSxcbiAgICBoYW5kbGVEZWxldGVDYXRlZ29yeSxcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7QUFDQSxNQUFNQSxlQUFlLEdBQUdDLE9BQU8sQ0FBQywrQkFBRCxDQUEvQjs7QUFJQSxNQUFNQyxvQkFBb0IsR0FBRyxPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7RUFDN0MsSUFBSUMsVUFBVSxHQUFHLE1BQU1MLGVBQWUsQ0FBQ00sY0FBaEIsRUFBdkI7RUFDQSxPQUFPRixHQUFHLENBQUNHLElBQUosQ0FBUztJQUFFRjtFQUFGLENBQVQsQ0FBUDtBQUNILENBSEQ7O0FBS0EsTUFBTUcsdUJBQXVCLEdBQUcsT0FBT0wsR0FBUCxFQUFZQyxHQUFaLEVBQWlCSyxJQUFqQixLQUEwQjtFQUN0RCxJQUFJO0lBQ0EsSUFBSUMsT0FBTyxHQUFHLE1BQU1WLGVBQWUsQ0FBQ1csaUJBQWhCLENBQWtDUixHQUFHLENBQUNTLElBQXRDLENBQXBCO0lBQ0EsT0FBT1IsR0FBRyxDQUFDRyxJQUFKLENBQVNHLE9BQVQsQ0FBUDtFQUNILENBSEQsQ0FHRSxPQUFPRyxLQUFQLEVBQWM7SUFDWkosSUFBSSxDQUFDSSxLQUFELENBQUo7RUFDSDtBQUNKLENBUEQ7O0FBU0EsTUFBTUMsb0JBQW9CLEdBQUcsT0FBT1gsR0FBUCxFQUFZQyxHQUFaLEVBQWlCSyxJQUFqQixLQUEwQjtFQUNuRCxJQUFJO0lBQ0EsSUFBSU0sSUFBSSxHQUFHWixHQUFHLENBQUNTLElBQWY7SUFDQSxJQUFJSSxRQUFRLEdBQUcsTUFBTWhCLGVBQWUsQ0FBQ2lCLGNBQWhCLENBQStCRixJQUEvQixDQUFyQjtJQUNBLE9BQU9YLEdBQUcsQ0FBQ0csSUFBSixDQUFTUyxRQUFULENBQVA7RUFDSCxDQUpELENBSUUsT0FBT0gsS0FBUCxFQUFjO0lBQ1pKLElBQUksQ0FBQ0ksS0FBRCxDQUFKO0VBQ0g7QUFDSixDQVJEOztBQVVBLE1BQU1LLG9CQUFvQixHQUFHLE9BQU9mLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtFQUM3QyxJQUFJLENBQUNELEdBQUcsQ0FBQ2dCLE1BQUosQ0FBV0MsRUFBaEIsRUFBb0I7SUFDaEIsT0FBT2hCLEdBQUcsQ0FBQ0csSUFBSixDQUFTO01BQ1pjLE9BQU8sRUFBRSxDQURHO01BRVpDLE1BQU0sRUFBRTtJQUZJLENBQVQsQ0FBUDtFQUlIOztFQUNELElBQUlaLE9BQU8sR0FBRyxNQUFNVixlQUFlLENBQUN1QixjQUFoQixDQUErQnBCLEdBQUcsQ0FBQ2dCLE1BQUosQ0FBV0MsRUFBMUMsQ0FBcEI7RUFDQSxPQUFPaEIsR0FBRyxDQUFDRyxJQUFKLENBQVNHLE9BQVQsQ0FBUDtBQUNILENBVEQ7O0FBV0FjLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNidkIsb0JBRGE7RUFFYk0sdUJBRmE7RUFHYk0sb0JBSGE7RUFJYkk7QUFKYSxDQUFqQiJ9","map":{"version":3,"names":["categoryService","require","handleGetAllCategory","req","res","categories","getAllCategory","json","handleCreateNewCategory","next","message","createNewCategory","body","error","handleUpdateCategory","data","category","updateCategory","handleDeleteCategory","params","id","errCode","errMsg","deleteCategory","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/","sources":["category.controller.js"],"sourcesContent":["\nconst categoryService = require('../service/categoryService.js')\n\n\n\nconst handleGetAllCategory = async (req, res) => {\n    let categories = await categoryService.getAllCategory();\n    return res.json({ categories });\n}\n\nconst handleCreateNewCategory = async (req, res, next) => {\n    try {\n        let message = await categoryService.createNewCategory(req.body);\n        return res.json(message);\n    } catch (error) {\n        next(error);\n    }\n}\n\nconst handleUpdateCategory = async (req, res, next) => {\n    try {\n        let data = req.body;\n        let category = await categoryService.updateCategory(data);\n        return res.json(category);\n    } catch (error) {\n        next(error);\n    }\n}\n\nconst handleDeleteCategory = async (req, res) => {\n    if (!req.params.id) {\n        return res.json({\n            errCode: 1,\n            errMsg: \"Missing category id\"\n        });\n    }\n    let message = await categoryService.deleteCategory(req.params.id);\n    return res.json(message);\n}\n\nmodule.exports = {\n    handleGetAllCategory,\n    handleCreateNewCategory,\n    handleUpdateCategory,\n    handleDeleteCategory,\n}\n"],"mappings":";;AACA,MAAMA,eAAe,GAAGC,OAAO,CAAC,+BAAD,CAA/B;;AAIA,MAAMC,oBAAoB,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;EAC7C,IAAIC,UAAU,GAAG,MAAML,eAAe,CAACM,cAAhB,EAAvB;EACA,OAAOF,GAAG,CAACG,IAAJ,CAAS;IAAEF;EAAF,CAAT,CAAP;AACH,CAHD;;AAKA,MAAMG,uBAAuB,GAAG,OAAOL,GAAP,EAAYC,GAAZ,EAAiBK,IAAjB,KAA0B;EACtD,IAAI;IACA,IAAIC,OAAO,GAAG,MAAMV,eAAe,CAACW,iBAAhB,CAAkCR,GAAG,CAACS,IAAtC,CAApB;IACA,OAAOR,GAAG,CAACG,IAAJ,CAASG,OAAT,CAAP;EACH,CAHD,CAGE,OAAOG,KAAP,EAAc;IACZJ,IAAI,CAACI,KAAD,CAAJ;EACH;AACJ,CAPD;;AASA,MAAMC,oBAAoB,GAAG,OAAOX,GAAP,EAAYC,GAAZ,EAAiBK,IAAjB,KAA0B;EACnD,IAAI;IACA,IAAIM,IAAI,GAAGZ,GAAG,CAACS,IAAf;IACA,IAAII,QAAQ,GAAG,MAAMhB,eAAe,CAACiB,cAAhB,CAA+BF,IAA/B,CAArB;IACA,OAAOX,GAAG,CAACG,IAAJ,CAASS,QAAT,CAAP;EACH,CAJD,CAIE,OAAOH,KAAP,EAAc;IACZJ,IAAI,CAACI,KAAD,CAAJ;EACH;AACJ,CARD;;AAUA,MAAMK,oBAAoB,GAAG,OAAOf,GAAP,EAAYC,GAAZ,KAAoB;EAC7C,IAAI,CAACD,GAAG,CAACgB,MAAJ,CAAWC,EAAhB,EAAoB;IAChB,OAAOhB,GAAG,CAACG,IAAJ,CAAS;MACZc,OAAO,EAAE,CADG;MAEZC,MAAM,EAAE;IAFI,CAAT,CAAP;EAIH;;EACD,IAAIZ,OAAO,GAAG,MAAMV,eAAe,CAACuB,cAAhB,CAA+BpB,GAAG,CAACgB,MAAJ,CAAWC,EAA1C,CAApB;EACA,OAAOhB,GAAG,CAACG,IAAJ,CAASG,OAAT,CAAP;AACH,CATD;;AAWAc,MAAM,CAACC,OAAP,GAAiB;EACbvB,oBADa;EAEbM,uBAFa;EAGbM,oBAHa;EAIbI;AAJa,CAAjB"}},"mtime":1666594653409},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/categoryService.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst categoriesRepository = require(\"../repository/categories.repository\"); // ly tt c category ngoi tr Hidden category(DONE)\n\n\nconst getAllCategory = () => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const where = {\n        status: ['Active', 'Inactive']\n      };\n      const category = await categoriesRepository.findAllCate(where); // console.log(category)\n\n      resolve(category);\n    } catch (error) {\n      reject(error);\n    }\n  });\n}; //===============================================================================\n\n\nconst createNewCategory = data => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const category = await categoriesRepository.createCategory(data);\n      resolve(category === null || category === void 0 ? void 0 : category.dataValues);\n    } catch (error) {\n      reject(error);\n    }\n  });\n}; //===============================================================================\n\n\nconst updateCategory = data => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      if (!data.id) {\n        resolve({\n          errCode: 2,\n          errMsg: \"Missing required parameters\"\n        });\n      }\n\n      let category = await categoriesRepository.findOne(data.id);\n\n      if (category) {\n        await categoriesRepository.update(data, {\n          id: data.id\n        });\n        resolve({\n          errCode: 0,\n          message: \"Update category successfully!!\"\n        });\n      } else {\n        resolve({\n          errCode: 1,\n          errMsg: \"Category is not found\"\n        });\n      }\n    } catch (error) {\n      reject(error);\n    }\n  });\n}; //===============================================================================\n\n\nconst deleteCategory = categoryID => {\n  return new Promise(async (resolve, reject) => {\n    let category = await categoriesRepository.findOne(categoryID);\n\n    if (!category) {\n      resolve({\n        errCode: 2,\n        errMsg: \"Category not found\"\n      });\n    }\n\n    await categoriesRepository.updateStatus({\n      id: categoryID\n    });\n    resolve({\n      errCode: 0,\n      errMsg: \"Category is deleted\"\n    });\n  });\n};\n\nmodule.exports = {\n  getAllCategory,\n  createNewCategory,\n  updateCategory,\n  deleteCategory\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXRlZ29yaWVzUmVwb3NpdG9yeSIsInJlcXVpcmUiLCJnZXRBbGxDYXRlZ29yeSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwid2hlcmUiLCJzdGF0dXMiLCJjYXRlZ29yeSIsImZpbmRBbGxDYXRlIiwiZXJyb3IiLCJjcmVhdGVOZXdDYXRlZ29yeSIsImRhdGEiLCJjcmVhdGVDYXRlZ29yeSIsImRhdGFWYWx1ZXMiLCJ1cGRhdGVDYXRlZ29yeSIsImlkIiwiZXJyQ29kZSIsImVyck1zZyIsImZpbmRPbmUiLCJ1cGRhdGUiLCJtZXNzYWdlIiwiZGVsZXRlQ2F0ZWdvcnkiLCJjYXRlZ29yeUlEIiwidXBkYXRlU3RhdHVzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9zZXJ2aWNlLyIsInNvdXJjZXMiOlsiY2F0ZWdvcnlTZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNhdGVnb3JpZXNSZXBvc2l0b3J5ID0gcmVxdWlyZShcIi4uL3JlcG9zaXRvcnkvY2F0ZWdvcmllcy5yZXBvc2l0b3J5XCIpO1xuXG5cbi8vIGzhuqV5IHThuqV0IGPhuqMgY2F0ZWdvcnkgbmdv4bqhaSB0cuG7qyBIaWRkZW4gY2F0ZWdvcnkoRE9ORSlcbmNvbnN0IGdldEFsbENhdGVnb3J5ID0gKCkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB3aGVyZSA9IHsgc3RhdHVzOiBbJ0FjdGl2ZScsICdJbmFjdGl2ZSddIH1cbiAgICAgIGNvbnN0IGNhdGVnb3J5ID0gYXdhaXQgY2F0ZWdvcmllc1JlcG9zaXRvcnkuZmluZEFsbENhdGUod2hlcmUpO1xuICAgICAgLy8gY29uc29sZS5sb2coY2F0ZWdvcnkpXG4gICAgICByZXNvbHZlKGNhdGVnb3J5KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmNvbnN0IGNyZWF0ZU5ld0NhdGVnb3J5ID0gKGRhdGEpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY2F0ZWdvcnkgPSBhd2FpdCBjYXRlZ29yaWVzUmVwb3NpdG9yeS5jcmVhdGVDYXRlZ29yeShkYXRhKTtcbiAgICAgIHJlc29sdmUoY2F0ZWdvcnk/LmRhdGFWYWx1ZXMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZWplY3QoZXJyb3IpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuY29uc3QgdXBkYXRlQ2F0ZWdvcnkgPSAoZGF0YSkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIWRhdGEuaWQpIHtcbiAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgZXJyQ29kZTogMixcbiAgICAgICAgICBlcnJNc2c6IFwiTWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXJzXCIsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgbGV0IGNhdGVnb3J5ID0gYXdhaXQgY2F0ZWdvcmllc1JlcG9zaXRvcnkuZmluZE9uZShkYXRhLmlkKTtcbiAgICAgIGlmIChjYXRlZ29yeSkge1xuICAgICAgICBhd2FpdCBjYXRlZ29yaWVzUmVwb3NpdG9yeS51cGRhdGUoZGF0YSwgeyBpZDogZGF0YS5pZCB9KVxuICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICBlcnJDb2RlOiAwLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiVXBkYXRlIGNhdGVnb3J5IHN1Y2Nlc3NmdWxseSEhXCIsXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgZXJyQ29kZTogMSxcbiAgICAgICAgICBlcnJNc2c6IFwiQ2F0ZWdvcnkgaXMgbm90IGZvdW5kXCIsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZWplY3QoZXJyb3IpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuY29uc3QgZGVsZXRlQ2F0ZWdvcnkgPSAoY2F0ZWdvcnlJRCkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGxldCBjYXRlZ29yeSA9IGF3YWl0IGNhdGVnb3JpZXNSZXBvc2l0b3J5LmZpbmRPbmUoY2F0ZWdvcnlJRCk7XG4gICAgaWYgKCFjYXRlZ29yeSkge1xuICAgICAgcmVzb2x2ZSh7XG4gICAgICAgIGVyckNvZGU6IDIsXG4gICAgICAgIGVyck1zZzogXCJDYXRlZ29yeSBub3QgZm91bmRcIixcbiAgICAgIH0pO1xuICAgIH1cbiAgICBhd2FpdCBjYXRlZ29yaWVzUmVwb3NpdG9yeS51cGRhdGVTdGF0dXMoeyBpZDogY2F0ZWdvcnlJRCB9KTtcbiAgICByZXNvbHZlKHtcbiAgICAgIGVyckNvZGU6IDAsXG4gICAgICBlcnJNc2c6IFwiQ2F0ZWdvcnkgaXMgZGVsZXRlZFwiLFxuICAgIH0pO1xuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBnZXRBbGxDYXRlZ29yeSxcbiAgY3JlYXRlTmV3Q2F0ZWdv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","map":{"version":3,"names":["categoriesRepository","require","getAllCategory","Promise","resolve","reject","where","status","category","findAllCate","error","createNewCategory","data","createCategory","dataValues","updateCategory","id","errCode","errMsg","findOne","update","message","deleteCategory","categoryID","updateStatus","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/","sources":["categoryService.js"],"sourcesContent":["const categoriesRepository = require(\"../repository/categories.repository\");\n\n\n// ly tt c category ngoi tr Hidden category(DONE)\nconst getAllCategory = () => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const where = { status: ['Active', 'Inactive'] }\n      const category = await categoriesRepository.findAllCate(where);\n      // console.log(category)\n      resolve(category);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\n//===============================================================================\n\nconst createNewCategory = (data) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const category = await categoriesRepository.createCategory(data);\n      resolve(category?.dataValues);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\n//===============================================================================\n\nconst updateCategory = (data) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      if (!data.id) {\n        resolve({\n          errCode: 2,\n          errMsg: \"Missing required parameters\",\n        });\n      }\n      let category = await categoriesRepository.findOne(data.id);\n      if (category) {\n        await categoriesRepository.update(data, { id: data.id })\n        resolve({\n          errCode: 0,\n          message: \"Update category successfully!!\",\n        });\n      } else {\n        resolve({\n          errCode: 1,\n          errMsg: \"Category is not found\",\n        });\n      }\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\n//===============================================================================\n\nconst deleteCategory = (categoryID) => {\n  return new Promise(async (resolve, reject) => {\n    let category = await categoriesRepository.findOne(categoryID);\n    if (!category) {\n      resolve({\n        errCode: 2,\n        errMsg: \"Category not found\",\n      });\n    }\n    await categoriesRepository.updateStatus({ id: categoryID });\n    resolve({\n      errCode: 0,\n      errMsg: \"Category is deleted\",\n    });\n  });\n};\n\nmodule.exports = {\n  getAllCategory,\n  createNewCategory,\n  updateCategory,\n  deleteCategory,\n};\n"],"mappings":";;AAAA,MAAMA,oBAAoB,GAAGC,OAAO,CAAC,qCAAD,CAApC,C,CAGA;;;AACA,MAAMC,cAAc,GAAG,MAAM;EAC3B,OAAO,IAAIC,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;IAC5C,IAAI;MACF,MAAMC,KAAK,GAAG;QAAEC,MAAM,EAAE,CAAC,QAAD,EAAW,UAAX;MAAV,CAAd;MACA,MAAMC,QAAQ,GAAG,MAAMR,oBAAoB,CAACS,WAArB,CAAiCH,KAAjC,CAAvB,CAFE,CAGF;;MACAF,OAAO,CAACI,QAAD,CAAP;IACD,CALD,CAKE,OAAOE,KAAP,EAAc;MACdL,MAAM,CAACK,KAAD,CAAN;IACD;EACF,CATM,CAAP;AAUD,CAXD,C,CAaA;;;AAEA,MAAMC,iBAAiB,GAAIC,IAAD,IAAU;EAClC,OAAO,IAAIT,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;IAC5C,IAAI;MACF,MAAMG,QAAQ,GAAG,MAAMR,oBAAoB,CAACa,cAArB,CAAoCD,IAApC,CAAvB;MACAR,OAAO,CAACI,QAAD,aAACA,QAAD,uBAACA,QAAQ,CAAEM,UAAX,CAAP;IACD,CAHD,CAGE,OAAOJ,KAAP,EAAc;MACdL,MAAM,CAACK,KAAD,CAAN;IACD;EACF,CAPM,CAAP;AAQD,CATD,C,CAWA;;;AAEA,MAAMK,cAAc,GAAIH,IAAD,IAAU;EAC/B,OAAO,IAAIT,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;IAC5C,IAAI;MACF,IAAI,CAACO,IAAI,CAACI,EAAV,EAAc;QACZZ,OAAO,CAAC;UACNa,OAAO,EAAE,CADH;UAENC,MAAM,EAAE;QAFF,CAAD,CAAP;MAID;;MACD,IAAIV,QAAQ,GAAG,MAAMR,oBAAoB,CAACmB,OAArB,CAA6BP,IAAI,CAACI,EAAlC,CAArB;;MACA,IAAIR,QAAJ,EAAc;QACZ,MAAMR,oBAAoB,CAACoB,MAArB,CAA4BR,IAA5B,EAAkC;UAAEI,EAAE,EAAEJ,IAAI,CAACI;QAAX,CAAlC,CAAN;QACAZ,OAAO,CAAC;UACNa,OAAO,EAAE,CADH;UAENI,OAAO,EAAE;QAFH,CAAD,CAAP;MAID,CAND,MAMO;QACLjB,OAAO,CAAC;UACNa,OAAO,EAAE,CADH;UAENC,MAAM,EAAE;QAFF,CAAD,CAAP;MAID;IACF,CApBD,CAoBE,OAAOR,KAAP,EAAc;MACdL,MAAM,CAACK,KAAD,CAAN;IACD;EACF,CAxBM,CAAP;AAyBD,CA1BD,C,CA4BA;;;AAEA,MAAMY,cAAc,GAAIC,UAAD,IAAgB;EACrC,OAAO,IAAIpB,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;IAC5C,IAAIG,QAAQ,GAAG,MAAMR,oBAAoB,CAACmB,OAArB,CAA6BI,UAA7B,CAArB;;IACA,IAAI,CAACf,QAAL,EAAe;MACbJ,OAAO,CAAC;QACNa,OAAO,EAAE,CADH;QAENC,MAAM,EAAE;MAFF,CAAD,CAAP;IAID;;IACD,MAAMlB,oBAAoB,CAACwB,YAArB,CAAkC;MAAER,EAAE,EAAEO;IAAN,CAAlC,CAAN;IACAnB,OAAO,CAAC;MACNa,OAAO,EAAE,CADH;MAENC,MAAM,EAAE;IAFF,CAAD,CAAP;EAID,CAbM,CAAP;AAcD,CAfD;;AAiBAO,MAAM,CAACC,OAAP,GAAiB;EACfxB,cADe;EAEfS,iBAFe;EAGfI,cAHe;EAIfO;AAJe,CAAjB"}},"mtime":1667231633847},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/models/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"'use strict';\n\nconst fs = require('fs');\n\nconst path = require('path');\n\nconst Sequelize = require('sequelize');\n\nconst basename = path.basename(__filename);\nconst env = process.env.NODE_ENV || 'development';\n\nconst config = require(__dirname + '/../database.json')[env];\n\nconst db = {};\nlet sequelize;\n\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(config.database, config.username, config.password, config);\n}\n\nfs.readdirSync(__dirname).filter(file => {\n  return file.indexOf('.') !== 0 && file !== basename && file.slice(-3) === '.js';\n}).forEach(file => {\n  const model = require(path.join(__dirname, file))(sequelize, Sequelize.DataTypes);\n\n  db[model.name] = model;\n});\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\nmodule.exports = db;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJwYXRoIiwiU2VxdWVsaXplIiwiYmFzZW5hbWUiLCJfX2ZpbGVuYW1lIiwiZW52IiwicHJvY2VzcyIsIk5PREVfRU5WIiwiY29uZmlnIiwiX19kaXJuYW1lIiwiZGIiLCJzZXF1ZWxpemUiLCJ1c2VfZW52X3ZhcmlhYmxlIiwiZGF0YWJhc2UiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwicmVhZGRpclN5bmMiLCJmaWx0ZXIiLCJmaWxlIiwiaW5kZXhPZiIsInNsaWNlIiwiZm9yRWFjaCIsIm1vZGVsIiwiam9pbiIsIkRhdGFUeXBlcyIsIm5hbWUiLCJPYmplY3QiLCJrZXlzIiwibW9kZWxOYW1lIiwiYXNzb2NpYXRlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL21vZGVscy8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbmNvbnN0IFNlcXVlbGl6ZSA9IHJlcXVpcmUoJ3NlcXVlbGl6ZScpO1xuY29uc3QgYmFzZW5hbWUgPSBwYXRoLmJhc2VuYW1lKF9fZmlsZW5hbWUpO1xuY29uc3QgZW52ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgfHwgJ2RldmVsb3BtZW50JztcbmNvbnN0IGNvbmZpZyA9IHJlcXVpcmUoX19kaXJuYW1lICsgJy8uLi9kYXRhYmFzZS5qc29uJylbZW52XTtcbmNvbnN0IGRiID0ge307XG5cbmxldCBzZXF1ZWxpemU7XG5pZiAoY29uZmlnLnVzZV9lbnZfdmFyaWFibGUpIHtcbiAgc2VxdWVsaXplID0gbmV3IFNlcXVlbGl6ZShwcm9jZXNzLmVudltjb25maWcudXNlX2Vudl92YXJpYWJsZV0sIGNvbmZpZyk7XG59IGVsc2Uge1xuICBzZXF1ZWxpemUgPSBuZXcgU2VxdWVsaXplKGNvbmZpZy5kYXRhYmFzZSwgY29uZmlnLnVzZXJuYW1lLCBjb25maWcucGFzc3dvcmQsIGNvbmZpZyk7XG59XG5cbmZzXG4gIC5yZWFkZGlyU3luYyhfX2Rpcm5hbWUpXG4gIC5maWx0ZXIoZmlsZSA9PiB7XG4gICAgcmV0dXJuIChmaWxlLmluZGV4T2YoJy4nKSAhPT0gMCkgJiYgKGZpbGUgIT09IGJhc2VuYW1lKSAmJiAoZmlsZS5zbGljZSgtMykgPT09ICcuanMnKTtcbiAgfSlcbiAgLmZvckVhY2goZmlsZSA9PiB7XG4gICAgY29uc3QgbW9kZWwgPSByZXF1aXJlKHBhdGguam9pbihfX2Rpcm5hbWUsIGZpbGUpKShzZXF1ZWxpemUsIFNlcXVlbGl6ZS5EYXRhVHlwZXMpO1xuICAgIGRiW21vZGVsLm5hbWVdID0gbW9kZWw7XG4gIH0pO1xuXG5PYmplY3Qua2V5cyhkYikuZm9yRWFjaChtb2RlbE5hbWUgPT4ge1xuICBpZiAoZGJbbW9kZWxOYW1lXS5hc3NvY2lhdGUpIHtcbiAgICBkYlttb2RlbE5hbWVdLmFzc29jaWF0ZShkYik7XG4gIH1cbn0pO1xuXG5kYi5zZXF1ZWxpemUgPSBzZXF1ZWxpemU7XG5kYi5TZXF1ZWxpemUgPSBTZXF1ZWxpemU7XG5cbm1vZHVsZS5leHBvcnRzID0gZGI7XG4iXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLE1BQU1BLEVBQUUsR0FBR0MsT0FBTyxDQUFDLElBQUQsQ0FBbEI7O0FBQ0EsTUFBTUMsSUFBSSxHQUFHRCxPQUFPLENBQUMsTUFBRCxDQUFwQjs7QUFDQSxNQUFNRSxTQUFTLEdBQUdGLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1HLFFBQVEsR0FBR0YsSUFBSSxDQUFDRSxRQUFMLENBQWNDLFVBQWQsQ0FBakI7QUFDQSxNQUFNQyxHQUFHLEdBQUdDLE9BQU8sQ0FBQ0QsR0FBUixDQUFZRSxRQUFaLElBQXdCLGFBQXBDOztBQUNBLE1BQU1DLE1BQU0sR0FBR1IsT0FBTyxDQUFDUyxTQUFTLEdBQUcsbUJBQWIsQ0FBUCxDQUF5Q0osR0FBekMsQ0FBZjs7QUFDQSxNQUFNSyxFQUFFLEdBQUcsRUFBWDtBQUVBLElBQUlDLFNBQUo7O0FBQ0EsSUFBSUgsTUFBTSxDQUFDSSxnQkFBWCxFQUE2QjtFQUMzQkQsU0FBUyxHQUFHLElBQUlULFNBQUosQ0FBY0ksT0FBTyxDQUFDRCxHQUFSLENBQVlHLE1BQU0sQ0FBQ0ksZ0JBQW5CLENBQWQsRUFBb0RKLE1BQXBELENBQVo7QUFDRCxDQUZELE1BRU87RUFDTEcsU0FBUyxHQUFHLElBQUlULFNBQUosQ0FBY00sTUFBTSxDQUFDSyxRQUFyQixFQUErQkwsTUFBTSxDQUFDTSxRQUF0QyxFQUFnRE4sTUFBTSxDQUFDTyxRQUF2RCxFQUFpRVAsTUFBakUsQ0FBWjtBQUNEOztBQUVEVCxFQUFFLENBQ0NpQixXQURILENBQ2VQLFNBRGYsRUFFR1EsTUFGSCxDQUVVQyxJQUFJLElBQUk7RUFDZCxPQUFRQSxJQUFJLENBQUNDLE9BQUwsQ0FBYSxHQUFiLE1BQXNCLENBQXZCLElBQThCRCxJQUFJLEtBQUtmLFFBQXZDLElBQXFEZSxJQUFJLENBQUNFLEtBQUwsQ0FBVyxDQUFDLENBQVosTUFBbUIsS0FBL0U7QUFDRCxDQUpILEVBS0dDLE9BTEgsQ0FLV0gsSUFBSSxJQUFJO0VBQ2YsTUFBTUksS0FBSyxHQUFHdEIsT0FBTyxDQUFDQyxJQUFJLENBQUNzQixJQUFMLENBQVVkLFNBQVYsRUFBcUJTLElBQXJCLENBQUQsQ0FBUCxDQUFvQ1AsU0FBcEMsRUFBK0NULFNBQVMsQ0FBQ3NCLFNBQXpELENBQWQ7O0VBQ0FkLEVBQUUsQ0FBQ1ksS0FBSyxDQUFDRyxJQUFQLENBQUYsR0FBaUJILEtBQWpCO0FBQ0QsQ0FSSDtBQVVBSSxNQUFNLENBQUNDLElBQVAsQ0FBWWpCLEVBQVosRUFBZ0JXLE9BQWhCLENBQXdCTyxTQUFTLElBQUk7RUFDbkMsSUFBSWxCLEVBQUUsQ0FBQ2tCLFNBQUQsQ0FBRixDQUFjQyxTQUFsQixFQUE2QjtJQUMzQm5CLEVBQUUsQ0FBQ2tCLFNBQUQsQ0FBRixDQUFjQyxTQUFkLENBQXdCbkIsRUFBeEI7RUFDRDtBQUNGLENBSkQ7QUFNQUEsRUFBRSxDQUFDQyxTQUFILEdBQWVBLFNBQWY7QUFDQUQsRUFBRSxDQUFDUixTQUFILEdBQWVBLFNBQWY7QUFFQTRCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnJCLEVBQWpCIn0=","map":{"version":3,"names":["fs","require","path","Sequelize","basename","__filename","env","process","NODE_ENV","config","__dirname","db","sequelize","use_env_variable","database","username","password","readdirSync","filter","file","indexOf","slice","forEach","model","join","DataTypes","name","Object","keys","modelName","associate","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/models/","sources":["index.js"],"sourcesContent":["'use strict';\n\nconst fs = require('fs');\nconst path = require('path');\nconst Sequelize = require('sequelize');\nconst basename = path.basename(__filename);\nconst env = process.env.NODE_ENV || 'development';\nconst config = require(__dirname + '/../database.json')[env];\nconst db = {};\n\nlet sequelize;\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(config.database, config.username, config.password, config);\n}\n\nfs\n  .readdirSync(__dirname)\n  .filter(file => {\n    return (file.indexOf('.') !== 0) && (file !== basename) && (file.slice(-3) === '.js');\n  })\n  .forEach(file => {\n    const model = require(path.join(__dirname, file))(sequelize, Sequelize.DataTypes);\n    db[model.name] = model;\n  });\n\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\n\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\n\nmodule.exports = db;\n"],"mappings":"AAAA;;AAEA,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AACA,MAAME,SAAS,GAAGF,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAMG,QAAQ,GAAGF,IAAI,CAACE,QAAL,CAAcC,UAAd,CAAjB;AACA,MAAMC,GAAG,GAAGC,OAAO,CAACD,GAAR,CAAYE,QAAZ,IAAwB,aAApC;;AACA,MAAMC,MAAM,GAAGR,OAAO,CAACS,SAAS,GAAG,mBAAb,CAAP,CAAyCJ,GAAzC,CAAf;;AACA,MAAMK,EAAE,GAAG,EAAX;AAEA,IAAIC,SAAJ;;AACA,IAAIH,MAAM,CAACI,gBAAX,EAA6B;EAC3BD,SAAS,GAAG,IAAIT,SAAJ,CAAcI,OAAO,CAACD,GAAR,CAAYG,MAAM,CAACI,gBAAnB,CAAd,EAAoDJ,MAApD,CAAZ;AACD,CAFD,MAEO;EACLG,SAAS,GAAG,IAAIT,SAAJ,CAAcM,MAAM,CAACK,QAArB,EAA+BL,MAAM,CAACM,QAAtC,EAAgDN,MAAM,CAACO,QAAvD,EAAiEP,MAAjE,CAAZ;AACD;;AAEDT,EAAE,CACCiB,WADH,CACeP,SADf,EAEGQ,MAFH,CAEUC,IAAI,IAAI;EACd,OAAQA,IAAI,CAACC,OAAL,CAAa,GAAb,MAAsB,CAAvB,IAA8BD,IAAI,KAAKf,QAAvC,IAAqDe,IAAI,CAACE,KAAL,CAAW,CAAC,CAAZ,MAAmB,KAA/E;AACD,CAJH,EAKGC,OALH,CAKWH,IAAI,IAAI;EACf,MAAMI,KAAK,GAAGtB,OAAO,CAACC,IAAI,CAACsB,IAAL,CAAUd,SAAV,EAAqBS,IAArB,CAAD,CAAP,CAAoCP,SAApC,EAA+CT,SAAS,CAACsB,SAAzD,CAAd;;EACAd,EAAE,CAACY,KAAK,CAACG,IAAP,CAAF,GAAiBH,KAAjB;AACD,CARH;AAUAI,MAAM,CAACC,IAAP,CAAYjB,EAAZ,EAAgBW,OAAhB,CAAwBO,SAAS,IAAI;EACnC,IAAIlB,EAAE,CAACkB,SAAD,CAAF,CAAcC,SAAlB,EAA6B;IAC3BnB,EAAE,CAACkB,SAAD,CAAF,CAAcC,SAAd,CAAwBnB,EAAxB;EACD;AACF,CAJD;AAMAA,EAAE,CAACC,SAAH,GAAeA,SAAf;AACAD,EAAE,CAACR,SAAH,GAAeA,SAAf;AAEA4B,MAAM,CAACC,OAAP,GAAiBrB,EAAjB"}},"mtime":1664853345810},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/models/campaigns.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nconst {\n  campaignStatusDefault,\n  campaignStatus\n} = require(\"../src/constant/campaignStatus.enum.js\");\n\nconst {\n  v4: uuidv4\n} = require(\"uuid\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Campaigns extends Model {\n    static associate(models) {\n      // define association here\n      Campaigns.hasMany(models.Jobs, {\n        foreignKey: \"Campaign_id\"\n      });\n    }\n\n  }\n\n  Campaigns.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    title: {\n      allowNull: false,\n      type: DataTypes.STRING(45)\n    },\n    description: {\n      allowNull: false,\n      type: DataTypes.TEXT\n    },\n    start_date: {\n      allowNull: false,\n      type: DataTypes.DATEONLY\n    },\n    end_date: {\n      allowNull: false,\n      type: DataTypes.DATEONLY\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(campaignStatus),\n      defaultValue: campaignStatusDefault\n    }\n  }, {\n    sequelize,\n    modelName: \"Campaigns\",\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  return Campaigns;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJjYW1wYWlnblN0YXR1c0RlZmF1bHQiLCJjYW1wYWlnblN0YXR1cyIsInY0IiwidXVpZHY0IiwibW9kdWxlIiwiZXhwb3J0cyIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsIkNhbXBhaWducyIsImFzc29jaWF0ZSIsIm1vZGVscyIsImhhc01hbnkiLCJKb2JzIiwiZm9yZWlnbktleSIsImluaXQiLCJpZCIsImFsbG93TnVsbCIsInByaW1hcnlLZXkiLCJ0eXBlIiwiU1RSSU5HIiwiZGVmYXVsdFZhbHVlIiwiVVVJRFY0IiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIlRFWFQiLCJzdGFydF9kYXRlIiwiREFURU9OTFkiLCJlbmRfZGF0ZSIsInN0YXR1cyIsIkVOVU0iLCJtb2RlbE5hbWUiLCJ0aW1lc3RhbXBzIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0Il0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvbW9kZWxzLyIsInNvdXJjZXMiOlsiY2FtcGFpZ25zLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcInNlcXVlbGl6ZVwiKTtcbmNvbnN0IHtcbiAgY2FtcGFpZ25TdGF0dXNEZWZhdWx0LFxuICBjYW1wYWlnblN0YXR1cyxcbn0gPSByZXF1aXJlKFwiLi4vc3JjL2NvbnN0YW50L2NhbXBhaWduU3RhdHVzLmVudW0uanNcIik7XG5jb25zdCB7IHY0OiB1dWlkdjQgfSA9IHJlcXVpcmUoXCJ1dWlkXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xuICBjbGFzcyBDYW1wYWlnbnMgZXh0ZW5kcyBNb2RlbCB7XG4gICAgc3RhdGljIGFzc29jaWF0ZShtb2RlbHMpIHtcbiAgICAgIC8vIGRlZmluZSBhc3NvY2lhdGlvbiBoZXJlXG4gICAgICBDYW1wYWlnbnMuaGFzTWFueShtb2RlbHMuSm9icywgeyBmb3JlaWduS2V5OiBcIkNhbXBhaWduX2lkXCIgfSk7XG4gICAgfVxuICB9XG4gIENhbXBhaWducy5pbml0KFxuICAgIHtcbiAgICAgIGlkOiB7XG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHByaW1hcnlLZXk6IHRydWUsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoMzYpLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5VVUlEVjQsXG4gICAgICB9LFxuICAgICAgdGl0bGU6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyg0NSksXG4gICAgICB9LFxuICAgICAgZGVzY3JpcHRpb246IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlRFWFQsXG4gICAgICB9LFxuICAgICAgc3RhcnRfZGF0ZToge1xuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURU9OTFksXG4gICAgICB9LFxuICAgICAgZW5kX2RhdGU6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkRBVEVPTkxZLFxuICAgICAgfSxcbiAgICAgIHN0YXR1czoge1xuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuRU5VTShjYW1wYWlnblN0YXR1cyksXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogY2FtcGFpZ25TdGF0dXNEZWZhdWx0LFxuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIHNlcXVlbGl6ZSxcbiAgICAgIG1vZGVsTmFtZTogXCJDYW1wYWlnbnNcIixcbiAgICAgIHRpbWVzdGFtcHM6IGZhbHNlLFxuICAgICAgY3JlYXRlZEF0OiBmYWxzZSxcbiAgICAgIHVwZGF0ZWRBdDogZmFsc2UsXG4gICAgfVxuICApO1xuICByZXR1cm4gQ2FtcGFpZ25zO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0EsTUFBTTtFQUFFQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU07RUFDSkMscUJBREk7RUFFSkM7QUFGSSxJQUdGRixPQUFPLENBQUMsd0NBQUQsQ0FIWDs7QUFJQSxNQUFNO0VBQUVHLEVBQUUsRUFBRUM7QUFBTixJQUFpQkosT0FBTyxDQUFDLE1BQUQsQ0FBOUI7O0FBRUFLLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixDQUFDQyxTQUFELEVBQVlDLFNBQVosS0FBMEI7RUFDekMsTUFBTUMsU0FBTixTQUF3QlYsS0FBeEIsQ0FBOEI7SUFDWixPQUFUVyxTQUFTLENBQUNDLE1BQUQsRUFBUztNQUN2QjtNQUNBRixTQUFTLENBQUNHLE9BQVYsQ0FBa0JELE1BQU0sQ0FBQ0UsSUFBekIsRUFBK0I7UUFBRUMsVUFBVSxFQUFFO01BQWQsQ0FBL0I7SUFDRDs7RUFKMkI7O0VBTTlCTCxTQUFTLENBQUNNLElBQVYsQ0FDRTtJQUNFQyxFQUFFLEVBQUU7TUFDRkMsU0FBUyxFQUFFLEtBRFQ7TUFFRkMsVUFBVSxFQUFFLElBRlY7TUFHRkMsSUFBSSxFQUFFWCxTQUFTLENBQUNZLE1BQVYsQ0FBaUIsRUFBakIsQ0FISjtNQUlGQyxZQUFZLEVBQUViLFNBQVMsQ0FBQ2M7SUFKdEIsQ0FETjtJQU9FQyxLQUFLLEVBQUU7TUFDTE4sU0FBUyxFQUFFLEtBRE47TUFFTEUsSUFBSSxFQUFFWCxTQUFTLENBQUNZLE1BQVYsQ0FBaUIsRUFBakI7SUFGRCxDQVBUO0lBV0VJLFdBQVcsRUFBRTtNQUNYUCxTQUFTLEVBQUUsS0FEQTtNQUVYRSxJQUFJLEVBQUVYLFNBQVMsQ0FBQ2lCO0lBRkwsQ0FYZjtJQWVFQyxVQUFVLEVBQUU7TUFDVlQsU0FBUyxFQUFFLEtBREQ7TUFFVkUsSUFBSSxFQUFFWCxTQUFTLENBQUNtQjtJQUZOLENBZmQ7SUFtQkVDLFFBQVEsRUFBRTtNQUNSWCxTQUFTLEVBQUUsS0FESDtNQUVSRSxJQUFJLEVBQUVYLFNBQVMsQ0FBQ21CO0lBRlIsQ0FuQlo7SUF1QkVFLE1BQU0sRUFBRTtNQUNOWixTQUFTLEVBQUUsS0FETDtNQUVORSxJQUFJLEVBQUVYLFNBQVMsQ0FBQ3NCLElBQVYsQ0FBZTVCLGNBQWYsQ0FGQTtNQUdObUIsWUFBWSxFQUFFcEI7SUFIUjtFQXZCVixDQURGLEVBOEJFO0lBQ0VNLFNBREY7SUFFRXdCLFNBQVMsRUFBRSxXQUZiO0lBR0VDLFVBQVUsRUFBRSxLQUhkO0lBSUVDLFNBQVMsRUFBRSxLQUpiO0lBS0VDLFNBQVMsRUFBRTtFQUxiLENBOUJGO0VBc0NBLE9BQU96QixTQUFQO0FBQ0QsQ0E5Q0QifQ==","map":{"version":3,"names":["Model","require","campaignStatusDefault","campaignStatus","v4","uuidv4","module","exports","sequelize","DataTypes","Campaigns","associate","models","hasMany","Jobs","foreignKey","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","title","description","TEXT","start_date","DATEONLY","end_date","status","ENUM","modelName","timestamps","createdAt","updatedAt"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/models/","sources":["campaigns.model.js"],"sourcesContent":["\"use strict\";\nconst { Model } = require(\"sequelize\");\nconst {\n  campaignStatusDefault,\n  campaignStatus,\n} = require(\"../src/constant/campaignStatus.enum.js\");\nconst { v4: uuidv4 } = require(\"uuid\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Campaigns extends Model {\n    static associate(models) {\n      // define association here\n      Campaigns.hasMany(models.Jobs, { foreignKey: \"Campaign_id\" });\n    }\n  }\n  Campaigns.init(\n    {\n      id: {\n        allowNull: false,\n        primaryKey: true,\n        type: DataTypes.STRING(36),\n        defaultValue: DataTypes.UUIDV4,\n      },\n      title: {\n        allowNull: false,\n        type: DataTypes.STRING(45),\n      },\n      description: {\n        allowNull: false,\n        type: DataTypes.TEXT,\n      },\n      start_date: {\n        allowNull: false,\n        type: DataTypes.DATEONLY,\n      },\n      end_date: {\n        allowNull: false,\n        type: DataTypes.DATEONLY,\n      },\n      status: {\n        allowNull: false,\n        type: DataTypes.ENUM(campaignStatus),\n        defaultValue: campaignStatusDefault,\n      },\n    },\n    {\n      sequelize,\n      modelName: \"Campaigns\",\n      timestamps: false,\n      createdAt: false,\n      updatedAt: false,\n    }\n  );\n  return Campaigns;\n};\n"],"mappings":"AAAA;;AACA,MAAM;EAAEA;AAAF,IAAYC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAM;EACJC,qBADI;EAEJC;AAFI,IAGFF,OAAO,CAAC,wCAAD,CAHX;;AAIA,MAAM;EAAEG,EAAE,EAAEC;AAAN,IAAiBJ,OAAO,CAAC,MAAD,CAA9B;;AAEAK,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;EACzC,MAAMC,SAAN,SAAwBV,KAAxB,CAA8B;IACZ,OAATW,SAAS,CAACC,MAAD,EAAS;MACvB;MACAF,SAAS,CAACG,OAAV,CAAkBD,MAAM,CAACE,IAAzB,EAA+B;QAAEC,UAAU,EAAE;MAAd,CAA/B;IACD;;EAJ2B;;EAM9BL,SAAS,CAACM,IAAV,CACE;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB,CAHJ;MAIFC,YAAY,EAAEb,SAAS,CAACc;IAJtB,CADN;IAOEC,KAAK,EAAE;MACLN,SAAS,EAAE,KADN;MAELE,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB;IAFD,CAPT;IAWEI,WAAW,EAAE;MACXP,SAAS,EAAE,KADA;MAEXE,IAAI,EAAEX,SAAS,CAACiB;IAFL,CAXf;IAeEC,UAAU,EAAE;MACVT,SAAS,EAAE,KADD;MAEVE,IAAI,EAAEX,SAAS,CAACmB;IAFN,CAfd;IAmBEC,QAAQ,EAAE;MACRX,SAAS,EAAE,KADH;MAERE,IAAI,EAAEX,SAAS,CAACmB;IAFR,CAnBZ;IAuBEE,MAAM,EAAE;MACNZ,SAAS,EAAE,KADL;MAENE,IAAI,EAAEX,SAAS,CAACsB,IAAV,CAAe5B,cAAf,CAFA;MAGNmB,YAAY,EAAEpB;IAHR;EAvBV,CADF,EA8BE;IACEM,SADF;IAEEwB,SAAS,EAAE,WAFb;IAGEC,UAAU,EAAE,KAHd;IAIEC,SAAS,EAAE,KAJb;IAKEC,SAAS,EAAE;EALb,CA9BF;EAsCA,OAAOzB,SAAP;AACD,CA9CD"}},"mtime":1664854615618},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/campaignStatus.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  campaignStatus: [\"Not started\", \"Processing\", \"Finished\", \"Hidden\"],\n  campaignStatusDefault: \"Not started\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiY2FtcGFpZ25TdGF0dXMiLCJjYW1wYWlnblN0YXR1c0RlZmF1bHQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvY29uc3RhbnQvIiwic291cmNlcyI6WyJjYW1wYWlnblN0YXR1cy5lbnVtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGNhbXBhaWduU3RhdHVzOiBbXCJOb3Qgc3RhcnRlZFwiLCBcIlByb2Nlc3NpbmdcIiwgXCJGaW5pc2hlZFwiLCBcIkhpZGRlblwiXSxcbiAgICBjYW1wYWlnblN0YXR1c0RlZmF1bHQ6IFwiTm90IHN0YXJ0ZWRcIlxufSJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2JDLGNBQWMsRUFBRSxDQUFDLGFBQUQsRUFBZ0IsWUFBaEIsRUFBOEIsVUFBOUIsRUFBMEMsUUFBMUMsQ0FESDtFQUViQyxxQkFBcUIsRUFBRTtBQUZWLENBQWpCIn0=","map":{"version":3,"names":["module","exports","campaignStatus","campaignStatusDefault"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/","sources":["campaignStatus.enum.js"],"sourcesContent":["module.exports = {\n    campaignStatus: [\"Not started\", \"Processing\", \"Finished\", \"Hidden\"],\n    campaignStatusDefault: \"Not started\"\n}"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACbC,cAAc,EAAE,CAAC,aAAD,EAAgB,YAAhB,EAA8B,UAA9B,EAA0C,QAA1C,CADH;EAEbC,qBAAqB,EAAE;AAFV,CAAjB"}},"mtime":1666594653405},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/models/candidatedetails.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nconst {\n  applyStatus,\n  applyStatusDefault\n} = require(\"../src/constant/cvStatus.enum.js\");\n\nconst {\n  v4: uuidv4\n} = require(\"uuid\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class CandidateDetails extends Model {\n    static associate(models) {\n      // define association here\n      CandidateDetails.belongsTo(models.Members, {\n        foreignKey: \"Member_id\"\n      });\n      CandidateDetails.belongsTo(models.Staffs, {\n        foreignKey: \"HRStaff_id\"\n      });\n      CandidateDetails.belongsTo(models.Jobs, {\n        foreignKey: \"Job_id\"\n      });\n      CandidateDetails.hasMany(models.Interviews, {\n        foreignKey: \"CandidateDetail_id\"\n      });\n    }\n\n  }\n\n  CandidateDetails.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    identity_number: {\n      allowNull: false,\n      type: DataTypes.STRING(12)\n    },\n    resume_url: {\n      allowNull: false,\n      type: DataTypes.TEXT\n    },\n    phone: {\n      allowNull: false,\n      type: DataTypes.STRING(10)\n    },\n    applied_status: {\n      allowNull: false,\n      type: DataTypes.ENUM(applyStatus),\n      defaultValue: applyStatusDefault\n    },\n    dob: {\n      allowNull: false,\n      type: DataTypes.DATEONLY\n    },\n    adress: {\n      allowNull: false,\n      type: DataTypes.TEXT\n    },\n    Job_id: {\n      allowNull: false,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4,\n      references: {\n        model: \"Jobs\",\n        key: \"id\"\n      }\n    },\n    HRStaff_id: {\n      allowNull: false,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4,\n      references: {\n        model: \"Staffs\",\n        key: \"id\"\n      }\n    },\n    Member_id: {\n      allowNull: false,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4,\n      references: {\n        model: \"Members\",\n        key: \"id\"\n      }\n    }\n  }, {\n    sequelize,\n    modelName: \"CandidateDetails\",\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  return CandidateDetails;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJhcHBseVN0YXR1cyIsImFwcGx5U3RhdHVzRGVmYXVsdCIsInY0IiwidXVpZHY0IiwibW9kdWxlIiwiZXhwb3J0cyIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsIkNhbmRpZGF0ZURldGFpbHMiLCJhc3NvY2lhdGUiLCJtb2RlbHMiLCJiZWxvbmdzVG8iLCJNZW1iZXJzIiwiZm9yZWlnbktleSIsIlN0YWZmcyIsIkpvYnMiLCJoYXNNYW55IiwiSW50ZXJ2aWV3cyIsImluaXQiLCJpZCIsImFsbG93TnVsbCIsInByaW1hcnlLZXkiLCJ0eXBlIiwiU1RSSU5HIiwiZGVmYXVsdFZhbHVlIiwiVVVJRFY0IiwiaWRlbnRpdHlfbnVtYmVyIiwicmVzdW1lX3VybCIsIlRFWFQiLCJwaG9uZSIsImFwcGxpZWRfc3RhdHVzIiwiRU5VTSIsImRvYiIsIkRBVEVPTkxZIiwiYWRyZXNzIiwiSm9iX2lkIiwicmVmZXJlbmNlcyIsIm1vZGVsIiwia2V5IiwiSFJTdGFmZl9pZCIsIk1lbWJlcl9pZCIsIm1vZGVsTmFtZSIsInRpbWVzdGFtcHMiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9tb2RlbHMvIiwic291cmNlcyI6WyJjYW5kaWRhdGVkZXRhaWxzLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcInNlcXVlbGl6ZVwiKTtcbmNvbnN0IHtcbiAgYXBwbHlTdGF0dXMsXG4gIGFwcGx5U3RhdHVzRGVmYXVsdCxcbn0gPSByZXF1aXJlKFwiLi4vc3JjL2NvbnN0YW50L2N2U3RhdHVzLmVudW0uanNcIik7XG5jb25zdCB7IHY0OiB1dWlkdjQgfSA9IHJlcXVpcmUoXCJ1dWlkXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xuICBjbGFzcyBDYW5kaWRhdGVEZXRhaWxzIGV4dGVuZHMgTW9kZWwge1xuICAgIHN0YXRpYyBhc3NvY2lhdGUobW9kZWxzKSB7XG4gICAgICAvLyBkZWZpbmUgYXNzb2NpYXRpb24gaGVyZVxuICAgICAgQ2FuZGlkYXRlRGV0YWlscy5iZWxvbmdzVG8obW9kZWxzLk1lbWJlcnMsIHsgZm9yZWlnbktleTogXCJNZW1iZXJfaWRcIiB9KTtcbiAgICAgIENhbmRpZGF0ZURldGFpbHMuYmVsb25nc1RvKG1vZGVscy5TdGFmZnMsIHsgZm9yZWlnbktleTogXCJIUlN0YWZmX2lkXCIgfSk7XG4gICAgICBDYW5kaWRhdGVEZXRhaWxzLmJlbG9uZ3NUbyhtb2RlbHMuSm9icywgeyBmb3JlaWduS2V5OiBcIkpvYl9pZFwiIH0pO1xuICAgICAgQ2FuZGlkYXRlRGV0YWlscy5oYXNNYW55KG1vZGVscy5JbnRlcnZpZXdzLCB7XG4gICAgICAgIGZvcmVpZ25LZXk6IFwiQ2FuZGlkYXRlRGV0YWlsX2lkXCIsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgQ2FuZGlkYXRlRGV0YWlscy5pbml0KFxuICAgIHtcbiAgICAgIGlkOiB7XG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHByaW1hcnlLZXk6IHRydWUsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoMzYpLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5VVUlEVjQsXG4gICAgICB9LFxuICAgICAgaWRlbnRpdHlfbnVtYmVyOiB7XG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoMTIpLFxuICAgICAgfSxcbiAgICAgIHJlc3VtZV91cmw6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlRFWFQsXG4gICAgICB9LFxuICAgICAgcGhvbmU6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygxMCksXG4gICAgICB9LFxuICAgICAgYXBwbGllZF9zdGF0dXM6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkVOVU0oYXBwbHlTdGF0dXMpLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IGFwcGx5U3RhdHVzRGVmYXVsdCxcbiAgICAgIH0sXG4gICAgICBkb2I6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkRBVEVPTkxZLFxuICAgICAgfSxcbiAgICAgIGFkcmVzczoge1xuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuVEVYVCxcbiAgICAgIH0sXG4gICAgICBKb2JfaWQ6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygzNiksXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLlVVSURWNCxcbiAgICAgICAgcmVmZXJlbmNlczoge1xuICAgICAgICAgIG1vZGVsOiBcIkpvYnNcIixcbiAgICAgICAgICBrZXk6IFwiaWRcIixcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBIUlN0YWZmX2lkOiB7XG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoMzYpLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5VVUlEVjQsXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcbiAgICAgICAgICBtb2RlbDogXCJTdGFmZnNcIixcbiAgICAgICAgICBrZXk6IFwiaWRcIixcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBNZW1iZXJfaWQ6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygzNiksXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLlVVSURWNCxcbiAgICAgICAgcmVmZXJlbmNlczoge1xuICAgICAgICAgIG1vZGVsOiBcIk1lbWJlcnNcIixcbiAgICAgICAgICBrZXk6IFwiaWRcIixcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBzZXF1ZWxpemUsXG4gICAgICBtb2RlbE5hbWU6IFwiQ2FuZGlkYXRlRGV0YWlsc1wiLFxuICAgICAgdGltZXN0YW1wczogZmFsc2UsXG4gICAgICBjcmVhdGVkQXQ6IGZhbHNlLFxuICAgICAgdXBkYXRlZEF0OiBmYWxzZSxcbiAgICB9XG4gICk7XG4gIHJldHVybiBDYW5kaWRhdGVEZXRhaWxzO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0EsTUFBTTtFQUFFQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU07RUFDSkMsV0FESTtFQUVKQztBQUZJLElBR0ZGLE9BQU8sQ0FBQyxrQ0FBRCxDQUhYOztBQUlBLE1BQU07RUFBRUcsRUFBRSxFQUFFQztBQUFOLElBQWlCSixPQUFPLENBQUMsTUFBRCxDQUE5Qjs7QUFFQUssTUFBTSxDQUFDQyxPQUFQLEdBQWlCLENBQUNDLFNBQUQsRUFBWUMsU0FBWixLQUEwQjtFQUN6QyxNQUFNQyxnQkFBTixTQUErQlYsS0FBL0IsQ0FBcUM7SUFDbkIsT0FBVFcsU0FBUyxDQUFDQyxNQUFELEVBQVM7TUFDdkI7TUFDQUYsZ0JBQWdCLENBQUNHLFNBQWpCLENBQTJCRCxNQUFNLENBQUNFLE9BQWxDLEVBQTJDO1FBQUVDLFVBQVUsRUFBRTtNQUFkLENBQTNDO01BQ0FMLGdCQUFnQixDQUFDRyxTQUFqQixDQUEyQkQsTUFBTSxDQUFDSSxNQUFsQyxFQUEwQztRQUFFRCxVQUFVLEVBQUU7TUFBZCxDQUExQztNQUNBTCxnQkFBZ0IsQ0FBQ0csU0FBakIsQ0FBMkJELE1BQU0sQ0FBQ0ssSUFBbEMsRUFBd0M7UUFBRUYsVUFBVSxFQUFFO01B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","map":{"version":3,"names":["Model","require","applyStatus","applyStatusDefault","v4","uuidv4","module","exports","sequelize","DataTypes","CandidateDetails","associate","models","belongsTo","Members","foreignKey","Staffs","Jobs","hasMany","Interviews","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","identity_number","resume_url","TEXT","phone","applied_status","ENUM","dob","DATEONLY","adress","Job_id","references","model","key","HRStaff_id","Member_id","modelName","timestamps","createdAt","updatedAt"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/models/","sources":["candidatedetails.model.js"],"sourcesContent":["\"use strict\";\nconst { Model } = require(\"sequelize\");\nconst {\n  applyStatus,\n  applyStatusDefault,\n} = require(\"../src/constant/cvStatus.enum.js\");\nconst { v4: uuidv4 } = require(\"uuid\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class CandidateDetails extends Model {\n    static associate(models) {\n      // define association here\n      CandidateDetails.belongsTo(models.Members, { foreignKey: \"Member_id\" });\n      CandidateDetails.belongsTo(models.Staffs, { foreignKey: \"HRStaff_id\" });\n      CandidateDetails.belongsTo(models.Jobs, { foreignKey: \"Job_id\" });\n      CandidateDetails.hasMany(models.Interviews, {\n        foreignKey: \"CandidateDetail_id\",\n      });\n    }\n  }\n  CandidateDetails.init(\n    {\n      id: {\n        allowNull: false,\n        primaryKey: true,\n        type: DataTypes.STRING(36),\n        defaultValue: DataTypes.UUIDV4,\n      },\n      identity_number: {\n        allowNull: false,\n        type: DataTypes.STRING(12),\n      },\n      resume_url: {\n        allowNull: false,\n        type: DataTypes.TEXT,\n      },\n      phone: {\n        allowNull: false,\n        type: DataTypes.STRING(10),\n      },\n      applied_status: {\n        allowNull: false,\n        type: DataTypes.ENUM(applyStatus),\n        defaultValue: applyStatusDefault,\n      },\n      dob: {\n        allowNull: false,\n        type: DataTypes.DATEONLY,\n      },\n      adress: {\n        allowNull: false,\n        type: DataTypes.TEXT,\n      },\n      Job_id: {\n        allowNull: false,\n        type: DataTypes.STRING(36),\n        defaultValue: DataTypes.UUIDV4,\n        references: {\n          model: \"Jobs\",\n          key: \"id\",\n        },\n      },\n      HRStaff_id: {\n        allowNull: false,\n        type: DataTypes.STRING(36),\n        defaultValue: DataTypes.UUIDV4,\n        references: {\n          model: \"Staffs\",\n          key: \"id\",\n        },\n      },\n      Member_id: {\n        allowNull: false,\n        type: DataTypes.STRING(36),\n        defaultValue: DataTypes.UUIDV4,\n        references: {\n          model: \"Members\",\n          key: \"id\",\n        },\n      },\n    },\n    {\n      sequelize,\n      modelName: \"CandidateDetails\",\n      timestamps: false,\n      createdAt: false,\n      updatedAt: false,\n    }\n  );\n  return CandidateDetails;\n};\n"],"mappings":"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"}},"mtime":1664854620603},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/cvStatus.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  applyStatus: [\"Pending\", \"Approve\", \"Reject\"],\n  applyStatusDefault: \"Pending\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiYXBwbHlTdGF0dXMiLCJhcHBseVN0YXR1c0RlZmF1bHQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvY29uc3RhbnQvIiwic291cmNlcyI6WyJjdlN0YXR1cy5lbnVtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICBhcHBseVN0YXR1czogW1wiUGVuZGluZ1wiLCBcIkFwcHJvdmVcIiwgXCJSZWplY3RcIl0sXG4gIGFwcGx5U3RhdHVzRGVmYXVsdDogXCJQZW5kaW5nXCIsXG59O1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7RUFDZkMsV0FBVyxFQUFFLENBQUMsU0FBRCxFQUFZLFNBQVosRUFBdUIsUUFBdkIsQ0FERTtFQUVmQyxrQkFBa0IsRUFBRTtBQUZMLENBQWpCIn0=","map":{"version":3,"names":["module","exports","applyStatus","applyStatusDefault"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/","sources":["cvStatus.enum.js"],"sourcesContent":["module.exports = {\n  applyStatus: [\"Pending\", \"Approve\", \"Reject\"],\n  applyStatusDefault: \"Pending\",\n};\n"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACfC,WAAW,EAAE,CAAC,SAAD,EAAY,SAAZ,EAAuB,QAAvB,CADE;EAEfC,kBAAkB,EAAE;AAFL,CAAjB"}},"mtime":1666279748609},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/models/interviews.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nconst {\n  interviewStatus,\n  interviewStatusDefault\n} = require(\"../src/constant/interviewStatus.enum.js\");\n\nconst {\n  v4: uuidv4\n} = require(\"uuid\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Interviews extends Model {\n    static associate(models) {\n      // define association here\n      Interviews.belongsTo(models.CandidateDetails, {\n        foreignKey: \"CandidateDetail_id\"\n      });\n      Interviews.belongsTo(models.Staffs, {\n        foreignKey: \"Interviewer_id\"\n      });\n    }\n\n  }\n\n  Interviews.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    room: {\n      allowNull: false,\n      type: DataTypes.STRING(20)\n    },\n    start_time: {\n      allowNull: false,\n      type: DataTypes.DATE\n    },\n    end_time: {\n      allowNull: false,\n      type: DataTypes.DATE\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(interviewStatus),\n      defaultValue: interviewStatusDefault\n    },\n    mark: {\n      allowNull: false,\n      type: DataTypes.INTEGER\n    },\n    comment: {\n      allowNull: false,\n      type: DataTypes.TEXT\n    },\n    Interviewer_id: {\n      allowNull: false,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4,\n      references: {\n        model: \"Staffs\",\n        key: \"id\"\n      }\n    },\n    CandidateDetail_id: {\n      allowNull: false,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4,\n      references: {\n        model: \"CandidateDetails\",\n        key: \"id\"\n      }\n    }\n  }, {\n    sequelize,\n    modelName: \"Interviews\",\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  return Interviews;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJpbnRlcnZpZXdTdGF0dXMiLCJpbnRlcnZpZXdTdGF0dXNEZWZhdWx0IiwidjQiLCJ1dWlkdjQiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiSW50ZXJ2aWV3cyIsImFzc29jaWF0ZSIsIm1vZGVscyIsImJlbG9uZ3NUbyIsIkNhbmRpZGF0ZURldGFpbHMiLCJmb3JlaWduS2V5IiwiU3RhZmZzIiwiaW5pdCIsImlkIiwiYWxsb3dOdWxsIiwicHJpbWFyeUtleSIsInR5cGUiLCJTVFJJTkciLCJkZWZhdWx0VmFsdWUiLCJVVUlEVjQiLCJyb29tIiwic3RhcnRfdGltZSIsIkRBVEUiLCJlbmRfdGltZSIsInN0YXR1cyIsIkVOVU0iLCJtYXJrIiwiSU5URUdFUiIsImNvbW1lbnQiLCJURVhUIiwiSW50ZXJ2aWV3ZXJfaWQiLCJyZWZlcmVuY2VzIiwibW9kZWwiLCJrZXkiLCJDYW5kaWRhdGVEZXRhaWxfaWQiLCJtb2RlbE5hbWUiLCJ0aW1lc3RhbXBzIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0Il0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvbW9kZWxzLyIsInNvdXJjZXMiOlsiaW50ZXJ2aWV3cy5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJzZXF1ZWxpemVcIik7XG5jb25zdCB7XG4gIGludGVydmlld1N0YXR1cyxcbiAgaW50ZXJ2aWV3U3RhdHVzRGVmYXVsdCxcbn0gPSByZXF1aXJlKFwiLi4vc3JjL2NvbnN0YW50L2ludGVydmlld1N0YXR1cy5lbnVtLmpzXCIpO1xuY29uc3QgeyB2NDogdXVpZHY0IH0gPSByZXF1aXJlKFwidXVpZFwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoc2VxdWVsaXplLCBEYXRhVHlwZXMpID0+IHtcbiAgY2xhc3MgSW50ZXJ2aWV3cyBleHRlbmRzIE1vZGVsIHtcbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xuICAgICAgLy8gZGVmaW5lIGFzc29jaWF0aW9uIGhlcmVcbiAgICAgIEludGVydmlld3MuYmVsb25nc1RvKG1vZGVscy5DYW5kaWRhdGVEZXRhaWxzLCB7XG4gICAgICAgIGZvcmVpZ25LZXk6IFwiQ2FuZGlkYXRlRGV0YWlsX2lkXCIsXG4gICAgICB9KTtcbiAgICAgIEludGVydmlld3MuYmVsb25nc1RvKG1vZGVscy5TdGFmZnMsIHsgZm9yZWlnbktleTogXCJJbnRlcnZpZXdlcl9pZFwiIH0pO1xuICAgIH1cbiAgfVxuICBJbnRlcnZpZXdzLmluaXQoXG4gICAge1xuICAgICAgaWQ6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygzNiksXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLlVVSURWNCxcbiAgICAgIH0sXG4gICAgICByb29tOiB7XG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoMjApLFxuICAgICAgfSxcbiAgICAgIHN0YXJ0X3RpbWU6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkRBVEUsXG4gICAgICB9LFxuICAgICAgZW5kX3RpbWU6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkRBVEUsXG4gICAgICB9LFxuICAgICAgc3RhdHVzOiB7XG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5FTlVNKGludGVydmlld1N0YXR1cyksXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogaW50ZXJ2aWV3U3RhdHVzRGVmYXVsdCxcbiAgICAgIH0sXG4gICAgICBtYXJrOiB7XG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgICAgfSxcbiAgICAgIGNvbW1lbnQ6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlRFWFQsXG4gICAgICB9LFxuICAgICAgSW50ZXJ2aWV3ZXJfaWQ6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygzNiksXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLlVVSURWNCxcbiAgICAgICAgcmVmZXJlbmNlczoge1xuICAgICAgICAgIG1vZGVsOiBcIlN0YWZmc1wiLFxuICAgICAgICAgIGtleTogXCJpZFwiLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIENhbmRpZGF0ZURldGFpbF9pZDoge1xuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDM2KSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuVVVJRFY0LFxuICAgICAgICByZWZlcmVuY2VzOiB7XG4gICAgICAgICAgbW9kZWw6IFwiQ2FuZGlkYXRlRGV0YWlsc1wiLFxuICAgICAgICAgIGtleTogXCJpZFwiLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIHNlcXVlbGl6ZSxcbiAgICAgIG1vZGVsTmFtZTogXCJJbnRlcnZpZXdzXCIsXG4gICAgICB0aW1lc3RhbXBzOiBmYWxzZSxcbiAgICAgIGNyZWF0ZWRBdDogZmFsc2UsXG4gICAgICB1cGRhdGVkQXQ6IGZhbHNlLFxuICAgIH1cbiAgKTtcbiAgcmV0dXJuIEludGVydmlld3M7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQSxNQUFNO0VBQUVBO0FBQUYsSUFBWUMsT0FBTyxDQUFDLFdBQUQsQ0FB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","map":{"version":3,"names":["Model","require","interviewStatus","interviewStatusDefault","v4","uuidv4","module","exports","sequelize","DataTypes","Interviews","associate","models","belongsTo","CandidateDetails","foreignKey","Staffs","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","room","start_time","DATE","end_time","status","ENUM","mark","INTEGER","comment","TEXT","Interviewer_id","references","model","key","CandidateDetail_id","modelName","timestamps","createdAt","updatedAt"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/models/","sources":["interviews.model.js"],"sourcesContent":["\"use strict\";\nconst { Model } = require(\"sequelize\");\nconst {\n  interviewStatus,\n  interviewStatusDefault,\n} = require(\"../src/constant/interviewStatus.enum.js\");\nconst { v4: uuidv4 } = require(\"uuid\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Interviews extends Model {\n    static associate(models) {\n      // define association here\n      Interviews.belongsTo(models.CandidateDetails, {\n        foreignKey: \"CandidateDetail_id\",\n      });\n      Interviews.belongsTo(models.Staffs, { foreignKey: \"Interviewer_id\" });\n    }\n  }\n  Interviews.init(\n    {\n      id: {\n        allowNull: false,\n        primaryKey: true,\n        type: DataTypes.STRING(36),\n        defaultValue: DataTypes.UUIDV4,\n      },\n      room: {\n        allowNull: false,\n        type: DataTypes.STRING(20),\n      },\n      start_time: {\n        allowNull: false,\n        type: DataTypes.DATE,\n      },\n      end_time: {\n        allowNull: false,\n        type: DataTypes.DATE,\n      },\n      status: {\n        allowNull: false,\n        type: DataTypes.ENUM(interviewStatus),\n        defaultValue: interviewStatusDefault,\n      },\n      mark: {\n        allowNull: false,\n        type: DataTypes.INTEGER,\n      },\n      comment: {\n        allowNull: false,\n        type: DataTypes.TEXT,\n      },\n      Interviewer_id: {\n        allowNull: false,\n        type: DataTypes.STRING(36),\n        defaultValue: DataTypes.UUIDV4,\n        references: {\n          model: \"Staffs\",\n          key: \"id\",\n        },\n      },\n      CandidateDetail_id: {\n        allowNull: false,\n        type: DataTypes.STRING(36),\n        defaultValue: DataTypes.UUIDV4,\n        references: {\n          model: \"CandidateDetails\",\n          key: \"id\",\n        },\n      },\n    },\n    {\n      sequelize,\n      modelName: \"Interviews\",\n      timestamps: false,\n      createdAt: false,\n      updatedAt: false,\n    }\n  );\n  return Interviews;\n};\n"],"mappings":"AAAA;;AACA,MAAM;EAAEA;AAAF,IAAYC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAM;EACJC,eADI;EAEJC;AAFI,IAGFF,OAAO,CAAC,yCAAD,CAHX;;AAIA,MAAM;EAAEG,EAAE,EAAEC;AAAN,IAAiBJ,OAAO,CAAC,MAAD,CAA9B;;AAEAK,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;EACzC,MAAMC,UAAN,SAAyBV,KAAzB,CAA+B;IACb,OAATW,SAAS,CAACC,MAAD,EAAS;MACvB;MACAF,UAAU,CAACG,SAAX,CAAqBD,MAAM,CAACE,gBAA5B,EAA8C;QAC5CC,UAAU,EAAE;MADgC,CAA9C;MAGAL,UAAU,CAACG,SAAX,CAAqBD,MAAM,CAACI,MAA5B,EAAoC;QAAED,UAAU,EAAE;MAAd,CAApC;IACD;;EAP4B;;EAS/BL,UAAU,CAACO,IAAX,CACE;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEZ,SAAS,CAACa,MAAV,CAAiB,EAAjB,CAHJ;MAIFC,YAAY,EAAEd,SAAS,CAACe;IAJtB,CADN;IAOEC,IAAI,EAAE;MACJN,SAAS,EAAE,KADP;MAEJE,IAAI,EAAEZ,SAAS,CAACa,MAAV,CAAiB,EAAjB;IAFF,CAPR;IAWEI,UAAU,EAAE;MACVP,SAAS,EAAE,KADD;MAEVE,IAAI,EAAEZ,SAAS,CAACkB;IAFN,CAXd;IAeEC,QAAQ,EAAE;MACRT,SAAS,EAAE,KADH;MAERE,IAAI,EAAEZ,SAAS,CAACkB;IAFR,CAfZ;IAmBEE,MAAM,EAAE;MACNV,SAAS,EAAE,KADL;MAENE,IAAI,EAAEZ,SAAS,CAACqB,IAAV,CAAe5B,eAAf,CAFA;MAGNqB,YAAY,EAAEpB;IAHR,CAnBV;IAwBE4B,IAAI,EAAE;MACJZ,SAAS,EAAE,KADP;MAEJE,IAAI,EAAEZ,SAAS,CAACuB;IAFZ,CAxBR;IA4BEC,OAAO,EAAE;MACPd,SAAS,EAAE,KADJ;MAEPE,IAAI,EAAEZ,SAAS,CAACyB;IAFT,CA5BX;IAgCEC,cAAc,EAAE;MACdhB,SAAS,EAAE,KADG;MAEdE,IAAI,EAAEZ,SAAS,CAACa,MAAV,CAAiB,EAAjB,CAFQ;MAGdC,YAAY,EAAEd,SAAS,CAACe,MAHV;MAIdY,UAAU,EAAE;QACVC,KAAK,EAAE,QADG;QAEVC,GAAG,EAAE;MAFK;IAJE,CAhClB;IAyCEC,kBAAkB,EAAE;MAClBpB,SAAS,EAAE,KADO;MAElBE,IAAI,EAAEZ,SAAS,CAACa,MAAV,CAAiB,EAAjB,CAFY;MAGlBC,YAAY,EAAEd,SAAS,CAACe,MAHN;MAIlBY,UAAU,EAAE;QACVC,KAAK,EAAE,kBADG;QAEVC,GAAG,EAAE;MAFK;IAJM;EAzCtB,CADF,EAoDE;IACE9B,SADF;IAEEgC,SAAS,EAAE,YAFb;IAGEC,UAAU,EAAE,KAHd;IAIEC,SAAS,EAAE,KAJb;IAKEC,SAAS,EAAE;EALb,CApDF;EA4DA,OAAOjC,UAAP;AACD,CAvED"}},"mtime":1664854628197},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/interviewStatus.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  interviewStatus: [\"Waiting\", \"Done\", \"Absent\", \"Hidden\"],\n  interviewStatusDefault: \"Waiting\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiaW50ZXJ2aWV3U3RhdHVzIiwiaW50ZXJ2aWV3U3RhdHVzRGVmYXVsdCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9jb25zdGFudC8iLCJzb3VyY2VzIjpbImludGVydmlld1N0YXR1cy5lbnVtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICBpbnRlcnZpZXdTdGF0dXM6IFtcIldhaXRpbmdcIiwgXCJEb25lXCIsIFwiQWJzZW50XCIsIFwiSGlkZGVuXCJdLFxuICBpbnRlcnZpZXdTdGF0dXNEZWZhdWx0OiBcIldhaXRpbmdcIixcbn07XG4iXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmQyxlQUFlLEVBQUUsQ0FBQyxTQUFELEVBQVksTUFBWixFQUFvQixRQUFwQixFQUE4QixRQUE5QixDQURGO0VBRWZDLHNCQUFzQixFQUFFO0FBRlQsQ0FBakIifQ==","map":{"version":3,"names":["module","exports","interviewStatus","interviewStatusDefault"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/","sources":["interviewStatus.enum.js"],"sourcesContent":["module.exports = {\n  interviewStatus: [\"Waiting\", \"Done\", \"Absent\", \"Hidden\"],\n  interviewStatusDefault: \"Waiting\",\n};\n"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACfC,eAAe,EAAE,CAAC,SAAD,EAAY,MAAZ,EAAoB,QAApB,EAA8B,QAA9B,CADF;EAEfC,sBAAsB,EAAE;AAFT,CAAjB"}},"mtime":1667231633827},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/models/members.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nconst {\n  v4: uuidv4\n} = require(\"uuid\");\n\nconst {\n  userStatus,\n  userStatusDefault\n} = require(\"../src/constant/userStatus.enum.js\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Members extends Model {\n    static associate(models) {\n      // define association here\n      Members.hasMany(models.CandidateDetails, {\n        foreignKey: \"Member_id\"\n      });\n    }\n\n  }\n\n  Members.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    email: {\n      allowNull: false,\n      type: DataTypes.STRING(320)\n    },\n    fullname: {\n      allowNull: false,\n      type: DataTypes.STRING(60)\n    },\n    password: {\n      allowNull: false,\n      type: DataTypes.STRING(60)\n    },\n    avatar: {\n      allowNull: true,\n      type: DataTypes.TEXT\n    },\n    current_resume_url: {\n      allowNull: true,\n      type: DataTypes.TEXT\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(userStatus),\n      defaultValue: userStatusDefault\n    }\n  }, {\n    sequelize,\n    modelName: \"Members\",\n    createdAt: false,\n    updatedAt: false\n  });\n  return Members;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJ2NCIsInV1aWR2NCIsInVzZXJTdGF0dXMiLCJ1c2VyU3RhdHVzRGVmYXVsdCIsIm1vZHVsZSIsImV4cG9ydHMiLCJzZXF1ZWxpemUiLCJEYXRhVHlwZXMiLCJNZW1iZXJzIiwiYXNzb2NpYXRlIiwibW9kZWxzIiwiaGFzTWFueSIsIkNhbmRpZGF0ZURldGFpbHMiLCJmb3JlaWduS2V5IiwiaW5pdCIsImlkIiwiYWxsb3dOdWxsIiwicHJpbWFyeUtleSIsInR5cGUiLCJTVFJJTkciLCJkZWZhdWx0VmFsdWUiLCJVVUlEVjQiLCJlbWFpbCIsImZ1bGxuYW1lIiwicGFzc3dvcmQiLCJhdmF0YXIiLCJURVhUIiwiY3VycmVudF9yZXN1bWVfdXJsIiwic3RhdHVzIiwiRU5VTSIsIm1vZGVsTmFtZSIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL21vZGVscy8iLCJzb3VyY2VzIjpbIm1lbWJlcnMubW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB7IE1vZGVsIH0gPSByZXF1aXJlKFwic2VxdWVsaXplXCIpO1xuY29uc3QgeyB2NDogdXVpZHY0IH0gPSByZXF1aXJlKFwidXVpZFwiKTtcbmNvbnN0IHtcbiAgdXNlclN0YXR1cyxcbiAgdXNlclN0YXR1c0RlZmF1bHQsXG59ID0gcmVxdWlyZShcIi4uL3NyYy9jb25zdGFudC91c2VyU3RhdHVzLmVudW0uanNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gKHNlcXVlbGl6ZSwgRGF0YVR5cGVzKSA9PiB7XG4gIGNsYXNzIE1lbWJlcnMgZXh0ZW5kcyBNb2RlbCB7XG4gICAgc3RhdGljIGFzc29jaWF0ZShtb2RlbHMpIHtcbiAgICAgIC8vIGRlZmluZSBhc3NvY2lhdGlvbiBoZXJlXG4gICAgICBNZW1iZXJzLmhhc01hbnkobW9kZWxzLkNhbmRpZGF0ZURldGFpbHMsIHsgZm9yZWlnbktleTogXCJNZW1iZXJfaWRcIiB9KTtcbiAgICB9XG4gIH1cbiAgTWVtYmVycy5pbml0KFxuICAgIHtcbiAgICAgIGlkOiB7XG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHByaW1hcnlLZXk6IHRydWUsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoMzYpLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5VVUlEVjQsXG4gICAgICB9LFxuICAgICAgZW1haWw6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygzMjApLFxuICAgICAgfSxcbiAgICAgIGZ1bGxuYW1lOiB7XG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoNjApLFxuICAgICAgfSxcbiAgICAgIHBhc3N3b3JkOiB7XG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoNjApLFxuICAgICAgfSxcbiAgICAgIGF2YXRhcjoge1xuICAgICAgICBhbGxvd051bGw6IHRydWUsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5URVhULFxuICAgICAgfSxcbiAgICAgIGN1cnJlbnRfcmVzdW1lX3VybDoge1xuICAgICAgICBhbGxvd051bGw6IHRydWUsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5URVhULFxuICAgICAgfSxcbiAgICAgIHN0YXR1czoge1xuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuRU5VTSh1c2VyU3RhdHVzKSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiB1c2VyU3RhdHVzRGVmYXVsdCxcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBzZXF1ZWxpemUsXG4gICAgICBtb2RlbE5hbWU6IFwiTWVtYmVyc1wiLFxuICAgICAgY3JlYXRlZEF0OiBmYWxzZSxcbiAgICAgIHVwZGF0ZWRBdDogZmFsc2UsXG4gICAgfVxuICApO1xuICByZXR1cm4gTWVtYmVycztcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBLE1BQU07RUFBRUE7QUFBRixJQUFZQyxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxNQUFNO0VBQUVDLEVBQUUsRUFBRUM7QUFBTixJQUFpQkYsT0FBTyxDQUFDLE1BQUQsQ0FBOUI7O0FBQ0EsTUFBTTtFQUNKRyxVQURJO0VBRUpDO0FBRkksSUFHRkosT0FBTyxDQUFDLG9DQUFELENBSFg7O0FBS0FLLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixDQUFDQyxTQUFELEVBQVlDLFNBQVosS0FBMEI7RUFDekMsTUFBTUMsT0FBTixTQUFzQlYsS0FBdEIsQ0FBNEI7SUFDVixPQUFUVyxTQUFTLENBQUNDLE1BQUQsRUFBUztNQUN2QjtNQUNBRixPQUFPLENBQUNHLE9BQVIsQ0FBZ0JELE1BQU0sQ0FBQ0UsZ0JBQXZCLEVBQXlDO1FBQUVDLFVBQVUsRUFBRTtNQUFkLENBQXpDO0lBQ0Q7O0VBSnlCOztFQU01QkwsT0FBTyxDQUFDTSxJQUFSLENBQ0U7SUFDRUMsRUFBRSxFQUFFO01BQ0ZDLFNBQVMsRUFBRSxLQURUO01BRUZDLFVBQVUsRUFBRSxJQUZWO01BR0ZDLElBQUksRUFBRVgsU0FBUyxDQUFDWSxNQUFWLENBQWlCLEVBQWpCLENBSEo7TUFJRkMsWUFBWSxFQUFFYixTQUFTLENBQUNjO0lBSnRCLENBRE47SUFPRUMsS0FBSyxFQUFFO01BQ0xOLFNBQVMsRUFBRSxLQUROO01BRUxFLElBQUksRUFBRVgsU0FBUyxDQUFDWSxNQUFWLENBQWlCLEdBQWpCO0lBRkQsQ0FQVDtJQVdFSSxRQUFRLEVBQUU7TUFDUlAsU0FBUyxFQUFFLEtBREg7TUFFUkUsSUFBSSxFQUFFWCxTQUFTLENBQUNZLE1BQVYsQ0FBaUIsRUFBakI7SUFGRSxDQVhaO0lBZUVLLFFBQVEsRUFBRTtNQUNSUixTQUFTLEVBQUUsS0FESDtNQUVSRSxJQUFJLEVBQUVYLFNBQVMsQ0FBQ1ksTUFBVixDQUFpQixFQUFqQjtJQUZFLENBZlo7SUFtQkVNLE1BQU0sRUFBRTtNQUNOVCxTQUFTLEVBQUUsSUFETDtNQUVORSxJQUFJLEVBQUVYLFNBQVMsQ0FBQ21CO0lBRlYsQ0FuQlY7SUF1QkVDLGtCQUFrQixFQUFFO01BQ2xCWCxTQUFTLEVBQUUsSUFETztNQUVsQkUsSUFBSSxFQUFFWCxTQUFTLENBQUNtQjtJQUZFLENBdkJ0QjtJQTJCRUUsTUFBTSxFQUFFO01BQ05aLFNBQVMsRUFBRSxLQURMO01BRU5FLElBQUksRUFBRVgsU0FBUyxDQUFDc0IsSUFBVixDQUFlM0IsVUFBZixDQUZBO01BR05rQixZQUFZLEVBQUVqQjtJQUhSO0VBM0JWLENBREYsRUFrQ0U7SUFDRUcsU0FERjtJQUVFd0IsU0FBUyxFQUFFLFNBRmI7SUFHRUMsU0FBUyxFQUFFLEtBSGI7SUFJRUMsU0FBUyxFQUFFO0VBSmIsQ0FsQ0Y7RUF5Q0EsT0FBT3hCLE9BQVA7QUFDRCxDQWpERCJ9","map":{"version":3,"names":["Model","require","v4","uuidv4","userStatus","userStatusDefault","module","exports","sequelize","DataTypes","Members","associate","models","hasMany","CandidateDetails","foreignKey","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","email","fullname","password","avatar","TEXT","current_resume_url","status","ENUM","modelName","createdAt","updatedAt"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/models/","sources":["members.model.js"],"sourcesContent":["\"use strict\";\nconst { Model } = require(\"sequelize\");\nconst { v4: uuidv4 } = require(\"uuid\");\nconst {\n  userStatus,\n  userStatusDefault,\n} = require(\"../src/constant/userStatus.enum.js\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Members extends Model {\n    static associate(models) {\n      // define association here\n      Members.hasMany(models.CandidateDetails, { foreignKey: \"Member_id\" });\n    }\n  }\n  Members.init(\n    {\n      id: {\n        allowNull: false,\n        primaryKey: true,\n        type: DataTypes.STRING(36),\n        defaultValue: DataTypes.UUIDV4,\n      },\n      email: {\n        allowNull: false,\n        type: DataTypes.STRING(320),\n      },\n      fullname: {\n        allowNull: false,\n        type: DataTypes.STRING(60),\n      },\n      password: {\n        allowNull: false,\n        type: DataTypes.STRING(60),\n      },\n      avatar: {\n        allowNull: true,\n        type: DataTypes.TEXT,\n      },\n      current_resume_url: {\n        allowNull: true,\n        type: DataTypes.TEXT,\n      },\n      status: {\n        allowNull: false,\n        type: DataTypes.ENUM(userStatus),\n        defaultValue: userStatusDefault,\n      },\n    },\n    {\n      sequelize,\n      modelName: \"Members\",\n      createdAt: false,\n      updatedAt: false,\n    }\n  );\n  return Members;\n};\n"],"mappings":"AAAA;;AACA,MAAM;EAAEA;AAAF,IAAYC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAM;EAAEC,EAAE,EAAEC;AAAN,IAAiBF,OAAO,CAAC,MAAD,CAA9B;;AACA,MAAM;EACJG,UADI;EAEJC;AAFI,IAGFJ,OAAO,CAAC,oCAAD,CAHX;;AAKAK,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;EACzC,MAAMC,OAAN,SAAsBV,KAAtB,CAA4B;IACV,OAATW,SAAS,CAACC,MAAD,EAAS;MACvB;MACAF,OAAO,CAACG,OAAR,CAAgBD,MAAM,CAACE,gBAAvB,EAAyC;QAAEC,UAAU,EAAE;MAAd,CAAzC;IACD;;EAJyB;;EAM5BL,OAAO,CAACM,IAAR,CACE;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB,CAHJ;MAIFC,YAAY,EAAEb,SAAS,CAACc;IAJtB,CADN;IAOEC,KAAK,EAAE;MACLN,SAAS,EAAE,KADN;MAELE,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,GAAjB;IAFD,CAPT;IAWEI,QAAQ,EAAE;MACRP,SAAS,EAAE,KADH;MAERE,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB;IAFE,CAXZ;IAeEK,QAAQ,EAAE;MACRR,SAAS,EAAE,KADH;MAERE,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB;IAFE,CAfZ;IAmBEM,MAAM,EAAE;MACNT,SAAS,EAAE,IADL;MAENE,IAAI,EAAEX,SAAS,CAACmB;IAFV,CAnBV;IAuBEC,kBAAkB,EAAE;MAClBX,SAAS,EAAE,IADO;MAElBE,IAAI,EAAEX,SAAS,CAACmB;IAFE,CAvBtB;IA2BEE,MAAM,EAAE;MACNZ,SAAS,EAAE,KADL;MAENE,IAAI,EAAEX,SAAS,CAACsB,IAAV,CAAe3B,UAAf,CAFA;MAGNkB,YAAY,EAAEjB;IAHR;EA3BV,CADF,EAkCE;IACEG,SADF;IAEEwB,SAAS,EAAE,SAFb;IAGEC,SAAS,EAAE,KAHb;IAIEC,SAAS,EAAE;EAJb,CAlCF;EAyCA,OAAOxB,OAAP;AACD,CAjDD"}},"mtime":1664854610389},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/userStatus.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  userStatus: [\"Active\", \"Inactive\"],\n  userStatusDefault: \"Inactive\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwidXNlclN0YXR1cyIsInVzZXJTdGF0dXNEZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL2NvbnN0YW50LyIsInNvdXJjZXMiOlsidXNlclN0YXR1cy5lbnVtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICB1c2VyU3RhdHVzOiBbXCJBY3RpdmVcIiwgXCJJbmFjdGl2ZVwiXSxcbiAgdXNlclN0YXR1c0RlZmF1bHQ6IFwiSW5hY3RpdmVcIixcbn07XG4iXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmQyxVQUFVLEVBQUUsQ0FBQyxRQUFELEVBQVcsVUFBWCxDQURHO0VBRWZDLGlCQUFpQixFQUFFO0FBRkosQ0FBakIifQ==","map":{"version":3,"names":["module","exports","userStatus","userStatusDefault"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/","sources":["userStatus.enum.js"],"sourcesContent":["module.exports = {\n  userStatus: [\"Active\", \"Inactive\"],\n  userStatusDefault: \"Inactive\",\n};\n"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACfC,UAAU,EAAE,CAAC,QAAD,EAAW,UAAX,CADG;EAEfC,iBAAiB,EAAE;AAFJ,CAAjB"}},"mtime":1666594653407},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/models/staff.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nconst {\n  role,\n  roleDefault\n} = require(\"../src/constant/role.enum.js\");\n\nconst {\n  userStatus,\n  userStatusDefault\n} = require(\"../src/constant/userStatus.enum.js\");\n\nconst {\n  v4: uuidv4\n} = require(\"uuid\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Staffs extends Model {\n    static associate(models) {\n      // define association here\n      Staffs.hasMany(models.Interviews, {\n        foreignKey: \"Interviewer_id\"\n      });\n      Staffs.hasMany(models.CandidateDetails, {\n        foreignKey: \"CandidateDetail_id\"\n      });\n    }\n\n  }\n\n  Staffs.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    email: {\n      allowNull: false,\n      type: DataTypes.STRING(320)\n    },\n    fullname: {\n      allowNull: false,\n      type: DataTypes.STRING(60)\n    },\n    password: {\n      allowNull: false,\n      type: DataTypes.STRING(60)\n    },\n    avatar: {\n      allowNull: true,\n      type: DataTypes.TEXT\n    },\n    role: {\n      allowNull: false,\n      type: DataTypes.ENUM(role),\n      defaultValue: roleDefault\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(userStatus),\n      defaultValue: userStatusDefault\n    }\n  }, {\n    sequelize,\n    modelName: \"Staffs\",\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  return Staffs;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJyb2xlIiwicm9sZURlZmF1bHQiLCJ1c2VyU3RhdHVzIiwidXNlclN0YXR1c0RlZmF1bHQiLCJ2NCIsInV1aWR2NCIsIm1vZHVsZSIsImV4cG9ydHMiLCJzZXF1ZWxpemUiLCJEYXRhVHlwZXMiLCJTdGFmZnMiLCJhc3NvY2lhdGUiLCJtb2RlbHMiLCJoYXNNYW55IiwiSW50ZXJ2aWV3cyIsImZvcmVpZ25LZXkiLCJDYW5kaWRhdGVEZXRhaWxzIiwiaW5pdCIsImlkIiwiYWxsb3dOdWxsIiwicHJpbWFyeUtleSIsInR5cGUiLCJTVFJJTkciLCJkZWZhdWx0VmFsdWUiLCJVVUlEVjQiLCJlbWFpbCIsImZ1bGxuYW1lIiwicGFzc3dvcmQiLCJhdmF0YXIiLCJURVhUIiwiRU5VTSIsInN0YXR1cyIsIm1vZGVsTmFtZSIsInRpbWVzdGFtcHMiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9tb2RlbHMvIiwic291cmNlcyI6WyJzdGFmZi5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJzZXF1ZWxpemVcIik7XG5jb25zdCB7IHJvbGUsIHJvbGVEZWZhdWx0IH0gPSByZXF1aXJlKFwiLi4vc3JjL2NvbnN0YW50L3JvbGUuZW51bS5qc1wiKTtcbmNvbnN0IHtcbiAgdXNlclN0YXR1cyxcbiAgdXNlclN0YXR1c0RlZmF1bHQsXG59ID0gcmVxdWlyZShcIi4uL3NyYy9jb25zdGFudC91c2VyU3RhdHVzLmVudW0uanNcIik7XG5jb25zdCB7IHY0OiB1dWlkdjQgfSA9IHJlcXVpcmUoXCJ1dWlkXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xuICBjbGFzcyBTdGFmZnMgZXh0ZW5kcyBNb2RlbCB7XG4gICAgc3RhdGljIGFzc29jaWF0ZShtb2RlbHMpIHtcbiAgICAgIC8vIGRlZmluZSBhc3NvY2lhdGlvbiBoZXJlXG4gICAgICBTdGFmZnMuaGFzTWFueShtb2RlbHMuSW50ZXJ2aWV3cywgeyBmb3JlaWduS2V5OiBcIkludGVydmlld2VyX2lkXCIgfSk7XG4gICAgICBTdGFmZnMuaGFzTWFueShtb2RlbHMuQ2FuZGlkYXRlRGV0YWlscywge1xuICAgICAgICBmb3JlaWduS2V5OiBcIkNhbmRpZGF0ZURldGFpbF9pZFwiLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIFN0YWZmcy5pbml0KFxuICAgIHtcbiAgICAgIGlkOiB7XG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHByaW1hcnlLZXk6IHRydWUsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoMzYpLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5VVUlEVjQsXG4gICAgICB9LFxuICAgICAgZW1haWw6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygzMjApLFxuICAgICAgfSxcbiAgICAgIGZ1bGxuYW1lOiB7XG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoNjApLFxuICAgICAgfSxcbiAgICAgIHBhc3N3b3JkOiB7XG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoNjApLFxuICAgICAgfSxcbiAgICAgIGF2YXRhcjoge1xuICAgICAgICBhbGxvd051bGw6IHRydWUsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5URVhULFxuICAgICAgfSxcbiAgICAgIHJvbGU6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkVOVU0ocm9sZSksXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogcm9sZURlZmF1bHQsXG4gICAgICB9LFxuICAgICAgc3RhdHVzOiB7XG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5FTlVNKHVzZXJTdGF0dXMpLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IHVzZXJTdGF0dXNEZWZhdWx0LFxuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIHNlcXVlbGl6ZSxcbiAgICAgIG1vZGVsTmFtZTogXCJTdGFmZnNcIixcbiAgICAgIHRpbWVzdGFtcHM6IGZhbHNlLFxuICAgICAgY3JlYXRlZEF0OiBmYWxzZSxcbiAgICAgIHVwZGF0ZWRBdDogZmFsc2UsXG4gICAgfVxuICApO1xuICByZXR1cm4gU3RhZmZzO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0EsTUFBTTtFQUFFQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU07RUFBRUMsSUFBRjtFQUFRQztBQUFSLElBQXdCRixPQUFPLENBQUMsOEJBQUQsQ0FBckM7O0FBQ0EsTUFBTTtFQUNKRyxVQURJO0VBRUpDO0FBRkksSUFHRkosT0FBTyxDQUFDLG9DQUFELENBSFg7O0FBSUEsTUFBTTtFQUFFSyxFQUFFLEVBQUVDO0FBQU4sSUFBaUJOLE9BQU8sQ0FBQyxNQUFELENBQTlCOztBQUVBTyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsQ0FBQ0MsU0FBRCxFQUFZQyxTQUFaLEtBQTBCO0VBQ3pDLE1BQU1DLE1BQU4sU0FBcUJaLEtBQXJCLENBQTJCO0lBQ1QsT0FBVGEsU0FBUyxDQUFDQyxNQUFELEVBQVM7TUFDdkI7TUFDQUYsTUFBTSxDQUFDRyxPQUFQLENBQWVELE1BQU0sQ0FBQ0UsVUFBdEIsRUFBa0M7UUFBRUMsVUFBVSxFQUFFO01BQWQsQ0FBbEM7TUFDQUwsTUFBTSxDQUFDRyxPQUFQLENBQWVELE1BQU0sQ0FBQ0ksZ0JBQXRCLEVBQXdDO1FBQ3RDRCxVQUFVLEVBQUU7TUFEMEIsQ0FBeEM7SUFHRDs7RUFQd0I7O0VBUzNCTCxNQUFNLENBQUNPLElBQVAsQ0FDRTtJQUNFQyxFQUFFLEVBQUU7TUFDRkMsU0FBUyxFQUFFLEtBRFQ7TUFFRkMsVUFBVSxFQUFFLElBRlY7TUFHRkMsSUFBSSxFQUFFWixTQUFTLENBQUNhLE1BQVYsQ0FBaUIsRUFBakIsQ0FISjtNQUlGQyxZQUFZLEVBQUVkLFNBQVMsQ0FBQ2U7SUFKdEIsQ0FETjtJQU9FQyxLQUFLLEVBQUU7TUFDTE4sU0FBUyxFQUFFLEtBRE47TUFFTEUsSUFBSSxFQUFFWixTQUFTLENBQUNhLE1BQVYsQ0FBaUIsR0FBakI7SUFGRCxDQVBUO0lBV0VJLFFBQVEsRUFBRTtNQUNSUCxTQUFTLEVBQUUsS0FESDtNQUVSRSxJQUFJLEVBQUVaLFNBQVMsQ0FBQ2EsTUFBVixDQUFpQixFQUFqQjtJQUZFLENBWFo7SUFlRUssUUFBUSxFQUFFO01BQ1JSLFNBQVMsRUFBRSxLQURIO01BRVJFLElBQUksRUFBRVosU0FBUyxDQUFDYSxNQUFWLENBQWlCLEVBQWpCO0lBRkUsQ0FmWjtJQW1CRU0sTUFBTSxFQUFFO01BQ05ULFNBQVMsRUFBRSxJQURMO01BRU5FLElBQUksRUFBRVosU0FBUyxDQUFDb0I7SUFGVixDQW5CVjtJQXVCRTdCLElBQUksRUFBRTtNQUNKbUIsU0FBUyxFQUFFLEtBRFA7TUFFSkUsSUFBSSxFQUFFWixTQUFTLENBQUNxQixJQUFWLENBQWU5QixJQUFmLENBRkY7TUFHSnVCLFlBQVksRUFBRXRCO0lBSFYsQ0F2QlI7SUE0QkU4QixNQUFNLEVBQUU7TUFDTlosU0FBUyxFQUFFLEtBREw7TUFFTkUsSUFBSSxFQUFFWixTQUFTLENBQUNxQixJQUFWLENBQWU1QixVQUFmLENBRkE7TUFHTnFCLFlBQVksRUFBRXBCO0lBSFI7RUE1QlYsQ0FERixFQW1DRTtJQUNFSyxTQURGO0lBRUV3QixTQUFTLEVBQUUsUUFGYjtJQUdFQyxVQUFVLEVBQUUsS0FIZDtJQUlFQyxTQUFTLEVBQUUsS0FKYjtJQUtFQyxTQUFTLEVBQUU7RUFMYixDQW5DRjtFQTJDQSxPQUFPekIsTUFBUDtBQUNELENBdEREIn0=","map":{"version":3,"names":["Model","require","role","roleDefault","userStatus","userStatusDefault","v4","uuidv4","module","exports","sequelize","DataTypes","Staffs","associate","models","hasMany","Interviews","foreignKey","CandidateDetails","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","email","fullname","password","avatar","TEXT","ENUM","status","modelName","timestamps","createdAt","updatedAt"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/models/","sources":["staff.model.js"],"sourcesContent":["\"use strict\";\nconst { Model } = require(\"sequelize\");\nconst { role, roleDefault } = require(\"../src/constant/role.enum.js\");\nconst {\n  userStatus,\n  userStatusDefault,\n} = require(\"../src/constant/userStatus.enum.js\");\nconst { v4: uuidv4 } = require(\"uuid\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Staffs extends Model {\n    static associate(models) {\n      // define association here\n      Staffs.hasMany(models.Interviews, { foreignKey: \"Interviewer_id\" });\n      Staffs.hasMany(models.CandidateDetails, {\n        foreignKey: \"CandidateDetail_id\",\n      });\n    }\n  }\n  Staffs.init(\n    {\n      id: {\n        allowNull: false,\n        primaryKey: true,\n        type: DataTypes.STRING(36),\n        defaultValue: DataTypes.UUIDV4,\n      },\n      email: {\n        allowNull: false,\n        type: DataTypes.STRING(320),\n      },\n      fullname: {\n        allowNull: false,\n        type: DataTypes.STRING(60),\n      },\n      password: {\n        allowNull: false,\n        type: DataTypes.STRING(60),\n      },\n      avatar: {\n        allowNull: true,\n        type: DataTypes.TEXT,\n      },\n      role: {\n        allowNull: false,\n        type: DataTypes.ENUM(role),\n        defaultValue: roleDefault,\n      },\n      status: {\n        allowNull: false,\n        type: DataTypes.ENUM(userStatus),\n        defaultValue: userStatusDefault,\n      },\n    },\n    {\n      sequelize,\n      modelName: \"Staffs\",\n      timestamps: false,\n      createdAt: false,\n      updatedAt: false,\n    }\n  );\n  return Staffs;\n};\n"],"mappings":"AAAA;;AACA,MAAM;EAAEA;AAAF,IAAYC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAM;EAAEC,IAAF;EAAQC;AAAR,IAAwBF,OAAO,CAAC,8BAAD,CAArC;;AACA,MAAM;EACJG,UADI;EAEJC;AAFI,IAGFJ,OAAO,CAAC,oCAAD,CAHX;;AAIA,MAAM;EAAEK,EAAE,EAAEC;AAAN,IAAiBN,OAAO,CAAC,MAAD,CAA9B;;AAEAO,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;EACzC,MAAMC,MAAN,SAAqBZ,KAArB,CAA2B;IACT,OAATa,SAAS,CAACC,MAAD,EAAS;MACvB;MACAF,MAAM,CAACG,OAAP,CAAeD,MAAM,CAACE,UAAtB,EAAkC;QAAEC,UAAU,EAAE;MAAd,CAAlC;MACAL,MAAM,CAACG,OAAP,CAAeD,MAAM,CAACI,gBAAtB,EAAwC;QACtCD,UAAU,EAAE;MAD0B,CAAxC;IAGD;;EAPwB;;EAS3BL,MAAM,CAACO,IAAP,CACE;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEZ,SAAS,CAACa,MAAV,CAAiB,EAAjB,CAHJ;MAIFC,YAAY,EAAEd,SAAS,CAACe;IAJtB,CADN;IAOEC,KAAK,EAAE;MACLN,SAAS,EAAE,KADN;MAELE,IAAI,EAAEZ,SAAS,CAACa,MAAV,CAAiB,GAAjB;IAFD,CAPT;IAWEI,QAAQ,EAAE;MACRP,SAAS,EAAE,KADH;MAERE,IAAI,EAAEZ,SAAS,CAACa,MAAV,CAAiB,EAAjB;IAFE,CAXZ;IAeEK,QAAQ,EAAE;MACRR,SAAS,EAAE,KADH;MAERE,IAAI,EAAEZ,SAAS,CAACa,MAAV,CAAiB,EAAjB;IAFE,CAfZ;IAmBEM,MAAM,EAAE;MACNT,SAAS,EAAE,IADL;MAENE,IAAI,EAAEZ,SAAS,CAACoB;IAFV,CAnBV;IAuBE7B,IAAI,EAAE;MACJmB,SAAS,EAAE,KADP;MAEJE,IAAI,EAAEZ,SAAS,CAACqB,IAAV,CAAe9B,IAAf,CAFF;MAGJuB,YAAY,EAAEtB;IAHV,CAvBR;IA4BE8B,MAAM,EAAE;MACNZ,SAAS,EAAE,KADL;MAENE,IAAI,EAAEZ,SAAS,CAACqB,IAAV,CAAe5B,UAAf,CAFA;MAGNqB,YAAY,EAAEpB;IAHR;EA5BV,CADF,EAmCE;IACEK,SADF;IAEEwB,SAAS,EAAE,QAFb;IAGEC,UAAU,EAAE,KAHd;IAIEC,SAAS,EAAE,KAJb;IAKEC,SAAS,EAAE;EALb,CAnCF;EA2CA,OAAOzB,MAAP;AACD,CAtDD"}},"mtime":1664854635757},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/role.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  role: [\"Admin\", \"HR Staff\", \"HR Manager\", \"Interviewer\"],\n  roleDefault: \"HR Staff\",\n  memberRole: \"Member\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwicm9sZSIsInJvbGVEZWZhdWx0IiwibWVtYmVyUm9sZSJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9jb25zdGFudC8iLCJzb3VyY2VzIjpbInJvbGUuZW51bS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgcm9sZTogW1wiQWRtaW5cIiwgXCJIUiBTdGFmZlwiLCBcIkhSIE1hbmFnZXJcIiwgXCJJbnRlcnZpZXdlclwiXSxcbiAgcm9sZURlZmF1bHQ6IFwiSFIgU3RhZmZcIixcbiAgbWVtYmVyUm9sZTogXCJNZW1iZXJcIixcbn07XG4iXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmQyxJQUFJLEVBQUUsQ0FBQyxPQUFELEVBQVUsVUFBVixFQUFzQixZQUF0QixFQUFvQyxhQUFwQyxDQURTO0VBRWZDLFdBQVcsRUFBRSxVQUZFO0VBR2ZDLFVBQVUsRUFBRTtBQUhHLENBQWpCIn0=","map":{"version":3,"names":["module","exports","role","roleDefault","memberRole"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/","sources":["role.enum.js"],"sourcesContent":["module.exports = {\n  role: [\"Admin\", \"HR Staff\", \"HR Manager\", \"Interviewer\"],\n  roleDefault: \"HR Staff\",\n  memberRole: \"Member\",\n};\n"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACfC,IAAI,EAAE,CAAC,OAAD,EAAU,UAAV,EAAsB,YAAtB,EAAoC,aAApC,CADS;EAEfC,WAAW,EAAE,UAFE;EAGfC,UAAU,EAAE;AAHG,CAAjB"}},"mtime":1666279748611},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/categories.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _categoryController = require(\"../controller/category.controller.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.get(\"/\", _categoryController.handleGetAllCategory);\nrouter.post(\"/add\", _categoryController.handleCreateNewCategory);\nrouter.patch(\"/update\", _categoryController.handleUpdateCategory);\nrouter.patch(\"/delete/:id\", _categoryController.handleDeleteCategory);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwiaGFuZGxlR2V0QWxsQ2F0ZWdvcnkiLCJwb3N0IiwiaGFuZGxlQ3JlYXRlTmV3Q2F0ZWdvcnkiLCJwYXRjaCIsImhhbmRsZVVwZGF0ZUNhdGVnb3J5IiwiaGFuZGxlRGVsZXRlQ2F0ZWdvcnkiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL3JvdXRlcy8iLCJzb3VyY2VzIjpbImNhdGVnb3JpZXMucm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCB7XG4gIGhhbmRsZUNyZWF0ZU5ld0NhdGVnb3J5LFxuICBoYW5kbGVHZXRBbGxDYXRlZ29yeSxcbiAgaGFuZGxlVXBkYXRlQ2F0ZWdvcnksXG4gIGhhbmRsZURlbGV0ZUNhdGVnb3J5LFxufSBmcm9tIFwiLi4vY29udHJvbGxlci9jYXRlZ29yeS5jb250cm9sbGVyLmpzXCI7XG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIuZ2V0KFwiL1wiLCBoYW5kbGVHZXRBbGxDYXRlZ29yeSk7XG5yb3V0ZXIucG9zdChcIi9hZGRcIiwgaGFuZGxlQ3JlYXRlTmV3Q2F0ZWdvcnkpO1xucm91dGVyLnBhdGNoKFwiL3VwZGF0ZVwiLCBoYW5kbGVVcGRhdGVDYXRlZ29yeSk7XG5yb3V0ZXIucGF0Y2goXCIvZGVsZXRlLzppZFwiLCBoYW5kbGVEZWxldGVDYXRlZ29yeSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOzs7O0FBTUEsTUFBTUEsTUFBTSxHQUFHQyxnQkFBQSxDQUFRQyxNQUFSLEVBQWY7O0FBRUFGLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLEdBQVgsRUFBZ0JDLHdDQUFoQjtBQUNBSixNQUFNLENBQUNLLElBQVAsQ0FBWSxNQUFaLEVBQW9CQywyQ0FBcEI7QUFDQU4sTUFBTSxDQUFDTyxLQUFQLENBQWEsU0FBYixFQUF3QkMsd0NBQXhCO0FBQ0FSLE1BQU0sQ0FBQ08sS0FBUCxDQUFhLGFBQWIsRUFBNEJFLHdDQUE1QjtBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJYLE1BQWpCIn0=","map":{"version":3,"names":["router","express","Router","get","handleGetAllCategory","post","handleCreateNewCategory","patch","handleUpdateCategory","handleDeleteCategory","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["categories.route.js"],"sourcesContent":["import express from \"express\";\nimport {\n  handleCreateNewCategory,\n  handleGetAllCategory,\n  handleUpdateCategory,\n  handleDeleteCategory,\n} from \"../controller/category.controller.js\";\nconst router = express.Router();\n\nrouter.get(\"/\", handleGetAllCategory);\nrouter.post(\"/add\", handleCreateNewCategory);\nrouter.patch(\"/update\", handleUpdateCategory);\nrouter.patch(\"/delete/:id\", handleDeleteCategory);\n\nmodule.exports = router;\n"],"mappings":";;AAAA;;AACA;;;;AAMA,MAAMA,MAAM,GAAGC,gBAAA,CAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgBC,wCAAhB;AACAJ,MAAM,CAACK,IAAP,CAAY,MAAZ,EAAoBC,2CAApB;AACAN,MAAM,CAACO,KAAP,CAAa,SAAb,EAAwBC,wCAAxB;AACAR,MAAM,CAACO,KAAP,CAAa,aAAb,EAA4BE,wCAA5B;AAEAC,MAAM,CAACC,OAAP,GAAiBX,MAAjB"}},"mtime":1666594653416},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/category.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst categoryService = require('../service/categoryService.js');\n\nconst handleGetAllCategory = async (req, res) => {\n  let categories = await categoryService.getAllCategory();\n  return res.json({\n    categories\n  });\n};\n\nconst handleCreateNewCategory = async (req, res, next) => {\n  try {\n    let message = await categoryService.createNewCategory(req.body);\n    return res.json(message);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleUpdateCategory = async (req, res, next) => {\n  try {\n    let data = req.body;\n    let category = await categoryService.updateCategory(data);\n    return res.json(category);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleDeleteCategory = async (req, res) => {\n  if (!req.params.id) {\n    return res.json({\n      errCode: 1,\n      errMsg: \"Missing category id\"\n    });\n  }\n\n  let message = await categoryService.deleteCategory(req.params.id);\n  return res.json(message);\n};\n\nmodule.exports = {\n  handleGetAllCategory,\n  handleCreateNewCategory,\n  handleUpdateCategory,\n  handleDeleteCategory\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXRlZ29yeVNlcnZpY2UiLCJyZXF1aXJlIiwiaGFuZGxlR2V0QWxsQ2F0ZWdvcnkiLCJyZXEiLCJyZXMiLCJjYXRlZ29yaWVzIiwiZ2V0QWxsQ2F0ZWdvcnkiLCJqc29uIiwiaGFuZGxlQ3JlYXRlTmV3Q2F0ZWdvcnkiLCJuZXh0IiwibWVzc2FnZSIsImNyZWF0ZU5ld0NhdGVnb3J5IiwiYm9keSIsImVycm9yIiwiaGFuZGxlVXBkYXRlQ2F0ZWdvcnkiLCJkYXRhIiwiY2F0ZWdvcnkiLCJ1cGRhdGVDYXRlZ29yeSIsImhhbmRsZURlbGV0ZUNhdGVnb3J5IiwicGFyYW1zIiwiaWQiLCJlcnJDb2RlIiwiZXJyTXNnIiwiZGVsZXRlQ2F0ZWdvcnkiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL2NvbnRyb2xsZXIvIiwic291cmNlcyI6WyJjYXRlZ29yeS5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuY29uc3QgY2F0ZWdvcnlTZXJ2aWNlID0gcmVxdWlyZSgnLi4vc2VydmljZS9jYXRlZ29yeVNlcnZpY2UuanMnKVxuXG5cblxuY29uc3QgaGFuZGxlR2V0QWxsQ2F0ZWdvcnkgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBsZXQgY2F0ZWdvcmllcyA9IGF3YWl0IGNhdGVnb3J5U2VydmljZS5nZXRBbGxDYXRlZ29yeSgpO1xuICAgIHJldHVybiByZXMuanNvbih7IGNhdGVnb3JpZXMgfSk7XG59XG5cbmNvbnN0IGhhbmRsZUNyZWF0ZU5ld0NhdGVnb3J5ID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBhd2FpdCBjYXRlZ29yeVNlcnZpY2UuY3JlYXRlTmV3Q2F0ZWdvcnkocmVxLmJvZHkpO1xuICAgICAgICByZXR1cm4gcmVzLmpzb24obWVzc2FnZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgbmV4dChlcnJvcik7XG4gICAgfVxufVxuXG5jb25zdCBoYW5kbGVVcGRhdGVDYXRlZ29yeSA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XG4gICAgICAgIGxldCBjYXRlZ29yeSA9IGF3YWl0IGNhdGVnb3J5U2VydmljZS51cGRhdGVDYXRlZ29yeShkYXRhKTtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKGNhdGVnb3J5KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBuZXh0KGVycm9yKTtcbiAgICB9XG59XG5cbmNvbnN0IGhhbmRsZURlbGV0ZUNhdGVnb3J5ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgaWYgKCFyZXEucGFyYW1zLmlkKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbih7XG4gICAgICAgICAgICBlcnJDb2RlOiAxLFxuICAgICAgICAgICAgZXJyTXNnOiBcIk1pc3NpbmcgY2F0ZWdvcnkgaWRcIlxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGV0IG1lc3NhZ2UgPSBhd2FpdCBjYXRlZ29yeVNlcnZpY2UuZGVsZXRlQ2F0ZWdvcnkocmVxLnBhcmFtcy5pZCk7XG4gICAgcmV0dXJuIHJlcy5qc29uKG1lc3NhZ2UpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBoYW5kbGVHZXRBbGxDYXRlZ29yeSxcbiAgICBoYW5kbGVDcmVhdGVOZXdDYXRlZ29yeSxcbiAgICBoYW5kbGVVcGRhdGVDYXRlZ29yeSxcbiAgICBoYW5kbGVEZWxldGVDYXRlZ29yeSxcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7QUFDQSxNQUFNQSxlQUFlLEdBQUdDLE9BQU8sQ0FBQywrQkFBRCxDQUEvQjs7QUFJQSxNQUFNQyxvQkFBb0IsR0FBRyxPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7RUFDN0MsSUFBSUMsVUFBVSxHQUFHLE1BQU1MLGVBQWUsQ0FBQ00sY0FBaEIsRUFBdkI7RUFDQSxPQUFPRixHQUFHLENBQUNHLElBQUosQ0FBUztJQUFFRjtFQUFGLENBQVQsQ0FBUDtBQUNILENBSEQ7O0FBS0EsTUFBTUcsdUJBQXVCLEdBQUcsT0FBT0wsR0FBUCxFQUFZQyxHQUFaLEVBQWlCSyxJQUFqQixLQUEwQjtFQUN0RCxJQUFJO0lBQ0EsSUFBSUMsT0FBTyxHQUFHLE1BQU1WLGVBQWUsQ0FBQ1csaUJBQWhCLENBQWtDUixHQUFHLENBQUNTLElBQXRDLENBQXBCO0lBQ0EsT0FBT1IsR0FBRyxDQUFDRyxJQUFKLENBQVNHLE9BQVQsQ0FBUDtFQUNILENBSEQsQ0FHRSxPQUFPRyxLQUFQLEVBQWM7SUFDWkosSUFBSSxDQUFDSSxLQUFELENBQUo7RUFDSDtBQUNKLENBUEQ7O0FBU0EsTUFBTUMsb0JBQW9CLEdBQUcsT0FBT1gsR0FBUCxFQUFZQyxHQUFaLEVBQWlCSyxJQUFqQixLQUEwQjtFQUNuRCxJQUFJO0lBQ0EsSUFBSU0sSUFBSSxHQUFHWixHQUFHLENBQUNTLElBQWY7SUFDQSxJQUFJSSxRQUFRLEdBQUcsTUFBTWhCLGVBQWUsQ0FBQ2lCLGNBQWhCLENBQStCRixJQUEvQixDQUFyQjtJQUNBLE9BQU9YLEdBQUcsQ0FBQ0csSUFBSixDQUFTUyxRQUFULENBQVA7RUFDSCxDQUpELENBSUUsT0FBT0gsS0FBUCxFQUFjO0lBQ1pKLElBQUksQ0FBQ0ksS0FBRCxDQUFKO0VBQ0g7QUFDSixDQVJEOztBQVVBLE1BQU1LLG9CQUFvQixHQUFHLE9BQU9mLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtFQUM3QyxJQUFJLENBQUNELEdBQUcsQ0FBQ2dCLE1BQUosQ0FBV0MsRUFBaEIsRUFBb0I7SUFDaEIsT0FBT2hCLEdBQUcsQ0FBQ0csSUFBSixDQUFTO01BQ1pjLE9BQU8sRUFBRSxDQURHO01BRVpDLE1BQU0sRUFBRTtJQUZJLENBQVQsQ0FBUDtFQUlIOztFQUNELElBQUlaLE9BQU8sR0FBRyxNQUFNVixlQUFlLENBQUN1QixjQUFoQixDQUErQnBCLEdBQUcsQ0FBQ2dCLE1BQUosQ0FBV0MsRUFBMUMsQ0FBcEI7RUFDQSxPQUFPaEIsR0FBRyxDQUFDRyxJQUFKLENBQVNHLE9BQVQsQ0FBUDtBQUNILENBVEQ7O0FBV0FjLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNidkIsb0JBRGE7RUFFYk0sdUJBRmE7RUFHYk0sb0JBSGE7RUFJYkk7QUFKYSxDQUFqQiJ9","map":{"version":3,"names":["categoryService","require","handleGetAllCategory","req","res","categories","getAllCategory","json","handleCreateNewCategory","next","message","createNewCategory","body","error","handleUpdateCategory","data","category","updateCategory","handleDeleteCategory","params","id","errCode","errMsg","deleteCategory","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/","sources":["category.controller.js"],"sourcesContent":["\nconst categoryService = require('../service/categoryService.js')\n\n\n\nconst handleGetAllCategory = async (req, res) => {\n    let categories = await categoryService.getAllCategory();\n    return res.json({ categories });\n}\n\nconst handleCreateNewCategory = async (req, res, next) => {\n    try {\n        let message = await categoryService.createNewCategory(req.body);\n        return res.json(message);\n    } catch (error) {\n        next(error);\n    }\n}\n\nconst handleUpdateCategory = async (req, res, next) => {\n    try {\n        let data = req.body;\n        let category = await categoryService.updateCategory(data);\n        return res.json(category);\n    } catch (error) {\n        next(error);\n    }\n}\n\nconst handleDeleteCategory = async (req, res) => {\n    if (!req.params.id) {\n        return res.json({\n            errCode: 1,\n            errMsg: \"Missing category id\"\n        });\n    }\n    let message = await categoryService.deleteCategory(req.params.id);\n    return res.json(message);\n}\n\nmodule.exports = {\n    handleGetAllCategory,\n    handleCreateNewCategory,\n    handleUpdateCategory,\n    handleDeleteCategory,\n}\n"],"mappings":";;AACA,MAAMA,eAAe,GAAGC,OAAO,CAAC,+BAAD,CAA/B;;AAIA,MAAMC,oBAAoB,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;EAC7C,IAAIC,UAAU,GAAG,MAAML,eAAe,CAACM,cAAhB,EAAvB;EACA,OAAOF,GAAG,CAACG,IAAJ,CAAS;IAAEF;EAAF,CAAT,CAAP;AACH,CAHD;;AAKA,MAAMG,uBAAuB,GAAG,OAAOL,GAAP,EAAYC,GAAZ,EAAiBK,IAAjB,KAA0B;EACtD,IAAI;IACA,IAAIC,OAAO,GAAG,MAAMV,eAAe,CAACW,iBAAhB,CAAkCR,GAAG,CAACS,IAAtC,CAApB;IACA,OAAOR,GAAG,CAACG,IAAJ,CAASG,OAAT,CAAP;EACH,CAHD,CAGE,OAAOG,KAAP,EAAc;IACZJ,IAAI,CAACI,KAAD,CAAJ;EACH;AACJ,CAPD;;AASA,MAAMC,oBAAoB,GAAG,OAAOX,GAAP,EAAYC,GAAZ,EAAiBK,IAAjB,KAA0B;EACnD,IAAI;IACA,IAAIM,IAAI,GAAGZ,GAAG,CAACS,IAAf;IACA,IAAII,QAAQ,GAAG,MAAMhB,eAAe,CAACiB,cAAhB,CAA+BF,IAA/B,CAArB;IACA,OAAOX,GAAG,CAACG,IAAJ,CAASS,QAAT,CAAP;EACH,CAJD,CAIE,OAAOH,KAAP,EAAc;IACZJ,IAAI,CAACI,KAAD,CAAJ;EACH;AACJ,CARD;;AAUA,MAAMK,oBAAoB,GAAG,OAAOf,GAAP,EAAYC,GAAZ,KAAoB;EAC7C,IAAI,CAACD,GAAG,CAACgB,MAAJ,CAAWC,EAAhB,EAAoB;IAChB,OAAOhB,GAAG,CAACG,IAAJ,CAAS;MACZc,OAAO,EAAE,CADG;MAEZC,MAAM,EAAE;IAFI,CAAT,CAAP;EAIH;;EACD,IAAIZ,OAAO,GAAG,MAAMV,eAAe,CAACuB,cAAhB,CAA+BpB,GAAG,CAACgB,MAAJ,CAAWC,EAA1C,CAApB;EACA,OAAOhB,GAAG,CAACG,IAAJ,CAASG,OAAT,CAAP;AACH,CATD;;AAWAc,MAAM,CAACC,OAAP,GAAiB;EACbvB,oBADa;EAEbM,uBAFa;EAGbM,oBAHa;EAIbI;AAJa,CAAjB"}},"mtime":1666594653409},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/categoryService.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst categoriesRepository = require(\"../repository/categories.repository\"); // ly tt c category ngoi tr Hidden category(DONE)\n\n\nconst getAllCategory = () => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const where = {\n        status: ['Active', 'Inactive']\n      };\n      const category = await categoriesRepository.findAllCate(where); // console.log(category)\n\n      resolve(category);\n    } catch (error) {\n      reject(error);\n    }\n  });\n}; //===============================================================================\n\n\nconst createNewCategory = data => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const category = await categoriesRepository.createCategory(data);\n      resolve(category === null || category === void 0 ? void 0 : category.dataValues);\n    } catch (error) {\n      reject(error);\n    }\n  });\n}; //===============================================================================\n\n\nconst updateCategory = data => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      if (!data.id) {\n        resolve({\n          errCode: 2,\n          errMsg: \"Missing required parameters\"\n        });\n      }\n\n      let category = await categoriesRepository.findOne(data.id);\n\n      if (category) {\n        await categoriesRepository.update(data, {\n          id: data.id\n        });\n        resolve({\n          errCode: 0,\n          message: \"Update category successfully!!\"\n        });\n      } else {\n        resolve({\n          errCode: 1,\n          errMsg: \"Category is not found\"\n        });\n      }\n    } catch (error) {\n      reject(error);\n    }\n  });\n}; //===============================================================================\n\n\nconst deleteCategory = categoryID => {\n  return new Promise(async (resolve, reject) => {\n    let category = await categoriesRepository.findOne(categoryID);\n\n    if (!category) {\n      resolve({\n        errCode: 2,\n        errMsg: \"Category not found\"\n      });\n    }\n\n    await categoriesRepository.updateStatus({\n      id: categoryID\n    });\n    resolve({\n      errCode: 0,\n      errMsg: \"Category is deleted\"\n    });\n  });\n};\n\nmodule.exports = {\n  getAllCategory,\n  createNewCategory,\n  updateCategory,\n  deleteCategory\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXRlZ29yaWVzUmVwb3NpdG9yeSIsInJlcXVpcmUiLCJnZXRBbGxDYXRlZ29yeSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwid2hlcmUiLCJzdGF0dXMiLCJjYXRlZ29yeSIsImZpbmRBbGxDYXRlIiwiZXJyb3IiLCJjcmVhdGVOZXdDYXRlZ29yeSIsImRhdGEiLCJjcmVhdGVDYXRlZ29yeSIsImRhdGFWYWx1ZXMiLCJ1cGRhdGVDYXRlZ29yeSIsImlkIiwiZXJyQ29kZSIsImVyck1zZyIsImZpbmRPbmUiLCJ1cGRhdGUiLCJtZXNzYWdlIiwiZGVsZXRlQ2F0ZWdvcnkiLCJjYXRlZ29yeUlEIiwidXBkYXRlU3RhdHVzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9zZXJ2aWNlLyIsInNvdXJjZXMiOlsiY2F0ZWdvcnlTZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNhdGVnb3JpZXNSZXBvc2l0b3J5ID0gcmVxdWlyZShcIi4uL3JlcG9zaXRvcnkvY2F0ZWdvcmllcy5yZXBvc2l0b3J5XCIpO1xuXG5cbi8vIGzhuqV5IHThuqV0IGPhuqMgY2F0ZWdvcnkgbmdv4bqhaSB0cuG7qyBIaWRkZW4gY2F0ZWdvcnkoRE9ORSlcbmNvbnN0IGdldEFsbENhdGVnb3J5ID0gKCkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB3aGVyZSA9IHsgc3RhdHVzOiBbJ0FjdGl2ZScsICdJbmFjdGl2ZSddIH1cbiAgICAgIGNvbnN0IGNhdGVnb3J5ID0gYXdhaXQgY2F0ZWdvcmllc1JlcG9zaXRvcnkuZmluZEFsbENhdGUod2hlcmUpO1xuICAgICAgLy8gY29uc29sZS5sb2coY2F0ZWdvcnkpXG4gICAgICByZXNvbHZlKGNhdGVnb3J5KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmNvbnN0IGNyZWF0ZU5ld0NhdGVnb3J5ID0gKGRhdGEpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY2F0ZWdvcnkgPSBhd2FpdCBjYXRlZ29yaWVzUmVwb3NpdG9yeS5jcmVhdGVDYXRlZ29yeShkYXRhKTtcbiAgICAgIHJlc29sdmUoY2F0ZWdvcnk/LmRhdGFWYWx1ZXMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZWplY3QoZXJyb3IpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuY29uc3QgdXBkYXRlQ2F0ZWdvcnkgPSAoZGF0YSkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIWRhdGEuaWQpIHtcbiAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgZXJyQ29kZTogMixcbiAgICAgICAgICBlcnJNc2c6IFwiTWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXJzXCIsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgbGV0IGNhdGVnb3J5ID0gYXdhaXQgY2F0ZWdvcmllc1JlcG9zaXRvcnkuZmluZE9uZShkYXRhLmlkKTtcbiAgICAgIGlmIChjYXRlZ29yeSkge1xuICAgICAgICBhd2FpdCBjYXRlZ29yaWVzUmVwb3NpdG9yeS51cGRhdGUoZGF0YSwgeyBpZDogZGF0YS5pZCB9KVxuICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICBlcnJDb2RlOiAwLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiVXBkYXRlIGNhdGVnb3J5IHN1Y2Nlc3NmdWxseSEhXCIsXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgZXJyQ29kZTogMSxcbiAgICAgICAgICBlcnJNc2c6IFwiQ2F0ZWdvcnkgaXMgbm90IGZvdW5kXCIsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZWplY3QoZXJyb3IpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuY29uc3QgZGVsZXRlQ2F0ZWdvcnkgPSAoY2F0ZWdvcnlJRCkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGxldCBjYXRlZ29yeSA9IGF3YWl0IGNhdGVnb3JpZXNSZXBvc2l0b3J5LmZpbmRPbmUoY2F0ZWdvcnlJRCk7XG4gICAgaWYgKCFjYXRlZ29yeSkge1xuICAgICAgcmVzb2x2ZSh7XG4gICAgICAgIGVyckNvZGU6IDIsXG4gICAgICAgIGVyck1zZzogXCJDYXRlZ29yeSBub3QgZm91bmRcIixcbiAgICAgIH0pO1xuICAgIH1cbiAgICBhd2FpdCBjYXRlZ29yaWVzUmVwb3NpdG9yeS51cGRhdGVTdGF0dXMoeyBpZDogY2F0ZWdvcnlJRCB9KTtcbiAgICByZXNvbHZlKHtcbiAgICAgIGVyckNvZGU6IDAsXG4gICAgICBlcnJNc2c6IFwiQ2F0ZWdvcnkgaXMgZGVsZXRlZFwiLFxuICAgIH0pO1xuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBnZXRBbGxDYXRlZ29yeSxcbiAgY3JlYXRlTmV3Q2F0ZWdv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","map":{"version":3,"names":["categoriesRepository","require","getAllCategory","Promise","resolve","reject","where","status","category","findAllCate","error","createNewCategory","data","createCategory","dataValues","updateCategory","id","errCode","errMsg","findOne","update","message","deleteCategory","categoryID","updateStatus","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/","sources":["categoryService.js"],"sourcesContent":["const categoriesRepository = require(\"../repository/categories.repository\");\n\n\n// ly tt c category ngoi tr Hidden category(DONE)\nconst getAllCategory = () => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const where = { status: ['Active', 'Inactive'] }\n      const category = await categoriesRepository.findAllCate(where);\n      // console.log(category)\n      resolve(category);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\n//===============================================================================\n\nconst createNewCategory = (data) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const category = await categoriesRepository.createCategory(data);\n      resolve(category?.dataValues);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\n//===============================================================================\n\nconst updateCategory = (data) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      if (!data.id) {\n        resolve({\n          errCode: 2,\n          errMsg: \"Missing required parameters\",\n        });\n      }\n      let category = await categoriesRepository.findOne(data.id);\n      if (category) {\n        await categoriesRepository.update(data, { id: data.id })\n        resolve({\n          errCode: 0,\n          message: \"Update category successfully!!\",\n        });\n      } else {\n        resolve({\n          errCode: 1,\n          errMsg: \"Category is not found\",\n        });\n      }\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\n//===============================================================================\n\nconst deleteCategory = (categoryID) => {\n  return new Promise(async (resolve, reject) => {\n    let category = await categoriesRepository.findOne(categoryID);\n    if (!category) {\n      resolve({\n        errCode: 2,\n        errMsg: \"Category not found\",\n      });\n    }\n    await categoriesRepository.updateStatus({ id: categoryID });\n    resolve({\n      errCode: 0,\n      errMsg: \"Category is deleted\",\n    });\n  });\n};\n\nmodule.exports = {\n  getAllCategory,\n  createNewCategory,\n  updateCategory,\n  deleteCategory,\n};\n"],"mappings":";;AAAA,MAAMA,oBAAoB,GAAGC,OAAO,CAAC,qCAAD,CAApC,C,CAGA;;;AACA,MAAMC,cAAc,GAAG,MAAM;EAC3B,OAAO,IAAIC,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;IAC5C,IAAI;MACF,MAAMC,KAAK,GAAG;QAAEC,MAAM,EAAE,CAAC,QAAD,EAAW,UAAX;MAAV,CAAd;MACA,MAAMC,QAAQ,GAAG,MAAMR,oBAAoB,CAACS,WAArB,CAAiCH,KAAjC,CAAvB,CAFE,CAGF;;MACAF,OAAO,CAACI,QAAD,CAAP;IACD,CALD,CAKE,OAAOE,KAAP,EAAc;MACdL,MAAM,CAACK,KAAD,CAAN;IACD;EACF,CATM,CAAP;AAUD,CAXD,C,CAaA;;;AAEA,MAAMC,iBAAiB,GAAIC,IAAD,IAAU;EAClC,OAAO,IAAIT,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;IAC5C,IAAI;MACF,MAAMG,QAAQ,GAAG,MAAMR,oBAAoB,CAACa,cAArB,CAAoCD,IAApC,CAAvB;MACAR,OAAO,CAACI,QAAD,aAACA,QAAD,uBAACA,QAAQ,CAAEM,UAAX,CAAP;IACD,CAHD,CAGE,OAAOJ,KAAP,EAAc;MACdL,MAAM,CAACK,KAAD,CAAN;IACD;EACF,CAPM,CAAP;AAQD,CATD,C,CAWA;;;AAEA,MAAMK,cAAc,GAAIH,IAAD,IAAU;EAC/B,OAAO,IAAIT,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;IAC5C,IAAI;MACF,IAAI,CAACO,IAAI,CAACI,EAAV,EAAc;QACZZ,OAAO,CAAC;UACNa,OAAO,EAAE,CADH;UAENC,MAAM,EAAE;QAFF,CAAD,CAAP;MAID;;MACD,IAAIV,QAAQ,GAAG,MAAMR,oBAAoB,CAACmB,OAArB,CAA6BP,IAAI,CAACI,EAAlC,CAArB;;MACA,IAAIR,QAAJ,EAAc;QACZ,MAAMR,oBAAoB,CAACoB,MAArB,CAA4BR,IAA5B,EAAkC;UAAEI,EAAE,EAAEJ,IAAI,CAACI;QAAX,CAAlC,CAAN;QACAZ,OAAO,CAAC;UACNa,OAAO,EAAE,CADH;UAENI,OAAO,EAAE;QAFH,CAAD,CAAP;MAID,CAND,MAMO;QACLjB,OAAO,CAAC;UACNa,OAAO,EAAE,CADH;UAENC,MAAM,EAAE;QAFF,CAAD,CAAP;MAID;IACF,CApBD,CAoBE,OAAOR,KAAP,EAAc;MACdL,MAAM,CAACK,KAAD,CAAN;IACD;EACF,CAxBM,CAAP;AAyBD,CA1BD,C,CA4BA;;;AAEA,MAAMY,cAAc,GAAIC,UAAD,IAAgB;EACrC,OAAO,IAAIpB,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;IAC5C,IAAIG,QAAQ,GAAG,MAAMR,oBAAoB,CAACmB,OAArB,CAA6BI,UAA7B,CAArB;;IACA,IAAI,CAACf,QAAL,EAAe;MACbJ,OAAO,CAAC;QACNa,OAAO,EAAE,CADH;QAENC,MAAM,EAAE;MAFF,CAAD,CAAP;IAID;;IACD,MAAMlB,oBAAoB,CAACwB,YAArB,CAAkC;MAAER,EAAE,EAAEO;IAAN,CAAlC,CAAN;IACAnB,OAAO,CAAC;MACNa,OAAO,EAAE,CADH;MAENC,MAAM,EAAE;IAFF,CAAD,CAAP;EAID,CAbM,CAAP;AAcD,CAfD;;AAiBAO,MAAM,CAACC,OAAP,GAAiB;EACfxB,cADe;EAEfS,iBAFe;EAGfI,cAHe;EAIfO;AAJe,CAAjB"}},"mtime":1667231633847},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/models/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst fs = require(\"fs\");\n\nconst path = require(\"path\");\n\nconst Sequelize = require(\"sequelize\");\n\nconst basename = path.basename(__filename);\nconst env = process.env.NODE_ENV || \"development\";\nconsole.log(__dirname);\n\nconst config = require(\"../config/config.json\")[env];\n\nconst db = {};\nlet sequelize;\n\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(config.database, config.username, config.password, config);\n}\n\nfs.readdirSync(__dirname).filter(file => {\n  return file.indexOf(\".\") !== 0 && file !== basename && file.slice(-3) === \".js\";\n}).forEach(file => {\n  console.log(__dirname);\n  console.log(file);\n\n  const model = require(path.join(__dirname, file))(sequelize, Sequelize.DataTypes);\n\n  db[model.name] = model;\n});\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\nmodule.exports = db;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJwYXRoIiwiU2VxdWVsaXplIiwiYmFzZW5hbWUiLCJfX2ZpbGVuYW1lIiwiZW52IiwicHJvY2VzcyIsIk5PREVfRU5WIiwiY29uc29sZSIsImxvZyIsIl9fZGlybmFtZSIsImNvbmZpZyIsImRiIiwic2VxdWVsaXplIiwidXNlX2Vudl92YXJpYWJsZSIsImRhdGFiYXNlIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInJlYWRkaXJTeW5jIiwiZmlsdGVyIiwiZmlsZSIsImluZGV4T2YiLCJzbGljZSIsImZvckVhY2giLCJtb2RlbCIsImpvaW4iLCJEYXRhVHlwZXMiLCJuYW1lIiwiT2JqZWN0Iiwia2V5cyIsIm1vZGVsTmFtZSIsImFzc29jaWF0ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9tb2RlbHMvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuY29uc3QgZnMgPSByZXF1aXJlKFwiZnNcIik7XG5jb25zdCBwYXRoID0gcmVxdWlyZShcInBhdGhcIik7XG5jb25zdCBTZXF1ZWxpemUgPSByZXF1aXJlKFwic2VxdWVsaXplXCIpO1xuY29uc3QgYmFzZW5hbWUgPSBwYXRoLmJhc2VuYW1lKF9fZmlsZW5hbWUpO1xuY29uc3QgZW52ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgfHwgXCJkZXZlbG9wbWVudFwiO1xuY29uc29sZS5sb2coX19kaXJuYW1lKTtcbmNvbnN0IGNvbmZpZyA9IHJlcXVpcmUoXCIuLi9jb25maWcvY29uZmlnLmpzb25cIilbZW52XTtcblxuY29uc3QgZGIgPSB7fTtcblxubGV0IHNlcXVlbGl6ZTtcbmlmIChjb25maWcudXNlX2Vudl92YXJpYWJsZSkge1xuICBzZXF1ZWxpemUgPSBuZXcgU2VxdWVsaXplKHByb2Nlc3MuZW52W2NvbmZpZy51c2VfZW52X3ZhcmlhYmxlXSwgY29uZmlnKTtcbn0gZWxzZSB7XG4gIHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUoXG4gICAgY29uZmlnLmRhdGFiYXNlLFxuICAgIGNvbmZpZy51c2VybmFtZSxcbiAgICBjb25maWcucGFzc3dvcmQsXG4gICAgY29uZmlnXG4gICk7XG59XG5cbmZzLnJlYWRkaXJTeW5jKF9fZGlybmFtZSlcbiAgLmZpbHRlcigoZmlsZSkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICBmaWxlLmluZGV4T2YoXCIuXCIpICE9PSAwICYmIGZpbGUgIT09IGJhc2VuYW1lICYmIGZpbGUuc2xpY2UoLTMpID09PSBcIi5qc1wiXG4gICAgKTtcbiAgfSlcbiAgLmZvckVhY2goKGZpbGUpID0+IHtcbiAgICBjb25zb2xlLmxvZyhfX2Rpcm5hbWUpO1xuICAgIGNvbnNvbGUubG9nKGZpbGUpO1xuICAgIGNvbnN0IG1vZGVsID0gcmVxdWlyZShwYXRoLmpvaW4oX19kaXJuYW1lLCBmaWxlKSkoXG4gICAgICBzZXF1ZWxpemUsXG4gICAgICBTZXF1ZWxpemUuRGF0YVR5cGVzXG4gICAgKTtcbiAgICBkYlttb2RlbC5uYW1lXSA9IG1vZGVsO1xuICB9KTtcblxuT2JqZWN0LmtleXMoZGIpLmZvckVhY2goKG1vZGVsTmFtZSkgPT4ge1xuICBpZiAoZGJbbW9kZWxOYW1lXS5hc3NvY2lhdGUpIHtcbiAgICBkYlttb2RlbE5hbWVdLmFzc29jaWF0ZShkYik7XG4gIH1cbn0pO1xuXG5kYi5zZXF1ZWxpemUgPSBzZXF1ZWxpemU7XG5kYi5TZXF1ZWxpemUgPSBTZXF1ZWxpemU7XG5cbm1vZHVsZS5leHBvcnRzID0gZGI7XG4iXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLE1BQU1BLEVBQUUsR0FBR0MsT0FBTyxDQUFDLElBQUQsQ0FBbEI7O0FBQ0EsTUFBTUMsSUFBSSxHQUFHRCxPQUFPLENBQUMsTUFBRCxDQUFwQjs7QUFDQSxNQUFNRSxTQUFTLEdBQUdGLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1HLFFBQVEsR0FBR0YsSUFBSSxDQUFDRSxRQUFMLENBQWNDLFVBQWQsQ0FBakI7QUFDQSxNQUFNQyxHQUFHLEdBQUdDLE9BQU8sQ0FBQ0QsR0FBUixDQUFZRSxRQUFaLElBQXdCLGFBQXBDO0FBQ0FDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxTQUFaOztBQUNBLE1BQU1DLE1BQU0sR0FBR1gsT0FBTyxDQUFDLHVCQUFELENBQVAsQ0FBaUNLLEdBQWpDLENBQWY7O0FBRUEsTUFBTU8sRUFBRSxHQUFHLEVBQVg7QUFFQSxJQUFJQyxTQUFKOztBQUNBLElBQUlGLE1BQU0sQ0FBQ0csZ0JBQVgsRUFBNkI7RUFDM0JELFNBQVMsR0FBRyxJQUFJWCxTQUFKLENBQWNJLE9BQU8sQ0FBQ0QsR0FBUixDQUFZTSxNQUFNLENBQUNHLGdCQUFuQixDQUFkLEVBQW9ESCxNQUFwRCxDQUFaO0FBQ0QsQ0FGRCxNQUVPO0VBQ0xFLFNBQVMsR0FBRyxJQUFJWCxTQUFKLENBQ1ZTLE1BQU0sQ0FBQ0ksUUFERyxFQUVWSixNQUFNLENBQUNLLFFBRkcsRUFHVkwsTUFBTSxDQUFDTSxRQUhHLEVBSVZOLE1BSlUsQ0FBWjtBQU1EOztBQUVEWixFQUFFLENBQUNtQixXQUFILENBQWVSLFNBQWYsRUFDR1MsTUFESCxDQUNXQyxJQUFELElBQVU7RUFDaEIsT0FDRUEsSUFBSSxDQUFDQyxPQUFMLENBQWEsR0FBYixNQUFzQixDQUF0QixJQUEyQkQsSUFBSSxLQUFLakIsUUFBcEMsSUFBZ0RpQixJQUFJLENBQUNFLEtBQUwsQ0FBVyxDQUFDLENBQVosTUFBbUIsS0FEckU7QUFHRCxDQUxILEVBTUdDLE9BTkgsQ0FNWUgsSUFBRCxJQUFVO0VBQ2pCWixPQUFPLENBQUNDLEdBQVIsQ0FBWUMsU0FBWjtFQUNBRixPQUFPLENBQUNDLEdBQVIsQ0FBWVcsSUFBWjs7RUFDQSxNQUFNSSxLQUFLLEdBQUd4QixPQUFPLENBQUNDLElBQUksQ0FBQ3dCLElBQUwsQ0FBVWYsU0FBVixFQUFxQlUsSUFBckIsQ0FBRCxDQUFQLENBQ1pQLFNBRFksRUFFWlgsU0FBUyxDQUFDd0IsU0FGRSxDQUFkOztFQUlBZCxFQUFFLENBQUNZLEtBQUssQ0FBQ0csSUFBUCxDQUFGLEdBQWlCSCxLQUFqQjtBQUNELENBZEg7QUFnQkFJLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZakIsRUFBWixFQUFnQlcsT0FBaEIsQ0FBeUJPLFNBQUQsSUFBZTtFQUNyQyxJQUFJbEIsRUFBRSxDQUFDa0IsU0FBRCxDQUFGLENBQWNDLFNBQWxCLEVBQTZCO0lBQzNCbkIsRUFBRSxDQUFDa0IsU0FBRCxDQUFGLENBQWNDLFNBQWQsQ0FBd0JuQixFQUF4QjtFQUNEO0FBQ0YsQ0FKRDtBQU1BQSxFQUFFLENBQUNDLFNBQUgsR0FBZUEsU0FBZjtBQUNBRCxFQUFFLENBQUNWLFNBQUgsR0FBZUEsU0FBZjtBQUVBOEIsTUFBTSxDQUFDQyxPQUFQLEdBQWlCckIsRUFBakIifQ==","map":{"version":3,"names":["fs","require","path","Sequelize","basename","__filename","env","process","NODE_ENV","console","log","__dirname","config","db","sequelize","use_env_variable","database","username","password","readdirSync","filter","file","indexOf","slice","forEach","model","join","DataTypes","name","Object","keys","modelName","associate","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/models/","sources":["index.js"],"sourcesContent":["\"use strict\";\n\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst Sequelize = require(\"sequelize\");\nconst basename = path.basename(__filename);\nconst env = process.env.NODE_ENV || \"development\";\nconsole.log(__dirname);\nconst config = require(\"../config/config.json\")[env];\n\nconst db = {};\n\nlet sequelize;\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(\n    config.database,\n    config.username,\n    config.password,\n    config\n  );\n}\n\nfs.readdirSync(__dirname)\n  .filter((file) => {\n    return (\n      file.indexOf(\".\") !== 0 && file !== basename && file.slice(-3) === \".js\"\n    );\n  })\n  .forEach((file) => {\n    console.log(__dirname);\n    console.log(file);\n    const model = require(path.join(__dirname, file))(\n      sequelize,\n      Sequelize.DataTypes\n    );\n    db[model.name] = model;\n  });\n\nObject.keys(db).forEach((modelName) => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\n\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\n\nmodule.exports = db;\n"],"mappings":"AAAA;;AAEA,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AACA,MAAME,SAAS,GAAGF,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAMG,QAAQ,GAAGF,IAAI,CAACE,QAAL,CAAcC,UAAd,CAAjB;AACA,MAAMC,GAAG,GAAGC,OAAO,CAACD,GAAR,CAAYE,QAAZ,IAAwB,aAApC;AACAC,OAAO,CAACC,GAAR,CAAYC,SAAZ;;AACA,MAAMC,MAAM,GAAGX,OAAO,CAAC,uBAAD,CAAP,CAAiCK,GAAjC,CAAf;;AAEA,MAAMO,EAAE,GAAG,EAAX;AAEA,IAAIC,SAAJ;;AACA,IAAIF,MAAM,CAACG,gBAAX,EAA6B;EAC3BD,SAAS,GAAG,IAAIX,SAAJ,CAAcI,OAAO,CAACD,GAAR,CAAYM,MAAM,CAACG,gBAAnB,CAAd,EAAoDH,MAApD,CAAZ;AACD,CAFD,MAEO;EACLE,SAAS,GAAG,IAAIX,SAAJ,CACVS,MAAM,CAACI,QADG,EAEVJ,MAAM,CAACK,QAFG,EAGVL,MAAM,CAACM,QAHG,EAIVN,MAJU,CAAZ;AAMD;;AAEDZ,EAAE,CAACmB,WAAH,CAAeR,SAAf,EACGS,MADH,CACWC,IAAD,IAAU;EAChB,OACEA,IAAI,CAACC,OAAL,CAAa,GAAb,MAAsB,CAAtB,IAA2BD,IAAI,KAAKjB,QAApC,IAAgDiB,IAAI,CAACE,KAAL,CAAW,CAAC,CAAZ,MAAmB,KADrE;AAGD,CALH,EAMGC,OANH,CAMYH,IAAD,IAAU;EACjBZ,OAAO,CAACC,GAAR,CAAYC,SAAZ;EACAF,OAAO,CAACC,GAAR,CAAYW,IAAZ;;EACA,MAAMI,KAAK,GAAGxB,OAAO,CAACC,IAAI,CAACwB,IAAL,CAAUf,SAAV,EAAqBU,IAArB,CAAD,CAAP,CACZP,SADY,EAEZX,SAAS,CAACwB,SAFE,CAAd;;EAIAd,EAAE,CAACY,KAAK,CAACG,IAAP,CAAF,GAAiBH,KAAjB;AACD,CAdH;AAgBAI,MAAM,CAACC,IAAP,CAAYjB,EAAZ,EAAgBW,OAAhB,CAAyBO,SAAD,IAAe;EACrC,IAAIlB,EAAE,CAACkB,SAAD,CAAF,CAAcC,SAAlB,EAA6B;IAC3BnB,EAAE,CAACkB,SAAD,CAAF,CAAcC,SAAd,CAAwBnB,EAAxB;EACD;AACF,CAJD;AAMAA,EAAE,CAACC,SAAH,GAAeA,SAAf;AACAD,EAAE,CAACV,SAAH,GAAeA,SAAf;AAEA8B,MAAM,CAACC,OAAP,GAAiBrB,EAAjB"}},"mtime":1664855156712},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/models/campaigns.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nconst {\n  campaignStatusDefault,\n  campaignStatus\n} = require(\"../src/constant/campaignStatus.enum.js\");\n\nconst {\n  v4: uuidv4\n} = require(\"uuid\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Campaigns extends Model {\n    static associate(models) {\n      // define association here\n      Campaigns.hasMany(models.Jobs, {\n        foreignKey: \"Campaign_id\"\n      });\n    }\n\n  }\n\n  Campaigns.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    title: {\n      allowNull: false,\n      type: DataTypes.STRING(45)\n    },\n    description: {\n      allowNull: false,\n      type: DataTypes.TEXT\n    },\n    start_date: {\n      allowNull: false,\n      type: DataTypes.DATEONLY\n    },\n    end_date: {\n      allowNull: false,\n      type: DataTypes.DATEONLY\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(campaignStatus),\n      defaultValue: campaignStatusDefault\n    }\n  }, {\n    sequelize,\n    modelName: \"Campaigns\",\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  return Campaigns;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJjYW1wYWlnblN0YXR1c0RlZmF1bHQiLCJjYW1wYWlnblN0YXR1cyIsInY0IiwidXVpZHY0IiwibW9kdWxlIiwiZXhwb3J0cyIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsIkNhbXBhaWducyIsImFzc29jaWF0ZSIsIm1vZGVscyIsImhhc01hbnkiLCJKb2JzIiwiZm9yZWlnbktleSIsImluaXQiLCJpZCIsImFsbG93TnVsbCIsInByaW1hcnlLZXkiLCJ0eXBlIiwiU1RSSU5HIiwiZGVmYXVsdFZhbHVlIiwiVVVJRFY0IiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIlRFWFQiLCJzdGFydF9kYXRlIiwiREFURU9OTFkiLCJlbmRfZGF0ZSIsInN0YXR1cyIsIkVOVU0iLCJtb2RlbE5hbWUiLCJ0aW1lc3RhbXBzIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0Il0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvbW9kZWxzLyIsInNvdXJjZXMiOlsiY2FtcGFpZ25zLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcInNlcXVlbGl6ZVwiKTtcbmNvbnN0IHtcbiAgY2FtcGFpZ25TdGF0dXNEZWZhdWx0LFxuICBjYW1wYWlnblN0YXR1cyxcbn0gPSByZXF1aXJlKFwiLi4vc3JjL2NvbnN0YW50L2NhbXBhaWduU3RhdHVzLmVudW0uanNcIik7XG5cbmNvbnN0IHsgdjQ6IHV1aWR2NCB9ID0gcmVxdWlyZShcInV1aWRcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gKHNlcXVlbGl6ZSwgRGF0YVR5cGVzKSA9PiB7XG4gIGNsYXNzIENhbXBhaWducyBleHRlbmRzIE1vZGVsIHtcbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xuICAgICAgLy8gZGVmaW5lIGFzc29jaWF0aW9uIGhlcmVcbiAgICAgIENhbXBhaWducy5oYXNNYW55KG1vZGVscy5Kb2JzLCB7IGZvcmVpZ25LZXk6IFwiQ2FtcGFpZ25faWRcIiB9KTtcbiAgICB9XG4gIH1cbiAgQ2FtcGFpZ25zLmluaXQoXG4gICAge1xuICAgICAgaWQ6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygzNiksXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLlVVSURWNCxcbiAgICAgIH0sXG4gICAgICB0aXRsZToge1xuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDQ1KSxcbiAgICAgIH0sXG4gICAgICBkZXNjcmlwdGlvbjoge1xuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuVEVYVCxcbiAgICAgIH0sXG4gICAgICBzdGFydF9kYXRlOiB7XG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5EQVRFT05MWSxcbiAgICAgIH0sXG4gICAgICBlbmRfZGF0ZToge1xuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURU9OTFksXG4gICAgICB9LFxuICAgICAgc3RhdHVzOiB7XG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5FTlVNKGNhbXBhaWduU3RhdHVzKSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBjYW1wYWlnblN0YXR1c0RlZmF1bHQsXG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgc2VxdWVsaXplLFxuICAgICAgbW9kZWxOYW1lOiBcIkNhbXBhaWduc1wiLFxuICAgICAgdGltZXN0YW1wczogZmFsc2UsXG4gICAgICBjcmVhdGVkQXQ6IGZhbHNlLFxuICAgICAgdXBkYXRlZEF0OiBmYWxzZSxcbiAgICB9XG4gICk7XG4gIHJldHVybiBDYW1wYWlnbnM7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQSxNQUFNO0VBQUVBO0FBQUYsSUFBWUMsT0FBTyxDQUFDLFdBQUQsQ0FBekI7O0FBQ0EsTUFBTTtFQUNKQyxxQkFESTtFQUVKQztBQUZJLElBR0ZGLE9BQU8sQ0FBQyx3Q0FBRCxDQUhYOztBQUtBLE1BQU07RUFBRUcsRUFBRSxFQUFFQztBQUFOLElBQWlCSixPQUFPLENBQUMsTUFBRCxDQUE5Qjs7QUFFQUssTUFBTSxDQUFDQyxPQUFQLEdBQWlCLENBQUNDLFNBQUQsRUFBWUMsU0FBWixLQUEwQjtFQUN6QyxNQUFNQyxTQUFOLFNBQXdCVixLQUF4QixDQUE4QjtJQUNaLE9BQVRXLFNBQVMsQ0FBQ0MsTUFBRCxFQUFTO01BQ3ZCO01BQ0FGLFNBQVMsQ0FBQ0csT0FBVixDQUFrQkQsTUFBTSxDQUFDRSxJQUF6QixFQUErQjtRQUFFQyxVQUFVLEVBQUU7TUFBZCxDQUEvQjtJQUNEOztFQUoyQjs7RUFNOUJMLFNBQVMsQ0FBQ00sSUFBVixDQUNFO0lBQ0VDLEVBQUUsRUFBRTtNQUNGQyxTQUFTLEVBQUUsS0FEVDtNQUVGQyxVQUFVLEVBQUUsSUFGVjtNQUdGQyxJQUFJLEVBQUVYLFNBQVMsQ0FBQ1ksTUFBVixDQUFpQixFQUFqQixDQUhKO01BSUZDLFlBQVksRUFBRWIsU0FBUyxDQUFDYztJQUp0QixDQUROO0lBT0VDLEtBQUssRUFBRTtNQUNMTixTQUFTLEVBQUUsS0FETjtNQUVMRSxJQUFJLEVBQUVYLFNBQVMsQ0FBQ1ksTUFBVixDQUFpQixFQUFqQjtJQUZELENBUFQ7SUFXRUksV0FBVyxFQUFFO01BQ1hQLFNBQVMsRUFBRSxLQURBO01BRVhFLElBQUksRUFBRVgsU0FBUyxDQUFDaUI7SUFGTCxDQVhmO0lBZUVDLFVBQVUsRUFBRTtNQUNWVCxTQUFTLEVBQUUsS0FERDtNQUVWRSxJQUFJLEVBQUVYLFNBQVMsQ0FBQ21CO0lBRk4sQ0FmZDtJQW1CRUMsUUFBUSxFQUFFO01BQ1JYLFNBQVMsRUFBRSxLQURIO01BRVJFLElBQUksRUFBRVgsU0FBUyxDQUFDbUI7SUFGUixDQW5CWjtJQXVCRUUsTUFBTSxFQUFFO01BQ05aLFNBQVMsRUFBRSxLQURMO01BRU5FLElBQUksRUFBRVgsU0FBUyxDQUFDc0IsSUFBVixDQUFlNUIsY0FBZixDQUZBO01BR05tQixZQUFZLEVBQUVwQjtJQUhSO0VBdkJWLENBREYsRUE4QkU7SUFDRU0sU0FERjtJQUVFd0IsU0FBUyxFQUFFLFdBRmI7SUFHRUMsVUFBVSxFQUFFLEtBSGQ7SUFJRUMsU0FBUyxFQUFFLEtBSmI7SUFLRUMsU0FBUyxFQUFFO0VBTGIsQ0E5QkY7RUFzQ0EsT0FBT3pCLFNBQVA7QUFDRCxDQTlDRCJ9","map":{"version":3,"names":["Model","require","campaignStatusDefault","campaignStatus","v4","uuidv4","module","exports","sequelize","DataTypes","Campaigns","associate","models","hasMany","Jobs","foreignKey","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","title","description","TEXT","start_date","DATEONLY","end_date","status","ENUM","modelName","timestamps","createdAt","updatedAt"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/models/","sources":["campaigns.model.js"],"sourcesContent":["\"use strict\";\nconst { Model } = require(\"sequelize\");\nconst {\n  campaignStatusDefault,\n  campaignStatus,\n} = require(\"../src/constant/campaignStatus.enum.js\");\n\nconst { v4: uuidv4 } = require(\"uuid\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Campaigns extends Model {\n    static associate(models) {\n      // define association here\n      Campaigns.hasMany(models.Jobs, { foreignKey: \"Campaign_id\" });\n    }\n  }\n  Campaigns.init(\n    {\n      id: {\n        allowNull: false,\n        primaryKey: true,\n        type: DataTypes.STRING(36),\n        defaultValue: DataTypes.UUIDV4,\n      },\n      title: {\n        allowNull: false,\n        type: DataTypes.STRING(45),\n      },\n      description: {\n        allowNull: false,\n        type: DataTypes.TEXT,\n      },\n      start_date: {\n        allowNull: false,\n        type: DataTypes.DATEONLY,\n      },\n      end_date: {\n        allowNull: false,\n        type: DataTypes.DATEONLY,\n      },\n      status: {\n        allowNull: false,\n        type: DataTypes.ENUM(campaignStatus),\n        defaultValue: campaignStatusDefault,\n      },\n    },\n    {\n      sequelize,\n      modelName: \"Campaigns\",\n      timestamps: false,\n      createdAt: false,\n      updatedAt: false,\n    }\n  );\n  return Campaigns;\n};\n"],"mappings":"AAAA;;AACA,MAAM;EAAEA;AAAF,IAAYC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAM;EACJC,qBADI;EAEJC;AAFI,IAGFF,OAAO,CAAC,wCAAD,CAHX;;AAKA,MAAM;EAAEG,EAAE,EAAEC;AAAN,IAAiBJ,OAAO,CAAC,MAAD,CAA9B;;AAEAK,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;EACzC,MAAMC,SAAN,SAAwBV,KAAxB,CAA8B;IACZ,OAATW,SAAS,CAACC,MAAD,EAAS;MACvB;MACAF,SAAS,CAACG,OAAV,CAAkBD,MAAM,CAACE,IAAzB,EAA+B;QAAEC,UAAU,EAAE;MAAd,CAA/B;IACD;;EAJ2B;;EAM9BL,SAAS,CAACM,IAAV,CACE;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB,CAHJ;MAIFC,YAAY,EAAEb,SAAS,CAACc;IAJtB,CADN;IAOEC,KAAK,EAAE;MACLN,SAAS,EAAE,KADN;MAELE,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB;IAFD,CAPT;IAWEI,WAAW,EAAE;MACXP,SAAS,EAAE,KADA;MAEXE,IAAI,EAAEX,SAAS,CAACiB;IAFL,CAXf;IAeEC,UAAU,EAAE;MACVT,SAAS,EAAE,KADD;MAEVE,IAAI,EAAEX,SAAS,CAACmB;IAFN,CAfd;IAmBEC,QAAQ,EAAE;MACRX,SAAS,EAAE,KADH;MAERE,IAAI,EAAEX,SAAS,CAACmB;IAFR,CAnBZ;IAuBEE,MAAM,EAAE;MACNZ,SAAS,EAAE,KADL;MAENE,IAAI,EAAEX,SAAS,CAACsB,IAAV,CAAe5B,cAAf,CAFA;MAGNmB,YAAY,EAAEpB;IAHR;EAvBV,CADF,EA8BE;IACEM,SADF;IAEEwB,SAAS,EAAE,WAFb;IAGEC,UAAU,EAAE,KAHd;IAIEC,SAAS,EAAE,KAJb;IAKEC,SAAS,EAAE;EALb,CA9BF;EAsCA,OAAOzB,SAAP;AACD,CA9CD"}},"mtime":1664855577382},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/campaignStatus.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  campaignStatus: [\"Not started\", \"Processing\", \"Finished\", \"Hidden\"],\n  campaignStatusDefault: \"Not started\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiY2FtcGFpZ25TdGF0dXMiLCJjYW1wYWlnblN0YXR1c0RlZmF1bHQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvY29uc3RhbnQvIiwic291cmNlcyI6WyJjYW1wYWlnblN0YXR1cy5lbnVtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGNhbXBhaWduU3RhdHVzOiBbXCJOb3Qgc3RhcnRlZFwiLCBcIlByb2Nlc3NpbmdcIiwgXCJGaW5pc2hlZFwiLCBcIkhpZGRlblwiXSxcbiAgICBjYW1wYWlnblN0YXR1c0RlZmF1bHQ6IFwiTm90IHN0YXJ0ZWRcIlxufSJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2JDLGNBQWMsRUFBRSxDQUFDLGFBQUQsRUFBZ0IsWUFBaEIsRUFBOEIsVUFBOUIsRUFBMEMsUUFBMUMsQ0FESDtFQUViQyxxQkFBcUIsRUFBRTtBQUZWLENBQWpCIn0=","map":{"version":3,"names":["module","exports","campaignStatus","campaignStatusDefault"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/","sources":["campaignStatus.enum.js"],"sourcesContent":["module.exports = {\n    campaignStatus: [\"Not started\", \"Processing\", \"Finished\", \"Hidden\"],\n    campaignStatusDefault: \"Not started\"\n}"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACbC,cAAc,EAAE,CAAC,aAAD,EAAgB,YAAhB,EAA8B,UAA9B,EAA0C,QAA1C,CADH;EAEbC,qBAAqB,EAAE;AAFV,CAAjB"}},"mtime":1666594653405},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst fs = require(\"fs\");\n\nconst path = require(\"path\");\n\nconst Sequelize = require(\"sequelize\");\n\nconst basename = path.basename(__filename);\nconst env = process.env.NODE_ENV || \"development\";\nconsole.log(__dirname);\n\nconst config = require(\"../../config/config.json\")[env];\n\nconst db = {};\nlet sequelize;\n\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(config.database, config.username, config.password, config);\n}\n\nfs.readdirSync(__dirname).filter(file => {\n  return file.indexOf(\".\") !== 0 && file !== basename && file.slice(-3) === \".js\";\n}).forEach(file => {\n  console.log(__dirname);\n  console.log(file);\n\n  const model = require(path.join(__dirname, file))(sequelize, Sequelize.DataTypes);\n\n  db[model.name] = model;\n});\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\nmodule.exports = db;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJwYXRoIiwiU2VxdWVsaXplIiwiYmFzZW5hbWUiLCJfX2ZpbGVuYW1lIiwiZW52IiwicHJvY2VzcyIsIk5PREVfRU5WIiwiY29uc29sZSIsImxvZyIsIl9fZGlybmFtZSIsImNvbmZpZyIsImRiIiwic2VxdWVsaXplIiwidXNlX2Vudl92YXJpYWJsZSIsImRhdGFiYXNlIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInJlYWRkaXJTeW5jIiwiZmlsdGVyIiwiZmlsZSIsImluZGV4T2YiLCJzbGljZSIsImZvckVhY2giLCJtb2RlbCIsImpvaW4iLCJEYXRhVHlwZXMiLCJuYW1lIiwiT2JqZWN0Iiwia2V5cyIsIm1vZGVsTmFtZSIsImFzc29jaWF0ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvbW9kZWxzLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5jb25zdCBmcyA9IHJlcXVpcmUoXCJmc1wiKTtcclxuY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xyXG5jb25zdCBTZXF1ZWxpemUgPSByZXF1aXJlKFwic2VxdWVsaXplXCIpO1xyXG5jb25zdCBiYXNlbmFtZSA9IHBhdGguYmFzZW5hbWUoX19maWxlbmFtZSk7XHJcbmNvbnN0IGVudiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WIHx8IFwiZGV2ZWxvcG1lbnRcIjtcclxuY29uc29sZS5sb2coX19kaXJuYW1lKTtcclxuY29uc3QgY29uZmlnID0gcmVxdWlyZShcIi4uLy4uL2NvbmZpZy9jb25maWcuanNvblwiKVtlbnZdO1xyXG5cclxuY29uc3QgZGIgPSB7fTtcclxuXHJcbmxldCBzZXF1ZWxpemU7XHJcbmlmIChjb25maWcudXNlX2Vudl92YXJpYWJsZSkge1xyXG4gIHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUocHJvY2Vzcy5lbnZbY29uZmlnLnVzZV9lbnZfdmFyaWFibGVdLCBjb25maWcpO1xyXG59IGVsc2Uge1xyXG4gIHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUoXHJcbiAgICBjb25maWcuZGF0YWJhc2UsXHJcbiAgICBjb25maWcudXNlcm5hbWUsXHJcbiAgICBjb25maWcucGFzc3dvcmQsXHJcbiAgICBjb25maWdcclxuICApO1xyXG59XHJcblxyXG5mcy5yZWFkZGlyU3luYyhfX2Rpcm5hbWUpXHJcbiAgLmZpbHRlcigoZmlsZSkgPT4ge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgZmlsZS5pbmRleE9mKFwiLlwiKSAhPT0gMCAmJiBmaWxlICE9PSBiYXNlbmFtZSAmJiBmaWxlLnNsaWNlKC0zKSA9PT0gXCIuanNcIlxyXG4gICAgKTtcclxuICB9KVxyXG4gIC5mb3JFYWNoKChmaWxlKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhfX2Rpcm5hbWUpO1xyXG4gICAgY29uc29sZS5sb2coZmlsZSk7XHJcbiAgICBjb25zdCBtb2RlbCA9IHJlcXVpcmUocGF0aC5qb2luKF9fZGlybmFtZSwgZmlsZSkpKFxyXG4gICAgICBzZXF1ZWxpemUsXHJcbiAgICAgIFNlcXVlbGl6ZS5EYXRhVHlwZXNcclxuICAgICk7XHJcbiAgICBkYlttb2RlbC5uYW1lXSA9IG1vZGVsO1xyXG4gIH0pO1xyXG5cclxuT2JqZWN0LmtleXMoZGIpLmZvckVhY2goKG1vZGVsTmFtZSkgPT4ge1xyXG4gIGlmIChkYlttb2RlbE5hbWVdLmFzc29jaWF0ZSkge1xyXG4gICAgZGJbbW9kZWxOYW1lXS5hc3NvY2lhdGUoZGIpO1xyXG4gIH1cclxufSk7XHJcblxyXG5kYi5zZXF1ZWxpemUgPSBzZXF1ZWxpemU7XHJcbmRiLlNlcXVlbGl6ZSA9IFNlcXVlbGl6ZTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZGI7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsTUFBTUEsRUFBRSxHQUFHQyxPQUFPLENBQUMsSUFBRCxDQUFsQjs7QUFDQSxNQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQyxNQUFELENBQXBCOztBQUNBLE1BQU1FLFNBQVMsR0FBR0YsT0FBTyxDQUFDLFdBQUQsQ0FBekI7O0FBQ0EsTUFBTUcsUUFBUSxHQUFHRixJQUFJLENBQUNFLFFBQUwsQ0FBY0MsVUFBZCxDQUFqQjtBQUNBLE1BQU1DLEdBQUcsR0FBR0MsT0FBTyxDQUFDRCxHQUFSLENBQVlFLFFBQVosSUFBd0IsYUFBcEM7QUFDQUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFNBQVo7O0FBQ0EsTUFBTUMsTUFBTSxHQUFHWCxPQUFPLENBQUMsMEJBQUQsQ0FBUCxDQUFvQ0ssR0FBcEMsQ0FBZjs7QUFFQSxNQUFNTyxFQUFFLEdBQUcsRUFBWDtBQUVBLElBQUlDLFNBQUo7O0FBQ0EsSUFBSUYsTUFBTSxDQUFDRyxnQkFBWCxFQUE2QjtFQUMzQkQsU0FBUyxHQUFHLElBQUlYLFNBQUosQ0FBY0ksT0FBTyxDQUFDRCxHQUFSLENBQVlNLE1BQU0sQ0FBQ0csZ0JBQW5CLENBQWQsRUFBb0RILE1BQXBELENBQVo7QUFDRCxDQUZELE1BRU87RUFDTEUsU0FBUyxHQUFHLElBQUlYLFNBQUosQ0FDVlMsTUFBTSxDQUFDSSxRQURHLEVBRVZKLE1BQU0sQ0FBQ0ssUUFGRyxFQUdWTCxNQUFNLENBQUNNLFFBSEcsRUFJVk4sTUFKVSxDQUFaO0FBTUQ7O0FBRURaLEVBQUUsQ0FBQ21CLFdBQUgsQ0FBZVIsU0FBZixFQUNHUyxNQURILENBQ1dDLElBQUQsSUFBVTtFQUNoQixPQUNFQSxJQUFJLENBQUNDLE9BQUwsQ0FBYSxHQUFiLE1BQXNCLENBQXRCLElBQTJCRCxJQUFJLEtBQUtqQixRQUFwQyxJQUFnRGlCLElBQUksQ0FBQ0UsS0FBTCxDQUFXLENBQUMsQ0FBWixNQUFtQixLQURyRTtBQUdELENBTEgsRUFNR0MsT0FOSCxDQU1ZSCxJQUFELElBQVU7RUFDakJaLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxTQUFaO0VBQ0FGLE9BQU8sQ0FBQ0MsR0FBUixDQUFZVyxJQUFaOztFQUNBLE1BQU1JLEtBQUssR0FBR3hCLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDd0IsSUFBTCxDQUFVZixTQUFWLEVBQXFCVSxJQUFyQixDQUFELENBQVAsQ0FDWlAsU0FEWSxFQUVaWCxTQUFTLENBQUN3QixTQUZFLENBQWQ7O0VBSUFkLEVBQUUsQ0FBQ1ksS0FBSyxDQUFDRyxJQUFQLENBQUYsR0FBaUJILEtBQWpCO0FBQ0QsQ0FkSDtBQWdCQUksTUFBTSxDQUFDQyxJQUFQLENBQVlqQixFQUFaLEVBQWdCVyxPQUFoQixDQUF5Qk8sU0FBRCxJQUFlO0VBQ3JDLElBQUlsQixFQUFFLENBQUNrQixTQUFELENBQUYsQ0FBY0MsU0FBbEIsRUFBNkI7SUFDM0JuQixFQUFFLENBQUNrQixTQUFELENBQUYsQ0FBY0MsU0FBZCxDQUF3Qm5CLEVBQXhCO0VBQ0Q7QUFDRixDQUpEO0FBTUFBLEVBQUUsQ0FBQ0MsU0FBSCxHQUFlQSxTQUFmO0FBQ0FELEVBQUUsQ0FBQ1YsU0FBSCxHQUFlQSxTQUFmO0FBRUE4QixNQUFNLENBQUNDLE9BQVAsR0FBaUJyQixFQUFqQiJ9","map":{"version":3,"names":["fs","require","path","Sequelize","basename","__filename","env","process","NODE_ENV","console","log","__dirname","config","db","sequelize","use_env_variable","database","username","password","readdirSync","filter","file","indexOf","slice","forEach","model","join","DataTypes","name","Object","keys","modelName","associate","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/","sources":["index.js"],"sourcesContent":["\"use strict\";\r\n\r\nconst fs = require(\"fs\");\r\nconst path = require(\"path\");\r\nconst Sequelize = require(\"sequelize\");\r\nconst basename = path.basename(__filename);\r\nconst env = process.env.NODE_ENV || \"development\";\r\nconsole.log(__dirname);\r\nconst config = require(\"../../config/config.json\")[env];\r\n\r\nconst db = {};\r\n\r\nlet sequelize;\r\nif (config.use_env_variable) {\r\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\r\n} else {\r\n  sequelize = new Sequelize(\r\n    config.database,\r\n    config.username,\r\n    config.password,\r\n    config\r\n  );\r\n}\r\n\r\nfs.readdirSync(__dirname)\r\n  .filter((file) => {\r\n    return (\r\n      file.indexOf(\".\") !== 0 && file !== basename && file.slice(-3) === \".js\"\r\n    );\r\n  })\r\n  .forEach((file) => {\r\n    console.log(__dirname);\r\n    console.log(file);\r\n    const model = require(path.join(__dirname, file))(\r\n      sequelize,\r\n      Sequelize.DataTypes\r\n    );\r\n    db[model.name] = model;\r\n  });\r\n\r\nObject.keys(db).forEach((modelName) => {\r\n  if (db[modelName].associate) {\r\n    db[modelName].associate(db);\r\n  }\r\n});\r\n\r\ndb.sequelize = sequelize;\r\ndb.Sequelize = Sequelize;\r\n\r\nmodule.exports = db;\r\n"],"mappings":"AAAA;;AAEA,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AACA,MAAME,SAAS,GAAGF,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAMG,QAAQ,GAAGF,IAAI,CAACE,QAAL,CAAcC,UAAd,CAAjB;AACA,MAAMC,GAAG,GAAGC,OAAO,CAACD,GAAR,CAAYE,QAAZ,IAAwB,aAApC;AACAC,OAAO,CAACC,GAAR,CAAYC,SAAZ;;AACA,MAAMC,MAAM,GAAGX,OAAO,CAAC,0BAAD,CAAP,CAAoCK,GAApC,CAAf;;AAEA,MAAMO,EAAE,GAAG,EAAX;AAEA,IAAIC,SAAJ;;AACA,IAAIF,MAAM,CAACG,gBAAX,EAA6B;EAC3BD,SAAS,GAAG,IAAIX,SAAJ,CAAcI,OAAO,CAACD,GAAR,CAAYM,MAAM,CAACG,gBAAnB,CAAd,EAAoDH,MAApD,CAAZ;AACD,CAFD,MAEO;EACLE,SAAS,GAAG,IAAIX,SAAJ,CACVS,MAAM,CAACI,QADG,EAEVJ,MAAM,CAACK,QAFG,EAGVL,MAAM,CAACM,QAHG,EAIVN,MAJU,CAAZ;AAMD;;AAEDZ,EAAE,CAACmB,WAAH,CAAeR,SAAf,EACGS,MADH,CACWC,IAAD,IAAU;EAChB,OACEA,IAAI,CAACC,OAAL,CAAa,GAAb,MAAsB,CAAtB,IAA2BD,IAAI,KAAKjB,QAApC,IAAgDiB,IAAI,CAACE,KAAL,CAAW,CAAC,CAAZ,MAAmB,KADrE;AAGD,CALH,EAMGC,OANH,CAMYH,IAAD,IAAU;EACjBZ,OAAO,CAACC,GAAR,CAAYC,SAAZ;EACAF,OAAO,CAACC,GAAR,CAAYW,IAAZ;;EACA,MAAMI,KAAK,GAAGxB,OAAO,CAACC,IAAI,CAACwB,IAAL,CAAUf,SAAV,EAAqBU,IAArB,CAAD,CAAP,CACZP,SADY,EAEZX,SAAS,CAACwB,SAFE,CAAd;;EAIAd,EAAE,CAACY,KAAK,CAACG,IAAP,CAAF,GAAiBH,KAAjB;AACD,CAdH;AAgBAI,MAAM,CAACC,IAAP,CAAYjB,EAAZ,EAAgBW,OAAhB,CAAyBO,SAAD,IAAe;EACrC,IAAIlB,EAAE,CAACkB,SAAD,CAAF,CAAcC,SAAlB,EAA6B;IAC3BnB,EAAE,CAACkB,SAAD,CAAF,CAAcC,SAAd,CAAwBnB,EAAxB;EACD;AACF,CAJD;AAMAA,EAAE,CAACC,SAAH,GAAeA,SAAf;AACAD,EAAE,CAACV,SAAH,GAAeA,SAAf;AAEA8B,MAAM,CAACC,OAAP,GAAiBrB,EAAjB"}},"mtime":1667142342264},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/campaigns.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nconst {\n  v4: uuidv4\n} = require(\"uuid\");\n\nconst {\n  campaignStatusDefault,\n  campaignStatus\n} = require(\"../constant/campaignStatus.enum\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Campaigns extends Model {\n    static associate(models) {\n      // define association here\n      Campaigns.hasMany(models.Jobs, {\n        foreignKey: \"Campaign_id\"\n      });\n    }\n\n  }\n\n  Campaigns.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    title: {\n      allowNull: false,\n      type: DataTypes.STRING(45)\n    },\n    description: {\n      allowNull: false,\n      type: DataTypes.TEXT\n    },\n    start_date: {\n      allowNull: false,\n      type: DataTypes.DATEONLY\n    },\n    end_date: {\n      allowNull: false,\n      type: DataTypes.DATEONLY\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(campaignStatus),\n      defaultValue: campaignStatusDefault\n    }\n  }, {\n    sequelize,\n    modelName: \"Campaigns\",\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  Campaigns.beforeCreate(cam => cam.id = uuidv4());\n  return Campaigns;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJ2NCIsInV1aWR2NCIsImNhbXBhaWduU3RhdHVzRGVmYXVsdCIsImNhbXBhaWduU3RhdHVzIiwibW9kdWxlIiwiZXhwb3J0cyIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsIkNhbXBhaWducyIsImFzc29jaWF0ZSIsIm1vZGVscyIsImhhc01hbnkiLCJKb2JzIiwiZm9yZWlnbktleSIsImluaXQiLCJpZCIsImFsbG93TnVsbCIsInByaW1hcnlLZXkiLCJ0eXBlIiwiU1RSSU5HIiwiZGVmYXVsdFZhbHVlIiwiVVVJRFY0IiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIlRFWFQiLCJzdGFydF9kYXRlIiwiREFURU9OTFkiLCJlbmRfZGF0ZSIsInN0YXR1cyIsIkVOVU0iLCJtb2RlbE5hbWUiLCJ0aW1lc3RhbXBzIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0IiwiYmVmb3JlQ3JlYXRlIiwiY2FtIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL21vZGVscy8iLCJzb3VyY2VzIjpbImNhbXBhaWducy5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcInNlcXVlbGl6ZVwiKTtcclxuY29uc3QgeyB2NDogdXVpZHY0IH0gPSByZXF1aXJlKFwidXVpZFwiKTtcclxuY29uc3Qge1xyXG4gIGNhbXBhaWduU3RhdHVzRGVmYXVsdCxcclxuICBjYW1wYWlnblN0YXR1cyxcclxufSA9IHJlcXVpcmUoXCIuLi9jb25zdGFudC9jYW1wYWlnblN0YXR1cy5lbnVtXCIpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSAoc2VxdWVsaXplLCBEYXRhVHlwZXMpID0+IHtcclxuICBjbGFzcyBDYW1wYWlnbnMgZXh0ZW5kcyBNb2RlbCB7XHJcbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xyXG4gICAgICAvLyBkZWZpbmUgYXNzb2NpYXRpb24gaGVyZVxyXG4gICAgICBDYW1wYWlnbnMuaGFzTWFueShtb2RlbHMuSm9icywgeyBmb3JlaWduS2V5OiBcIkNhbXBhaWduX2lkXCIgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIENhbXBhaWducy5pbml0KFxyXG4gICAge1xyXG4gICAgICBpZDoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDM2KSxcclxuICAgICAgICBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5VVUlEVjQsXHJcbiAgICAgIH0sXHJcbiAgICAgIHRpdGxlOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDQ1KSxcclxuICAgICAgfSxcclxuICAgICAgZGVzY3JpcHRpb246IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5URVhULFxyXG4gICAgICB9LFxyXG4gICAgICBzdGFydF9kYXRlOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURU9OTFksXHJcbiAgICAgIH0sXHJcbiAgICAgIGVuZF9kYXRlOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURU9OTFksXHJcbiAgICAgIH0sXHJcbiAgICAgIHN0YXR1czoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkVOVU0oY2FtcGFpZ25TdGF0dXMpLFxyXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogY2FtcGFpZ25TdGF0dXNEZWZhdWx0LFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgc2VxdWVsaXplLFxyXG4gICAgICBtb2RlbE5hbWU6IFwiQ2FtcGFpZ25zXCIsXHJcbiAgICAgIHRpbWVzdGFtcHM6IGZhbHNlLFxyXG4gICAgICBjcmVhdGVkQXQ6IGZhbHNlLFxyXG4gICAgICB1cGRhdGVkQXQ6IGZhbHNlLFxyXG4gICAgfVxyXG4gICk7XHJcbiAgQ2FtcGFpZ25zLmJlZm9yZUNyZWF0ZSgoY2FtKSA9PiAoY2FtLmlkID0gdXVpZHY0KCkpKTtcclxuICByZXR1cm4gQ2FtcGFpZ25zO1xyXG59O1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBLE1BQU07RUFBRUE7QUFBRixJQUFZQyxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxNQUFNO0VBQUVDLEVBQUUsRUFBRUM7QUFBTixJQUFpQkYsT0FBTyxDQUFDLE1BQUQsQ0FBOUI7O0FBQ0EsTUFBTTtFQUNKRyxxQkFESTtFQUVKQztBQUZJLElBR0ZKLE9BQU8sQ0FBQyxpQ0FBRCxDQUhYOztBQUtBSyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsQ0FBQ0MsU0FBRCxFQUFZQyxTQUFaLEtBQTBCO0VBQ3pDLE1BQU1DLFNBQU4sU0FBd0JWLEtBQXhCLENBQThCO0lBQ1osT0FBVFcsU0FBUyxDQUFDQyxNQUFELEVBQVM7TUFDdkI7TUFDQUYsU0FBUyxDQUFDRyxPQUFWLENBQWtCRCxNQUFNLENBQUNFLElBQXpCLEVBQStCO1FBQUVDLFVBQVUsRUFBRTtNQUFkLENBQS9CO0lBQ0Q7O0VBSjJCOztFQU05QkwsU0FBUyxDQUFDTSxJQUFWLENBQ0U7SUFDRUMsRUFBRSxFQUFFO01BQ0ZDLFNBQVMsRUFBRSxLQURUO01BRUZDLFVBQVUsRUFBRSxJQUZWO01BR0ZDLElBQUksRUFBRVgsU0FBUyxDQUFDWSxNQUFWLENBQWlCLEVBQWpCLENBSEo7TUFJRkMsWUFBWSxFQUFFYixTQUFTLENBQUNjO0lBSnRCLENBRE47SUFPRUMsS0FBSyxFQUFFO01BQ0xOLFNBQVMsRUFBRSxLQUROO01BRUxFLElBQUksRUFBRVgsU0FBUyxDQUFDWSxNQUFWLENBQWlCLEVBQWpCO0lBRkQsQ0FQVDtJQVdFSSxXQUFXLEVBQUU7TUFDWFAsU0FBUyxFQUFFLEtBREE7TUFFWEUsSUFBSSxFQUFFWCxTQUFTLENBQUNpQjtJQUZMLENBWGY7SUFlRUMsVUFBVSxFQUFFO01BQ1ZULFNBQVMsRUFBRSxLQUREO01BRVZFLElBQUksRUFBRVgsU0FBUyxDQUFDbUI7SUFGTixDQWZkO0lBbUJFQyxRQUFRLEVBQUU7TUFDUlgsU0FBUyxFQUFFLEtBREg7TUFFUkUsSUFBSSxFQUFFWCxTQUFTLENBQUNtQjtJQUZSLENBbkJaO0lBdUJFRSxNQUFNLEVBQUU7TUFDTlosU0FBUyxFQUFFLEtBREw7TUFFTkUsSUFBSSxFQUFFWCxTQUFTLENBQUNzQixJQUFWLENBQWUxQixjQUFmLENBRkE7TUFHTmlCLFlBQVksRUFBRWxCO0lBSFI7RUF2QlYsQ0FERixFQThCRTtJQUNFSSxTQURGO0lBRUV3QixTQUFTLEVBQUUsV0FGYjtJQUdFQyxVQUFVLEVBQUUsS0FIZDtJQUlFQyxTQUFTLEVBQUUsS0FKYjtJQUtFQyxTQUFTLEVBQUU7RUFMYixDQTlCRjtFQXNDQXpCLFNBQVMsQ0FBQzBCLFlBQVYsQ0FBd0JDLEdBQUQsSUFBVUEsR0FBRyxDQUFDcEIsRUFBSixHQUFTZCxNQUFNLEVBQWhEO0VBQ0EsT0FBT08sU0FBUDtBQUNELENBL0NEIn0=","map":{"version":3,"names":["Model","require","v4","uuidv4","campaignStatusDefault","campaignStatus","module","exports","sequelize","DataTypes","Campaigns","associate","models","hasMany","Jobs","foreignKey","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","title","description","TEXT","start_date","DATEONLY","end_date","status","ENUM","modelName","timestamps","createdAt","updatedAt","beforeCreate","cam"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/","sources":["campaigns.model.js"],"sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nconst { v4: uuidv4 } = require(\"uuid\");\r\nconst {\r\n  campaignStatusDefault,\r\n  campaignStatus,\r\n} = require(\"../constant/campaignStatus.enum\");\r\n\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Campaigns extends Model {\r\n    static associate(models) {\r\n      // define association here\r\n      Campaigns.hasMany(models.Jobs, { foreignKey: \"Campaign_id\" });\r\n    }\r\n  }\r\n  Campaigns.init(\r\n    {\r\n      id: {\r\n        allowNull: false,\r\n        primaryKey: true,\r\n        type: DataTypes.STRING(36),\r\n        defaultValue: DataTypes.UUIDV4,\r\n      },\r\n      title: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(45),\r\n      },\r\n      description: {\r\n        allowNull: false,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      start_date: {\r\n        allowNull: false,\r\n        type: DataTypes.DATEONLY,\r\n      },\r\n      end_date: {\r\n        allowNull: false,\r\n        type: DataTypes.DATEONLY,\r\n      },\r\n      status: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(campaignStatus),\r\n        defaultValue: campaignStatusDefault,\r\n      },\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"Campaigns\",\r\n      timestamps: false,\r\n      createdAt: false,\r\n      updatedAt: false,\r\n    }\r\n  );\r\n  Campaigns.beforeCreate((cam) => (cam.id = uuidv4()));\r\n  return Campaigns;\r\n};\r\n"],"mappings":"AAAA;;AACA,MAAM;EAAEA;AAAF,IAAYC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAM;EAAEC,EAAE,EAAEC;AAAN,IAAiBF,OAAO,CAAC,MAAD,CAA9B;;AACA,MAAM;EACJG,qBADI;EAEJC;AAFI,IAGFJ,OAAO,CAAC,iCAAD,CAHX;;AAKAK,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;EACzC,MAAMC,SAAN,SAAwBV,KAAxB,CAA8B;IACZ,OAATW,SAAS,CAACC,MAAD,EAAS;MACvB;MACAF,SAAS,CAACG,OAAV,CAAkBD,MAAM,CAACE,IAAzB,EAA+B;QAAEC,UAAU,EAAE;MAAd,CAA/B;IACD;;EAJ2B;;EAM9BL,SAAS,CAACM,IAAV,CACE;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB,CAHJ;MAIFC,YAAY,EAAEb,SAAS,CAACc;IAJtB,CADN;IAOEC,KAAK,EAAE;MACLN,SAAS,EAAE,KADN;MAELE,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB;IAFD,CAPT;IAWEI,WAAW,EAAE;MACXP,SAAS,EAAE,KADA;MAEXE,IAAI,EAAEX,SAAS,CAACiB;IAFL,CAXf;IAeEC,UAAU,EAAE;MACVT,SAAS,EAAE,KADD;MAEVE,IAAI,EAAEX,SAAS,CAACmB;IAFN,CAfd;IAmBEC,QAAQ,EAAE;MACRX,SAAS,EAAE,KADH;MAERE,IAAI,EAAEX,SAAS,CAACmB;IAFR,CAnBZ;IAuBEE,MAAM,EAAE;MACNZ,SAAS,EAAE,KADL;MAENE,IAAI,EAAEX,SAAS,CAACsB,IAAV,CAAe1B,cAAf,CAFA;MAGNiB,YAAY,EAAElB;IAHR;EAvBV,CADF,EA8BE;IACEI,SADF;IAEEwB,SAAS,EAAE,WAFb;IAGEC,UAAU,EAAE,KAHd;IAIEC,SAAS,EAAE,KAJb;IAKEC,SAAS,EAAE;EALb,CA9BF;EAsCAzB,SAAS,CAAC0B,YAAV,CAAwBC,GAAD,IAAUA,GAAG,CAACpB,EAAJ,GAASd,MAAM,EAAhD;EACA,OAAOO,SAAP;AACD,CA/CD"}},"mtime":1667142342263},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/candidatedetails.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nconst {\n  applyStatus,\n  applyStatusDefault\n} = require(\"../constant/cvStatus.enum.js\");\n\nconst {\n  v4: uuidv4\n} = require(\"uuid\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class CandidateDetails extends Model {\n    static associate(models) {\n      // define association here\n      CandidateDetails.belongsTo(models.Members, {\n        foreignKey: \"Member_id\"\n      });\n      CandidateDetails.belongsTo(models.Staffs, {\n        foreignKey: \"HRStaff_id\"\n      });\n      CandidateDetails.belongsTo(models.Jobs, {\n        foreignKey: \"Job_id\"\n      });\n      CandidateDetails.hasOne(models.Interviews, {\n        foreignKey: \"CandidateDetail_id\"\n      });\n    }\n\n  }\n\n  CandidateDetails.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    identity_number: {\n      allowNull: true,\n      type: DataTypes.STRING(12)\n    },\n    resume_url: {\n      allowNull: false,\n      type: DataTypes.TEXT\n    },\n    phone: {\n      allowNull: false,\n      type: DataTypes.STRING(10)\n    },\n    applied_status: {\n      allowNull: false,\n      type: DataTypes.ENUM(applyStatus),\n      defaultValue: applyStatusDefault\n    },\n    dob: {\n      allowNull: true,\n      type: DataTypes.DATEONLY\n    },\n    address: {\n      allowNull: true,\n      type: DataTypes.TEXT\n    },\n    Job_id: {\n      allowNull: false,\n      type: DataTypes.STRING(36),\n      references: {\n        model: \"Jobs\",\n        key: \"id\"\n      }\n    },\n    HRStaff_id: {\n      allowNull: false,\n      type: DataTypes.STRING(36),\n      references: {\n        model: \"Staffs\",\n        key: \"id\"\n      }\n    },\n    Member_id: {\n      allowNull: false,\n      type: DataTypes.STRING(36),\n      references: {\n        model: \"Members\",\n        key: \"id\"\n      }\n    }\n  }, {\n    sequelize,\n    modelName: \"CandidateDetails\",\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  CandidateDetails.beforeCreate(can => can.id = uuidv4());\n  return CandidateDetails;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJhcHBseVN0YXR1cyIsImFwcGx5U3RhdHVzRGVmYXVsdCIsInY0IiwidXVpZHY0IiwibW9kdWxlIiwiZXhwb3J0cyIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsIkNhbmRpZGF0ZURldGFpbHMiLCJhc3NvY2lhdGUiLCJtb2RlbHMiLCJiZWxvbmdzVG8iLCJNZW1iZXJzIiwiZm9yZWlnbktleSIsIlN0YWZmcyIsIkpvYnMiLCJoYXNPbmUiLCJJbnRlcnZpZXdzIiwiaW5pdCIsImlkIiwiYWxsb3dOdWxsIiwicHJpbWFyeUtleSIsInR5cGUiLCJTVFJJTkciLCJkZWZhdWx0VmFsdWUiLCJVVUlEVjQiLCJpZGVudGl0eV9udW1iZXIiLCJyZXN1bWVfdXJsIiwiVEVYVCIsInBob25lIiwiYXBwbGllZF9zdGF0dXMiLCJFTlVNIiwiZG9iIiwiREFURU9OTFkiLCJhZGRyZXNzIiwiSm9iX2lkIiwicmVmZXJlbmNlcyIsIm1vZGVsIiwia2V5IiwiSFJTdGFmZl9pZCIsIk1lbWJlcl9pZCIsIm1vZGVsTmFtZSIsInRpbWVzdGFtcHMiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJiZWZvcmVDcmVhdGUiLCJjYW4iXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvbW9kZWxzLyIsInNvdXJjZXMiOlsiY2FuZGlkYXRlZGV0YWlscy5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcInNlcXVlbGl6ZVwiKTtcclxuY29uc3Qge1xyXG4gIGFwcGx5U3RhdHVzLFxyXG4gIGFwcGx5U3RhdHVzRGVmYXVsdCxcclxufSA9IHJlcXVpcmUoXCIuLi9jb25zdGFudC9jdlN0YXR1cy5lbnVtLmpzXCIpO1xyXG5jb25zdCB7IHY0OiB1dWlkdjQgfSA9IHJlcXVpcmUoXCJ1dWlkXCIpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xyXG4gIGNsYXNzIENhbmRpZGF0ZURldGFpbHMgZXh0ZW5kcyBNb2RlbCB7XHJcbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xyXG4gICAgICAvLyBkZWZpbmUgYXNzb2NpYXRpb24gaGVyZVxyXG4gICAgICBDYW5kaWRhdGVEZXRhaWxzLmJlbG9uZ3NUbyhtb2RlbHMuTWVtYmVycywgeyBmb3JlaWduS2V5OiBcIk1lbWJlcl9pZFwiIH0pO1xyXG4gICAgICBDYW5kaWRhdGVEZXRhaWxzLmJlbG9uZ3NUbyhtb2RlbHMuU3RhZmZzLCB7IGZvcmVpZ25LZXk6IFwiSFJTdGFmZl9pZFwiIH0pO1xyXG4gICAgICBDYW5kaWRhdGVEZXRhaWxzLmJlbG9uZ3NUbyhtb2RlbHMuSm9icywgeyBmb3JlaWduS2V5OiBcIkpvYl9pZFwiIH0pO1xyXG4gICAgICBDYW5kaWRhdGVEZXRhaWxzLmhhc09uZShtb2RlbHMuSW50ZXJ2aWV3cywge1xyXG4gICAgICAgIGZvcmVpZ25LZXk6IFwiQ2FuZGlkYXRlRGV0YWlsX2lkXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICBDYW5kaWRhdGVEZXRhaWxzLmluaXQoXHJcbiAgICB7XHJcbiAgICAgIGlkOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICBwcmltYXJ5S2V5OiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoMzYpLFxyXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLlVVSURWNCxcclxuICAgICAgfSxcclxuICAgICAgaWRlbnRpdHlfbnVtYmVyOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoMTIpLFxyXG4gICAgICB9LFxyXG4gICAgICByZXN1bWVfdXJsOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuVEVYVCxcclxuICAgICAgfSxcclxuICAgICAgcGhvbmU6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoMTApLFxyXG4gICAgICB9LFxyXG4gICAgICBhcHBsaWVkX3N0YXR1czoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkVOVU0oYXBwbHlTdGF0dXMpLFxyXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogYXBwbHlTdGF0dXNEZWZhdWx0LFxyXG4gICAgICB9LFxyXG4gICAgICBkb2I6IHtcclxuICAgICAgICBhbGxvd051bGw6IHRydWUsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkRBVEVPTkxZLFxyXG4gICAgICB9LFxyXG4gICAgICBhZGRyZXNzOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5URVhULFxyXG4gICAgICB9LFxyXG4gICAgICBKb2JfaWQ6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoMzYpLFxyXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcclxuICAgICAgICAgIG1vZGVsOiBcIkpvYnNcIixcclxuICAgICAgICAgIGtleTogXCJpZFwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIEhSU3RhZmZfaWQ6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoMzYpLFxyXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcclxuICAgICAgICAgIG1vZGVsOiBcIlN0YWZmc1wiLFxyXG4gICAgICAgICAga2V5OiBcImlkXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAgTWVtYmVyX2lkOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDM2KSxcclxuICAgICAgICByZWZlcmVuY2VzOiB7XHJcbiAgICAgICAgICBtb2RlbDogXCJNZW1iZXJzXCIsXHJcbiAgICAgICAgICBrZXk6IFwiaWRcIixcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgc2VxdWVsaXplLFxyXG4gICAgICBtb2RlbE5hbWU6IFwiQ2FuZGlkYXRlRGV0YWlsc1wiLFxyXG4gICAgICB0aW1lc3RhbXBzOiBmYWxzZSxcclxuICAgICAgY3JlYXRlZEF0OiBmYWxzZSxcclxuICAgICAgdXBkYXRlZEF0OiBmYWxzZSxcclxuICAgIH1cclxuICApO1xyXG4gIENhbmRpZGF0ZURldGFpbHMuYmVmb3JlQ3JlYXRlKChjYW4pID0+IChjYW4uaWQgPSB1dWlkdjQoKSkpO1xyXG4gIHJldHVybiBDYW5kaWRhdGVEZXRhaWxzO1xyXG59O1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBLE1BQU07RUFBRUE7QUFBRixJQUFZQyxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxNQUFNO0VBQ0pDLFdBREk7RUFFSkM7QUFGSSxJQUdGRixPQUFPLENBQUMsOEJBQUQsQ0FIWDs7QUFJQSxNQUFNO0VBQUVHLEVBQUUsRUFBRUM7QUFBTixJQUFpQkosT0FBTyxDQUFDLE1BQUQsQ0FBOUI7O0FBQ0FLLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixDQUFDQyxTQUFELEVBQVlDLFNBQVosS0FBMEI7RUFDekMsTUFBTUMsZ0JBQU4sU0FBK0JWLEtBQS9CLENBQXFDO0lBQ25CLE9BQVRXLFNBQVMsQ0FBQ0MsTUFBRCxFQUFTO01BQ3ZCO01BQ0FGLGdCQUFnQixDQUFDRyxTQUFqQixDQUEyQkQsTUFBTSxDQUFDRSxPQUFsQyxFQUEyQztRQUFFQyxVQUFVLEVBQUU7TUFBZCxDQUEzQztNQUNBTCxnQkFBZ0IsQ0FBQ0csU0FB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","map":{"version":3,"names":["Model","require","applyStatus","applyStatusDefault","v4","uuidv4","module","exports","sequelize","DataTypes","CandidateDetails","associate","models","belongsTo","Members","foreignKey","Staffs","Jobs","hasOne","Interviews","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","identity_number","resume_url","TEXT","phone","applied_status","ENUM","dob","DATEONLY","address","Job_id","references","model","key","HRStaff_id","Member_id","modelName","timestamps","createdAt","updatedAt","beforeCreate","can"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/","sources":["candidatedetails.model.js"],"sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nconst {\r\n  applyStatus,\r\n  applyStatusDefault,\r\n} = require(\"../constant/cvStatus.enum.js\");\r\nconst { v4: uuidv4 } = require(\"uuid\");\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class CandidateDetails extends Model {\r\n    static associate(models) {\r\n      // define association here\r\n      CandidateDetails.belongsTo(models.Members, { foreignKey: \"Member_id\" });\r\n      CandidateDetails.belongsTo(models.Staffs, { foreignKey: \"HRStaff_id\" });\r\n      CandidateDetails.belongsTo(models.Jobs, { foreignKey: \"Job_id\" });\r\n      CandidateDetails.hasOne(models.Interviews, {\r\n        foreignKey: \"CandidateDetail_id\",\r\n      });\r\n    }\r\n  }\r\n  CandidateDetails.init(\r\n    {\r\n      id: {\r\n        allowNull: false,\r\n        primaryKey: true,\r\n        type: DataTypes.STRING(36),\r\n        defaultValue: DataTypes.UUIDV4,\r\n      },\r\n      identity_number: {\r\n        allowNull: true,\r\n        type: DataTypes.STRING(12),\r\n      },\r\n      resume_url: {\r\n        allowNull: false,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      phone: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(10),\r\n      },\r\n      applied_status: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(applyStatus),\r\n        defaultValue: applyStatusDefault,\r\n      },\r\n      dob: {\r\n        allowNull: true,\r\n        type: DataTypes.DATEONLY,\r\n      },\r\n      address: {\r\n        allowNull: true,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      Job_id: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(36),\r\n        references: {\r\n          model: \"Jobs\",\r\n          key: \"id\",\r\n        },\r\n      },\r\n      HRStaff_id: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(36),\r\n        references: {\r\n          model: \"Staffs\",\r\n          key: \"id\",\r\n        },\r\n      },\r\n      Member_id: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(36),\r\n        references: {\r\n          model: \"Members\",\r\n          key: \"id\",\r\n        },\r\n      },\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"CandidateDetails\",\r\n      timestamps: false,\r\n      createdAt: false,\r\n      updatedAt: false,\r\n    }\r\n  );\r\n  CandidateDetails.beforeCreate((can) => (can.id = uuidv4()));\r\n  return CandidateDetails;\r\n};\r\n"],"mappings":"AAAA;;AACA,MAAM;EAAEA;AAAF,IAAYC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAM;EACJC,WADI;EAEJC;AAFI,IAGFF,OAAO,CAAC,8BAAD,CAHX;;AAIA,MAAM;EAAEG,EAAE,EAAEC;AAAN,IAAiBJ,OAAO,CAAC,MAAD,CAA9B;;AACAK,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;EACzC,MAAMC,gBAAN,SAA+BV,KAA/B,CAAqC;IACnB,OAATW,SAAS,CAACC,MAAD,EAAS;MACvB;MACAF,gBAAgB,CAACG,SAAjB,CAA2BD,MAAM,CAACE,OAAlC,EAA2C;QAAEC,UAAU,EAAE;MAAd,CAA3C;MACAL,gBAAgB,CAACG,SAAjB,CAA2BD,MAAM,CAACI,MAAlC,EAA0C;QAAED,UAAU,EAAE;MAAd,CAA1C;MACAL,gBAAgB,CAACG,SAAjB,CAA2BD,MAAM,CAACK,IAAlC,EAAwC;QAAEF,UAAU,EAAE;MAAd,CAAxC;MACAL,gBAAgB,CAACQ,MAAjB,CAAwBN,MAAM,CAACO,UAA/B,EAA2C;QACzCJ,UAAU,EAAE;MAD6B,CAA3C;IAGD;;EATkC;;EAWrCL,gBAAgB,CAACU,IAAjB,CACE;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEf,SAAS,CAACgB,MAAV,CAAiB,EAAjB,CAHJ;MAIFC,YAAY,EAAEjB,SAAS,CAACkB;IAJtB,CADN;IAOEC,eAAe,EAAE;MACfN,SAAS,EAAE,IADI;MAEfE,IAAI,EAAEf,SAAS,CAACgB,MAAV,CAAiB,EAAjB;IAFS,CAPnB;IAWEI,UAAU,EAAE;MACVP,SAAS,EAAE,KADD;MAEVE,IAAI,EAAEf,SAAS,CAACqB;IAFN,CAXd;IAeEC,KAAK,EAAE;MACLT,SAAS,EAAE,KADN;MAELE,IAAI,EAAEf,SAAS,CAACgB,MAAV,CAAiB,EAAjB;IAFD,CAfT;IAmBEO,cAAc,EAAE;MACdV,SAAS,EAAE,KADG;MAEdE,IAAI,EAAEf,SAAS,CAACwB,IAAV,CAAe/B,WAAf,CAFQ;MAGdwB,YAAY,EAAEvB;IAHA,CAnBlB;IAwBE+B,GAAG,EAAE;MACHZ,SAAS,EAAE,IADR;MAEHE,IAAI,EAAEf,SAAS,CAAC0B;IAFb,CAxBP;IA4BEC,OAAO,EAAE;MACPd,SAAS,EAAE,IADJ;MAEPE,IAAI,EAAEf,SAAS,CAACqB;IAFT,CA5BX;IAgCEO,MAAM,EAAE;MACNf,SAAS,EAAE,KADL;MAENE,IAAI,EAAEf,SAAS,CAACgB,MAAV,CAAiB,EAAjB,CAFA;MAGNa,UAAU,EAAE;QACVC,KAAK,EAAE,MADG;QAEVC,GAAG,EAAE;MAFK;IAHN,CAhCV;IAwCEC,UAAU,EAAE;MACVnB,SAAS,EAAE,KADD;MAEVE,IAAI,EAAEf,SAAS,CAACgB,MAAV,CAAiB,EAAjB,CAFI;MAGVa,UAAU,EAAE;QACVC,KAAK,EAAE,QADG;QAEVC,GAAG,EAAE;MAFK;IAHF,CAxCd;IAgDEE,SAAS,EAAE;MACTpB,SAAS,EAAE,KADF;MAETE,IAAI,EAAEf,SAAS,CAACgB,MAAV,CAAiB,EAAjB,CAFG;MAGTa,UAAU,EAAE;QACVC,KAAK,EAAE,SADG;QAEVC,GAAG,EAAE;MAFK;IAHH;EAhDb,CADF,EA0DE;IACEhC,SADF;IAEEmC,SAAS,EAAE,kBAFb;IAGEC,UAAU,EAAE,KAHd;IAIEC,SAAS,EAAE,KAJb;IAKEC,SAAS,EAAE;EALb,CA1DF;EAkEApC,gBAAgB,CAACqC,YAAjB,CAA+BC,GAAD,IAAUA,GAAG,CAAC3B,EAAJ,GAAShB,MAAM,EAAvD;EACA,OAAOK,gBAAP;AACD,CAhFD"}},"mtime":1667231633834},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst fs = require(\"fs\");\n\nconst path = require(\"path\");\n\nconst Sequelize = require(\"sequelize\");\n\nconst basename = path.basename(__filename);\nconst env = process.env.NODE_ENV || \"development\";\nconsole.log(__dirname);\n\nconst config = require(\"../../config/config.json\")[env];\n\nconst db = {};\nlet sequelize;\n\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(config.database, config.username, config.password, config);\n}\n\nfs.readdirSync(__dirname).filter(file => {\n  return file.indexOf(\".\") !== 0 && file !== basename && file.slice(-3) === \".js\";\n}).forEach(file => {\n  console.log(__dirname);\n  console.log(file);\n\n  const model = require(path.join(__dirname, file))(sequelize, Sequelize.DataTypes);\n\n  db[model.name] = model;\n});\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\nmodule.exports = db;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJwYXRoIiwiU2VxdWVsaXplIiwiYmFzZW5hbWUiLCJfX2ZpbGVuYW1lIiwiZW52IiwicHJvY2VzcyIsIk5PREVfRU5WIiwiY29uc29sZSIsImxvZyIsIl9fZGlybmFtZSIsImNvbmZpZyIsImRiIiwic2VxdWVsaXplIiwidXNlX2Vudl92YXJpYWJsZSIsImRhdGFiYXNlIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInJlYWRkaXJTeW5jIiwiZmlsdGVyIiwiZmlsZSIsImluZGV4T2YiLCJzbGljZSIsImZvckVhY2giLCJtb2RlbCIsImpvaW4iLCJEYXRhVHlwZXMiLCJuYW1lIiwiT2JqZWN0Iiwia2V5cyIsIm1vZGVsTmFtZSIsImFzc29jaWF0ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvbW9kZWxzLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5jb25zdCBmcyA9IHJlcXVpcmUoXCJmc1wiKTtcclxuY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xyXG5jb25zdCBTZXF1ZWxpemUgPSByZXF1aXJlKFwic2VxdWVsaXplXCIpO1xyXG5jb25zdCBiYXNlbmFtZSA9IHBhdGguYmFzZW5hbWUoX19maWxlbmFtZSk7XHJcbmNvbnN0IGVudiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WIHx8IFwiZGV2ZWxvcG1lbnRcIjtcclxuY29uc29sZS5sb2coX19kaXJuYW1lKTtcclxuY29uc3QgY29uZmlnID0gcmVxdWlyZShcIi4uLy4uL2NvbmZpZy9jb25maWcuanNvblwiKVtlbnZdO1xyXG5cclxuY29uc3QgZGIgPSB7fTtcclxuXHJcbmxldCBzZXF1ZWxpemU7XHJcbmlmIChjb25maWcudXNlX2Vudl92YXJpYWJsZSkge1xyXG4gIHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUocHJvY2Vzcy5lbnZbY29uZmlnLnVzZV9lbnZfdmFyaWFibGVdLCBjb25maWcpO1xyXG59IGVsc2Uge1xyXG4gIHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUoXHJcbiAgICBjb25maWcuZGF0YWJhc2UsXHJcbiAgICBjb25maWcudXNlcm5hbWUsXHJcbiAgICBjb25maWcucGFzc3dvcmQsXHJcbiAgICBjb25maWdcclxuICApO1xyXG59XHJcblxyXG5mcy5yZWFkZGlyU3luYyhfX2Rpcm5hbWUpXHJcbiAgLmZpbHRlcigoZmlsZSkgPT4ge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgZmlsZS5pbmRleE9mKFwiLlwiKSAhPT0gMCAmJiBmaWxlICE9PSBiYXNlbmFtZSAmJiBmaWxlLnNsaWNlKC0zKSA9PT0gXCIuanNcIlxyXG4gICAgKTtcclxuICB9KVxyXG4gIC5mb3JFYWNoKChmaWxlKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhfX2Rpcm5hbWUpO1xyXG4gICAgY29uc29sZS5sb2coZmlsZSk7XHJcbiAgICBjb25zdCBtb2RlbCA9IHJlcXVpcmUocGF0aC5qb2luKF9fZGlybmFtZSwgZmlsZSkpKFxyXG4gICAgICBzZXF1ZWxpemUsXHJcbiAgICAgIFNlcXVlbGl6ZS5EYXRhVHlwZXNcclxuICAgICk7XHJcbiAgICBkYlttb2RlbC5uYW1lXSA9IG1vZGVsO1xyXG4gIH0pO1xyXG5cclxuT2JqZWN0LmtleXMoZGIpLmZvckVhY2goKG1vZGVsTmFtZSkgPT4ge1xyXG4gIGlmIChkYlttb2RlbE5hbWVdLmFzc29jaWF0ZSkge1xyXG4gICAgZGJbbW9kZWxOYW1lXS5hc3NvY2lhdGUoZGIpO1xyXG4gIH1cclxufSk7XHJcblxyXG5kYi5zZXF1ZWxpemUgPSBzZXF1ZWxpemU7XHJcbmRiLlNlcXVlbGl6ZSA9IFNlcXVlbGl6ZTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZGI7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsTUFBTUEsRUFBRSxHQUFHQyxPQUFPLENBQUMsSUFBRCxDQUFsQjs7QUFDQSxNQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQyxNQUFELENBQXBCOztBQUNBLE1BQU1FLFNBQVMsR0FBR0YsT0FBTyxDQUFDLFdBQUQsQ0FBekI7O0FBQ0EsTUFBTUcsUUFBUSxHQUFHRixJQUFJLENBQUNFLFFBQUwsQ0FBY0MsVUFBZCxDQUFqQjtBQUNBLE1BQU1DLEdBQUcsR0FBR0MsT0FBTyxDQUFDRCxHQUFSLENBQVlFLFFBQVosSUFBd0IsYUFBcEM7QUFDQUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFNBQVo7O0FBQ0EsTUFBTUMsTUFBTSxHQUFHWCxPQUFPLENBQUMsMEJBQUQsQ0FBUCxDQUFvQ0ssR0FBcEMsQ0FBZjs7QUFFQSxNQUFNTyxFQUFFLEdBQUcsRUFBWDtBQUVBLElBQUlDLFNBQUo7O0FBQ0EsSUFBSUYsTUFBTSxDQUFDRyxnQkFBWCxFQUE2QjtFQUMzQkQsU0FBUyxHQUFHLElBQUlYLFNBQUosQ0FBY0ksT0FBTyxDQUFDRCxHQUFSLENBQVlNLE1BQU0sQ0FBQ0csZ0JBQW5CLENBQWQsRUFBb0RILE1BQXBELENBQVo7QUFDRCxDQUZELE1BRU87RUFDTEUsU0FBUyxHQUFHLElBQUlYLFNBQUosQ0FDVlMsTUFBTSxDQUFDSSxRQURHLEVBRVZKLE1BQU0sQ0FBQ0ssUUFGRyxFQUdWTCxNQUFNLENBQUNNLFFBSEcsRUFJVk4sTUFKVSxDQUFaO0FBTUQ7O0FBRURaLEVBQUUsQ0FBQ21CLFdBQUgsQ0FBZVIsU0FBZixFQUNHUyxNQURILENBQ1dDLElBQUQsSUFBVTtFQUNoQixPQUNFQSxJQUFJLENBQUNDLE9BQUwsQ0FBYSxHQUFiLE1BQXNCLENBQXRCLElBQTJCRCxJQUFJLEtBQUtqQixRQUFwQyxJQUFnRGlCLElBQUksQ0FBQ0UsS0FBTCxDQUFXLENBQUMsQ0FBWixNQUFtQixLQURyRTtBQUdELENBTEgsRUFNR0MsT0FOSCxDQU1ZSCxJQUFELElBQVU7RUFDakJaLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxTQUFaO0VBQ0FGLE9BQU8sQ0FBQ0MsR0FBUixDQUFZVyxJQUFaOztFQUNBLE1BQU1JLEtBQUssR0FBR3hCLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDd0IsSUFBTCxDQUFVZixTQUFWLEVBQXFCVSxJQUFyQixDQUFELENBQVAsQ0FDWlAsU0FEWSxFQUVaWCxTQUFTLENBQUN3QixTQUZFLENBQWQ7O0VBSUFkLEVBQUUsQ0FBQ1ksS0FBSyxDQUFDRyxJQUFQLENBQUYsR0FBaUJILEtBQWpCO0FBQ0QsQ0FkSDtBQWdCQUksTUFBTSxDQUFDQyxJQUFQLENBQVlqQixFQUFaLEVBQWdCVyxPQUFoQixDQUF5Qk8sU0FBRCxJQUFlO0VBQ3JDLElBQUlsQixFQUFFLENBQUNrQixTQUFELENBQUYsQ0FBY0MsU0FBbEIsRUFBNkI7SUFDM0JuQixFQUFFLENBQUNrQixTQUFELENBQUYsQ0FBY0MsU0FBZCxDQUF3Qm5CLEVBQXhCO0VBQ0Q7QUFDRixDQUpEO0FBTUFBLEVBQUUsQ0FBQ0MsU0FBSCxHQUFlQSxTQUFmO0FBQ0FELEVBQUUsQ0FBQ1YsU0FBSCxHQUFlQSxTQUFmO0FBRUE4QixNQUFNLENBQUNDLE9BQVAsR0FBaUJyQixFQUFqQiJ9","map":{"version":3,"names":["fs","require","path","Sequelize","basename","__filename","env","process","NODE_ENV","console","log","__dirname","config","db","sequelize","use_env_variable","database","username","password","readdirSync","filter","file","indexOf","slice","forEach","model","join","DataTypes","name","Object","keys","modelName","associate","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/","sources":["index.js"],"sourcesContent":["\"use strict\";\r\n\r\nconst fs = require(\"fs\");\r\nconst path = require(\"path\");\r\nconst Sequelize = require(\"sequelize\");\r\nconst basename = path.basename(__filename);\r\nconst env = process.env.NODE_ENV || \"development\";\r\nconsole.log(__dirname);\r\nconst config = require(\"../../config/config.json\")[env];\r\n\r\nconst db = {};\r\n\r\nlet sequelize;\r\nif (config.use_env_variable) {\r\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\r\n} else {\r\n  sequelize = new Sequelize(\r\n    config.database,\r\n    config.username,\r\n    config.password,\r\n    config\r\n  );\r\n}\r\n\r\nfs.readdirSync(__dirname)\r\n  .filter((file) => {\r\n    return (\r\n      file.indexOf(\".\") !== 0 && file !== basename && file.slice(-3) === \".js\"\r\n    );\r\n  })\r\n  .forEach((file) => {\r\n    console.log(__dirname);\r\n    console.log(file);\r\n    const model = require(path.join(__dirname, file))(\r\n      sequelize,\r\n      Sequelize.DataTypes\r\n    );\r\n    db[model.name] = model;\r\n  });\r\n\r\nObject.keys(db).forEach((modelName) => {\r\n  if (db[modelName].associate) {\r\n    db[modelName].associate(db);\r\n  }\r\n});\r\n\r\ndb.sequelize = sequelize;\r\ndb.Sequelize = Sequelize;\r\n\r\nmodule.exports = db;\r\n"],"mappings":"AAAA;;AAEA,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AACA,MAAME,SAAS,GAAGF,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAMG,QAAQ,GAAGF,IAAI,CAACE,QAAL,CAAcC,UAAd,CAAjB;AACA,MAAMC,GAAG,GAAGC,OAAO,CAACD,GAAR,CAAYE,QAAZ,IAAwB,aAApC;AACAC,OAAO,CAACC,GAAR,CAAYC,SAAZ;;AACA,MAAMC,MAAM,GAAGX,OAAO,CAAC,0BAAD,CAAP,CAAoCK,GAApC,CAAf;;AAEA,MAAMO,EAAE,GAAG,EAAX;AAEA,IAAIC,SAAJ;;AACA,IAAIF,MAAM,CAACG,gBAAX,EAA6B;EAC3BD,SAAS,GAAG,IAAIX,SAAJ,CAAcI,OAAO,CAACD,GAAR,CAAYM,MAAM,CAACG,gBAAnB,CAAd,EAAoDH,MAApD,CAAZ;AACD,CAFD,MAEO;EACLE,SAAS,GAAG,IAAIX,SAAJ,CACVS,MAAM,CAACI,QADG,EAEVJ,MAAM,CAACK,QAFG,EAGVL,MAAM,CAACM,QAHG,EAIVN,MAJU,CAAZ;AAMD;;AAEDZ,EAAE,CAACmB,WAAH,CAAeR,SAAf,EACGS,MADH,CACWC,IAAD,IAAU;EAChB,OACEA,IAAI,CAACC,OAAL,CAAa,GAAb,MAAsB,CAAtB,IAA2BD,IAAI,KAAKjB,QAApC,IAAgDiB,IAAI,CAACE,KAAL,CAAW,CAAC,CAAZ,MAAmB,KADrE;AAGD,CALH,EAMGC,OANH,CAMYH,IAAD,IAAU;EACjBZ,OAAO,CAACC,GAAR,CAAYC,SAAZ;EACAF,OAAO,CAACC,GAAR,CAAYW,IAAZ;;EACA,MAAMI,KAAK,GAAGxB,OAAO,CAACC,IAAI,CAACwB,IAAL,CAAUf,SAAV,EAAqBU,IAArB,CAAD,CAAP,CACZP,SADY,EAEZX,SAAS,CAACwB,SAFE,CAAd;;EAIAd,EAAE,CAACY,KAAK,CAACG,IAAP,CAAF,GAAiBH,KAAjB;AACD,CAdH;AAgBAI,MAAM,CAACC,IAAP,CAAYjB,EAAZ,EAAgBW,OAAhB,CAAyBO,SAAD,IAAe;EACrC,IAAIlB,EAAE,CAACkB,SAAD,CAAF,CAAcC,SAAlB,EAA6B;IAC3BnB,EAAE,CAACkB,SAAD,CAAF,CAAcC,SAAd,CAAwBnB,EAAxB;EACD;AACF,CAJD;AAMAA,EAAE,CAACC,SAAH,GAAeA,SAAf;AACAD,EAAE,CAACV,SAAH,GAAeA,SAAf;AAEA8B,MAAM,CAACC,OAAP,GAAiBrB,EAAjB"}},"mtime":1667142342264},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/campaigns.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nconst {\n  v4: uuidv4\n} = require(\"uuid\");\n\nconst {\n  campaignStatusDefault,\n  campaignStatus\n} = require(\"../constant/campaignStatus.enum\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Campaigns extends Model {\n    static associate(models) {\n      // define association here\n      Campaigns.hasMany(models.Jobs, {\n        foreignKey: \"Campaign_id\"\n      });\n    }\n\n  }\n\n  Campaigns.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    title: {\n      allowNull: false,\n      type: DataTypes.STRING(45)\n    },\n    description: {\n      allowNull: false,\n      type: DataTypes.TEXT\n    },\n    start_date: {\n      allowNull: false,\n      type: DataTypes.DATEONLY\n    },\n    end_date: {\n      allowNull: false,\n      type: DataTypes.DATEONLY\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(campaignStatus),\n      defaultValue: campaignStatusDefault\n    }\n  }, {\n    sequelize,\n    modelName: \"Campaigns\",\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  Campaigns.beforeCreate(cam => cam.id = uuidv4());\n  return Campaigns;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJ2NCIsInV1aWR2NCIsImNhbXBhaWduU3RhdHVzRGVmYXVsdCIsImNhbXBhaWduU3RhdHVzIiwibW9kdWxlIiwiZXhwb3J0cyIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsIkNhbXBhaWducyIsImFzc29jaWF0ZSIsIm1vZGVscyIsImhhc01hbnkiLCJKb2JzIiwiZm9yZWlnbktleSIsImluaXQiLCJpZCIsImFsbG93TnVsbCIsInByaW1hcnlLZXkiLCJ0eXBlIiwiU1RSSU5HIiwiZGVmYXVsdFZhbHVlIiwiVVVJRFY0IiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIlRFWFQiLCJzdGFydF9kYXRlIiwiREFURU9OTFkiLCJlbmRfZGF0ZSIsInN0YXR1cyIsIkVOVU0iLCJtb2RlbE5hbWUiLCJ0aW1lc3RhbXBzIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0IiwiYmVmb3JlQ3JlYXRlIiwiY2FtIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL21vZGVscy8iLCJzb3VyY2VzIjpbImNhbXBhaWducy5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcInNlcXVlbGl6ZVwiKTtcclxuY29uc3QgeyB2NDogdXVpZHY0IH0gPSByZXF1aXJlKFwidXVpZFwiKTtcclxuY29uc3Qge1xyXG4gIGNhbXBhaWduU3RhdHVzRGVmYXVsdCxcclxuICBjYW1wYWlnblN0YXR1cyxcclxufSA9IHJlcXVpcmUoXCIuLi9jb25zdGFudC9jYW1wYWlnblN0YXR1cy5lbnVtXCIpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSAoc2VxdWVsaXplLCBEYXRhVHlwZXMpID0+IHtcclxuICBjbGFzcyBDYW1wYWlnbnMgZXh0ZW5kcyBNb2RlbCB7XHJcbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xyXG4gICAgICAvLyBkZWZpbmUgYXNzb2NpYXRpb24gaGVyZVxyXG4gICAgICBDYW1wYWlnbnMuaGFzTWFueShtb2RlbHMuSm9icywgeyBmb3JlaWduS2V5OiBcIkNhbXBhaWduX2lkXCIgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIENhbXBhaWducy5pbml0KFxyXG4gICAge1xyXG4gICAgICBpZDoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDM2KSxcclxuICAgICAgICBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5VVUlEVjQsXHJcbiAgICAgIH0sXHJcbiAgICAgIHRpdGxlOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDQ1KSxcclxuICAgICAgfSxcclxuICAgICAgZGVzY3JpcHRpb246IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5URVhULFxyXG4gICAgICB9LFxyXG4gICAgICBzdGFydF9kYXRlOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURU9OTFksXHJcbiAgICAgIH0sXHJcbiAgICAgIGVuZF9kYXRlOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURU9OTFksXHJcbiAgICAgIH0sXHJcbiAgICAgIHN0YXR1czoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkVOVU0oY2FtcGFpZ25TdGF0dXMpLFxyXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogY2FtcGFpZ25TdGF0dXNEZWZhdWx0LFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgc2VxdWVsaXplLFxyXG4gICAgICBtb2RlbE5hbWU6IFwiQ2FtcGFpZ25zXCIsXHJcbiAgICAgIHRpbWVzdGFtcHM6IGZhbHNlLFxyXG4gICAgICBjcmVhdGVkQXQ6IGZhbHNlLFxyXG4gICAgICB1cGRhdGVkQXQ6IGZhbHNlLFxyXG4gICAgfVxyXG4gICk7XHJcbiAgQ2FtcGFpZ25zLmJlZm9yZUNyZWF0ZSgoY2FtKSA9PiAoY2FtLmlkID0gdXVpZHY0KCkpKTtcclxuICByZXR1cm4gQ2FtcGFpZ25zO1xyXG59O1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBLE1BQU07RUFBRUE7QUFBRixJQUFZQyxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxNQUFNO0VBQUVDLEVBQUUsRUFBRUM7QUFBTixJQUFpQkYsT0FBTyxDQUFDLE1BQUQsQ0FBOUI7O0FBQ0EsTUFBTTtFQUNKRyxxQkFESTtFQUVKQztBQUZJLElBR0ZKLE9BQU8sQ0FBQyxpQ0FBRCxDQUhYOztBQUtBSyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsQ0FBQ0MsU0FBRCxFQUFZQyxTQUFaLEtBQTBCO0VBQ3pDLE1BQU1DLFNBQU4sU0FBd0JWLEtBQXhCLENBQThCO0lBQ1osT0FBVFcsU0FBUyxDQUFDQyxNQUFELEVBQVM7TUFDdkI7TUFDQUYsU0FBUyxDQUFDRyxPQUFWLENBQWtCRCxNQUFNLENBQUNFLElBQXpCLEVBQStCO1FBQUVDLFVBQVUsRUFBRTtNQUFkLENBQS9CO0lBQ0Q7O0VBSjJCOztFQU05QkwsU0FBUyxDQUFDTSxJQUFWLENBQ0U7SUFDRUMsRUFBRSxFQUFFO01BQ0ZDLFNBQVMsRUFBRSxLQURUO01BRUZDLFVBQVUsRUFBRSxJQUZWO01BR0ZDLElBQUksRUFBRVgsU0FBUyxDQUFDWSxNQUFWLENBQWlCLEVBQWpCLENBSEo7TUFJRkMsWUFBWSxFQUFFYixTQUFTLENBQUNjO0lBSnRCLENBRE47SUFPRUMsS0FBSyxFQUFFO01BQ0xOLFNBQVMsRUFBRSxLQUROO01BRUxFLElBQUksRUFBRVgsU0FBUyxDQUFDWSxNQUFWLENBQWlCLEVBQWpCO0lBRkQsQ0FQVDtJQVdFSSxXQUFXLEVBQUU7TUFDWFAsU0FBUyxFQUFFLEtBREE7TUFFWEUsSUFBSSxFQUFFWCxTQUFTLENBQUNpQjtJQUZMLENBWGY7SUFlRUMsVUFBVSxFQUFFO01BQ1ZULFNBQVMsRUFBRSxLQUREO01BRVZFLElBQUksRUFBRVgsU0FBUyxDQUFDbUI7SUFGTixDQWZkO0lBbUJFQyxRQUFRLEVBQUU7TUFDUlgsU0FBUyxFQUFFLEtBREg7TUFFUkUsSUFBSSxFQUFFWCxTQUFTLENBQUNtQjtJQUZSLENBbkJaO0lBdUJFRSxNQUFNLEVBQUU7TUFDTlosU0FBUyxFQUFFLEtBREw7TUFFTkUsSUFBSSxFQUFFWCxTQUFTLENBQUNzQixJQUFWLENBQWUxQixjQUFmLENBRkE7TUFHTmlCLFlBQVksRUFBRWxCO0lBSFI7RUF2QlYsQ0FERixFQThCRTtJQUNFSSxTQURGO0lBRUV3QixTQUFTLEVBQUUsV0FGYjtJQUdFQyxVQUFVLEVBQUUsS0FIZDtJQUlFQyxTQUFTLEVBQUUsS0FKYjtJQUtFQyxTQUFTLEVBQUU7RUFMYixDQTlCRjtFQXNDQXpCLFNBQVMsQ0FBQzBCLFlBQVYsQ0FBd0JDLEdBQUQsSUFBVUEsR0FBRyxDQUFDcEIsRUFBSixHQUFTZCxNQUFNLEVBQWhEO0VBQ0EsT0FBT08sU0FBUDtBQUNELENBL0NEIn0=","map":{"version":3,"names":["Model","require","v4","uuidv4","campaignStatusDefault","campaignStatus","module","exports","sequelize","DataTypes","Campaigns","associate","models","hasMany","Jobs","foreignKey","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","title","description","TEXT","start_date","DATEONLY","end_date","status","ENUM","modelName","timestamps","createdAt","updatedAt","beforeCreate","cam"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/","sources":["campaigns.model.js"],"sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nconst { v4: uuidv4 } = require(\"uuid\");\r\nconst {\r\n  campaignStatusDefault,\r\n  campaignStatus,\r\n} = require(\"../constant/campaignStatus.enum\");\r\n\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Campaigns extends Model {\r\n    static associate(models) {\r\n      // define association here\r\n      Campaigns.hasMany(models.Jobs, { foreignKey: \"Campaign_id\" });\r\n    }\r\n  }\r\n  Campaigns.init(\r\n    {\r\n      id: {\r\n        allowNull: false,\r\n        primaryKey: true,\r\n        type: DataTypes.STRING(36),\r\n        defaultValue: DataTypes.UUIDV4,\r\n      },\r\n      title: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(45),\r\n      },\r\n      description: {\r\n        allowNull: false,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      start_date: {\r\n        allowNull: false,\r\n        type: DataTypes.DATEONLY,\r\n      },\r\n      end_date: {\r\n        allowNull: false,\r\n        type: DataTypes.DATEONLY,\r\n      },\r\n      status: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(campaignStatus),\r\n        defaultValue: campaignStatusDefault,\r\n      },\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"Campaigns\",\r\n      timestamps: false,\r\n      createdAt: false,\r\n      updatedAt: false,\r\n    }\r\n  );\r\n  Campaigns.beforeCreate((cam) => (cam.id = uuidv4()));\r\n  return Campaigns;\r\n};\r\n"],"mappings":"AAAA;;AACA,MAAM;EAAEA;AAAF,IAAYC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAM;EAAEC,EAAE,EAAEC;AAAN,IAAiBF,OAAO,CAAC,MAAD,CAA9B;;AACA,MAAM;EACJG,qBADI;EAEJC;AAFI,IAGFJ,OAAO,CAAC,iCAAD,CAHX;;AAKAK,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;EACzC,MAAMC,SAAN,SAAwBV,KAAxB,CAA8B;IACZ,OAATW,SAAS,CAACC,MAAD,EAAS;MACvB;MACAF,SAAS,CAACG,OAAV,CAAkBD,MAAM,CAACE,IAAzB,EAA+B;QAAEC,UAAU,EAAE;MAAd,CAA/B;IACD;;EAJ2B;;EAM9BL,SAAS,CAACM,IAAV,CACE;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB,CAHJ;MAIFC,YAAY,EAAEb,SAAS,CAACc;IAJtB,CADN;IAOEC,KAAK,EAAE;MACLN,SAAS,EAAE,KADN;MAELE,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB;IAFD,CAPT;IAWEI,WAAW,EAAE;MACXP,SAAS,EAAE,KADA;MAEXE,IAAI,EAAEX,SAAS,CAACiB;IAFL,CAXf;IAeEC,UAAU,EAAE;MACVT,SAAS,EAAE,KADD;MAEVE,IAAI,EAAEX,SAAS,CAACmB;IAFN,CAfd;IAmBEC,QAAQ,EAAE;MACRX,SAAS,EAAE,KADH;MAERE,IAAI,EAAEX,SAAS,CAACmB;IAFR,CAnBZ;IAuBEE,MAAM,EAAE;MACNZ,SAAS,EAAE,KADL;MAENE,IAAI,EAAEX,SAAS,CAACsB,IAAV,CAAe1B,cAAf,CAFA;MAGNiB,YAAY,EAAElB;IAHR;EAvBV,CADF,EA8BE;IACEI,SADF;IAEEwB,SAAS,EAAE,WAFb;IAGEC,UAAU,EAAE,KAHd;IAIEC,SAAS,EAAE,KAJb;IAKEC,SAAS,EAAE;EALb,CA9BF;EAsCAzB,SAAS,CAAC0B,YAAV,CAAwBC,GAAD,IAAUA,GAAG,CAACpB,EAAJ,GAASd,MAAM,EAAhD;EACA,OAAOO,SAAP;AACD,CA/CD"}},"mtime":1667142342263},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/categories.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nconst {\n  categoryStatus,\n  categoryStatusDefault\n} = require(\"../constant/categoryStatus.enum\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Categories extends Model {\n    static associate(models) {\n      // define association here\n      Categories.hasMany(models.Jobs, {\n        foreignKey: \"Category_id\"\n      });\n    }\n\n  }\n\n  Categories.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    name: {\n      allowNull: false,\n      type: DataTypes.STRING(45)\n    },\n    description: {\n      allowNull: false,\n      type: DataTypes.TEXT\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(categoryStatus),\n      defaultValue: categoryStatusDefault\n    }\n  }, {\n    sequelize,\n    modelName: \"Categories\",\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  return Categories;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJjYXRlZ29yeVN0YXR1cyIsImNhdGVnb3J5U3RhdHVzRGVmYXVsdCIsIm1vZHVsZSIsImV4cG9ydHMiLCJzZXF1ZWxpemUiLCJEYXRhVHlwZXMiLCJDYXRlZ29yaWVzIiwiYXNzb2NpYXRlIiwibW9kZWxzIiwiaGFzTWFueSIsIkpvYnMiLCJmb3JlaWduS2V5IiwiaW5pdCIsImlkIiwiYWxsb3dOdWxsIiwicHJpbWFyeUtleSIsInR5cGUiLCJTVFJJTkciLCJkZWZhdWx0VmFsdWUiLCJVVUlEVjQiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJURVhUIiwic3RhdHVzIiwiRU5VTSIsIm1vZGVsTmFtZSIsInRpbWVzdGFtcHMiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvbW9kZWxzLyIsInNvdXJjZXMiOlsiY2F0ZWdvcmllcy5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJzZXF1ZWxpemVcIik7XG5jb25zdCB7IGNhdGVnb3J5U3RhdHVzLCBjYXRlZ29yeVN0YXR1c0RlZmF1bHQgfSA9IHJlcXVpcmUoXCIuLi9jb25zdGFudC9jYXRlZ29yeVN0YXR1cy5lbnVtXCIpO1xubW9kdWxlLmV4cG9ydHMgPSAoc2VxdWVsaXplLCBEYXRhVHlwZXMpID0+IHtcbiAgY2xhc3MgQ2F0ZWdvcmllcyBleHRlbmRzIE1vZGVsIHtcbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xuICAgICAgLy8gZGVmaW5lIGFzc29jaWF0aW9uIGhlcmVcbiAgICAgIENhdGVnb3JpZXMuaGFzTWFueShtb2RlbHMuSm9icywgeyBmb3JlaWduS2V5OiBcIkNhdGVnb3J5X2lkXCIgfSk7XG4gICAgfVxuICB9XG4gIENhdGVnb3JpZXMuaW5pdChcbiAgICB7XG4gICAgICBpZDoge1xuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICBwcmltYXJ5S2V5OiB0cnVlLFxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDM2KSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuVVVJRFY0LFxuICAgICAgfSxcbiAgICAgIG5hbWU6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyg0NSksXG4gICAgICB9LFxuICAgICAgZGVzY3JpcHRpb246IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlRFWFQsXG4gICAgICB9LFxuICAgICAgc3RhdHVzOiB7XG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5FTlVNKGNhdGVnb3J5U3RhdHVzKSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBjYXRlZ29yeVN0YXR1c0RlZmF1bHRcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBzZXF1ZWxpemUsXG4gICAgICBtb2RlbE5hbWU6IFwiQ2F0ZWdvcmllc1wiLFxuICAgICAgdGltZXN0YW1wczogZmFsc2UsXG4gICAgICBjcmVhdGVkQXQ6IGZhbHNlLFxuICAgICAgdXBkYXRlZEF0OiBmYWxzZSxcbiAgICB9XG4gICk7XG4gIHJldHVybiBDYXRlZ29yaWVzO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0EsTUFBTTtFQUFFQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU07RUFBRUMsY0FBRjtFQUFrQkM7QUFBbEIsSUFBNENGLE9BQU8sQ0FBQyxpQ0FBRCxDQUF6RDs7QUFDQUcsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLENBQUNDLFNBQUQsRUFBWUMsU0FBWixLQUEwQjtFQUN6QyxNQUFNQyxVQUFOLFNBQXlCUixLQUF6QixDQUErQjtJQUNiLE9BQVRTLFNBQVMsQ0FBQ0MsTUFBRCxFQUFTO01BQ3ZCO01BQ0FGLFVBQVUsQ0FBQ0csT0FBWCxDQUFtQkQsTUFBTSxDQUFDRSxJQUExQixFQUFnQztRQUFFQyxVQUFVLEVBQUU7TUFBZCxDQUFoQztJQUNEOztFQUo0Qjs7RUFNL0JMLFVBQVUsQ0FBQ00sSUFBWCxDQUNFO0lBQ0VDLEVBQUUsRUFBRTtNQUNGQyxTQUFTLEVBQUUsS0FEVDtNQUVGQyxVQUFVLEVBQUUsSUFGVjtNQUdGQyxJQUFJLEVBQUVYLFNBQVMsQ0FBQ1ksTUFBVixDQUFpQixFQUFqQixDQUhKO01BSUZDLFlBQVksRUFBRWIsU0FBUyxDQUFDYztJQUp0QixDQUROO0lBT0VDLElBQUksRUFBRTtNQUNKTixTQUFTLEVBQUUsS0FEUDtNQUVKRSxJQUFJLEVBQUVYLFNBQVMsQ0FBQ1ksTUFBVixDQUFpQixFQUFqQjtJQUZGLENBUFI7SUFXRUksV0FBVyxFQUFFO01BQ1hQLFNBQVMsRUFBRSxLQURBO01BRVhFLElBQUksRUFBRVgsU0FBUyxDQUFDaUI7SUFGTCxDQVhmO0lBZUVDLE1BQU0sRUFBRTtNQUNOVCxTQUFTLEVBQUUsS0FETDtNQUVORSxJQUFJLEVBQUVYLFNBQVMsQ0FBQ21CLElBQVYsQ0FBZXhCLGNBQWYsQ0FGQTtNQUdOa0IsWUFBWSxFQUFFakI7SUFIUjtFQWZWLENBREYsRUFzQkU7SUFDRUcsU0FERjtJQUVFcUIsU0FBUyxFQUFFLFlBRmI7SUFHRUMsVUFBVSxFQUFFLEtBSGQ7SUFJRUMsU0FBUyxFQUFFLEtBSmI7SUFLRUMsU0FBUyxFQUFFO0VBTGIsQ0F0QkY7RUE4QkEsT0FBT3RCLFVBQVA7QUFDRCxDQXRDRCJ9","map":{"version":3,"names":["Model","require","categoryStatus","categoryStatusDefault","module","exports","sequelize","DataTypes","Categories","associate","models","hasMany","Jobs","foreignKey","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","name","description","TEXT","status","ENUM","modelName","timestamps","createdAt","updatedAt"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/","sources":["categories.model.js"],"sourcesContent":["\"use strict\";\nconst { Model } = require(\"sequelize\");\nconst { categoryStatus, categoryStatusDefault } = require(\"../constant/categoryStatus.enum\");\nmodule.exports = (sequelize, DataTypes) => {\n  class Categories extends Model {\n    static associate(models) {\n      // define association here\n      Categories.hasMany(models.Jobs, { foreignKey: \"Category_id\" });\n    }\n  }\n  Categories.init(\n    {\n      id: {\n        allowNull: false,\n        primaryKey: true,\n        type: DataTypes.STRING(36),\n        defaultValue: DataTypes.UUIDV4,\n      },\n      name: {\n        allowNull: false,\n        type: DataTypes.STRING(45),\n      },\n      description: {\n        allowNull: false,\n        type: DataTypes.TEXT,\n      },\n      status: {\n        allowNull: false,\n        type: DataTypes.ENUM(categoryStatus),\n        defaultValue: categoryStatusDefault\n      },\n    },\n    {\n      sequelize,\n      modelName: \"Categories\",\n      timestamps: false,\n      createdAt: false,\n      updatedAt: false,\n    }\n  );\n  return Categories;\n};\n"],"mappings":"AAAA;;AACA,MAAM;EAAEA;AAAF,IAAYC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAM;EAAEC,cAAF;EAAkBC;AAAlB,IAA4CF,OAAO,CAAC,iCAAD,CAAzD;;AACAG,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;EACzC,MAAMC,UAAN,SAAyBR,KAAzB,CAA+B;IACb,OAATS,SAAS,CAACC,MAAD,EAAS;MACvB;MACAF,UAAU,CAACG,OAAX,CAAmBD,MAAM,CAACE,IAA1B,EAAgC;QAAEC,UAAU,EAAE;MAAd,CAAhC;IACD;;EAJ4B;;EAM/BL,UAAU,CAACM,IAAX,CACE;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB,CAHJ;MAIFC,YAAY,EAAEb,SAAS,CAACc;IAJtB,CADN;IAOEC,IAAI,EAAE;MACJN,SAAS,EAAE,KADP;MAEJE,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB;IAFF,CAPR;IAWEI,WAAW,EAAE;MACXP,SAAS,EAAE,KADA;MAEXE,IAAI,EAAEX,SAAS,CAACiB;IAFL,CAXf;IAeEC,MAAM,EAAE;MACNT,SAAS,EAAE,KADL;MAENE,IAAI,EAAEX,SAAS,CAACmB,IAAV,CAAexB,cAAf,CAFA;MAGNkB,YAAY,EAAEjB;IAHR;EAfV,CADF,EAsBE;IACEG,SADF;IAEEqB,SAAS,EAAE,YAFb;IAGEC,UAAU,EAAE,KAHd;IAIEC,SAAS,EAAE,KAJb;IAKEC,SAAS,EAAE;EALb,CAtBF;EA8BA,OAAOtB,UAAP;AACD,CAtCD"}},"mtime":1667142342264},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/interviews.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nconst {\n  interviewStatus,\n  interviewStatusDefault\n} = require(\"../constant/interviewStatus.enum.js\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Interviews extends Model {\n    static associate(models) {\n      // define association here\n      Interviews.belongsTo(models.CandidateDetails, {\n        foreignKey: \"CandidateDetail_id\"\n      });\n      Interviews.hasMany(models.Reports, {\n        foreignKey: \"Interview_id\"\n      });\n    }\n\n  }\n\n  Interviews.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(6),\n      defaultValue: DataTypes.UUIDV4\n    },\n    room: {\n      allowNull: false,\n      type: DataTypes.STRING(20)\n    },\n    slot: {\n      allowNull: false,\n      type: DataTypes.INTEGER\n    },\n    week: {\n      allowNull: false,\n      type: DataTypes.INTEGER\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(interviewStatus),\n      defaultValue: interviewStatusDefault\n    },\n    CandidateDetail_id: {\n      allowNull: false,\n      type: DataTypes.STRING(6),\n      references: {\n        model: \"CandidateDetails\",\n        key: \"id\"\n      }\n    }\n  }, {\n    sequelize,\n    modelName: \"Interviews\",\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  return Interviews;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJpbnRlcnZpZXdTdGF0dXMiLCJpbnRlcnZpZXdTdGF0dXNEZWZhdWx0IiwibW9kdWxlIiwiZXhwb3J0cyIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsIkludGVydmlld3MiLCJhc3NvY2lhdGUiLCJtb2RlbHMiLCJiZWxvbmdzVG8iLCJDYW5kaWRhdGVEZXRhaWxzIiwiZm9yZWlnbktleSIsImhhc01hbnkiLCJSZXBvcnRzIiwiaW5pdCIsImlkIiwiYWxsb3dOdWxsIiwicHJpbWFyeUtleSIsInR5cGUiLCJTVFJJTkciLCJkZWZhdWx0VmFsdWUiLCJVVUlEVjQiLCJyb29tIiwic2xvdCIsIklOVEVHRVIiLCJ3ZWVrIiwic3RhdHVzIiwiRU5VTSIsIkNhbmRpZGF0ZURldGFpbF9pZCIsInJlZmVyZW5jZXMiLCJtb2RlbCIsImtleSIsIm1vZGVsTmFtZSIsInRpbWVzdGFtcHMiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvbW9kZWxzLyIsInNvdXJjZXMiOlsiaW50ZXJ2aWV3cy5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcInNlcXVlbGl6ZVwiKTtcclxuY29uc3Qge1xyXG4gIGludGVydmlld1N0YXR1cyxcclxuICBpbnRlcnZpZXdTdGF0dXNEZWZhdWx0LFxyXG59ID0gcmVxdWlyZShcIi4uL2NvbnN0YW50L2ludGVydmlld1N0YXR1cy5lbnVtLmpzXCIpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xyXG4gIGNsYXNzIEludGVydmlld3MgZXh0ZW5kcyBNb2RlbCB7XHJcbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xyXG4gICAgICAvLyBkZWZpbmUgYXNzb2NpYXRpb24gaGVyZVxyXG4gICAgICBJbnRlcnZpZXdzLmJlbG9uZ3NUbyhtb2RlbHMuQ2FuZGlkYXRlRGV0YWlscywge1xyXG4gICAgICAgIGZvcmVpZ25LZXk6IFwiQ2FuZGlkYXRlRGV0YWlsX2lkXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgICBJbnRlcnZpZXdzLmhhc01hbnkobW9kZWxzLlJlcG9ydHMsIHsgZm9yZWlnbktleTogXCJJbnRlcnZpZXdfaWRcIiB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgSW50ZXJ2aWV3cy5pbml0KFxyXG4gICAge1xyXG4gICAgICBpZDoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDYpLFxyXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLlVVSURWNCxcclxuICAgICAgfSxcclxuICAgICAgcm9vbToge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygyMCksXHJcbiAgICAgIH0sXHJcbiAgICAgIHNsb3Q6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxyXG4gICAgICB9LFxyXG4gICAgICB3ZWVrOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcclxuICAgICAgfSxcclxuICAgICAgc3RhdHVzOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuRU5VTShpbnRlcnZpZXdTdGF0dXMpLFxyXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogaW50ZXJ2aWV3U3RhdHVzRGVmYXVsdCxcclxuICAgICAgfSxcclxuICAgICAgQ2FuZGlkYXRlRGV0YWlsX2lkOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDYpLFxyXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcclxuICAgICAgICAgIG1vZGVsOiBcIkNhbmRpZGF0ZURldGFpbHNcIixcclxuICAgICAgICAgIGtleTogXCJpZFwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBzZXF1ZWxpemUsXHJcbiAgICAgIG1vZGVsTmFtZTogXCJJbnRlcnZpZXdzXCIsXHJcbiAgICAgIHRpbWVzdGFtcHM6IGZhbHNlLFxyXG4gICAgICBjcmVhdGVkQXQ6IGZhbHNlLFxyXG4gICAgICB1cGRhdGVkQXQ6IGZhbHNlLFxyXG4gICAgfVxyXG4gICk7XHJcbiAgcmV0dXJuIEludGVydmlld3M7XHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0EsTUFBTTtFQUFFQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU07RUFDSkMsZUFESTtFQUVKQztBQUZJLElBR0ZGLE9BQU8sQ0FBQyxxQ0FBRCxDQUhYOztBQUlBRyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsQ0FBQ0MsU0FBRCxFQUFZQyxTQUFaLEtBQTBCO0VBQ3pDLE1BQU1DLFVBQU4sU0FBeUJSLEtBQXpCLENBQStCO0lBQ2IsT0FBVFMsU0FBUyxDQUFDQyxNQUFELEVBQVM7TUFDdkI7TUFDQUYsVUFBVSxDQUFDRyxTQUFYLENBQXFCRCxNQUFNLENBQUNFLGdCQUE1QixFQUE4QztRQUM1Q0MsVUFBVSxFQUFFO01BRGdDLENBQTlDO01BR0FMLFVBQVUsQ0FBQ00sT0FBWCxDQUFtQkosTUFBTSxDQUFDSyxPQUExQixFQUFtQztRQUFFRixVQUFVLEVBQUU7TUFBZCxDQUFuQztJQUNEOztFQVA0Qjs7RUFTL0JMLFVBQVUsQ0FBQ1EsSUFBWCxDQUNFO0lBQ0VDLEVBQUUsRUFBRTtNQUNGQyxTQUFTLEVBQUUsS0FEVDtNQUVGQyxVQUFVLEVBQUUsSUFGVjtNQUdGQyxJQUFJLEVBQUViLFNBQVMsQ0FBQ2MsTUFBVixDQUFpQixDQUFqQixDQUhKO01BSUZDLFlBQVksRUFBRWYsU0FBUyxDQUFDZ0I7SUFKdEIsQ0FETjtJQU9FQyxJQUFJLEVBQUU7TUFDSk4sU0FBUyxFQUFFLEtBRFA7TUFFSkUsSUFBSSxFQUFFYixTQUFTLENBQUNjLE1BQVYsQ0FBaUIsRUFBakI7SUFGRixDQVBSO0lBV0VJLElBQUksRUFBRTtNQUNKUCxTQUFTLEVBQUUsS0FEUDtNQUVKRSxJQUFJLEVBQUViLFNBQVMsQ0FBQ21CO0lBRlosQ0FYUjtJQWVFQyxJQUFJLEVBQUU7TUFDSlQsU0FBUyxFQUFFLEtBRFA7TUFFSkUsSUFBSSxFQUFFYixTQUFTLENBQUNtQjtJQUZaLENBZlI7SUFtQkVFLE1BQU0sRUFBRTtNQUNOVixTQUFTLEVBQUUsS0FETDtNQUVORSxJQUFJLEVBQUViLFNBQVMsQ0FBQ3NCLElBQVYsQ0FBZTNCLGVBQWYsQ0FGQTtNQUdOb0IsWUFBWSxFQUFFbkI7SUFIUixDQW5CVjtJQXdCRTJCLGtCQUFrQixFQUFFO01BQ2xCWixTQUFTLEVBQUUsS0FETztNQUVsQkUsSUFBSSxFQUFFYixTQUFTLENBQUNjLE1BQVYsQ0FBaUIsQ0FBakIsQ0FGWTtNQUdsQlUsVUFBVSxFQUFFO1FBQ1ZDLEtBQUssRUFBRSxrQkFERztRQUVWQyxHQUFHLEVBQUU7TUFGSztJQUhNO0VBeEJ0QixDQURGLEVBa0NFO0lBQ0UzQixTQURGO0lBRUU0QixTQUFTLEVBQUUsWUFGYjtJQUdFQyxVQUFVLEVBQUUsS0FIZDtJQUlFQyxTQUFTLEVBQUUsS0FKYjtJQUtFQyxTQUFTLEVBQUU7RUFMYixDQWxDRjtFQTBDQSxPQUFPN0IsVUFBUDtBQUNELENBckREIn0=","map":{"version":3,"names":["Model","require","interviewStatus","interviewStatusDefault","module","exports","sequelize","DataTypes","Interviews","associate","models","belongsTo","CandidateDetails","foreignKey","hasMany","Reports","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","room","slot","INTEGER","week","status","ENUM","CandidateDetail_id","references","model","key","modelName","timestamps","createdAt","updatedAt"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/","sources":["interviews.model.js"],"sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nconst {\r\n  interviewStatus,\r\n  interviewStatusDefault,\r\n} = require(\"../constant/interviewStatus.enum.js\");\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Interviews extends Model {\r\n    static associate(models) {\r\n      // define association here\r\n      Interviews.belongsTo(models.CandidateDetails, {\r\n        foreignKey: \"CandidateDetail_id\",\r\n      });\r\n      Interviews.hasMany(models.Reports, { foreignKey: \"Interview_id\" });\r\n    }\r\n  }\r\n  Interviews.init(\r\n    {\r\n      id: {\r\n        allowNull: false,\r\n        primaryKey: true,\r\n        type: DataTypes.STRING(6),\r\n        defaultValue: DataTypes.UUIDV4,\r\n      },\r\n      room: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(20),\r\n      },\r\n      slot: {\r\n        allowNull: false,\r\n        type: DataTypes.INTEGER,\r\n      },\r\n      week: {\r\n        allowNull: false,\r\n        type: DataTypes.INTEGER,\r\n      },\r\n      status: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(interviewStatus),\r\n        defaultValue: interviewStatusDefault,\r\n      },\r\n      CandidateDetail_id: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(6),\r\n        references: {\r\n          model: \"CandidateDetails\",\r\n          key: \"id\",\r\n        },\r\n      },\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"Interviews\",\r\n      timestamps: false,\r\n      createdAt: false,\r\n      updatedAt: false,\r\n    }\r\n  );\r\n  return Interviews;\r\n};\r\n"],"mappings":"AAAA;;AACA,MAAM;EAAEA;AAAF,IAAYC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAM;EACJC,eADI;EAEJC;AAFI,IAGFF,OAAO,CAAC,qCAAD,CAHX;;AAIAG,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;EACzC,MAAMC,UAAN,SAAyBR,KAAzB,CAA+B;IACb,OAATS,SAAS,CAACC,MAAD,EAAS;MACvB;MACAF,UAAU,CAACG,SAAX,CAAqBD,MAAM,CAACE,gBAA5B,EAA8C;QAC5CC,UAAU,EAAE;MADgC,CAA9C;MAGAL,UAAU,CAACM,OAAX,CAAmBJ,MAAM,CAACK,OAA1B,EAAmC;QAAEF,UAAU,EAAE;MAAd,CAAnC;IACD;;EAP4B;;EAS/BL,UAAU,CAACQ,IAAX,CACE;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEb,SAAS,CAACc,MAAV,CAAiB,CAAjB,CAHJ;MAIFC,YAAY,EAAEf,SAAS,CAACgB;IAJtB,CADN;IAOEC,IAAI,EAAE;MACJN,SAAS,EAAE,KADP;MAEJE,IAAI,EAAEb,SAAS,CAACc,MAAV,CAAiB,EAAjB;IAFF,CAPR;IAWEI,IAAI,EAAE;MACJP,SAAS,EAAE,KADP;MAEJE,IAAI,EAAEb,SAAS,CAACmB;IAFZ,CAXR;IAeEC,IAAI,EAAE;MACJT,SAAS,EAAE,KADP;MAEJE,IAAI,EAAEb,SAAS,CAACmB;IAFZ,CAfR;IAmBEE,MAAM,EAAE;MACNV,SAAS,EAAE,KADL;MAENE,IAAI,EAAEb,SAAS,CAACsB,IAAV,CAAe3B,eAAf,CAFA;MAGNoB,YAAY,EAAEnB;IAHR,CAnBV;IAwBE2B,kBAAkB,EAAE;MAClBZ,SAAS,EAAE,KADO;MAElBE,IAAI,EAAEb,SAAS,CAACc,MAAV,CAAiB,CAAjB,CAFY;MAGlBU,UAAU,EAAE;QACVC,KAAK,EAAE,kBADG;QAEVC,GAAG,EAAE;MAFK;IAHM;EAxBtB,CADF,EAkCE;IACE3B,SADF;IAEE4B,SAAS,EAAE,YAFb;IAGEC,UAAU,EAAE,KAHd;IAIEC,SAAS,EAAE,KAJb;IAKEC,SAAS,EAAE;EALb,CAlCF;EA0CA,OAAO7B,UAAP;AACD,CArDD"}},"mtime":1667231633834},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/candidatedetails.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nconst {\n  applyStatus,\n  applyStatusDefault\n} = require(\"../constant/cvStatus.enum.js\");\n\nconst {\n  v4: uuidv4\n} = require(\"uuid\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class CandidateDetails extends Model {\n    static associate(models) {\n      // define association here\n      CandidateDetails.belongsTo(models.Members, {\n        foreignKey: \"Member_id\"\n      });\n      CandidateDetails.belongsTo(models.Staffs, {\n        foreignKey: \"HRStaff_id\"\n      });\n      CandidateDetails.belongsTo(models.Jobs, {\n        foreignKey: \"Job_id\"\n      });\n      CandidateDetails.hasOne(models.Interviews, {\n        foreignKey: \"CandidateDetail_id\"\n      });\n    }\n\n  }\n\n  CandidateDetails.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    identity_number: {\n      allowNull: true,\n      type: DataTypes.STRING(12)\n    },\n    resume_url: {\n      allowNull: false,\n      type: DataTypes.TEXT\n    },\n    phone: {\n      allowNull: false,\n      type: DataTypes.STRING(10)\n    },\n    applied_status: {\n      allowNull: false,\n      type: DataTypes.ENUM(applyStatus),\n      defaultValue: applyStatusDefault\n    },\n    dob: {\n      allowNull: true,\n      type: DataTypes.DATEONLY\n    },\n    address: {\n      allowNull: true,\n      type: DataTypes.TEXT\n    },\n    Job_id: {\n      allowNull: false,\n      type: DataTypes.STRING(36),\n      references: {\n        model: \"Jobs\",\n        key: \"id\"\n      }\n    },\n    HRStaff_id: {\n      allowNull: false,\n      type: DataTypes.STRING(36),\n      references: {\n        model: \"Staffs\",\n        key: \"id\"\n      }\n    },\n    Member_id: {\n      allowNull: false,\n      type: DataTypes.STRING(36),\n      references: {\n        model: \"Members\",\n        key: \"id\"\n      }\n    }\n  }, {\n    sequelize,\n    modelName: \"CandidateDetails\",\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  CandidateDetails.beforeCreate(can => can.id = uuidv4());\n  return CandidateDetails;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJhcHBseVN0YXR1cyIsImFwcGx5U3RhdHVzRGVmYXVsdCIsInY0IiwidXVpZHY0IiwibW9kdWxlIiwiZXhwb3J0cyIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsIkNhbmRpZGF0ZURldGFpbHMiLCJhc3NvY2lhdGUiLCJtb2RlbHMiLCJiZWxvbmdzVG8iLCJNZW1iZXJzIiwiZm9yZWlnbktleSIsIlN0YWZmcyIsIkpvYnMiLCJoYXNPbmUiLCJJbnRlcnZpZXdzIiwiaW5pdCIsImlkIiwiYWxsb3dOdWxsIiwicHJpbWFyeUtleSIsInR5cGUiLCJTVFJJTkciLCJkZWZhdWx0VmFsdWUiLCJVVUlEVjQiLCJpZGVudGl0eV9udW1iZXIiLCJyZXN1bWVfdXJsIiwiVEVYVCIsInBob25lIiwiYXBwbGllZF9zdGF0dXMiLCJFTlVNIiwiZG9iIiwiREFURU9OTFkiLCJhZGRyZXNzIiwiSm9iX2lkIiwicmVmZXJlbmNlcyIsIm1vZGVsIiwia2V5IiwiSFJTdGFmZl9pZCIsIk1lbWJlcl9pZCIsIm1vZGVsTmFtZSIsInRpbWVzdGFtcHMiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJiZWZvcmVDcmVhdGUiLCJjYW4iXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvbW9kZWxzLyIsInNvdXJjZXMiOlsiY2FuZGlkYXRlZGV0YWlscy5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcInNlcXVlbGl6ZVwiKTtcclxuY29uc3Qge1xyXG4gIGFwcGx5U3RhdHVzLFxyXG4gIGFwcGx5U3RhdHVzRGVmYXVsdCxcclxufSA9IHJlcXVpcmUoXCIuLi9jb25zdGFudC9jdlN0YXR1cy5lbnVtLmpzXCIpO1xyXG5jb25zdCB7IHY0OiB1dWlkdjQgfSA9IHJlcXVpcmUoXCJ1dWlkXCIpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xyXG4gIGNsYXNzIENhbmRpZGF0ZURldGFpbHMgZXh0ZW5kcyBNb2RlbCB7XHJcbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xyXG4gICAgICAvLyBkZWZpbmUgYXNzb2NpYXRpb24gaGVyZVxyXG4gICAgICBDYW5kaWRhdGVEZXRhaWxzLmJlbG9uZ3NUbyhtb2RlbHMuTWVtYmVycywgeyBmb3JlaWduS2V5OiBcIk1lbWJlcl9pZFwiIH0pO1xyXG4gICAgICBDYW5kaWRhdGVEZXRhaWxzLmJlbG9uZ3NUbyhtb2RlbHMuU3RhZmZzLCB7IGZvcmVpZ25LZXk6IFwiSFJTdGFmZl9pZFwiIH0pO1xyXG4gICAgICBDYW5kaWRhdGVEZXRhaWxzLmJlbG9uZ3NUbyhtb2RlbHMuSm9icywgeyBmb3JlaWduS2V5OiBcIkpvYl9pZFwiIH0pO1xyXG4gICAgICBDYW5kaWRhdGVEZXRhaWxzLmhhc09uZShtb2RlbHMuSW50ZXJ2aWV3cywge1xyXG4gICAgICAgIGZvcmVpZ25LZXk6IFwiQ2FuZGlkYXRlRGV0YWlsX2lkXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICBDYW5kaWRhdGVEZXRhaWxzLmluaXQoXHJcbiAgICB7XHJcbiAgICAgIGlkOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICBwcmltYXJ5S2V5OiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoMzYpLFxyXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLlVVSURWNCxcclxuICAgICAgfSxcclxuICAgICAgaWRlbnRpdHlfbnVtYmVyOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoMTIpLFxyXG4gICAgICB9LFxyXG4gICAgICByZXN1bWVfdXJsOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuVEVYVCxcclxuICAgICAgfSxcclxuICAgICAgcGhvbmU6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoMTApLFxyXG4gICAgICB9LFxyXG4gICAgICBhcHBsaWVkX3N0YXR1czoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkVOVU0oYXBwbHlTdGF0dXMpLFxyXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogYXBwbHlTdGF0dXNEZWZhdWx0LFxyXG4gICAgICB9LFxyXG4gICAgICBkb2I6IHtcclxuICAgICAgICBhbGxvd051bGw6IHRydWUsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkRBVEVPTkxZLFxyXG4gICAgICB9LFxyXG4gICAgICBhZGRyZXNzOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5URVhULFxyXG4gICAgICB9LFxyXG4gICAgICBKb2JfaWQ6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoMzYpLFxyXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcclxuICAgICAgICAgIG1vZGVsOiBcIkpvYnNcIixcclxuICAgICAgICAgIGtleTogXCJpZFwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIEhSU3RhZmZfaWQ6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoMzYpLFxyXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcclxuICAgICAgICAgIG1vZGVsOiBcIlN0YWZmc1wiLFxyXG4gICAgICAgICAga2V5OiBcImlkXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAgTWVtYmVyX2lkOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDM2KSxcclxuICAgICAgICByZWZlcmVuY2VzOiB7XHJcbiAgICAgICAgICBtb2RlbDogXCJNZW1iZXJzXCIsXHJcbiAgICAgICAgICBrZXk6IFwiaWRcIixcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgc2VxdWVsaXplLFxyXG4gICAgICBtb2RlbE5hbWU6IFwiQ2FuZGlkYXRlRGV0YWlsc1wiLFxyXG4gICAgICB0aW1lc3RhbXBzOiBmYWxzZSxcclxuICAgICAgY3JlYXRlZEF0OiBmYWxzZSxcclxuICAgICAgdXBkYXRlZEF0OiBmYWxzZSxcclxuICAgIH1cclxuICApO1xyXG4gIENhbmRpZGF0ZURldGFpbHMuYmVmb3JlQ3JlYXRlKChjYW4pID0+IChjYW4uaWQgPSB1dWlkdjQoKSkpO1xyXG4gIHJldHVybiBDYW5kaWRhdGVEZXRhaWxzO1xyXG59O1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBLE1BQU07RUFBRUE7QUFBRixJQUFZQyxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxNQUFNO0VBQ0pDLFdBREk7RUFFSkM7QUFGSSxJQUdGRixPQUFPLENBQUMsOEJBQUQsQ0FIWDs7QUFJQSxNQUFNO0VBQUVHLEVBQUUsRUFBRUM7QUFBTixJQUFpQkosT0FBTyxDQUFDLE1BQUQsQ0FBOUI7O0FBQ0FLLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixDQUFDQyxTQUFELEVBQVlDLFNBQVosS0FBMEI7RUFDekMsTUFBTUMsZ0JBQU4sU0FBK0JWLEtBQS9CLENBQXFDO0lBQ25CLE9BQVRXLFNBQVMsQ0FBQ0MsTUFBRCxFQUFTO01BQ3ZCO01BQ0FGLGdCQUFnQixDQUFDRyxTQUFqQixDQUEyQkQsTUFBTSxDQUFDRSxPQUFsQyxFQUEyQztRQUFFQyxVQUFVLEVBQUU7TUFBZCxDQUEzQztNQUNBTCxnQkFBZ0IsQ0FBQ0csU0FB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","map":{"version":3,"names":["Model","require","applyStatus","applyStatusDefault","v4","uuidv4","module","exports","sequelize","DataTypes","CandidateDetails","associate","models","belongsTo","Members","foreignKey","Staffs","Jobs","hasOne","Interviews","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","identity_number","resume_url","TEXT","phone","applied_status","ENUM","dob","DATEONLY","address","Job_id","references","model","key","HRStaff_id","Member_id","modelName","timestamps","createdAt","updatedAt","beforeCreate","can"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/","sources":["candidatedetails.model.js"],"sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nconst {\r\n  applyStatus,\r\n  applyStatusDefault,\r\n} = require(\"../constant/cvStatus.enum.js\");\r\nconst { v4: uuidv4 } = require(\"uuid\");\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class CandidateDetails extends Model {\r\n    static associate(models) {\r\n      // define association here\r\n      CandidateDetails.belongsTo(models.Members, { foreignKey: \"Member_id\" });\r\n      CandidateDetails.belongsTo(models.Staffs, { foreignKey: \"HRStaff_id\" });\r\n      CandidateDetails.belongsTo(models.Jobs, { foreignKey: \"Job_id\" });\r\n      CandidateDetails.hasOne(models.Interviews, {\r\n        foreignKey: \"CandidateDetail_id\",\r\n      });\r\n    }\r\n  }\r\n  CandidateDetails.init(\r\n    {\r\n      id: {\r\n        allowNull: false,\r\n        primaryKey: true,\r\n        type: DataTypes.STRING(36),\r\n        defaultValue: DataTypes.UUIDV4,\r\n      },\r\n      identity_number: {\r\n        allowNull: true,\r\n        type: DataTypes.STRING(12),\r\n      },\r\n      resume_url: {\r\n        allowNull: false,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      phone: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(10),\r\n      },\r\n      applied_status: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(applyStatus),\r\n        defaultValue: applyStatusDefault,\r\n      },\r\n      dob: {\r\n        allowNull: true,\r\n        type: DataTypes.DATEONLY,\r\n      },\r\n      address: {\r\n        allowNull: true,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      Job_id: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(36),\r\n        references: {\r\n          model: \"Jobs\",\r\n          key: \"id\",\r\n        },\r\n      },\r\n      HRStaff_id: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(36),\r\n        references: {\r\n          model: \"Staffs\",\r\n          key: \"id\",\r\n        },\r\n      },\r\n      Member_id: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(36),\r\n        references: {\r\n          model: \"Members\",\r\n          key: \"id\",\r\n        },\r\n      },\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"CandidateDetails\",\r\n      timestamps: false,\r\n      createdAt: false,\r\n      updatedAt: false,\r\n    }\r\n  );\r\n  CandidateDetails.beforeCreate((can) => (can.id = uuidv4()));\r\n  return CandidateDetails;\r\n};\r\n"],"mappings":"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"}},"mtime":1667231633834},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/jobs.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _jobStatus = require(\"../constant/jobStatus.enum\");\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Jobs extends Model {\n    static associate(models) {\n      // define association here\n      Jobs.hasMany(models.CandidateDetails, {\n        foreignKey: \"Job_id\"\n      });\n      Jobs.belongsTo(models.Categories, {\n        foreignKey: \"Category_id\"\n      });\n      Jobs.belongsTo(models.Campaigns, {\n        foreignKey: \"Campaign_id\"\n      });\n    }\n\n  }\n\n  Jobs.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    name: {\n      allowNull: false,\n      type: DataTypes.STRING(45)\n    },\n    description: {\n      allowNull: false,\n      type: DataTypes.TEXT\n    },\n    salary: {\n      allowNull: true,\n      type: DataTypes.STRING(45)\n    },\n    quantity: {\n      defaultValue: 0,\n      allowNull: false,\n      type: DataTypes.INTEGER,\n      validate: {\n        min: 0\n      }\n    },\n    start_date: {\n      allowNull: false,\n      type: DataTypes.DATEONLY\n    },\n    end_date: {\n      allowNull: false,\n      type: DataTypes.DATEONLY\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(_jobStatus.jobStatus),\n      defaultValue: _jobStatus.jobStatusDefault\n    },\n    experience: {\n      allowNull: false,\n      type: DataTypes.ENUM(_jobStatus.jobExperienced),\n      defaultValue: _jobStatus.jobExperiencedDefault\n    },\n    isRemote: {\n      allowNull: false,\n      type: DataTypes.BOOLEAN,\n      defaultValue: false\n    },\n    Category_id: {\n      allowNull: false,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4,\n      references: {\n        model: \"Categories\",\n        key: \"id\"\n      }\n    },\n    Campaign_id: {\n      allowNull: false,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4,\n      references: {\n        model: \"Campaigns\",\n        key: \"id\"\n      }\n    }\n  }, {\n    sequelize,\n    modelName: \"Jobs\",\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  return Jobs;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiSm9icyIsImFzc29jaWF0ZSIsIm1vZGVscyIsImhhc01hbnkiLCJDYW5kaWRhdGVEZXRhaWxzIiwiZm9yZWlnbktleSIsImJlbG9uZ3NUbyIsIkNhdGVnb3JpZXMiLCJDYW1wYWlnbnMiLCJpbml0IiwiaWQiLCJhbGxvd051bGwiLCJwcmltYXJ5S2V5IiwidHlwZSIsIlNUUklORyIsImRlZmF1bHRWYWx1ZSIsIlVVSURWNCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsIlRFWFQiLCJzYWxhcnkiLCJxdWFudGl0eSIsIklOVEVHRVIiLCJ2YWxpZGF0ZSIsIm1pbiIsInN0YXJ0X2RhdGUiLCJEQVRFT05MWSIsImVuZF9kYXRlIiwic3RhdHVzIiwiRU5VTSIsImpvYlN0YXR1cyIsImpvYlN0YXR1c0RlZmF1bHQiLCJleHBlcmllbmNlIiwiam9iRXhwZXJpZW5jZWQiLCJqb2JFeHBlcmllbmNlZERlZmF1bHQiLCJpc1JlbW90ZSIsIkJPT0xFQU4iLCJDYXRlZ29yeV9pZCIsInJlZmVyZW5jZXMiLCJtb2RlbCIsImtleSIsIkNhbXBhaWduX2lkIiwibW9kZWxOYW1lIiwidGltZXN0YW1wcyIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9tb2RlbHMvIiwic291cmNlcyI6WyJqb2JzLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHtcbiAgam9iRXhwZXJpZW5jZWQsXG4gIGpvYkV4cGVyaWVuY2VkRGVmYXVsdCxcbiAgam9iU3RhdHVzLFxuICBqb2JTdGF0dXNEZWZhdWx0LFxufSBmcm9tIFwiLi4vY29uc3RhbnQvam9iU3RhdHVzLmVudW1cIjtcbmNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJzZXF1ZWxpemVcIik7XG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xuICBjbGFzcyBKb2JzIGV4dGVuZHMgTW9kZWwge1xuICAgIHN0YXRpYyBhc3NvY2lhdGUobW9kZWxzKSB7XG4gICAgICAvLyBkZWZpbmUgYXNzb2NpYXRpb24gaGVyZVxuICAgICAgSm9icy5oYXNNYW55KG1vZGVscy5DYW5kaWRhdGVEZXRhaWxzLCB7IGZvcmVpZ25LZXk6IFwiSm9iX2lkXCIgfSk7XG4gICAgICBKb2JzLmJlbG9uZ3NUbyhtb2RlbHMuQ2F0ZWdvcmllcywgeyBmb3JlaWduS2V5OiBcIkNhdGVnb3J5X2lkXCIgfSk7XG4gICAgICBKb2JzLmJlbG9uZ3NUbyhtb2RlbHMuQ2FtcGFpZ25zLCB7IGZvcmVpZ25LZXk6IFwiQ2FtcGFpZ25faWRcIiB9KTtcbiAgICB9XG4gIH1cbiAgSm9icy5pbml0KFxuICAgIHtcbiAgICAgIGlkOiB7XG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHByaW1hcnlLZXk6IHRydWUsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoMzYpLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5VVUlEVjQsXG4gICAgICB9LFxuICAgICAgbmFtZToge1xuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDQ1KSxcbiAgICAgIH0sXG4gICAgICBkZXNjcmlwdGlvbjoge1xuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuVEVYVCxcbiAgICAgIH0sXG4gICAgICBzYWxhcnk6IHtcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDQ1KSxcbiAgICAgIH0sXG4gICAgICBxdWFudGl0eToge1xuICAgICAgICBkZWZhdWx0VmFsdWU6IDAsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBzdGFydF9kYXRlOiB7XG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5EQVRFT05MWSxcbiAgICAgIH0sXG4gICAgICBlbmRfZGF0ZToge1xuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURU9OTFksXG4gICAgICB9LFxuICAgICAgc3RhdHVzOiB7XG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5FTlVNKGpvYlN0YXR1cyksXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogam9iU3RhdHVzRGVmYXVsdCxcbiAgICAgIH0sXG4gICAgICBleHBlcmllbmNlOiB7XG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5FTlVNKGpvYkV4cGVyaWVuY2VkKSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBqb2JFeHBlcmllbmNlZERlZmF1bHQsXG4gICAgICB9LFxuICAgICAgaXNSZW1vdGU6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkJPT0xFQU4sXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogZmFsc2UsXG4gICAgICB9LFxuICAgICAgQ2F0ZWdvcnlfaWQ6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygzNiksXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLlVVSURWNCxcbiAgICAgICAgcmVmZXJlbmNlczoge1xuICAgICAgICAgIG1vZGVsOiBcIkNhdGVnb3JpZXNcIixcbiAgICAgICAgICBrZXk6IFwiaWRcIixcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBDYW1wYWlnbl9pZDoge1xuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDM2KSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuVVVJRFY0LFxuICAgICAgICByZWZlcmVuY2VzOiB7XG4gICAgICAgICAgbW9kZWw6IFwiQ2FtcGFpZ25zXCIsXG4gICAgICAgICAga2V5OiBcImlkXCIsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgc2VxdWVsaXplLFxuICAgICAgbW9kZWxOYW1lOiBcIkpvYnNcIixcbiAgICAgIHRpbWVzdGFtcHM6IGZhbHNlLFxuICAgICAgY3JlYXRlZEF0OiBmYWxzZSxcbiAgICAgIHVwZGF0ZWRBdDogZmFsc2UsXG4gICAgfVxuICApO1xuICByZXR1cm4gSm9icztcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBOztBQU1BLE1BQU07RUFBRUE7QUFBRixJQUFZQyxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLENBQUNDLFNBQUQsRUFBWUMsU0FBWixLQUEwQjtFQUN6QyxNQUFNQyxJQUFOLFNBQW1CTixLQUFuQixDQUF5QjtJQUNQLE9BQVRPLFNBQVMsQ0FBQ0MsTUFBRCxFQUFTO01BQ3ZCO01BQ0FGLElBQUksQ0FBQ0csT0FBTCxDQUFhRCxNQUFNLENBQUNFLGdCQUFwQixFQUFzQztRQUFFQyxVQUFVLEVBQUU7TUFBZCxDQUF0QztNQUNBTCxJQUFJLENBQUNNLFNBQUwsQ0FBZUosTUFBTSxDQUFDSyxVQUF0QixFQUFrQztRQUFFRixVQUFVLEVBQUU7TUFBZCxDQUFsQztNQUNBTCxJQUFJLENBQUNNLFNBQUwsQ0FBZUosTUFBTSxDQUFDTSxTQUF0QixFQUFpQztRQUFFSCxVQUFVLEVBQUU7TUFBZCxDQUFqQztJQUNEOztFQU5zQjs7RUFRekJMLElB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","map":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","Jobs","associate","models","hasMany","CandidateDetails","foreignKey","belongsTo","Categories","Campaigns","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","name","description","TEXT","salary","quantity","INTEGER","validate","min","start_date","DATEONLY","end_date","status","ENUM","jobStatus","jobStatusDefault","experience","jobExperienced","jobExperiencedDefault","isRemote","BOOLEAN","Category_id","references","model","key","Campaign_id","modelName","timestamps","createdAt","updatedAt"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/","sources":["jobs.model.js"],"sourcesContent":["\"use strict\";\nimport {\n  jobExperienced,\n  jobExperiencedDefault,\n  jobStatus,\n  jobStatusDefault,\n} from \"../constant/jobStatus.enum\";\nconst { Model } = require(\"sequelize\");\nmodule.exports = (sequelize, DataTypes) => {\n  class Jobs extends Model {\n    static associate(models) {\n      // define association here\n      Jobs.hasMany(models.CandidateDetails, { foreignKey: \"Job_id\" });\n      Jobs.belongsTo(models.Categories, { foreignKey: \"Category_id\" });\n      Jobs.belongsTo(models.Campaigns, { foreignKey: \"Campaign_id\" });\n    }\n  }\n  Jobs.init(\n    {\n      id: {\n        allowNull: false,\n        primaryKey: true,\n        type: DataTypes.STRING(36),\n        defaultValue: DataTypes.UUIDV4,\n      },\n      name: {\n        allowNull: false,\n        type: DataTypes.STRING(45),\n      },\n      description: {\n        allowNull: false,\n        type: DataTypes.TEXT,\n      },\n      salary: {\n        allowNull: true,\n        type: DataTypes.STRING(45),\n      },\n      quantity: {\n        defaultValue: 0,\n        allowNull: false,\n        type: DataTypes.INTEGER,\n        validate: {\n          min: 0,\n        },\n      },\n      start_date: {\n        allowNull: false,\n        type: DataTypes.DATEONLY,\n      },\n      end_date: {\n        allowNull: false,\n        type: DataTypes.DATEONLY,\n      },\n      status: {\n        allowNull: false,\n        type: DataTypes.ENUM(jobStatus),\n        defaultValue: jobStatusDefault,\n      },\n      experience: {\n        allowNull: false,\n        type: DataTypes.ENUM(jobExperienced),\n        defaultValue: jobExperiencedDefault,\n      },\n      isRemote: {\n        allowNull: false,\n        type: DataTypes.BOOLEAN,\n        defaultValue: false,\n      },\n      Category_id: {\n        allowNull: false,\n        type: DataTypes.STRING(36),\n        defaultValue: DataTypes.UUIDV4,\n        references: {\n          model: \"Categories\",\n          key: \"id\",\n        },\n      },\n      Campaign_id: {\n        allowNull: false,\n        type: DataTypes.STRING(36),\n        defaultValue: DataTypes.UUIDV4,\n        references: {\n          model: \"Campaigns\",\n          key: \"id\",\n        },\n      },\n    },\n    {\n      sequelize,\n      modelName: \"Jobs\",\n      timestamps: false,\n      createdAt: false,\n      updatedAt: false,\n    }\n  );\n  return Jobs;\n};\n"],"mappings":"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"}},"mtime":1667142342265},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/members.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nconst {\n  userStatus,\n  userStatusDefault\n} = require(\"../constant/userStatus.enum.js\");\n\nconst {\n  v4: uuidv4\n} = require(\"uuid\");\n\nconst {\n  memberStatus,\n  memberStatusDefault\n} = require(\"../constant/memberStatus.enum.js\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Members extends Model {\n    static associate(models) {\n      // define association here\n      Members.hasMany(models.CandidateDetails, {\n        foreignKey: \"Member_id\"\n      });\n    }\n\n  }\n\n  Members.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    email: {\n      allowNull: false,\n      type: DataTypes.STRING(320)\n    },\n    fullname: {\n      allowNull: false,\n      type: DataTypes.STRING(60)\n    },\n    password: {\n      allowNull: false,\n      type: DataTypes.STRING(60)\n    },\n    avatar: {\n      allowNull: true,\n      type: DataTypes.TEXT\n    },\n    current_resume_url: {\n      allowNull: true,\n      type: DataTypes.TEXT\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(userStatus),\n      defaultValue: userStatusDefault\n    },\n    phone: {\n      allowNull: true,\n      type: DataTypes.STRING(13)\n    },\n    address: {\n      allowNull: true,\n      type: DataTypes.TEXT\n    },\n    verified_code: {\n      allowNull: true,\n      type: DataTypes.STRING(4)\n    },\n    is_employee: {\n      allowNull: false,\n      type: DataTypes.ENUM(memberStatus),\n      defaultValue: memberStatusDefault\n    }\n  }, {\n    sequelize,\n    modelName: \"Members\",\n    createdAt: false,\n    updatedAt: false\n  });\n  Members.beforeCreate(user => user.id = uuidv4());\n  return Members;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJ1c2VyU3RhdHVzIiwidXNlclN0YXR1c0RlZmF1bHQiLCJ2NCIsInV1aWR2NCIsIm1lbWJlclN0YXR1cyIsIm1lbWJlclN0YXR1c0RlZmF1bHQiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiTWVtYmVycyIsImFzc29jaWF0ZSIsIm1vZGVscyIsImhhc01hbnkiLCJDYW5kaWRhdGVEZXRhaWxzIiwiZm9yZWlnbktleSIsImluaXQiLCJpZCIsImFsbG93TnVsbCIsInByaW1hcnlLZXkiLCJ0eXBlIiwiU1RSSU5HIiwiZGVmYXVsdFZhbHVlIiwiVVVJRFY0IiwiZW1haWwiLCJmdWxsbmFtZSIsInBhc3N3b3JkIiwiYXZhdGFyIiwiVEVYVCIsImN1cnJlbnRfcmVzdW1lX3VybCIsInN0YXR1cyIsIkVOVU0iLCJwaG9uZSIsImFkZHJlc3MiLCJ2ZXJpZmllZF9jb2RlIiwiaXNfZW1wbG95ZWUiLCJtb2RlbE5hbWUiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJiZWZvcmVDcmVhdGUiLCJ1c2VyIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL21vZGVscy8iLCJzb3VyY2VzIjpbIm1lbWJlcnMubW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbmNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJzZXF1ZWxpemVcIik7XHJcbmNvbnN0IHtcclxuICB1c2VyU3RhdHVzLFxyXG4gIHVzZXJTdGF0dXNEZWZhdWx0LFxyXG59ID0gcmVxdWlyZShcIi4uL2NvbnN0YW50L3VzZXJTdGF0dXMuZW51bS5qc1wiKTtcclxuY29uc3QgeyB2NDogdXVpZHY0IH0gPSByZXF1aXJlKFwidXVpZFwiKTtcclxuY29uc3Qge1xyXG4gIG1lbWJlclN0YXR1cyxcclxuICBtZW1iZXJTdGF0dXNEZWZhdWx0LFxyXG59ID0gcmVxdWlyZShcIi4uL2NvbnN0YW50L21lbWJlclN0YXR1cy5lbnVtLmpzXCIpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSAoc2VxdWVsaXplLCBEYXRhVHlwZXMpID0+IHtcclxuICBjbGFzcyBNZW1iZXJzIGV4dGVuZHMgTW9kZWwge1xyXG4gICAgc3RhdGljIGFzc29jaWF0ZShtb2RlbHMpIHtcclxuICAgICAgLy8gZGVmaW5lIGFzc29jaWF0aW9uIGhlcmVcclxuICAgICAgTWVtYmVycy5oYXNNYW55KG1vZGVscy5DYW5kaWRhdGVEZXRhaWxzLCB7IGZvcmVpZ25LZXk6IFwiTWVtYmVyX2lkXCIgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIE1lbWJlcnMuaW5pdChcclxuICAgIHtcclxuICAgICAgaWQ6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHByaW1hcnlLZXk6IHRydWUsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygzNiksXHJcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuVVVJRFY0LFxyXG4gICAgICB9LFxyXG4gICAgICBlbWFpbDoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygzMjApLFxyXG4gICAgICB9LFxyXG4gICAgICBmdWxsbmFtZToge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyg2MCksXHJcbiAgICAgIH0sXHJcbiAgICAgIHBhc3N3b3JkOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDYwKSxcclxuICAgICAgfSxcclxuICAgICAgYXZhdGFyOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5URVhULFxyXG4gICAgICB9LFxyXG4gICAgICBjdXJyZW50X3Jlc3VtZV91cmw6IHtcclxuICAgICAgICBhbGxvd051bGw6IHRydWUsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlRFWFQsXHJcbiAgICAgIH0sXHJcbiAgICAgIHN0YXR1czoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkVOVU0odXNlclN0YXR1cyksXHJcbiAgICAgICAgZGVmYXVsdFZhbHVlOiB1c2VyU3RhdHVzRGVmYXVsdCxcclxuICAgICAgfSxcclxuICAgICAgcGhvbmU6IHtcclxuICAgICAgICBhbGxvd051bGw6IHRydWUsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygxMyksXHJcbiAgICAgIH0sXHJcbiAgICAgIGFkZHJlc3M6IHtcclxuICAgICAgICBhbGxvd051bGw6IHRydWUsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlRFWFQsXHJcbiAgICAgIH0sXHJcbiAgICAgIHZlcmlmaWVkX2NvZGU6IHtcclxuICAgICAgICBhbGxvd051bGw6IHRydWUsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyg0KSxcclxuICAgICAgfSxcclxuICAgICAgaXNfZW1wbG95ZWU6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5FTlVNKG1lbWJlclN0YXR1cyksXHJcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBtZW1iZXJTdGF0dXNEZWZhdWx0LFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgc2VxdWVsaXplLFxyXG4gICAgICBtb2RlbE5hbWU6IFwiTWVtYmVyc1wiLFxyXG4gICAgICBjcmVhdGVkQXQ6IGZhbHNlLFxyXG4gICAgICB1cGRhdGVkQXQ6IGZhbHNlLFxyXG4gICAgfVxyXG4gICk7XHJcbiAgTWVtYmVycy5iZWZvcmVDcmVhdGUoKHVzZXIpID0+ICh1c2VyLmlkID0g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","map":{"version":3,"names":["Model","require","userStatus","userStatusDefault","v4","uuidv4","memberStatus","memberStatusDefault","module","exports","sequelize","DataTypes","Members","associate","models","hasMany","CandidateDetails","foreignKey","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","email","fullname","password","avatar","TEXT","current_resume_url","status","ENUM","phone","address","verified_code","is_employee","modelName","createdAt","updatedAt","beforeCreate","user"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/","sources":["members.model.js"],"sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nconst {\r\n  userStatus,\r\n  userStatusDefault,\r\n} = require(\"../constant/userStatus.enum.js\");\r\nconst { v4: uuidv4 } = require(\"uuid\");\r\nconst {\r\n  memberStatus,\r\n  memberStatusDefault,\r\n} = require(\"../constant/memberStatus.enum.js\");\r\n\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Members extends Model {\r\n    static associate(models) {\r\n      // define association here\r\n      Members.hasMany(models.CandidateDetails, { foreignKey: \"Member_id\" });\r\n    }\r\n  }\r\n  Members.init(\r\n    {\r\n      id: {\r\n        allowNull: false,\r\n        primaryKey: true,\r\n        type: DataTypes.STRING(36),\r\n        defaultValue: DataTypes.UUIDV4,\r\n      },\r\n      email: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(320),\r\n      },\r\n      fullname: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(60),\r\n      },\r\n      password: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(60),\r\n      },\r\n      avatar: {\r\n        allowNull: true,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      current_resume_url: {\r\n        allowNull: true,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      status: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(userStatus),\r\n        defaultValue: userStatusDefault,\r\n      },\r\n      phone: {\r\n        allowNull: true,\r\n        type: DataTypes.STRING(13),\r\n      },\r\n      address: {\r\n        allowNull: true,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      verified_code: {\r\n        allowNull: true,\r\n        type: DataTypes.STRING(4),\r\n      },\r\n      is_employee: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(memberStatus),\r\n        defaultValue: memberStatusDefault,\r\n      },\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"Members\",\r\n      createdAt: false,\r\n      updatedAt: false,\r\n    }\r\n  );\r\n  Members.beforeCreate((user) => (user.id = uuidv4()));\r\n\r\n  return Members;\r\n};\r\n"],"mappings":"AAAA;;AACA,MAAM;EAAEA;AAAF,IAAYC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAM;EACJC,UADI;EAEJC;AAFI,IAGFF,OAAO,CAAC,gCAAD,CAHX;;AAIA,MAAM;EAAEG,EAAE,EAAEC;AAAN,IAAiBJ,OAAO,CAAC,MAAD,CAA9B;;AACA,MAAM;EACJK,YADI;EAEJC;AAFI,IAGFN,OAAO,CAAC,kCAAD,CAHX;;AAKAO,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;EACzC,MAAMC,OAAN,SAAsBZ,KAAtB,CAA4B;IACV,OAATa,SAAS,CAACC,MAAD,EAAS;MACvB;MACAF,OAAO,CAACG,OAAR,CAAgBD,MAAM,CAACE,gBAAvB,EAAyC;QAAEC,UAAU,EAAE;MAAd,CAAzC;IACD;;EAJyB;;EAM5BL,OAAO,CAACM,IAAR,CACE;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB,CAHJ;MAIFC,YAAY,EAAEb,SAAS,CAACc;IAJtB,CADN;IAOEC,KAAK,EAAE;MACLN,SAAS,EAAE,KADN;MAELE,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,GAAjB;IAFD,CAPT;IAWEI,QAAQ,EAAE;MACRP,SAAS,EAAE,KADH;MAERE,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB;IAFE,CAXZ;IAeEK,QAAQ,EAAE;MACRR,SAAS,EAAE,KADH;MAERE,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB;IAFE,CAfZ;IAmBEM,MAAM,EAAE;MACNT,SAAS,EAAE,IADL;MAENE,IAAI,EAAEX,SAAS,CAACmB;IAFV,CAnBV;IAuBEC,kBAAkB,EAAE;MAClBX,SAAS,EAAE,IADO;MAElBE,IAAI,EAAEX,SAAS,CAACmB;IAFE,CAvBtB;IA2BEE,MAAM,EAAE;MACNZ,SAAS,EAAE,KADL;MAENE,IAAI,EAAEX,SAAS,CAACsB,IAAV,CAAe/B,UAAf,CAFA;MAGNsB,YAAY,EAAErB;IAHR,CA3BV;IAgCE+B,KAAK,EAAE;MACLd,SAAS,EAAE,IADN;MAELE,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB;IAFD,CAhCT;IAoCEY,OAAO,EAAE;MACPf,SAAS,EAAE,IADJ;MAEPE,IAAI,EAAEX,SAAS,CAACmB;IAFT,CApCX;IAwCEM,aAAa,EAAE;MACbhB,SAAS,EAAE,IADE;MAEbE,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,CAAjB;IAFO,CAxCjB;IA4CEc,WAAW,EAAE;MACXjB,SAAS,EAAE,KADA;MAEXE,IAAI,EAAEX,SAAS,CAACsB,IAAV,CAAe3B,YAAf,CAFK;MAGXkB,YAAY,EAAEjB;IAHH;EA5Cf,CADF,EAmDE;IACEG,SADF;IAEE4B,SAAS,EAAE,SAFb;IAGEC,SAAS,EAAE,KAHb;IAIEC,SAAS,EAAE;EAJb,CAnDF;EA0DA5B,OAAO,CAAC6B,YAAR,CAAsBC,IAAD,IAAWA,IAAI,CAACvB,EAAL,GAAUd,MAAM,EAAhD;EAEA,OAAOO,OAAP;AACD,CApED"}},"mtime":1667231633835},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/staff.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nconst {\n  role,\n  roleDefault\n} = require(\"../constant/role.enum.js\");\n\nconst {\n  userStatus,\n  userStatusDefault\n} = require(\"../constant/userStatus.enum.js\");\n\nconst {\n  v4: uuidv4\n} = require(\"uuid\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Staffs extends Model {\n    static associate(models) {\n      // define association here\n      Staffs.hasMany(models.Reports, {\n        foreignKey: \"Interviewer_id\"\n      });\n      Staffs.hasMany(models.CandidateDetails, {\n        foreignKey: \"CandidateDetail_id\"\n      });\n    }\n\n  }\n\n  Staffs.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    email: {\n      allowNull: false,\n      type: DataTypes.STRING(320)\n    },\n    fullname: {\n      allowNull: false,\n      type: DataTypes.STRING(60)\n    },\n    avatar: {\n      allowNull: true,\n      type: DataTypes.TEXT\n    },\n    password: {\n      allowNull: false,\n      type: DataTypes.STRING(60)\n    },\n    role: {\n      allowNull: false,\n      type: DataTypes.ENUM(role),\n      defaultValue: roleDefault\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(userStatus),\n      defaultValue: userStatusDefault\n    }\n  }, {\n    sequelize,\n    modelName: \"Staffs\",\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  Staffs.beforeCreate(user => user.id = uuidv4());\n  return Staffs;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJyb2xlIiwicm9sZURlZmF1bHQiLCJ1c2VyU3RhdHVzIiwidXNlclN0YXR1c0RlZmF1bHQiLCJ2NCIsInV1aWR2NCIsIm1vZHVsZSIsImV4cG9ydHMiLCJzZXF1ZWxpemUiLCJEYXRhVHlwZXMiLCJTdGFmZnMiLCJhc3NvY2lhdGUiLCJtb2RlbHMiLCJoYXNNYW55IiwiUmVwb3J0cyIsImZvcmVpZ25LZXkiLCJDYW5kaWRhdGVEZXRhaWxzIiwiaW5pdCIsImlkIiwiYWxsb3dOdWxsIiwicHJpbWFyeUtleSIsInR5cGUiLCJTVFJJTkciLCJkZWZhdWx0VmFsdWUiLCJVVUlEVjQiLCJlbWFpbCIsImZ1bGxuYW1lIiwiYXZhdGFyIiwiVEVYVCIsInBhc3N3b3JkIiwiRU5VTSIsInN0YXR1cyIsIm1vZGVsTmFtZSIsInRpbWVzdGFtcHMiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJiZWZvcmVDcmVhdGUiLCJ1c2VyIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL21vZGVscy8iLCJzb3VyY2VzIjpbInN0YWZmLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5jb25zdCB7IE1vZGVsIH0gPSByZXF1aXJlKFwic2VxdWVsaXplXCIpO1xyXG5jb25zdCB7IHJvbGUsIHJvbGVEZWZhdWx0IH0gPSByZXF1aXJlKFwiLi4vY29uc3RhbnQvcm9sZS5lbnVtLmpzXCIpO1xyXG5jb25zdCB7XHJcbiAgdXNlclN0YXR1cyxcclxuICB1c2VyU3RhdHVzRGVmYXVsdCxcclxufSA9IHJlcXVpcmUoXCIuLi9jb25zdGFudC91c2VyU3RhdHVzLmVudW0uanNcIik7XHJcbmNvbnN0IHsgdjQ6IHV1aWR2NCB9ID0gcmVxdWlyZShcInV1aWRcIik7XHJcbm1vZHVsZS5leHBvcnRzID0gKHNlcXVlbGl6ZSwgRGF0YVR5cGVzKSA9PiB7XHJcbiAgY2xhc3MgU3RhZmZzIGV4dGVuZHMgTW9kZWwge1xyXG4gICAgc3RhdGljIGFzc29jaWF0ZShtb2RlbHMpIHtcclxuICAgICAgLy8gZGVmaW5lIGFzc29jaWF0aW9uIGhlcmVcclxuICAgICAgU3RhZmZzLmhhc01hbnkobW9kZWxzLlJlcG9ydHMsIHsgZm9yZWlnbktleTogXCJJbnRlcnZpZXdlcl9pZFwiIH0pO1xyXG4gICAgICBTdGFmZnMuaGFzTWFueShtb2RlbHMuQ2FuZGlkYXRlRGV0YWlscywge1xyXG4gICAgICAgIGZvcmVpZ25LZXk6IFwiQ2FuZGlkYXRlRGV0YWlsX2lkXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICBTdGFmZnMuaW5pdChcclxuICAgIHtcclxuICAgICAgaWQ6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHByaW1hcnlLZXk6IHRydWUsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygzNiksXHJcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuVVVJRFY0LFxyXG4gICAgICB9LFxyXG4gICAgICBlbWFpbDoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygzMjApLFxyXG4gICAgICB9LFxyXG4gICAgICBmdWxsbmFtZToge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyg2MCksXHJcbiAgICAgIH0sXHJcbiAgICAgIGF2YXRhcjoge1xyXG4gICAgICAgIGFsbG93TnVsbDogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuVEVYVCxcclxuICAgICAgfSxcclxuICAgICAgcGFzc3dvcmQ6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoNjApLFxyXG4gICAgICB9LFxyXG4gICAgICByb2xlOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuRU5VTShyb2xlKSxcclxuICAgICAgICBkZWZhdWx0VmFsdWU6IHJvbGVEZWZhdWx0LFxyXG4gICAgICB9LFxyXG4gICAgICBzdGF0dXM6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5FTlVNKHVzZXJTdGF0dXMpLFxyXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogdXNlclN0YXR1c0RlZmF1bHQsXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBzZXF1ZWxpemUsXHJcbiAgICAgIG1vZGVsTmFtZTogXCJTdGFmZnNcIixcclxuICAgICAgdGltZXN0YW1wczogZmFsc2UsXHJcbiAgICAgIGNyZWF0ZWRBdDogZmFsc2UsXHJcbiAgICAgIHVwZGF0ZWRBdDogZmFsc2UsXHJcbiAgICB9XHJcbiAgKTtcclxuICBTdGFmZnMuYmVmb3JlQ3JlYXRlKCh1c2VyKSA9PiAodXNlci5pZCA9IHV1aWR2NCgpKSk7XHJcbiAgcmV0dXJuIFN0YWZmcztcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQSxNQUFNO0VBQUVBO0FBQUYsSUFBWUMsT0FBTyxDQUFDLFdBQUQsQ0FBekI7O0FBQ0EsTUFBTTtFQUFFQyxJQUFGO0VBQVFDO0FBQVIsSUFBd0JGLE9BQU8sQ0FBQywwQkFBRCxDQUFyQzs7QUFDQSxNQUFNO0VBQ0pHLFVBREk7RUFFSkM7QUFGSSxJQUdGSixPQUFPLENBQUMsZ0NBQUQsQ0FIWDs7QUFJQSxNQUFNO0VBQUVLLEVBQUUsRUFBRUM7QUFBTixJQUFpQk4sT0FBTyxDQUFDLE1BQUQsQ0FBOUI7O0FBQ0FPLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixDQUFDQyxTQUFELEVBQVlDLFNBQVosS0FBMEI7RUFDekMsTUFBTUMsTUFBTixTQUFxQlosS0FBckIsQ0FBMkI7SUFDVCxPQUFUYSxTQUFTLENBQUNDLE1BQUQsRUFBUztNQUN2QjtNQUNBRixNQUFNLENBQUNHLE9BQVAsQ0FBZUQsTUFBTSxDQUFDRSxPQUF0QixFQUErQjtRQUFFQyxVQUFVLEVBQUU7TUFBZCxDQUEvQjtNQUNBTCxNQUFNLENBQUNHLE9BQVAsQ0FBZUQsTUFBTSxDQUFDSSxnQkFBdEIsRUFBd0M7UUFDdENELFVBQVUsRUFBRTtNQUQwQixDQUF4QztJQUdEOztFQVB3Qjs7RUFTM0JMLE1BQU0sQ0FBQ08sSUFBUCxDQUNFO0lBQ0VDLEVBQUUsRUFBRTtNQUNGQyxTQUFTLEVBQUUsS0FEVDtNQUVGQyxVQUFVLEVBQUUsSUFGVjtNQUdGQyxJQUFJLEVBQUVaLFNBQVMsQ0FBQ2EsTUFBVixDQUFpQixFQUFqQixDQUhKO01BSUZDLFlBQVksRUFBRWQsU0FBUyxDQUFDZTtJQUp0QixDQUROO0lBT0VDLEtBQUssRUFBRTtNQUNMTixTQUFTLEVBQUUsS0FETjtNQUVMRSxJQUFJLEVBQUVaLFNBQVMsQ0FBQ2EsTUFBVixDQUFpQixHQUFqQjtJQUZELENBUFQ7SUFXRUksUUFBUSxFQUFFO01BQ1JQLFNBQVMsRUFBRSxLQURIO01BRVJFLElBQUksRUFBRVosU0FBUyxDQUFDYSxNQUFWLENBQWlCLEVBQWpCO0lBRkUsQ0FYWjtJQWVFSyxNQUFNLEVBQUU7TUFDTlIsU0FBUyxFQUFFLElBREw7TUFFTkUsSUFBSSxFQUFFWixTQUFTLENBQUNtQjtJQUZWLENBZlY7SUFtQkVDLFFBQVEsRUFBRTtNQUNSVixTQUFTLEVBQUUsS0FESDtNQUVSRSxJQUFJLEVBQUVaLFNBQVMsQ0FBQ2EsTUFBVixDQUFpQixFQUFqQjtJQUZFLENBbkJaO0lBdUJFdEIsSUFBSSxFQUFFO01BQ0ptQixTQUFTLEVBQUUsS0FEUDtNQUVKRSxJQUFJLEVBQUVaLFNBQVMsQ0FBQ3FCLElBQVYsQ0FBZTlCLElBQWYsQ0FGRjtNQUdKdUIsWUFBWSxFQUFFdEI7SUFIVixDQXZCUjtJQTRCRThCLE1BQU0sRUFBRTtNQUNOWixTQUFTLEVBQUUsS0FETDtNQUVORSxJQUFJLEVBQUVaLFNBQVMsQ0FBQ3FCLElBQVYsQ0FBZTVCLFVBQWYsQ0FGQTtNQUdOcUIsWUFBWSxFQUFFcEI7SUFIUjtFQTVCVixDQURGLEVBbUNFO0lBQ0VLLFNBREY7SUFFRXdCLFNBQVMsRUFBRSxRQUZiO0lBR0VDLFVBQVUsRUFBRSxLQUhkO0lBSUVDLFNBQVMsRUFBRSxLQUpiO0lBS0VDLFNBQVMsRUFBRTtFQUxiLENBbkNGO0VBMkNBekIsTUFBTSxDQUFDMEIsWUFBUCxDQUFxQkMsSUFBRCxJQUFXQSxJQUFJLENBQUNuQixFQUFMLEdBQVViLE1BQU0sRUFBL0M7RUFDQSxPQUFPSyxNQUFQO0FBQ0QsQ0F2REQifQ==","map":{"version":3,"names":["Model","require","role","roleDefault","userStatus","userStatusDefault","v4","uuidv4","module","exports","sequelize","DataTypes","Staffs","associate","models","hasMany","Reports","foreignKey","CandidateDetails","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","email","fullname","avatar","TEXT","password","ENUM","status","modelName","timestamps","createdAt","updatedAt","beforeCreate","user"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/","sources":["staff.model.js"],"sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nconst { role, roleDefault } = require(\"../constant/role.enum.js\");\r\nconst {\r\n  userStatus,\r\n  userStatusDefault,\r\n} = require(\"../constant/userStatus.enum.js\");\r\nconst { v4: uuidv4 } = require(\"uuid\");\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Staffs extends Model {\r\n    static associate(models) {\r\n      // define association here\r\n      Staffs.hasMany(models.Reports, { foreignKey: \"Interviewer_id\" });\r\n      Staffs.hasMany(models.CandidateDetails, {\r\n        foreignKey: \"CandidateDetail_id\",\r\n      });\r\n    }\r\n  }\r\n  Staffs.init(\r\n    {\r\n      id: {\r\n        allowNull: false,\r\n        primaryKey: true,\r\n        type: DataTypes.STRING(36),\r\n        defaultValue: DataTypes.UUIDV4,\r\n      },\r\n      email: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(320),\r\n      },\r\n      fullname: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(60),\r\n      },\r\n      avatar: {\r\n        allowNull: true,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      password: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(60),\r\n      },\r\n      role: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(role),\r\n        defaultValue: roleDefault,\r\n      },\r\n      status: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(userStatus),\r\n        defaultValue: userStatusDefault,\r\n      },\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"Staffs\",\r\n      timestamps: false,\r\n      createdAt: false,\r\n      updatedAt: false,\r\n    }\r\n  );\r\n  Staffs.beforeCreate((user) => (user.id = uuidv4()));\r\n  return Staffs;\r\n};\r\n"],"mappings":"AAAA;;AACA,MAAM;EAAEA;AAAF,IAAYC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAM;EAAEC,IAAF;EAAQC;AAAR,IAAwBF,OAAO,CAAC,0BAAD,CAArC;;AACA,MAAM;EACJG,UADI;EAEJC;AAFI,IAGFJ,OAAO,CAAC,gCAAD,CAHX;;AAIA,MAAM;EAAEK,EAAE,EAAEC;AAAN,IAAiBN,OAAO,CAAC,MAAD,CAA9B;;AACAO,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;EACzC,MAAMC,MAAN,SAAqBZ,KAArB,CAA2B;IACT,OAATa,SAAS,CAACC,MAAD,EAAS;MACvB;MACAF,MAAM,CAACG,OAAP,CAAeD,MAAM,CAACE,OAAtB,EAA+B;QAAEC,UAAU,EAAE;MAAd,CAA/B;MACAL,MAAM,CAACG,OAAP,CAAeD,MAAM,CAACI,gBAAtB,EAAwC;QACtCD,UAAU,EAAE;MAD0B,CAAxC;IAGD;;EAPwB;;EAS3BL,MAAM,CAACO,IAAP,CACE;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEZ,SAAS,CAACa,MAAV,CAAiB,EAAjB,CAHJ;MAIFC,YAAY,EAAEd,SAAS,CAACe;IAJtB,CADN;IAOEC,KAAK,EAAE;MACLN,SAAS,EAAE,KADN;MAELE,IAAI,EAAEZ,SAAS,CAACa,MAAV,CAAiB,GAAjB;IAFD,CAPT;IAWEI,QAAQ,EAAE;MACRP,SAAS,EAAE,KADH;MAERE,IAAI,EAAEZ,SAAS,CAACa,MAAV,CAAiB,EAAjB;IAFE,CAXZ;IAeEK,MAAM,EAAE;MACNR,SAAS,EAAE,IADL;MAENE,IAAI,EAAEZ,SAAS,CAACmB;IAFV,CAfV;IAmBEC,QAAQ,EAAE;MACRV,SAAS,EAAE,KADH;MAERE,IAAI,EAAEZ,SAAS,CAACa,MAAV,CAAiB,EAAjB;IAFE,CAnBZ;IAuBEtB,IAAI,EAAE;MACJmB,SAAS,EAAE,KADP;MAEJE,IAAI,EAAEZ,SAAS,CAACqB,IAAV,CAAe9B,IAAf,CAFF;MAGJuB,YAAY,EAAEtB;IAHV,CAvBR;IA4BE8B,MAAM,EAAE;MACNZ,SAAS,EAAE,KADL;MAENE,IAAI,EAAEZ,SAAS,CAACqB,IAAV,CAAe5B,UAAf,CAFA;MAGNqB,YAAY,EAAEpB;IAHR;EA5BV,CADF,EAmCE;IACEK,SADF;IAEEwB,SAAS,EAAE,QAFb;IAGEC,UAAU,EAAE,KAHd;IAIEC,SAAS,EAAE,KAJb;IAKEC,SAAS,EAAE;EALb,CAnCF;EA2CAzB,MAAM,CAAC0B,YAAP,CAAqBC,IAAD,IAAWA,IAAI,CAACnB,EAAL,GAAUb,MAAM,EAA/C;EACA,OAAOK,MAAP;AACD,CAvDD"}},"mtime":1667231633836},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/campaigns.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _campaign = require(\"../controller/campaign.controller\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.get(\"/\", _campaign.handleGetAllCampaign);\nrouter.post(\"/add\", _campaign.handleCreateNewCampaign);\nrouter.patch(\"/update\", _campaign.updateCampaign); //delete nhung ma la update status == 'Finished'\n\nrouter.patch(\"/delete/:id\", _campaign.deleteCampaignV2);\nrouter.get(\"/:id\", _campaign.handleGetCampaignById);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwiaGFuZGxlR2V0QWxsQ2FtcGFpZ24iLCJwb3N0IiwiaGFuZGxlQ3JlYXRlTmV3Q2FtcGFpZ24iLCJwYXRjaCIsInVwZGF0ZUNhbXBhaWduIiwiZGVsZXRlQ2FtcGFpZ25WMiIsImhhbmRsZUdldENhbXBhaWduQnlJZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsiY2FtcGFpZ25zLnJvdXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQge1xuICBoYW5kbGVHZXRBbGxDYW1wYWlnbixcbiAgaGFuZGxlQ3JlYXRlTmV3Q2FtcGFpZ24sXG4gIHVwZGF0ZUNhbXBhaWduLFxuICBkZWxldGVDYW1wYWlnblYyLFxuICBoYW5kbGVHZXRDYW1wYWlnbkJ5SWQsXG59IGZyb20gXCIuLi9jb250cm9sbGVyL2NhbXBhaWduLmNvbnRyb2xsZXJcIjtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLmdldChcIi9cIiwgaGFuZGxlR2V0QWxsQ2FtcGFpZ24pO1xucm91dGVyLnBvc3QoXCIvYWRkXCIsIGhhbmRsZUNyZWF0ZU5ld0NhbXBhaWduKTtcbnJvdXRlci5wYXRjaChcIi91cGRhdGVcIiwgdXBkYXRlQ2FtcGFpZ24pO1xuLy9kZWxldGUgbmh1bmcgbWEgbGEgdXBkYXRlIHN0YXR1cyA9PSAnRmluaXNoZWQnXG5yb3V0ZXIucGF0Y2goXCIvZGVsZXRlLzppZFwiLCBkZWxldGVDYW1wYWlnblYyKTtcbnJvdXRlci5nZXQoXCIvOmlkXCIsIGhhbmRsZUdldENhbXBhaWduQnlJZCk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOzs7O0FBUUEsTUFBTUEsTUFBTSxHQUFHQyxnQkFBQSxDQUFRQyxNQUFSLEVBQWY7O0FBRUFGLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLEdBQVgsRUFBZ0JDLDhCQUFoQjtBQUNBSixNQUFNLENBQUNLLElBQVAsQ0FBWSxNQUFaLEVBQW9CQyxpQ0FBcEI7QUFDQU4sTUFBTSxDQUFDTyxLQUFQLENBQWEsU0FBYixFQUF3QkMsd0JBQXhCLEUsQ0FDQTs7QUFDQVIsTUFBTSxDQUFDTyxLQUFQLENBQWEsYUFBYixFQUE0QkUsMEJBQTVCO0FBQ0FULE1BQU0sQ0FBQ0csR0FBUCxDQUFXLE1BQVgsRUFBbUJPLCtCQUFuQjtBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJaLE1BQWpCIn0=","map":{"version":3,"names":["router","express","Router","get","handleGetAllCampaign","post","handleCreateNewCampaign","patch","updateCampaign","deleteCampaignV2","handleGetCampaignById","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["campaigns.route.js"],"sourcesContent":["import express from \"express\";\nimport {\n  handleGetAllCampaign,\n  handleCreateNewCampaign,\n  updateCampaign,\n  deleteCampaignV2,\n  handleGetCampaignById,\n} from \"../controller/campaign.controller\";\n\nconst router = express.Router();\n\nrouter.get(\"/\", handleGetAllCampaign);\nrouter.post(\"/add\", handleCreateNewCampaign);\nrouter.patch(\"/update\", updateCampaign);\n//delete nhung ma la update status == 'Finished'\nrouter.patch(\"/delete/:id\", deleteCampaignV2);\nrouter.get(\"/:id\", handleGetCampaignById);\n\nmodule.exports = router;\n"],"mappings":";;AAAA;;AACA;;;;AAQA,MAAMA,MAAM,GAAGC,gBAAA,CAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgBC,8BAAhB;AACAJ,MAAM,CAACK,IAAP,CAAY,MAAZ,EAAoBC,iCAApB;AACAN,MAAM,CAACO,KAAP,CAAa,SAAb,EAAwBC,wBAAxB,E,CACA;;AACAR,MAAM,CAACO,KAAP,CAAa,aAAb,EAA4BE,0BAA5B;AACAT,MAAM,CAACG,GAAP,CAAW,MAAX,EAAmBO,+BAAnB;AAEAC,MAAM,CAACC,OAAP,GAAiBZ,MAAjB"}},"mtime":1667231633840},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/campaign.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst campaignService = require(\"../service/campaignService\");\n\nconst campaignRepository = require(\"../repository/campaign.repository\");\n\nconst handleGetAllCampaign = async (req, res) => {\n  let campaigns = await campaignService.getAllCampaign();\n  return res.json({\n    campaigns\n  });\n};\n\nconst handleCreateNewCampaign = async (req, res, next) => {\n  try {\n    let message = await campaignService.createNewCampaign(req.body);\n    return res.status(200).json(message);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst updateCampaign = async (req, res, next) => {\n  try {\n    await campaignService.updateCampaign(req, res);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst deleteCampaignV2 = async (req, res, next) => {\n  try {\n    await campaignService.updateStatus(req, res);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetCampaignById = async (req, res, next) => {\n  try {\n    const id = req.params.id;\n    let campaign = await campaignRepository.getCampaignById(id);\n    return res.json({\n      campaign\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\nmodule.exports = {\n  handleGetAllCampaign,\n  handleCreateNewCampaign,\n  updateCampaign,\n  deleteCampaignV2,\n  handleGetCampaignById\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYW1wYWlnblNlcnZpY2UiLCJyZXF1aXJlIiwiY2FtcGFpZ25SZXBvc2l0b3J5IiwiaGFuZGxlR2V0QWxsQ2FtcGFpZ24iLCJyZXEiLCJyZXMiLCJjYW1wYWlnbnMiLCJnZXRBbGxDYW1wYWlnbiIsImpzb24iLCJoYW5kbGVDcmVhdGVOZXdDYW1wYWlnbiIsIm5leHQiLCJtZXNzYWdlIiwiY3JlYXRlTmV3Q2FtcGFpZ24iLCJib2R5Iiwic3RhdHVzIiwiZXJyb3IiLCJ1cGRhdGVDYW1wYWlnbiIsImRlbGV0ZUNhbXBhaWduVjIiLCJ1cGRhdGVTdGF0dXMiLCJoYW5kbGVHZXRDYW1wYWlnbkJ5SWQiLCJpZCIsInBhcmFtcyIsImNhbXBhaWduIiwiZ2V0Q2FtcGFpZ25CeUlkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9jb250cm9sbGVyLyIsInNvdXJjZXMiOlsiY2FtcGFpZ24uY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjYW1wYWlnblNlcnZpY2UgPSByZXF1aXJlKFwiLi4vc2VydmljZS9jYW1wYWlnblNlcnZpY2VcIik7XG5jb25zdCBjYW1wYWlnblJlcG9zaXRvcnkgPSByZXF1aXJlKFwiLi4vcmVwb3NpdG9yeS9jYW1wYWlnbi5yZXBvc2l0b3J5XCIpO1xuXG5jb25zdCBoYW5kbGVHZXRBbGxDYW1wYWlnbiA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBsZXQgY2FtcGFpZ25zID0gYXdhaXQgY2FtcGFpZ25TZXJ2aWNlLmdldEFsbENhbXBhaWduKCk7XG4gIHJldHVybiByZXMuanNvbih7IGNhbXBhaWducyB9KTtcbn07XG5cbmNvbnN0IGhhbmRsZUNyZWF0ZU5ld0NhbXBhaWduID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHRyeSB7XG4gICAgbGV0IG1lc3NhZ2UgPSBhd2FpdCBjYW1wYWlnblNlcnZpY2UuY3JlYXRlTmV3Q2FtcGFpZ24ocmVxLmJvZHkpO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihtZXNzYWdlKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBuZXh0KGVycm9yKTtcbiAgfVxufTtcblxuY29uc3QgdXBkYXRlQ2FtcGFpZ24gPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBjYW1wYWlnblNlcnZpY2UudXBkYXRlQ2FtcGFpZ24ocmVxLCByZXMpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIG5leHQoZXJyb3IpO1xuICB9XG59O1xuXG5jb25zdCBkZWxldGVDYW1wYWlnblYyID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHRyeSB7XG4gICAgYXdhaXQgY2FtcGFpZ25TZXJ2aWNlLnVwZGF0ZVN0YXR1cyhyZXEsIHJlcyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbmV4dChlcnJvcik7XG4gIH1cbn07XG5cbmNvbnN0IGhhbmRsZUdldENhbXBhaWduQnlJZCA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGlkID0gcmVxLnBhcmFtcy5pZDtcbiAgICBsZXQgY2FtcGFpZ24gPSBhd2FpdCBjYW1wYWlnblJlcG9zaXRvcnkuZ2V0Q2FtcGFpZ25CeUlkKGlkKTtcbiAgICByZXR1cm4gcmVzLmpzb24oeyBjYW1wYWlnbiB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBuZXh0KGVycm9yKTtcbiAgfVxufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBoYW5kbGVHZXRBbGxDYW1wYWlnbixcbiAgaGFuZGxlQ3JlYXRlTmV3Q2FtcGFpZ24sXG4gIHVwZGF0ZUNhbXBhaWduLFxuICBkZWxldGVDYW1wYWlnblYyLFxuICBoYW5kbGVHZXRDYW1wYWlnbkJ5SWQsXG59O1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLGVBQWUsR0FBR0MsT0FBTyxDQUFDLDRCQUFELENBQS9COztBQUNBLE1BQU1DLGtCQUFrQixHQUFHRCxPQUFPLENBQUMsbUNBQUQsQ0FBbEM7O0FBRUEsTUFBTUUsb0JBQW9CLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0VBQy9DLElBQUlDLFNBQVMsR0FBRyxNQUFNTixlQUFlLENBQUNPLGNBQWhCLEVBQXRCO0VBQ0EsT0FBT0YsR0FBRyxDQUFDRyxJQUFKLENBQVM7SUFBRUY7RUFBRixDQUFULENBQVA7QUFDRCxDQUhEOztBQUtBLE1BQU1HLHVCQUF1QixHQUFHLE9BQU9MLEdBQVAsRUFBWUMsR0FBWixFQUFpQkssSUFBakIsS0FBMEI7RUFDeEQsSUFBSTtJQUNGLElBQUlDLE9BQU8sR0FBRyxNQUFNWCxlQUFlLENBQUNZLGlCQUFoQixDQUFrQ1IsR0FBRyxDQUFDUyxJQUF0QyxDQUFwQjtJQUNBLE9BQU9SLEdBQUcsQ0FBQ1MsTUFBSixDQUFXLEdBQVgsRUFBZ0JOLElBQWhCLENBQXFCRyxPQUFyQixDQUFQO0VBQ0QsQ0FIRCxDQUdFLE9BQU9JLEtBQVAsRUFBYztJQUNkTCxJQUFJLENBQUNLLEtBQUQsQ0FBSjtFQUNEO0FBQ0YsQ0FQRDs7QUFTQSxNQUFNQyxjQUFjLEdBQUcsT0FBT1osR0FBUCxFQUFZQyxHQUFaLEVBQWlCSyxJQUFqQixLQUEwQjtFQUMvQyxJQUFJO0lBQ0YsTUFBTVYsZUFBZSxDQUFDZ0IsY0FBaEIsQ0FBK0JaLEdBQS9CLEVBQW9DQyxHQUFwQyxDQUFOO0VBQ0QsQ0FGRCxDQUVFLE9BQU9VLEtBQVAsRUFBYztJQUNkTCxJQUFJLENBQUNLLEtBQUQsQ0FBSjtFQUNEO0FBQ0YsQ0FORDs7QUFRQSxNQUFNRSxnQkFBZ0IsR0FBRyxPQUFPYixHQUFQLEVBQVlDLEdBQVosRUFBaUJLLElBQWpCLEtBQTBCO0VBQ2pELElBQUk7SUFDRixNQUFNVixlQUFlLENBQUNrQixZQUFoQixDQUE2QmQsR0FBN0IsRUFBa0NDLEdBQWxDLENBQU47RUFDRCxDQUZELENBRUUsT0FBT1UsS0FBUCxFQUFjO0lBQ2RMLElBQUksQ0FBQ0ssS0FBRCxDQUFKO0VBQ0Q7QUFDRixDQU5EOztBQVFBLE1BQU1JLHFCQUFxQixHQUFHLE9BQU9mLEdBQVAsRUFBWUMsR0FBWixFQUFpQkssSUFBakIsS0FBMEI7RUFDdEQsSUFBSTtJQUNGLE1BQU1VLEVBQUUsR0FBR2hCLEdBQUcsQ0FBQ2lCLE1BQUosQ0FBV0QsRUFBdEI7SUFDQSxJQUFJRSxRQUFRLEdBQUcsTUFBTXBCLGtCQUFrQixDQUFDcUIsZUFBbkIsQ0FBbUNILEVBQW5DLENBQXJCO0lBQ0EsT0FBT2YsR0FBRyxDQUFDRyxJQUFKLENBQVM7TUFBRWM7SUFBRixDQUFULENBQVA7RUFDRCxDQUpELENBSUUsT0FBT1AsS0FBUCxFQUFjO0lBQ2RMLElBQUksQ0FBQ0ssS0FBRCxDQUFKO0VBQ0Q7QUFDRixDQVJEOztBQVNBUyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7RUFDZnRCLG9CQURlO0VBRWZNLHVCQUZlO0VBR2ZPLGNBSGU7RUFJZkMsZ0JBSmU7RUFLZkU7QUFMZSxDQUFqQiJ9","map":{"version":3,"names":["campaignService","require","campaignRepository","handleGetAllCampaign","req","res","campaigns","getAllCampaign","json","handleCreateNewCampaign","next","message","createNewCampaign","body","status","error","updateCampaign","deleteCampaignV2","updateStatus","handleGetCampaignById","id","params","campaign","getCampaignById","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/","sources":["campaign.controller.js"],"sourcesContent":["const campaignService = require(\"../service/campaignService\");\nconst campaignRepository = require(\"../repository/campaign.repository\");\n\nconst handleGetAllCampaign = async (req, res) => {\n  let campaigns = await campaignService.getAllCampaign();\n  return res.json({ campaigns });\n};\n\nconst handleCreateNewCampaign = async (req, res, next) => {\n  try {\n    let message = await campaignService.createNewCampaign(req.body);\n    return res.status(200).json(message);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst updateCampaign = async (req, res, next) => {\n  try {\n    await campaignService.updateCampaign(req, res);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst deleteCampaignV2 = async (req, res, next) => {\n  try {\n    await campaignService.updateStatus(req, res);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetCampaignById = async (req, res, next) => {\n  try {\n    const id = req.params.id;\n    let campaign = await campaignRepository.getCampaignById(id);\n    return res.json({ campaign });\n  } catch (error) {\n    next(error);\n  }\n};\nmodule.exports = {\n  handleGetAllCampaign,\n  handleCreateNewCampaign,\n  updateCampaign,\n  deleteCampaignV2,\n  handleGetCampaignById,\n};\n"],"mappings":";;AAAA,MAAMA,eAAe,GAAGC,OAAO,CAAC,4BAAD,CAA/B;;AACA,MAAMC,kBAAkB,GAAGD,OAAO,CAAC,mCAAD,CAAlC;;AAEA,MAAME,oBAAoB,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;EAC/C,IAAIC,SAAS,GAAG,MAAMN,eAAe,CAACO,cAAhB,EAAtB;EACA,OAAOF,GAAG,CAACG,IAAJ,CAAS;IAAEF;EAAF,CAAT,CAAP;AACD,CAHD;;AAKA,MAAMG,uBAAuB,GAAG,OAAOL,GAAP,EAAYC,GAAZ,EAAiBK,IAAjB,KAA0B;EACxD,IAAI;IACF,IAAIC,OAAO,GAAG,MAAMX,eAAe,CAACY,iBAAhB,CAAkCR,GAAG,CAACS,IAAtC,CAApB;IACA,OAAOR,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBN,IAAhB,CAAqBG,OAArB,CAAP;EACD,CAHD,CAGE,OAAOI,KAAP,EAAc;IACdL,IAAI,CAACK,KAAD,CAAJ;EACD;AACF,CAPD;;AASA,MAAMC,cAAc,GAAG,OAAOZ,GAAP,EAAYC,GAAZ,EAAiBK,IAAjB,KAA0B;EAC/C,IAAI;IACF,MAAMV,eAAe,CAACgB,cAAhB,CAA+BZ,GAA/B,EAAoCC,GAApC,CAAN;EACD,CAFD,CAEE,OAAOU,KAAP,EAAc;IACdL,IAAI,CAACK,KAAD,CAAJ;EACD;AACF,CAND;;AAQA,MAAME,gBAAgB,GAAG,OAAOb,GAAP,EAAYC,GAAZ,EAAiBK,IAAjB,KAA0B;EACjD,IAAI;IACF,MAAMV,eAAe,CAACkB,YAAhB,CAA6Bd,GAA7B,EAAkCC,GAAlC,CAAN;EACD,CAFD,CAEE,OAAOU,KAAP,EAAc;IACdL,IAAI,CAACK,KAAD,CAAJ;EACD;AACF,CAND;;AAQA,MAAMI,qBAAqB,GAAG,OAAOf,GAAP,EAAYC,GAAZ,EAAiBK,IAAjB,KAA0B;EACtD,IAAI;IACF,MAAMU,EAAE,GAAGhB,GAAG,CAACiB,MAAJ,CAAWD,EAAtB;IACA,IAAIE,QAAQ,GAAG,MAAMpB,kBAAkB,CAACqB,eAAnB,CAAmCH,EAAnC,CAArB;IACA,OAAOf,GAAG,CAACG,IAAJ,CAAS;MAAEc;IAAF,CAAT,CAAP;EACD,CAJD,CAIE,OAAOP,KAAP,EAAc;IACdL,IAAI,CAACK,KAAD,CAAJ;EACD;AACF,CARD;;AASAS,MAAM,CAACC,OAAP,GAAiB;EACftB,oBADe;EAEfM,uBAFe;EAGfO,cAHe;EAIfC,gBAJe;EAKfE;AALe,CAAjB"}},"mtime":1667231633829},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/campaignService.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _httpStatus = _interopRequireDefault(require(\"http-status\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst campaignRepository = require(\"../repository/campaign.repository\");\n\nconst {\n  ApiError\n} = require(\"../middleware/apiError\"); // ly tt c campaign ngoi tr Hidden campaign(DONE)\n\n\nconst getAllCampaign = () => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const where = {\n        status: [\"Not started\", \"Processing\", \"Finished\"]\n      };\n      let campaign = await campaignRepository.findAll(where);\n      resolve(campaign);\n    } catch (error) {\n      reject(error);\n    }\n  });\n}; //===============================================================================\n\n\nconst createNewCampaign = data => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const iStatus = data.status;\n\n      if (!(iStatus === \"Not started\" || iStatus === \"Processing\" || iStatus === \"Finished\")) {\n        reject({\n          errMsg: \"wrong status\"\n        });\n      }\n\n      const campaign = await campaignRepository.createNewCampaign(data, iStatus);\n      resolve(campaign);\n    } catch (error) {\n      reject(error);\n    }\n  });\n}; //===============================================================================\n\n\nconst updateCampaign = async (req, res) => {\n  try {\n    const data = req.body;\n\n    if (!data.id) {\n      throw new ApiError(_httpStatus.default.BAD_REQUEST, \"Missing id\");\n    }\n\n    const campaign = await campaignRepository.getCampaignById(data.id);\n\n    if (campaign) {\n      await campaignRepository.update(data, {\n        id: data.id\n      });\n      return res.send(\"Updated campaign successfully\");\n    }\n  } catch (error) {\n    throw error;\n  }\n}; //===============================================================================\n//update campaign status to Finished = delete it\n//Delete campaign\n\n\nconst updateStatus = async (req, res) => {\n  try {\n    const id = req.params.id;\n    let campaign = await campaignRepository.getCampaignById(id);\n\n    if (!campaign) {\n      throw new ApiError(_httpStatus.default.BAD_REQUEST, \"Campaign not found...\");\n    }\n\n    await campaignRepository.updateStatus({\n      id: id\n    });\n    return res.send(\"delete successfully\");\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getCampaignById = campaignId => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let campaign = await campaignRepository.findOne({\n        where: {\n          id: campaignId\n        }\n      });\n\n      if (!campaign) {\n        resolve({\n          errCode: 2,\n          errMsg: \"Campaign not found\"\n        });\n      }\n\n      resolve(campaign);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nmodule.exports = {\n  getAllCampaign,\n  createNewCampaign,\n  updateCampaign,\n  getCampaignById,\n  updateStatus\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYW1wYWlnblJlcG9zaXRvcnkiLCJyZXF1aXJlIiwiQXBpRXJyb3IiLCJnZXRBbGxDYW1wYWlnbiIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwid2hlcmUiLCJzdGF0dXMiLCJjYW1wYWlnbiIsImZpbmRBbGwiLCJlcnJvciIsImNyZWF0ZU5ld0NhbXBhaWduIiwiZGF0YSIsImlTdGF0dXMiLCJlcnJNc2ciLCJ1cGRhdGVDYW1wYWlnbiIsInJlcSIsInJlcyIsImJvZHkiLCJpZCIsImh0dHBTdGF0dXMiLCJCQURfUkVRVUVTVCIsImdldENhbXBhaWduQnlJZCIsInVwZGF0ZSIsInNlbmQiLCJ1cGRhdGVTdGF0dXMiLCJwYXJhbXMiLCJjYW1wYWlnbklkIiwiZmluZE9uZSIsImVyckNvZGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL3NlcnZpY2UvIiwic291cmNlcyI6WyJjYW1wYWlnblNlcnZpY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGh0dHBTdGF0dXMgZnJvbSBcImh0dHAtc3RhdHVzXCI7XG5jb25zdCBjYW1wYWlnblJlcG9zaXRvcnkgPSByZXF1aXJlKFwiLi4vcmVwb3NpdG9yeS9jYW1wYWlnbi5yZXBvc2l0b3J5XCIpO1xuY29uc3QgeyBBcGlFcnJvciB9ID0gcmVxdWlyZShcIi4uL21pZGRsZXdhcmUvYXBpRXJyb3JcIik7XG5cbi8vIGzhuqV5IHThuqV0IGPhuqMgY2FtcGFpZ24gbmdv4bqhaSB0cuG7qyBIaWRkZW4gY2FtcGFpZ24oRE9ORSlcbmNvbnN0IGdldEFsbENhbXBhaWduID0gKCkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB3aGVyZSA9IHsgc3RhdHVzOiBbXCJOb3Qgc3RhcnRlZFwiLCBcIlByb2Nlc3NpbmdcIiwgXCJGaW5pc2hlZFwiXSB9O1xuICAgICAgbGV0IGNhbXBhaWduID0gYXdhaXQgY2FtcGFpZ25SZXBvc2l0b3J5LmZpbmRBbGwod2hlcmUpO1xuICAgICAgcmVzb2x2ZShjYW1wYWlnbik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlamVjdChlcnJvcik7XG4gICAgfVxuICB9KTtcbn07XG5cbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5jb25zdCBjcmVhdGVOZXdDYW1wYWlnbiA9IChkYXRhKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGlTdGF0dXMgPSBkYXRhLnN0YXR1cztcbiAgICAgIGlmIChcbiAgICAgICAgIShcbiAgICAgICAgICBpU3RhdHVzID09PSBcIk5vdCBzdGFydGVkXCIgfHxcbiAgICAgICAgICBpU3RhdHVzID09PSBcIlByb2Nlc3NpbmdcIiB8fFxuICAgICAgICAgIGlTdGF0dXMgPT09IFwiRmluaXNoZWRcIlxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICBlcnJNc2c6IFwid3Jvbmcgc3RhdHVzXCIsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgY2FtcGFpZ24gPSBhd2FpdCBjYW1wYWlnblJlcG9zaXRvcnkuY3JlYXRlTmV3Q2FtcGFpZ24oXG4gICAgICAgIGRhdGEsXG4gICAgICAgIGlTdGF0dXNcbiAgICAgICk7XG4gICAgICByZXNvbHZlKGNhbXBhaWduKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmNvbnN0IHVwZGF0ZUNhbXBhaWduID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGF0YSA9IHJlcS5ib2R5O1xuICAgIGlmICghZGF0YS5pZCkge1xuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKGh0dHBTdGF0dXMuQkFEX1JFUVVFU1QsIFwiTWlzc2luZyBpZFwiKTtcbiAgICB9XG4gICAgY29uc3QgY2FtcGFpZ24gPSBhd2FpdCBjYW1wYWlnblJlcG9zaXRvcnkuZ2V0Q2FtcGFpZ25CeUlkKGRhdGEuaWQpO1xuXG4gICAgaWYgKGNhbXBhaWduKSB7XG4gICAgICBhd2FpdCBjYW1wYWlnblJlcG9zaXRvcnkudXBkYXRlKGRhdGEsIHsgaWQ6IGRhdGEuaWQgfSk7XG4gICAgICByZXR1cm4gcmVzLnNlbmQoXCJVcGRhdGVkIGNhbXBhaWduIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vL3VwZGF0ZSBjYW1wYWlnbiBzdGF0dXMgdG8gRmluaXNoZWQgPSBkZWxldGUgaXRcbi8vRGVsZXRlIGNhbXBhaWduXG5jb25zdCB1cGRhdGVTdGF0dXMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWQ7XG5cbiAgICBsZXQgY2FtcGFpZ24gPSBhd2FpdCBjYW1wYWlnblJlcG9zaXRvcnkuZ2V0Q2FtcGFpZ25CeUlkKGlkKTtcbiAgICBpZiAoIWNhbXBhaWduKSB7XG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5CQURfUkVRVUVTVCwgXCJDYW1wYWlnbiBub3QgZm91bmQuLi5cIik7XG4gICAgfVxuICAgIGF3YWl0IGNhbXBhaWduUmVwb3NpdG9yeS51cGRhdGVTdGF0dXMoeyBpZDogaWQgfSk7XG4gICAgcmV0dXJuIHJlcy5zZW5kKFwiZGVsZXRlIHN1Y2Nlc3NmdWxseVwiKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuY29uc3QgZ2V0Q2FtcGFpZ25CeUlkID0gKGNhbXBhaWduSWQpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGNhbXBhaWduID0gYXdhaXQgY2FtcGFpZ25SZXBvc2l0b3J5LmZpbmRPbmUoe1xuICAgICAgICB3aGVyZTogeyBpZDogY2FtcGFpZ25JZCB9LFxuICAgICAgfSk7XG4gICAgICBpZiAoIWNhbXBhaWduKSB7XG4gICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgIGVyckNvZGU6IDIsXG4gICAgICAgICAgZXJyTXNnOiBcIkNhbXBhaWduIG5vdCBmb3VuZFwiLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmUoY2FtcGFpZ24pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZWplY3QoZXJyb3IpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0QWxsQ2FtcGFpZ24sXG4gIGNyZWF0ZU5ld0NhbXBhaWduLFxuICB1cGRhdGVDYW1wYWlnbixcbiAgZ2V0Q2FtcGFpZ25CeUlkLFxuICB1cGRhdGVTdGF0dXMsXG59O1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7O0FBQ0EsTUFBTUEsa0JBQWtCLEdBQUdDLE9BQU8sQ0FBQyxtQ0FBRCxDQUFsQzs7QUFDQSxNQUFNO0VBQUVDO0FBQUYsSUFBZUQsT0FBTyxDQUFDLHdCQUFELENBQTVCLEMsQ0FFQTs7O0FBQ0EsTUFBTUUsY0FBYyxHQUFHLE1BQU07RUFDM0IsT0FBTyxJQUFJQyxPQUFKLENBQVksT0FB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","map":{"version":3,"names":["campaignRepository","require","ApiError","getAllCampaign","Promise","resolve","reject","where","status","campaign","findAll","error","createNewCampaign","data","iStatus","errMsg","updateCampaign","req","res","body","id","httpStatus","BAD_REQUEST","getCampaignById","update","send","updateStatus","params","campaignId","findOne","errCode","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/","sources":["campaignService.js"],"sourcesContent":["import httpStatus from \"http-status\";\nconst campaignRepository = require(\"../repository/campaign.repository\");\nconst { ApiError } = require(\"../middleware/apiError\");\n\n// ly tt c campaign ngoi tr Hidden campaign(DONE)\nconst getAllCampaign = () => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const where = { status: [\"Not started\", \"Processing\", \"Finished\"] };\n      let campaign = await campaignRepository.findAll(where);\n      resolve(campaign);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\n//===============================================================================\n\nconst createNewCampaign = (data) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const iStatus = data.status;\n      if (\n        !(\n          iStatus === \"Not started\" ||\n          iStatus === \"Processing\" ||\n          iStatus === \"Finished\"\n        )\n      ) {\n        reject({\n          errMsg: \"wrong status\",\n        });\n      }\n      const campaign = await campaignRepository.createNewCampaign(\n        data,\n        iStatus\n      );\n      resolve(campaign);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\n//===============================================================================\n\nconst updateCampaign = async (req, res) => {\n  try {\n    const data = req.body;\n    if (!data.id) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Missing id\");\n    }\n    const campaign = await campaignRepository.getCampaignById(data.id);\n\n    if (campaign) {\n      await campaignRepository.update(data, { id: data.id });\n      return res.send(\"Updated campaign successfully\");\n    }\n  } catch (error) {\n    throw error;\n  }\n};\n\n//===============================================================================\n\n//update campaign status to Finished = delete it\n//Delete campaign\nconst updateStatus = async (req, res) => {\n  try {\n    const id = req.params.id;\n\n    let campaign = await campaignRepository.getCampaignById(id);\n    if (!campaign) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Campaign not found...\");\n    }\n    await campaignRepository.updateStatus({ id: id });\n    return res.send(\"delete successfully\");\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getCampaignById = (campaignId) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let campaign = await campaignRepository.findOne({\n        where: { id: campaignId },\n      });\n      if (!campaign) {\n        resolve({\n          errCode: 2,\n          errMsg: \"Campaign not found\",\n        });\n      }\n      resolve(campaign);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nmodule.exports = {\n  getAllCampaign,\n  createNewCampaign,\n  updateCampaign,\n  getCampaignById,\n  updateStatus,\n};\n"],"mappings":"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"}},"mtime":1667231633845},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/jobs.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _jobController = require(\"../controller/job.controller.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.get(\"/\", _jobController.handleGetAllJob);\nrouter.post(\"/add\", _jobController.handleCreateNewJob);\nrouter.patch(\"/delete/:id\", _jobController.handleDeleteJob);\nrouter.patch(\"/update\", _jobController.handleUpdateJob);\nrouter.post(\"/by-campaign\", _jobController.handleGetJobsByCampaignId);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwiaGFuZGxlR2V0QWxsSm9iIiwicG9zdCIsImhhbmRsZUNyZWF0ZU5ld0pvYiIsInBhdGNoIiwiaGFuZGxlRGVsZXRlSm9iIiwiaGFuZGxlVXBkYXRlSm9iIiwiaGFuZGxlR2V0Sm9ic0J5Q2FtcGFpZ25JZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsiam9icy5yb3V0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuXG5pbXBvcnQge1xuICBoYW5kbGVHZXRBbGxKb2IsXG4gIGhhbmRsZUNyZWF0ZU5ld0pvYixcbiAgaGFuZGxlRGVsZXRlSm9iLFxuICBoYW5kbGVVcGRhdGVKb2IsXG4gIGhhbmRsZUdldEpvYnNCeUNhbXBhaWduSWQsXG59IGZyb20gXCIuLi9jb250cm9sbGVyL2pvYi5jb250cm9sbGVyLmpzXCI7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnJvdXRlci5nZXQoXCIvXCIsIGhhbmRsZUdldEFsbEpvYik7XG5yb3V0ZXIucG9zdChcIi9hZGRcIiwgaGFuZGxlQ3JlYXRlTmV3Sm9iKTtcbnJvdXRlci5wYXRjaChcIi9kZWxldGUvOmlkXCIsIGhhbmRsZURlbGV0ZUpvYik7XG5yb3V0ZXIucGF0Y2goXCIvdXBkYXRlXCIsIGhhbmRsZVVwZGF0ZUpvYik7XG5yb3V0ZXIucG9zdChcIi9ieS1jYW1wYWlnblwiLCBoYW5kbGVHZXRKb2JzQnlDYW1wYWlnbklkKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBRUE7Ozs7QUFRQSxNQUFNQSxNQUFNLEdBQUdDLGdCQUFBLENBQVFDLE1BQVIsRUFBZjs7QUFFQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsR0FBWCxFQUFnQkMsOEJBQWhCO0FBQ0FKLE1BQU0sQ0FBQ0ssSUFBUCxDQUFZLE1BQVosRUFBb0JDLGlDQUFwQjtBQUNBTixNQUFNLENBQUNPLEtBQVAsQ0FBYSxhQUFiLEVBQTRCQyw4QkFBNUI7QUFDQVIsTUFBTSxDQUFDTyxLQUFQLENBQWEsU0FBYixFQUF3QkUsOEJBQXhCO0FBQ0FULE1BQU0sQ0FBQ0ssSUFBUCxDQUFZLGNBQVosRUFBNEJLLHdDQUE1QjtBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJaLE1BQWpCIn0=","map":{"version":3,"names":["router","express","Router","get","handleGetAllJob","post","handleCreateNewJob","patch","handleDeleteJob","handleUpdateJob","handleGetJobsByCampaignId","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["jobs.route.js"],"sourcesContent":["import express from \"express\";\n\nimport {\n  handleGetAllJob,\n  handleCreateNewJob,\n  handleDeleteJob,\n  handleUpdateJob,\n  handleGetJobsByCampaignId,\n} from \"../controller/job.controller.js\";\n\nconst router = express.Router();\n\nrouter.get(\"/\", handleGetAllJob);\nrouter.post(\"/add\", handleCreateNewJob);\nrouter.patch(\"/delete/:id\", handleDeleteJob);\nrouter.patch(\"/update\", handleUpdateJob);\nrouter.post(\"/by-campaign\", handleGetJobsByCampaignId);\n\nmodule.exports = router;\n"],"mappings":";;AAAA;;AAEA;;;;AAQA,MAAMA,MAAM,GAAGC,gBAAA,CAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgBC,8BAAhB;AACAJ,MAAM,CAACK,IAAP,CAAY,MAAZ,EAAoBC,iCAApB;AACAN,MAAM,CAACO,KAAP,CAAa,aAAb,EAA4BC,8BAA5B;AACAR,MAAM,CAACO,KAAP,CAAa,SAAb,EAAwBE,8BAAxB;AACAT,MAAM,CAACK,IAAP,CAAY,cAAZ,EAA4BK,wCAA5B;AAEAC,MAAM,CAACC,OAAP,GAAiBZ,MAAjB"}},"mtime":1667231633843},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/job.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst jobService = require(\"../service/jobService.js\");\n\nconst handleGetAllJob = async (req, res, next) => {\n  try {\n    let jobs = await jobService.getAllJob();\n    return res.json({\n      jobs\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleCreateNewJob = async (req, res, next) => {\n  try {\n    let job = await jobService.createNewJob(req.body);\n    return res.json({\n      job\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleDeleteJob = async (req, res, next) => {\n  try {\n    const deleJob = await jobService.deleteJob(req.params.id);\n    return res.json({\n      deleJob\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleUpdateJob = async (req, res, next) => {\n  try {\n    const data = req.body;\n    const updateJob = await jobService.updateJob(data);\n    return res.json({\n      msg: \"Job updated\",\n      updateJob\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetJobsByCampaignId = async (req, res, next) => {\n  try {\n    const data = req.body;\n    console.log(data.campaignId);\n    const jobs = await jobService.getJobsByCampaignId(data.campaignId);\n    return res.json({\n      jobs\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\nmodule.exports = {\n  handleGetAllJob,\n  handleCreateNewJob,\n  handleDeleteJob,\n  handleUpdateJob,\n  handleGetJobsByCampaignId\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJqb2JTZXJ2aWNlIiwicmVxdWlyZSIsImhhbmRsZUdldEFsbEpvYiIsInJlcSIsInJlcyIsIm5leHQiLCJqb2JzIiwiZ2V0QWxsSm9iIiwianNvbiIsImVycm9yIiwiaGFuZGxlQ3JlYXRlTmV3Sm9iIiwiam9iIiwiY3JlYXRlTmV3Sm9iIiwiYm9keSIsImhhbmRsZURlbGV0ZUpvYiIsImRlbGVKb2IiLCJkZWxldGVKb2IiLCJwYXJhbXMiLCJpZCIsImhhbmRsZVVwZGF0ZUpvYiIsImRhdGEiLCJ1cGRhdGVKb2IiLCJtc2ciLCJoYW5kbGVHZXRKb2JzQnlDYW1wYWlnbklkIiwiY29uc29sZSIsImxvZyIsImNhbXBhaWduSWQiLCJnZXRKb2JzQnlDYW1wYWlnbklkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9jb250cm9sbGVyLyIsInNvdXJjZXMiOlsiam9iLmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgam9iU2VydmljZSA9IHJlcXVpcmUoXCIuLi9zZXJ2aWNlL2pvYlNlcnZpY2UuanNcIik7XG5cbmNvbnN0IGhhbmRsZUdldEFsbEpvYiA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICB0cnkge1xuICAgIGxldCBqb2JzID0gYXdhaXQgam9iU2VydmljZS5nZXRBbGxKb2IoKTtcbiAgICByZXR1cm4gcmVzLmpzb24oeyBqb2JzIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIG5leHQoZXJyb3IpO1xuICB9XG59O1xuXG5jb25zdCBoYW5kbGVDcmVhdGVOZXdKb2IgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgdHJ5IHtcbiAgICBsZXQgam9iID0gYXdhaXQgam9iU2VydmljZS5jcmVhdGVOZXdKb2IocmVxLmJvZHkpO1xuICAgIHJldHVybiByZXMuanNvbih7IGpvYiB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBuZXh0KGVycm9yKTtcbiAgfVxufTtcblxuY29uc3QgaGFuZGxlRGVsZXRlSm9iID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGVsZUpvYiA9IGF3YWl0IGpvYlNlcnZpY2UuZGVsZXRlSm9iKHJlcS5wYXJhbXMuaWQpO1xuICAgIHJldHVybiByZXMuanNvbih7IGRlbGVKb2IgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbmV4dChlcnJvcik7XG4gIH1cbn07XG5jb25zdCBoYW5kbGVVcGRhdGVKb2IgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkYXRhID0gcmVxLmJvZHk7XG4gICAgY29uc3QgdXBkYXRlSm9iID0gYXdhaXQgam9iU2VydmljZS51cGRhdGVKb2IoZGF0YSk7XG4gICAgcmV0dXJuIHJlcy5qc29uKHtcbiAgICAgIG1zZzogXCJKb2IgdXBkYXRlZFwiLFxuICAgICAgdXBkYXRlSm9iLFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIG5leHQoZXJyb3IpO1xuICB9XG59O1xuXG5jb25zdCBoYW5kbGVHZXRKb2JzQnlDYW1wYWlnbklkID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGF0YSA9IHJlcS5ib2R5O1xuICAgIGNvbnNvbGUubG9nKGRhdGEuY2FtcGFpZ25JZCk7XG4gICAgY29uc3Qgam9icyA9IGF3YWl0IGpvYlNlcnZpY2UuZ2V0Sm9ic0J5Q2FtcGFpZ25JZChkYXRhLmNhbXBhaWduSWQpO1xuICAgIHJldHVybiByZXMuanNvbih7IGpvYnMgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbmV4dChlcnJvcik7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBoYW5kbGVHZXRBbGxKb2IsXG4gIGhhbmRsZUNyZWF0ZU5ld0pvYixcbiAgaGFuZGxlRGVsZXRlSm9iLFxuICBoYW5kbGVVcGRhdGVKb2IsXG4gIGhhbmRsZUdldEpvYnNCeUNhbXBhaWduSWQsXG59O1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLFVBQVUsR0FBR0MsT0FBTyxDQUFDLDBCQUFELENBQTFCOztBQUVBLE1BQU1DLGVBQWUsR0FBRyxPQUFPQyxHQUFQLEVBQVlDLEdBQVosRUFBaUJDLElBQWpCLEtBQTBCO0VBQ2hELElBQUk7SUFDRixJQUFJQyxJQUFJLEdBQUcsTUFBTU4sVUFBVSxDQUFDTyxTQUFYLEVBQWpCO0lBQ0EsT0FBT0gsR0FBRyxDQUFDSSxJQUFKLENBQVM7TUFBRUY7SUFBRixDQUFULENBQVA7RUFDRCxDQUhELENBR0UsT0FBT0csS0FBUCxFQUFjO0lBQ2RKLElBQUksQ0FBQ0ksS0FBRCxDQUFKO0VBQ0Q7QUFDRixDQVBEOztBQVNBLE1BQU1DLGtCQUFrQixHQUFHLE9BQU9QLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDbkQsSUFBSTtJQUNGLElBQUlNLEdBQUcsR0FBRyxNQUFNWCxVQUFVLENBQUNZLFlBQVgsQ0FBd0JULEdBQUcsQ0FBQ1UsSUFBNUIsQ0FBaEI7SUFDQSxPQUFPVCxHQUFHLENBQUNJLElBQUosQ0FBUztNQUFFRztJQUFGLENBQVQsQ0FBUDtFQUNELENBSEQsQ0FHRSxPQUFPRixLQUFQLEVBQWM7SUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7RUFDRDtBQUNGLENBUEQ7O0FBU0EsTUFBTUssZUFBZSxHQUFHLE9BQU9YLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDaEQsSUFBSTtJQUNGLE1BQU1VLE9BQU8sR0FBRyxNQUFNZixVQUFVLENBQUNnQixTQUFYLENBQXFCYixHQUFHLENBQUNjLE1BQUosQ0FBV0MsRUFBaEMsQ0FBdEI7SUFDQSxPQUFPZCxHQUFHLENBQUNJLElBQUosQ0FBUztNQUFFTztJQUFGLENBQVQsQ0FBUDtFQUNELENBSEQsQ0FHRSxPQUFPTixLQUFQLEVBQWM7SUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7RUFDRDtBQUNGLENBUEQ7O0FBUUEsTUFBTVUsZUFBZSxHQUFHLE9BQU9oQixHQUFQLEVBQVlDLEdBQVosRUFBaUJDLElBQWpCLEtBQTBCO0VBQ2hELElBQUk7SUFDRixNQUFNZSxJQUFJLEdBQUdqQixHQUFHLENBQUNVLElBQWpCO0lBQ0EsTUFBTVEsU0FBUyxHQUFHLE1BQU1yQixVQUFVLENBQUNxQixTQUFYLENBQXFCRCxJQUFyQixDQUF4QjtJQUNBLE9BQU9oQixHQUFHLENBQUNJLElBQUosQ0FBUztNQUNkYyxHQUFHLEVBQUUsYUFEUztNQUVkRDtJQUZjLENBQVQsQ0FBUDtFQUlELENBUEQsQ0FPRSxPQUFPWixLQUFQLEVBQWM7SUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7RUFDRDtBQUNGLENBWEQ7O0FBYUEsTUFBTWMseUJBQXlCLEdBQUcsT0FBT3BCLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDMUQsSUFBSTtJQUNGLE1BQU1lLElBQUksR0FBR2pCLEdBQUcsQ0FBQ1UsSUFBakI7SUFDQVcsT0FBTyxDQUFDQyxHQUFSLENBQVlMLElBQUksQ0FBQ00sVUFBakI7SUFDQSxNQUFNcEIsSUFBSSxHQUFHLE1BQU1OLFVBQVUsQ0FBQzJCLG1CQUFYLENBQStCUCxJQUFJLENBQUNNLFVBQXBDLENBQW5CO0lBQ0EsT0FBT3RCLEdBQUcsQ0FBQ0ksSUFBSixDQUFTO01BQUVGO0lBQUYsQ0FBVCxDQUFQO0VBQ0QsQ0FMRCxDQUtFLE9BQU9HLEtBQVAsRUFBYztJQUNkSixJQUFJLENBQUNJLEtBQUQsQ0FBSjtFQUNEO0FBQ0YsQ0FURDs7QUFXQW1CLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmM0IsZUFEZTtFQUVmUSxrQkFGZTtFQUdmSSxlQUhlO0VBSWZLLGVBSmU7RUFLZkk7QUFMZSxDQUFqQiJ9","map":{"version":3,"names":["jobService","require","handleGetAllJob","req","res","next","jobs","getAllJob","json","error","handleCreateNewJob","job","createNewJob","body","handleDeleteJob","deleJob","deleteJob","params","id","handleUpdateJob","data","updateJob","msg","handleGetJobsByCampaignId","console","log","campaignId","getJobsByCampaignId","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/","sources":["job.controller.js"],"sourcesContent":["const jobService = require(\"../service/jobService.js\");\n\nconst handleGetAllJob = async (req, res, next) => {\n  try {\n    let jobs = await jobService.getAllJob();\n    return res.json({ jobs });\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleCreateNewJob = async (req, res, next) => {\n  try {\n    let job = await jobService.createNewJob(req.body);\n    return res.json({ job });\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleDeleteJob = async (req, res, next) => {\n  try {\n    const deleJob = await jobService.deleteJob(req.params.id);\n    return res.json({ deleJob });\n  } catch (error) {\n    next(error);\n  }\n};\nconst handleUpdateJob = async (req, res, next) => {\n  try {\n    const data = req.body;\n    const updateJob = await jobService.updateJob(data);\n    return res.json({\n      msg: \"Job updated\",\n      updateJob,\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetJobsByCampaignId = async (req, res, next) => {\n  try {\n    const data = req.body;\n    console.log(data.campaignId);\n    const jobs = await jobService.getJobsByCampaignId(data.campaignId);\n    return res.json({ jobs });\n  } catch (error) {\n    next(error);\n  }\n};\n\nmodule.exports = {\n  handleGetAllJob,\n  handleCreateNewJob,\n  handleDeleteJob,\n  handleUpdateJob,\n  handleGetJobsByCampaignId,\n};\n"],"mappings":";;AAAA,MAAMA,UAAU,GAAGC,OAAO,CAAC,0BAAD,CAA1B;;AAEA,MAAMC,eAAe,GAAG,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EAChD,IAAI;IACF,IAAIC,IAAI,GAAG,MAAMN,UAAU,CAACO,SAAX,EAAjB;IACA,OAAOH,GAAG,CAACI,IAAJ,CAAS;MAAEF;IAAF,CAAT,CAAP;EACD,CAHD,CAGE,OAAOG,KAAP,EAAc;IACdJ,IAAI,CAACI,KAAD,CAAJ;EACD;AACF,CAPD;;AASA,MAAMC,kBAAkB,GAAG,OAAOP,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EACnD,IAAI;IACF,IAAIM,GAAG,GAAG,MAAMX,UAAU,CAACY,YAAX,CAAwBT,GAAG,CAACU,IAA5B,CAAhB;IACA,OAAOT,GAAG,CAACI,IAAJ,CAAS;MAAEG;IAAF,CAAT,CAAP;EACD,CAHD,CAGE,OAAOF,KAAP,EAAc;IACdJ,IAAI,CAACI,KAAD,CAAJ;EACD;AACF,CAPD;;AASA,MAAMK,eAAe,GAAG,OAAOX,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EAChD,IAAI;IACF,MAAMU,OAAO,GAAG,MAAMf,UAAU,CAACgB,SAAX,CAAqBb,GAAG,CAACc,MAAJ,CAAWC,EAAhC,CAAtB;IACA,OAAOd,GAAG,CAACI,IAAJ,CAAS;MAAEO;IAAF,CAAT,CAAP;EACD,CAHD,CAGE,OAAON,KAAP,EAAc;IACdJ,IAAI,CAACI,KAAD,CAAJ;EACD;AACF,CAPD;;AAQA,MAAMU,eAAe,GAAG,OAAOhB,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EAChD,IAAI;IACF,MAAMe,IAAI,GAAGjB,GAAG,CAACU,IAAjB;IACA,MAAMQ,SAAS,GAAG,MAAMrB,UAAU,CAACqB,SAAX,CAAqBD,IAArB,CAAxB;IACA,OAAOhB,GAAG,CAACI,IAAJ,CAAS;MACdc,GAAG,EAAE,aADS;MAEdD;IAFc,CAAT,CAAP;EAID,CAPD,CAOE,OAAOZ,KAAP,EAAc;IACdJ,IAAI,CAACI,KAAD,CAAJ;EACD;AACF,CAXD;;AAaA,MAAMc,yBAAyB,GAAG,OAAOpB,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EAC1D,IAAI;IACF,MAAMe,IAAI,GAAGjB,GAAG,CAACU,IAAjB;IACAW,OAAO,CAACC,GAAR,CAAYL,IAAI,CAACM,UAAjB;IACA,MAAMpB,IAAI,GAAG,MAAMN,UAAU,CAAC2B,mBAAX,CAA+BP,IAAI,CAACM,UAApC,CAAnB;IACA,OAAOtB,GAAG,CAACI,IAAJ,CAAS;MAAEF;IAAF,CAAT,CAAP;EACD,CALD,CAKE,OAAOG,KAAP,EAAc;IACdJ,IAAI,CAACI,KAAD,CAAJ;EACD;AACF,CATD;;AAWAmB,MAAM,CAACC,OAAP,GAAiB;EACf3B,eADe;EAEfQ,kBAFe;EAGfI,eAHe;EAIfK,eAJe;EAKfI;AALe,CAAjB"}},"mtime":1667231633831},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/jobService.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _sequelize = require(\"sequelize\");\n\nvar _index = _interopRequireWildcard(require(\"../models/index.js\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst Jobs = _index.default.Jobs;\n\nconst jobRepository = require(\"../repository/jobs.repository\");\n\nconst getAllJob = () => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      //jobs without status == hidden\n      const [results, metadata] = await _index.sequelize.query(process.env.GETALLJOB_QUERY);\n      resolve(results);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nconst createNewJob = data => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const job = await jobRepository.createNewJobs(data); // console.log(data.campaign);\n\n      resolve({\n        errCode: 0,\n        message: \"Create job successfully\",\n        job\n      });\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nconst deleteJob = jobID => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let job = await jobRepository.getJobsById(jobID);\n\n      if (!job) {\n        resolve({\n          errMsg: \"Job not found\"\n        });\n      }\n\n      await jobRepository.updateStatus({\n        id: jobID\n      });\n      resolve({\n        errCode: 0,\n        errMsg: \"Job is deleted\"\n      });\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nconst getJobsByCampaignId = async campaignId => {\n  try {\n    const results = await jobRepository.getJobsByCampaignId(campaignId);\n    return results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst updateJob = async data => {\n  try {\n    const job = await jobRepository.getJobsById(data.id);\n    console.log(job);\n\n    if (job) {\n      await jobRepository.update(data, {\n        id: data.id\n      });\n    }\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  getAllJob,\n  createNewJob,\n  deleteJob,\n  getJobsByCampaignId,\n  updateJob\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJKb2JzIiwiZGIiLCJqb2JSZXBvc2l0b3J5IiwicmVxdWlyZSIsImdldEFsbEpvYiIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVzdWx0cyIsIm1ldGFkYXRhIiwic2VxdWVsaXplIiwicXVlcnkiLCJwcm9jZXNzIiwiZW52IiwiR0VUQUxMSk9CX1FVRVJZIiwiZXJyb3IiLCJjcmVhdGVOZXdKb2IiLCJkYXRhIiwiam9iIiwiY3JlYXRlTmV3Sm9icyIsImVyckNvZGUiLCJtZXNzYWdlIiwiZGVsZXRlSm9iIiwiam9iSUQiLCJnZXRKb2JzQnlJZCIsImVyck1zZyIsInVwZGF0ZVN0YXR1cyIsImlkIiwiZ2V0Sm9ic0J5Q2FtcGFpZ25JZCIsImNhbXBhaWduSWQiLCJjb25zb2xlIiwibG9nIiwidXBkYXRlSm9iIiwidXBkYXRlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9zZXJ2aWNlLyIsInNvdXJjZXMiOlsiam9iU2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBRdWVyeVR5cGVzIH0gZnJvbSBcInNlcXVlbGl6ZVwiO1xuaW1wb3J0IGRiLCB7IHNlcXVlbGl6ZSB9IGZyb20gXCIuLi9tb2RlbHMvaW5kZXguanNcIjtcbmNvbnN0IEpvYnMgPSBkYi5Kb2JzO1xuY29uc3Qgam9iUmVwb3NpdG9yeSA9IHJlcXVpcmUoXCIuLi9yZXBvc2l0b3J5L2pvYnMucmVwb3NpdG9yeVwiKTtcbmNvbnN0IGdldEFsbEpvYiA9ICgpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy9qb2JzIHdpdGhvdXQgc3RhdHVzID09IGhpZGRlblxuICAgICAgY29uc3QgW3Jlc3VsdHMsIG1ldGFkYXRhXSA9IGF3YWl0IHNlcXVlbGl6ZS5xdWVyeShcbiAgICAgICAgcHJvY2Vzcy5lbnYuR0VUQUxMSk9CX1FVRVJZXG4gICAgICApO1xuICAgICAgcmVzb2x2ZShyZXN1bHRzKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICB9XG4gIH0pO1xufTtcblxuY29uc3QgY3JlYXRlTmV3Sm9iID0gKGRhdGEpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgam9iID0gYXdhaXQgam9iUmVwb3NpdG9yeS5jcmVhdGVOZXdKb2JzKGRhdGEpO1xuXG4gICAgICAvLyBjb25zb2xlLmxvZyhkYXRhLmNhbXBhaWduKTtcbiAgICAgIHJlc29sdmUoe1xuICAgICAgICBlcnJDb2RlOiAwLFxuICAgICAgICBtZXNzYWdlOiBcIkNyZWF0ZSBqb2Igc3VjY2Vzc2Z1bGx5XCIsXG4gICAgICAgIGpvYixcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZWplY3QoZXJyb3IpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5jb25zdCBkZWxldGVKb2IgPSAoam9iSUQpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGpvYiA9IGF3YWl0IGpvYlJlcG9zaXRvcnkuZ2V0Sm9ic0J5SWQoam9iSUQpO1xuICAgICAgaWYgKCFqb2IpIHtcbiAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgZXJyTXNnOiBcIkpvYiBub3QgZm91bmRcIixcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBhd2FpdCBqb2JSZXBvc2l0b3J5LnVwZGF0ZVN0YXR1cyh7IGlkOiBqb2JJRCB9KTtcblxuICAgICAgcmVzb2x2ZSh7XG4gICAgICAgIGVyckNvZGU6IDAsXG4gICAgICAgIGVyck1zZzogXCJKb2IgaXMgZGVsZXRlZFwiLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlamVjdChlcnJvcik7XG4gICAgfVxuICB9KTtcbn07XG5cbmNvbnN0IGdldEpvYnNCeUNhbXBhaWduSWQgPSBhc3luYyAoY2FtcGFpZ25JZCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBqb2JSZXBvc2l0b3J5LmdldEpvYnNCeUNhbXBhaWduSWQoY2FtcGFpZ25JZCk7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICB9XG59O1xuY29uc3QgdXBkYXRlSm9iID0gYXN5bmMgKGRhdGEpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBqb2IgPSBhd2FpdCBqb2JSZXBvc2l0b3J5LmdldEpvYnNCeUlkKGRhdGEuaWQpO1xuICAgIGNvbnNvbGUubG9nKGpvYik7XG5cbiAgICBpZiAoam9iKSB7XG4gICAgICBhd2FpdCBqb2JSZXBvc2l0b3J5LnVwZGF0ZShkYXRhLCB7IGlkOiBkYXRhLmlkIH0pO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdldEFsbEpvYixcbiAgY3JlYXRlTmV3Sm9iLFxuICBkZWxldGVKb2IsXG4gIGdldEpvYnNCeUNhbXBhaWduSWQsXG4gIHVwZGF0ZUpvYixcbn07XG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7Ozs7OztBQUNBLE1BQU1BLElBQUksR0FBR0MsY0FBQSxDQUFHRCxJQUFoQjs7QUFDQSxNQUFNRSxhQUFhLEdBQUdDLE9BQU8sQ0FBQywrQkFBRCxDQUE3Qjs7QUFDQSxNQUFNQyxTQUFTLEdBQUcsTUFBTTtFQUN0QixPQUFPLElBQUlDLE9BQUosQ0FBWSxPQUFPQyxPQUFQLEVBQWdCQyxNQUFoQixLQUEyQjtJQUM1QyxJQUFJO01BQ0Y7TUFDQSxNQUFNLENBQUNDLE9BQUQsRUFBVUMs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","map":{"version":3,"names":["Jobs","db","jobRepository","require","getAllJob","Promise","resolve","reject","results","metadata","sequelize","query","process","env","GETALLJOB_QUERY","error","createNewJob","data","job","createNewJobs","errCode","message","deleteJob","jobID","getJobsById","errMsg","updateStatus","id","getJobsByCampaignId","campaignId","console","log","updateJob","update","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/","sources":["jobService.js"],"sourcesContent":["import { QueryTypes } from \"sequelize\";\nimport db, { sequelize } from \"../models/index.js\";\nconst Jobs = db.Jobs;\nconst jobRepository = require(\"../repository/jobs.repository\");\nconst getAllJob = () => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      //jobs without status == hidden\n      const [results, metadata] = await sequelize.query(\n        process.env.GETALLJOB_QUERY\n      );\n      resolve(results);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nconst createNewJob = (data) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const job = await jobRepository.createNewJobs(data);\n\n      // console.log(data.campaign);\n      resolve({\n        errCode: 0,\n        message: \"Create job successfully\",\n        job,\n      });\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nconst deleteJob = (jobID) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let job = await jobRepository.getJobsById(jobID);\n      if (!job) {\n        resolve({\n          errMsg: \"Job not found\",\n        });\n      }\n      await jobRepository.updateStatus({ id: jobID });\n\n      resolve({\n        errCode: 0,\n        errMsg: \"Job is deleted\",\n      });\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nconst getJobsByCampaignId = async (campaignId) => {\n  try {\n    const results = await jobRepository.getJobsByCampaignId(campaignId);\n    return results;\n  } catch (error) {\n    console.log(error);\n  }\n};\nconst updateJob = async (data) => {\n  try {\n    const job = await jobRepository.getJobsById(data.id);\n    console.log(job);\n\n    if (job) {\n      await jobRepository.update(data, { id: data.id });\n    }\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  getAllJob,\n  createNewJob,\n  deleteJob,\n  getJobsByCampaignId,\n  updateJob,\n};\n"],"mappings":";;AAAA;;AACA;;;;;;AACA,MAAMA,IAAI,GAAGC,cAAA,CAAGD,IAAhB;;AACA,MAAME,aAAa,GAAGC,OAAO,CAAC,+BAAD,CAA7B;;AACA,MAAMC,SAAS,GAAG,MAAM;EACtB,OAAO,IAAIC,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;IAC5C,IAAI;MACF;MACA,MAAM,CAACC,OAAD,EAAUC,QAAV,IAAsB,MAAMC,gBAAA,CAAUC,KAAV,CAChCC,OAAO,CAACC,GAAR,CAAYC,eADoB,CAAlC;MAGAR,OAAO,CAACE,OAAD,CAAP;IACD,CAND,CAME,OAAOO,KAAP,EAAc;MACdR,MAAM,CAACQ,KAAD,CAAN;IACD;EACF,CAVM,CAAP;AAWD,CAZD;;AAcA,MAAMC,YAAY,GAAIC,IAAD,IAAU;EAC7B,OAAO,IAAIZ,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;IAC5C,IAAI;MACF,MAAMW,GAAG,GAAG,MAAMhB,aAAa,CAACiB,aAAd,CAA4BF,IAA5B,CAAlB,CADE,CAGF;;MACAX,OAAO,CAAC;QACNc,OAAO,EAAE,CADH;QAENC,OAAO,EAAE,yBAFH;QAGNH;MAHM,CAAD,CAAP;IAKD,CATD,CASE,OAAOH,KAAP,EAAc;MACdR,MAAM,CAACQ,KAAD,CAAN;IACD;EACF,CAbM,CAAP;AAcD,CAfD;;AAiBA,MAAMO,SAAS,GAAIC,KAAD,IAAW;EAC3B,OAAO,IAAIlB,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;IAC5C,IAAI;MACF,IAAIW,GAAG,GAAG,MAAMhB,aAAa,CAACsB,WAAd,CAA0BD,KAA1B,CAAhB;;MACA,IAAI,CAACL,GAAL,EAAU;QACRZ,OAAO,CAAC;UACNmB,MAAM,EAAE;QADF,CAAD,CAAP;MAGD;;MACD,MAAMvB,aAAa,CAACwB,YAAd,CAA2B;QAAEC,EAAE,EAAEJ;MAAN,CAA3B,CAAN;MAEAjB,OAAO,CAAC;QACNc,OAAO,EAAE,CADH;QAENK,MAAM,EAAE;MAFF,CAAD,CAAP;IAID,CAbD,CAaE,OAAOV,KAAP,EAAc;MACdR,MAAM,CAACQ,KAAD,CAAN;IACD;EACF,CAjBM,CAAP;AAkBD,CAnBD;;AAqBA,MAAMa,mBAAmB,GAAG,MAAOC,UAAP,IAAsB;EAChD,IAAI;IACF,MAAMrB,OAAO,GAAG,MAAMN,aAAa,CAAC0B,mBAAd,CAAkCC,UAAlC,CAAtB;IACA,OAAOrB,OAAP;EACD,CAHD,CAGE,OAAOO,KAAP,EAAc;IACde,OAAO,CAACC,GAAR,CAAYhB,KAAZ;EACD;AACF,CAPD;;AAQA,MAAMiB,SAAS,GAAG,MAAOf,IAAP,IAAgB;EAChC,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMhB,aAAa,CAACsB,WAAd,CAA0BP,IAAI,CAACU,EAA/B,CAAlB;IACAG,OAAO,CAACC,GAAR,CAAYb,GAAZ;;IAEA,IAAIA,GAAJ,EAAS;MACP,MAAMhB,aAAa,CAAC+B,MAAd,CAAqBhB,IAArB,EAA2B;QAAEU,EAAE,EAAEV,IAAI,CAACU;MAAX,CAA3B,CAAN;IACD;EACF,CAPD,CAOE,OAAOZ,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CAXD;;AAaAmB,MAAM,CAACC,OAAP,GAAiB;EACf/B,SADe;EAEfY,YAFe;EAGfM,SAHe;EAIfM,mBAJe;EAKfI;AALe,CAAjB"}},"mtime":1667231633848},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/cvStatus.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  applyStatus: [\"Pending\", \"Approve\", \"Reject\"],\n  applyStatusDefault: \"Pending\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiYXBwbHlTdGF0dXMiLCJhcHBseVN0YXR1c0RlZmF1bHQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvY29uc3RhbnQvIiwic291cmNlcyI6WyJjdlN0YXR1cy5lbnVtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICBhcHBseVN0YXR1czogW1wiUGVuZGluZ1wiLCBcIkFwcHJvdmVcIiwgXCJSZWplY3RcIl0sXG4gIGFwcGx5U3RhdHVzRGVmYXVsdDogXCJQZW5kaW5nXCIsXG59O1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7RUFDZkMsV0FBVyxFQUFFLENBQUMsU0FBRCxFQUFZLFNBQVosRUFBdUIsUUFBdkIsQ0FERTtFQUVmQyxrQkFBa0IsRUFBRTtBQUZMLENBQWpCIn0=","map":{"version":3,"names":["module","exports","applyStatus","applyStatusDefault"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/","sources":["cvStatus.enum.js"],"sourcesContent":["module.exports = {\n  applyStatus: [\"Pending\", \"Approve\", \"Reject\"],\n  applyStatusDefault: \"Pending\",\n};\n"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACfC,WAAW,EAAE,CAAC,SAAD,EAAY,SAAZ,EAAuB,QAAvB,CADE;EAEfC,kBAAkB,EAAE;AAFL,CAAjB"}},"mtime":1666279748609},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/auth.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\n\nconst authController = require(\"../controller/auth.controller.js\");\n\nconst auth = require(\"../middleware/auth.middleware\");\n\nconst router = express.Router();\nrouter.post(\"/register\", authController.register);\nrouter.post(\"/login\", authController.login);\nrouter.patch(\"/verify\", authController.verifyCode);\nrouter.get(\"/isauth\", auth, authController.isauth); //------reset password------\n\nrouter.post(\"/forgot-password\", authController.forgotPassword);\nrouter.get(\"/reset-password/:id/:start\", authController.resetPassword);\nrouter.post(\"/reset-password/:id/:start\", authController.setNewPassword);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImF1dGhDb250cm9sbGVyIiwiYXV0aCIsInJvdXRlciIsIlJvdXRlciIsInBvc3QiLCJyZWdpc3RlciIsImxvZ2luIiwicGF0Y2giLCJ2ZXJpZnlDb2RlIiwiZ2V0IiwiaXNhdXRoIiwiZm9yZ290UGFzc3dvcmQiLCJyZXNldFBhc3N3b3JkIiwic2V0TmV3UGFzc3dvcmQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL3JvdXRlcy8iLCJzb3VyY2VzIjpbImF1dGgucm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3QgYXV0aENvbnRyb2xsZXIgPSByZXF1aXJlKFwiLi4vY29udHJvbGxlci9hdXRoLmNvbnRyb2xsZXIuanNcIik7XG5jb25zdCBhdXRoID0gcmVxdWlyZShcIi4uL21pZGRsZXdhcmUvYXV0aC5taWRkbGV3YXJlXCIpO1xuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgYXV0aENvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnBvc3QoXCIvbG9naW5cIiwgYXV0aENvbnRyb2xsZXIubG9naW4pO1xucm91dGVyLnBhdGNoKFwiL3ZlcmlmeVwiLCBhdXRoQ29udHJvbGxlci52ZXJpZnlDb2RlKTtcbnJvdXRlci5nZXQoXCIvaXNhdXRoXCIsIGF1dGgsIGF1dGhDb250cm9sbGVyLmlzYXV0aCk7XG4vLy0tLS0tLXJlc2V0IHBhc3N3b3JkLS0tLS0tXG5yb3V0ZXIucG9zdChcIi9mb3Jnb3QtcGFzc3dvcmRcIiwgYXV0aENvbnRyb2xsZXIuZm9yZ290UGFzc3dvcmQpO1xucm91dGVyLmdldChcIi9yZXNldC1wYXNzd29yZC86aWQvOnN0YXJ0XCIsIGF1dGhDb250cm9sbGVyLnJlc2V0UGFzc3dvcmQpO1xucm91dGVyLnBvc3QoXCIvcmVzZXQtcGFzc3dvcmQvOmlkLzpzdGFydFwiLCBhdXRoQ29udHJvbGxlci5zZXROZXdQYXNzd29yZCk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsTUFBTUMsY0FBYyxHQUFHRCxPQUFPLENBQUMsa0NBQUQsQ0FBOUI7O0FBQ0EsTUFBTUUsSUFBSSxHQUFHRixPQUFPLENBQUMsK0JBQUQsQ0FBcEI7O0FBQ0EsTUFBTUcsTUFBTSxHQUFHSixPQUFPLENBQUNLLE1BQVIsRUFBZjtBQUVBRCxNQUFNLENBQUNFLElBQVAsQ0FBWSxXQUFaLEVBQXlCSixjQUFjLENBQUNLLFFBQXhDO0FBQ0FILE1BQU0sQ0FBQ0UsSUFBUCxDQUFZLFFBQVosRUFBc0JKLGNBQWMsQ0FBQ00sS0FBckM7QUFDQUosTUFBTSxDQUFDSyxLQUFQLENBQWEsU0FBYixFQUF3QlAsY0FBYyxDQUFDUSxVQUF2QztBQUNBTixNQUFNLENBQUNPLEdBQVAsQ0FBVyxTQUFYLEVBQXNCUixJQUF0QixFQUE0QkQsY0FBYyxDQUFDVSxNQUEzQyxFLENBQ0E7O0FBQ0FSLE1BQU0sQ0FBQ0UsSUFBUCxDQUFZLGtCQUFaLEVBQWdDSixjQUFjLENBQUNXLGNBQS9DO0FBQ0FULE1BQU0sQ0FBQ08sR0FBUCxDQUFXLDRCQUFYLEVBQXlDVCxjQUFjLENBQUNZLGFBQXhEO0FBQ0FWLE1BQU0sQ0FBQ0UsSUFBUCxDQUFZLDRCQUFaLEVBQTBDSixjQUFjLENBQUNhLGNBQXpEO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmIsTUFBakIifQ==","map":{"version":3,"names":["express","require","authController","auth","router","Router","post","register","login","patch","verifyCode","get","isauth","forgotPassword","resetPassword","setNewPassword","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["auth.route.js"],"sourcesContent":["const express = require(\"express\");\nconst authController = require(\"../controller/auth.controller.js\");\nconst auth = require(\"../middleware/auth.middleware\");\nconst router = express.Router();\n\nrouter.post(\"/register\", authController.register);\nrouter.post(\"/login\", authController.login);\nrouter.patch(\"/verify\", authController.verifyCode);\nrouter.get(\"/isauth\", auth, authController.isauth);\n//------reset password------\nrouter.post(\"/forgot-password\", authController.forgotPassword);\nrouter.get(\"/reset-password/:id/:start\", authController.resetPassword);\nrouter.post(\"/reset-password/:id/:start\", authController.setNewPassword);\n\nmodule.exports = router;\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,cAAc,GAAGD,OAAO,CAAC,kCAAD,CAA9B;;AACA,MAAME,IAAI,GAAGF,OAAO,CAAC,+BAAD,CAApB;;AACA,MAAMG,MAAM,GAAGJ,OAAO,CAACK,MAAR,EAAf;AAEAD,MAAM,CAACE,IAAP,CAAY,WAAZ,EAAyBJ,cAAc,CAACK,QAAxC;AACAH,MAAM,CAACE,IAAP,CAAY,QAAZ,EAAsBJ,cAAc,CAACM,KAArC;AACAJ,MAAM,CAACK,KAAP,CAAa,SAAb,EAAwBP,cAAc,CAACQ,UAAvC;AACAN,MAAM,CAACO,GAAP,CAAW,SAAX,EAAsBR,IAAtB,EAA4BD,cAAc,CAACU,MAA3C,E,CACA;;AACAR,MAAM,CAACE,IAAP,CAAY,kBAAZ,EAAgCJ,cAAc,CAACW,cAA/C;AACAT,MAAM,CAACO,GAAP,CAAW,4BAAX,EAAyCT,cAAc,CAACY,aAAxD;AACAV,MAAM,CAACE,IAAP,CAAY,4BAAZ,EAA0CJ,cAAc,CAACa,cAAzD;AAEAC,MAAM,CAACC,OAAP,GAAiBb,MAAjB"}},"mtime":1667231633840},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/auth.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _auth = require(\"../service/auth.service\");\n\nconst authController = {\n  async register(req, res, next) {\n    try {\n      res.header(\"Access-Control-Allow-Headers\", \"*\");\n      res.header(\"Access-Control-Allow-Credentials\", true);\n      res.header(\"Access-Control-Allow-Methods\", \"GET,PUT,POST,DELETE\");\n      const member = await (0, _auth.createNewMember)(req, res);\n      const token = await (0, _auth.genAuthToken)(member);\n      res.cookie(\"sang\", \"sang dep chai\");\n      res.cookie(\"x-access-token\", token).status(200).send({\n        member,\n        token\n      });\n    } catch (error) {\n      console.log(error);\n      next(error);\n    }\n  },\n\n  async verifyCode(req, res, next) {\n    try {\n      const ve = await (0, _auth.veriCode)(req, res);\n\n      if (ve == 1) {\n        return res.json(\"Verify code successfully\");\n      }\n\n      return res.json(\"Verify code failed\");\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async login(req, res, next) {\n    try {\n      const {\n        email,\n        password\n      } = req.body;\n      const member = await (0, _auth.signInWithEmailPassword)(email, password);\n      const token = await (0, _auth.genAuthToken)(member);\n      res.cookie(\"x-access-token\", token).send({\n        member,\n        token\n      });\n    } catch (error) {\n      next(error); // res.send({ error: error.statusCode, message: error.message });\n    }\n  },\n\n  async isauth(req, res, next) {\n    res.json(req.currentUser);\n  },\n\n  //-----reset password------------------------\n  async forgotPassword(req, res, next) {\n    try {\n      const forgetPass = await (0, _auth.forgotPass)(req.body);\n      return res.json({\n        message: \"send link ok\"\n      });\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async resetPassword(req, res, next) {\n    try {\n      const resetPasss = await (0, _auth.resetPass)(req, res);\n      return res.json(resetPasss);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async setNewPassword(req, res, next) {\n    try {\n      const setNewPasswordd = await (0, _auth.setNewPassword)(req, res);\n    } catch (error) {\n      next(error);\n    }\n  }\n\n};\nmodule.exports = authController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhdXRoQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwibmV4dCIsImhlYWRlciIsIm1lbWJlciIsImNyZWF0ZU5ld01lbWJlciIsInRva2VuIiwiZ2VuQXV0aFRva2VuIiwiY29va2llIiwic3RhdHVzIiwic2VuZCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInZlcmlmeUNvZGUiLCJ2ZSIsInZlcmlDb2RlIiwianNvbiIsImxvZ2luIiwiZW1haWwiLCJwYXNzd29yZCIsImJvZHkiLCJzaWduSW5XaXRoRW1haWxQYXNzd29yZCIsImlzYXV0aCIsImN1cnJlbnRVc2VyIiwiZm9yZ290UGFzc3dvcmQiLCJmb3JnZXRQYXNzIiwiZm9yZ290UGFzcyIsIm1lc3NhZ2UiLCJyZXNldFBhc3N3b3JkIiwicmVzZXRQYXNzcyIsInJlc2V0UGFzcyIsInNldE5ld1Bhc3N3b3JkIiwic2V0TmV3UGFzc3dvcmRkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9jb250cm9sbGVyLyIsInNvdXJjZXMiOlsiYXV0aC5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGNyZWF0ZU5ld01lbWJlcixcbiAgZ2VuQXV0aFRva2VuLFxuICBzaWduSW5XaXRoRW1haWxQYXNzd29yZCxcbiAgdmVyaUNvZGUsXG4gIGZvcmdvdFBhc3MsXG4gIHJlc2V0UGFzcyxcbiAgc2V0TmV3UGFzc3dvcmRcbn0gZnJvbSBcIi4uL3NlcnZpY2UvYXV0aC5zZXJ2aWNlXCI7XG5cbmNvbnN0IGF1dGhDb250cm9sbGVyID0ge1xuICBhc3luYyByZWdpc3RlcihyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICByZXMuaGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVyc1wiLCBcIipcIik7XG4gICAgICByZXMuaGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHNcIiwgdHJ1ZSk7XG4gICAgICByZXMuaGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kc1wiLCBcIkdFVCxQVVQsUE9TVCxERUxFVEVcIik7XG4gICAgICBjb25zdCBtZW1iZXIgPSBhd2FpdCBjcmVhdGVOZXdNZW1iZXIocmVxLCByZXMpO1xuICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBnZW5BdXRoVG9rZW4obWVtYmVyKTtcbiAgICAgIHJlcy5jb29raWUoXCJzYW5nXCIsIFwic2FuZyBkZXAgY2hhaVwiKTtcbiAgICAgIHJlcy5jb29raWUoXCJ4LWFjY2Vzcy10b2tlblwiLCB0b2tlbikuc3RhdHVzKDIwMCkuc2VuZCh7XG4gICAgICAgIG1lbWJlcixcbiAgICAgICAgdG9rZW4sXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgbmV4dChlcnJvcik7XG4gICAgfVxuICB9LFxuICBhc3luYyB2ZXJpZnlDb2RlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHZlID0gYXdhaXQgdmVyaUNvZGUocmVxLCByZXMpO1xuICAgICAgaWYgKHZlID09IDEpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKFwiVmVyaWZ5IGNvZGUgc3VjY2Vzc2Z1bGx5XCIpXG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzLmpzb24oXCJWZXJpZnkgY29kZSBmYWlsZWRcIilcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbmV4dChlcnJvcik7XG4gICAgfVxuICB9LFxuICBhc3luYyBsb2dpbihyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gICAgICBjb25zdCBtZW1iZXIgPSBhd2FpdCBzaWduSW5XaXRoRW1haWxQYXNzd29yZChlbWFpbCwgcGFzc3dvcmQpO1xuICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBnZW5BdXRoVG9rZW4obWVtYmVyKTtcbiAgICAgIHJlcy5jb29raWUoXCJ4LWFjY2Vzcy10b2tlblwiLCB0b2tlbikuc2VuZCh7XG4gICAgICAgIG1lbWJlcixcbiAgICAgICAgdG9rZW4sXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbmV4dChlcnJvcik7XG4gICAgICAvLyByZXMuc2VuZCh7IGVycm9yOiBlcnJvci5zdGF0dXNDb2RlLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pO1xuICAgIH1cbiAgfSxcbiAgYXN5bmMgaXNhdXRoKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgcmVzLmpzb24ocmVxLmN1cnJlbnRVc2VyKTtcbiAgfSxcblxuXG5cbiAgLy8tLS0tLXJlc2V0IHBhc3N3b3JkLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblxuICBhc3luYyBmb3Jnb3RQYXNzd29yZChyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBmb3JnZXRQYXNzID0gYXdhaXQgZm9yZ290UGFzcyhyZXEuYm9keSlcbiAgICAgIHJldHVybiByZXMuanNvbih7IG1lc3NhZ2U6IFwic2VuZCBsaW5rIG9rXCIgfSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbmV4dChlcnJvcik7XG4gICAgfVxuICB9LFxuXG4gIGFzeW5jIHJlc2V0UGFzc3dvcmQocmVxLCByZXMsIG5leHQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzZXRQYXNzcyA9IGF3YWl0IHJlc2V0UGFzcyhyZXEsIHJlcylcbiAgICAgIHJldHVybiByZXMuanNvbihyZXNldFBhc3NzKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBuZXh0KGVycm9yKTtcblxuICAgIH1cbiAgfSxcbiAgYXN5bmMgc2V0TmV3UGFzc3dvcmQocmVxLCByZXMsIG5leHQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2V0TmV3UGFzc3dvcmRkID0gYXdhaXQgc2V0TmV3UGFzc3dvcmQocmVxLCByZXMpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG5leHQoZXJyb3IpO1xuICAgIH1cbiAgfVxufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IGF1dGhDb250cm9sbGVyO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQVVBLE1BQU1BLGNBQWMsR0FBRztFQUNyQixNQUFNQyxRQUFOLENBQWVDLEdBQWYsRUFBb0JDLEdBQXBCLEVBQXlCQyxJQUF6QixFQUErQjtJQUM3QixJQUFJO01BQ0ZELEdBQUcsQ0FBQ0UsTUFBSixDQUFXLDhCQUFYLEVBQTJDLEdBQTNDO01BQ0FGLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLGtDQUFYLEVBQStDLElBQS9DO01BQ0FGLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLDhCQUFYLEVBQTJDLHFCQUEzQztNQUNBLE1BQU1DLE1BQU0sR0FBRyxNQUFNLElBQUFDLHFCQUFBLEVBQWdCTCxHQUFoQixFQUFxQkMsR0FBckIsQ0FBckI7TUFDQSxNQUFNSyxLQUFLLEdBQUcsTUFBTSxJQUFBQyxrQkFBQSxFQUFhSCxNQUFiLENBQXBCO01BQ0FILEdBQUcsQ0FBQ08sTUFBSixDQUFXLE1BQVgsRUFBbUIsZUFBbkI7TUFDQVAsR0FBRyxDQUFDTyxNQUFKLENBQVcsZ0JBQVgsRUFBNkJGLEtBQTdCLEVBQW9DRyxNQUFwQyxDQUEyQyxHQUEzQyxFQUFnREMsSUFBaEQsQ0FBcUQ7UUFDbkROLE1BRG1EO1FBRW5ERTtNQUZtRCxDQUFyRDtJQUlELENBWEQsQ0FXRSxPQUFPSyxLQUFQLEVBQWM7TUFDZEMsT0FBTyxDQUFDQyxHQUFSLENBQVlGLEtBQVo7TUFDQVQsSUFBSSxDQUFDUyxLQUFELENBQUo7SUFDRDtFQUNGLENBakJvQjs7RUFrQnJCLE1BQU1HLFVBQU4sQ0FBaUJkLEdBQWpCLEVBQXNCQyxHQUF0QixFQUEyQkMsSUFBM0IsRUFBaUM7SUFDL0IsSUFBSTtNQUNGLE1BQU1hLEVBQUUsR0FBRyxNQUFNLElBQUFDLGNBQUEsRUFBU2hCLEdBQVQsRUFBY0MsR0FBZCxDQUFqQjs7TUFDQSxJQUFJYyxFQUFFLElBQUksQ0FBVixFQUFhO1FBQ1gsT0FBT2QsR0FBRyxDQUFDZ0IsSUFBSixDQUFTLDBCQUFULENBQVA7TUFDRDs7TUFDRCxPQUFPaEIsR0FBRyxDQUFDZ0IsSUFBSixDQUFTLG9CQUFULENBQVA7SUFDRCxDQU5ELENBTUUsT0FBT04sS0FBUCxFQUFjO01BQ2RULElBQUksQ0FBQ1MsS0FBRCxDQUFKO0lBQ0Q7RUFDRixDQTVCb0I7O0VBNkJyQixNQUFNTyxLQUFOLENBQVlsQixHQUFaLEVBQWlCQyxHQUFqQixFQUFzQkMsSUFBdEIsRUFBNEI7SUFDMUIsSUFBSTtNQUNGLE1BQU07UUFBRWlCLEtBQUY7UUFBU0M7TUFBVCxJQUFzQnBCLEdBQUcsQ0FBQ3FCLElBQWhDO01BQ0EsTUFBTWpCLE1BQU0sR0FBRyxNQUFNLElBQUFrQiw2QkFBQSxFQUF3QkgsS0FBeEIsRUFBK0JDLFFBQS9CLENBQXJCO01BQ0EsTUFBTWQsS0FBSyxHQUFHLE1BQU0sSUFBQUMsa0JBQUEsRUFBYUgsTUFBYixDQUFwQjtNQUNBSCxHQUFHLENBQUNPLE1BQUosQ0FBVyxnQkFBWCxFQUE2QkYsS0FBN0IsRUFBb0NJLElBQXBDLENBQXlDO1FBQ3ZDTixNQUR1QztRQUV2Q0U7TUFGdUMsQ0FBekM7SUFJRCxDQVJELENBUUUsT0FBT0ssS0FBUCxFQUFjO01BQ2RULElBQUksQ0FBQ1MsS0FBRCxDQUFKLENBRGMsQ0FFZDtJQUNEO0VBQ0YsQ0ExQ29COztFQTJDckIsTUFBTVksTUFBTixDQUFhdkIsR0FBYixFQUFrQkMsR0FBbEIsRUFBdUJDLElBQXZCLEVBQTZCO0lBQzNCRCxHQUFHLENBQUNnQixJQUFKLENBQVNqQixHQUFHLENBQUN3QixXQUFiO0VBQ0QsQ0E3Q29COztFQWlEckI7RUFHQSxNQUFNQyxjQUFOLENBQXFCekIsR0FBckIsRUFBMEJDLEdBQTFCLEVBQStCQyxJQUEvQixFQUFxQztJQUNuQyxJQUFJO01BQ0YsTUFBTXdCLFVBQVUsR0FBRyxNQUFNLElBQUFDLGdCQUFBLEVBQVczQixHQUFHLENBQUNxQixJQUFmLENBQXpCO01BQ0EsT0FBT3BCLEdBQUcsQ0FBQ2dCLElBQUosQ0FBUztRQUFFVyxPQUFPLEVBQUU7TUFBWCxDQUFULENBQVA7SUFDRCxDQUhELENBR0UsT0FBT2pCLEtBQVAsRUFBYztNQUNkVCxJQUFJLENBQUNTLEtBQUQsQ0FBSjtJQUNEO0VBQ0YsQ0EzRG9COztFQTZEckIsTUFBTWtCLGFBQU4sQ0FBb0I3QixHQUFwQixFQUF5QkMsR0FBekIsRUFBOEJDLElBQTlCLEVBQW9DO0lBQ2xDLElBQUk7TUFDRixNQUFNNEIsVUFBVSxHQUFHLE1BQU0sSUFBQUMsZUFBQSxFQUFVL0IsR0FBVixFQUFlQyxHQUFmLENBQXpCO01BQ0EsT0FBT0EsR0FBRyxDQUFDZ0IsSUFBSixDQUFTYSxVQUFULENBQVA7SUFDRCxDQUhELENBR0UsT0FBT25CLEtBQVAsRUFBYztNQUNkVCxJQUFJLENBQUNTLEtBQUQsQ0FBSjtJQUVEO0VBQ0YsQ0FyRW9COztFQXNFckIsTUFBTXFCLGNBQU4sQ0FBcUJoQyxHQUFyQixFQUEwQkMsR0FBMUIsRUFBK0JDLElBQS9CLEVBQXFDO0lBQ25DLElBQUk7TUFDRixNQUFNK0IsZUFBZSxHQUFHLE1BQU0sSUFBQUQsb0JBQUEsRUFBZWhDLEdBQWYsRUFBb0JDLEdBQXBCLENBQTlCO0lBQ0QsQ0FGRCxDQUVFLE9BQU9VLEtBQVAsRUFBYztNQUNkVCxJQUFJLENBQUNTLEtBQUQsQ0FBSjtJQUNEO0VBQ0Y7O0FBNUVvQixDQUF2QjtBQWdGQXVCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnJDLGNBQWpCIn0=","map":{"version":3,"names":["authController","register","req","res","next","header","member","createNewMember","token","genAuthToken","cookie","status","send","error","console","log","verifyCode","ve","veriCode","json","login","email","password","body","signInWithEmailPassword","isauth","currentUser","forgotPassword","forgetPass","forgotPass","message","resetPassword","resetPasss","resetPass","setNewPassword","setNewPasswordd","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/","sources":["auth.controller.js"],"sourcesContent":["import {\n  createNewMember,\n  genAuthToken,\n  signInWithEmailPassword,\n  veriCode,\n  forgotPass,\n  resetPass,\n  setNewPassword\n} from \"../service/auth.service\";\n\nconst authController = {\n  async register(req, res, next) {\n    try {\n      res.header(\"Access-Control-Allow-Headers\", \"*\");\n      res.header(\"Access-Control-Allow-Credentials\", true);\n      res.header(\"Access-Control-Allow-Methods\", \"GET,PUT,POST,DELETE\");\n      const member = await createNewMember(req, res);\n      const token = await genAuthToken(member);\n      res.cookie(\"sang\", \"sang dep chai\");\n      res.cookie(\"x-access-token\", token).status(200).send({\n        member,\n        token,\n      });\n    } catch (error) {\n      console.log(error);\n      next(error);\n    }\n  },\n  async verifyCode(req, res, next) {\n    try {\n      const ve = await veriCode(req, res);\n      if (ve == 1) {\n        return res.json(\"Verify code successfully\")\n      }\n      return res.json(\"Verify code failed\")\n    } catch (error) {\n      next(error);\n    }\n  },\n  async login(req, res, next) {\n    try {\n      const { email, password } = req.body;\n      const member = await signInWithEmailPassword(email, password);\n      const token = await genAuthToken(member);\n      res.cookie(\"x-access-token\", token).send({\n        member,\n        token,\n      });\n    } catch (error) {\n      next(error);\n      // res.send({ error: error.statusCode, message: error.message });\n    }\n  },\n  async isauth(req, res, next) {\n    res.json(req.currentUser);\n  },\n\n\n\n  //-----reset password------------------------\n\n\n  async forgotPassword(req, res, next) {\n    try {\n      const forgetPass = await forgotPass(req.body)\n      return res.json({ message: \"send link ok\" })\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async resetPassword(req, res, next) {\n    try {\n      const resetPasss = await resetPass(req, res)\n      return res.json(resetPasss)\n    } catch (error) {\n      next(error);\n\n    }\n  },\n  async setNewPassword(req, res, next) {\n    try {\n      const setNewPasswordd = await setNewPassword(req, res)\n    } catch (error) {\n      next(error);\n    }\n  }\n};\n\n\nmodule.exports = authController;\n"],"mappings":"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"}},"mtime":1667231633829},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/auth.service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nrequire(\"dotenv\").config();\n\nconst bcrypt = require(\"bcrypt\");\n\nconst jwt = require(\"jsonwebtoken\");\n\nconst httpStatus = require(\"http-status\");\n\nconst {\n  ApiError\n} = require(\"../middleware/apiError\");\n\nconst membersRepository = require(\"../repository/members.repository\");\n\nvar nodemailer = require(\"nodemailer\");\n\nconst {\n  response\n} = require(\"express\");\n\nconst hashPassword = async password => {\n  const salt = await bcrypt.genSalt(10);\n  const hashedPass = await bcrypt.hash(password, salt);\n  return hashedPass;\n};\n\nconst createNewMember = async (req, res) => {\n  try {\n    const member = req.body;\n    const memberExisted = await membersRepository.getMemberByEmail(member.email);\n\n    if (memberExisted) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Email already taken\");\n    }\n\n    const hashPass = await hashPassword(member.password);\n    const newMember = await membersRepository.createNewMember({\n      email: member.email,\n      fullname: member.fullname,\n      password: hashPass,\n      avatar: null,\n      verified_code: Math.floor(1000 + Math.random() * 9000)\n    });\n    console.log(newMember);\n\n    if (!newMember) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Register fail\");\n    } //send email verify cho nguoi dung\n    //Phai bat less secure app\n\n\n    await membersRepository.sendMail(newMember.email, \"Code to verify account\", \"your verify code is: \" + newMember.verified_code);\n    return newMember;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst veriCode = async (req, res) => {\n  try {\n    const memberEmail = req.body.email;\n    console.log(memberEmail);\n    let getCode = await membersRepository.getCodeByEmail(memberEmail);\n    console.log(getCode.verified_code);\n\n    if (!(getCode.verified_code == req.body.verified_code)) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"Invalid code\");\n    }\n\n    const icode = await membersRepository.updateStatus({\n      email: memberEmail\n    });\n    return icode;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst genAuthToken = async user => {\n  const userObj = {\n    sub: user.id,\n    email: user.email,\n    id: user.id\n  };\n  const token = jwt.sign(userObj, process.env.ACCESS_TOKEN_SECRET, {\n    expiresIn: \"1d\"\n  });\n  return token;\n};\n\nconst comparePassword = async (candidatePassword, hashPassword) => {\n  // candidate password = hash password\n  const match = await bcrypt.compare(candidatePassword, hashPassword);\n  return match;\n};\n\nconst signInWithEmailPassword = async (email, password) => {\n  try {\n    // check email\n    const member = await membersRepository.getMemberByEmailActive(email);\n\n    if (!member) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"Sorry Bad Email\");\n    }\n\n    if (!(await comparePassword(password, member.password))) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"Ti khon hoc mt khu khng chnh xc\");\n    }\n\n    return member;\n  } catch (error) {\n    throw error;\n  }\n}; //-----reset password------------------------\n\n\nconst forgotPass = async (data, res) => {\n  const email = data.email;\n\n  try {\n    if (!email) {\n      throw new ApiError(httpStatus.NOT_FOUND, \"Please enter your email\");\n    }\n\n    const oldUser = await membersRepository.getMemberByEmail(email);\n\n    if (!oldUser) {\n      throw new ApiError(httpStatus.NOT_FOUND, \"Ngi dng khng tn ti\");\n    } // const secret = process.env.ACCESS_TOKEN_SECRET + oldUser.password;\n    // const token = jwt.sign({ email: oldUser.email, id: oldUser.id }, secret, {\n    //   expiresIn: \"5m\",\n    // });\n\n\n    const start = Date.now();\n    console.log(start);\n    const link = `127.0.0.1:5173/reset-password/${oldUser.id}/${start}`;\n    await membersRepository.sendMail(oldUser.email, \"Password reset\", \"Reset Link expired in 5 minutes: \" + link);\n    console.log(\"Link expired in 5 minutes: \" + link); // res.json(\"pasword reset link send to your account\");\n  } catch (error) {\n    console.log(error);\n    throw error;\n  }\n};\n\nconst resetPass = async (req, res) => {\n  const {\n    id,\n    start\n  } = req.params;\n  console.log(req.params);\n  const oldUser = await membersRepository.getMemberById(id);\n\n  if (!oldUser) {\n    throw new ApiError(httpStatus.NOT_FOUND, \"Ngi dng khng tn ti\");\n  }\n\n  try {\n    const millis = Date.now() - start;\n\n    if (Math.floor(millis / 1000) > 300) {\n      return res.status(400).json({\n        message: \"Link ht hn\"\n      });\n    } else {\n      return res.json({\n        message: \"xc thc\"\n      });\n    }\n  } catch (error) {\n    console.log(error);\n    throw new ApiError(httpStatus.UNAUTHORIZED, \"Link ht hn\");\n  }\n};\n\nconst setNewPassword = async (req, res) => {\n  const {\n    id\n  } = req.params;\n  const {\n    password\n  } = req.body;\n  console.log(password);\n  const oldUser = await membersRepository.getMemberById(id);\n\n  if (!oldUser) {\n    throw new ApiError(httpStatus.NOT_FOUND, \"Ngi dng khng tn ti\");\n  }\n\n  try {\n    const newHashPassword = await hashPassword(password);\n    console.log(newHashPassword); //==============================update password=======================\n\n    const updatePassword = await membersRepository.update({\n      password: newHashPassword\n    }, {\n      id: oldUser.id\n    });\n    return res.json({\n      message: \"Thay i password thnh cng\"\n    });\n  } catch (error) {\n    // console.log(error);\n    throw error;\n  }\n};\n\nmodule.exports = {\n  createNewMember,\n  genAuthToken,\n  signInWithEmailPassword,\n  veriCode,\n  forgotPass,\n  resetPass,\n  setNewPassword\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiYmNyeXB0Iiwiand0IiwiaHR0cFN0YXR1cyIsIkFwaUVycm9yIiwibWVtYmVyc1JlcG9zaXRvcnkiLCJub2RlbWFpbGVyIiwicmVzcG9uc2UiLCJoYXNoUGFzc3dvcmQiLCJwYXNzd29yZCIsInNhbHQiLCJnZW5TYWx0IiwiaGFzaGVkUGFzcyIsImhhc2giLCJjcmVhdGVOZXdNZW1iZXIiLCJyZXEiLCJyZXMiLCJtZW1iZXIiLCJib2R5IiwibWVtYmVyRXhpc3RlZCIsImdldE1lbWJlckJ5RW1haWwiLCJlbWFpbCIsIkJBRF9SRVFVRVNUIiwiaGFzaFBhc3MiLCJuZXdNZW1iZXIiLCJmdWxsbmFtZSIsImF2YXRhciIsInZlcmlmaWVkX2NvZGUiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJjb25zb2xlIiwibG9nIiwic2VuZE1haWwiLCJlcnJvciIsInZlcmlDb2RlIiwibWVtYmVyRW1haWwiLCJnZXRDb2RlIiwiZ2V0Q29kZUJ5RW1haWwiLCJVTkFVVEhPUklaRUQiLCJpY29kZSIsInVwZGF0ZVN0YXR1cyIsImdlbkF1dGhUb2tlbiIsInVzZXIiLCJ1c2VyT2JqIiwic3ViIiwiaWQiLCJ0b2tlbiIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiQUNDRVNTX1RPS0VOX1NFQ1JFVCIsImV4cGlyZXNJbiIsImNvbXBhcmVQYXNzd29yZCIsImNhbmRpZGF0ZVBhc3N3b3JkIiwibWF0Y2giLCJjb21wYXJlIiwic2lnbkluV2l0aEVtYWlsUGFzc3dvcmQiLCJnZXRNZW1iZXJCeUVtYWlsQWN0aXZlIiwiZm9yZ290UGFzcyIsImRhdGEiLCJOT1RfRk9VTkQiLCJvbGRVc2VyIiwic3RhcnQiLCJEYXRlIiwibm93IiwibGluayIsInJlc2V0UGFzcyIsInBhcmFtcyIsImdldE1lbWJlckJ5SWQiLCJtaWxsaXMiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInNldE5ld1Bhc3N3b3JkIiwibmV3SGFzaFBhc3N3b3JkIiwidXBkYXRlUGFzc3dvcmQiLCJ1cGRhdGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL3NlcnZpY2UvIiwic291cmNlcyI6WyJhdXRoLnNlcnZpY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoXCJiY3J5cHRcIik7XG5jb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xuY29uc3QgaHR0cFN0YXR1cyA9IHJlcXVpcmUoXCJodHRwLXN0YXR1c1wiKTtcbmNvbnN0IHsgQXBpRXJyb3IgfSA9IHJlcXVpcmUoXCIuLi9taWRkbGV3YXJlL2FwaUVycm9yXCIpO1xuY29uc3QgbWVtYmVyc1JlcG9zaXRvcnkgPSByZXF1aXJlKFwiLi4vcmVwb3NpdG9yeS9tZW1iZXJzLnJlcG9zaXRvcnlcIik7XG52YXIgbm9kZW1haWxlciA9IHJlcXVpcmUoXCJub2RlbWFpbGVyXCIpO1xuY29uc3QgeyByZXNwb25zZSB9ID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5cbmNvbnN0IGhhc2hQYXNzd29yZCA9IGFzeW5jIChwYXNzd29yZCkgPT4ge1xuICBjb25zdCBzYWx0ID0gYXdhaXQgYmNyeXB0LmdlblNhbHQoMTApO1xuICBjb25zdCBoYXNoZWRQYXNzID0gYXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIHNhbHQpO1xuICByZXR1cm4gaGFzaGVkUGFzcztcbn07XG5cbmNvbnN0IGNyZWF0ZU5ld01lbWJlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IG1lbWJlciA9IHJlcS5ib2R5O1xuICAgIGNvbnN0IG1lbWJlckV4aXN0ZWQgPSBhd2FpdCBtZW1iZXJzUmVwb3NpdG9yeS5nZXRNZW1iZXJCeUVtYWlsKFxuICAgICAgbWVtYmVyLmVtYWlsXG4gICAgKTtcbiAgICBpZiAobWVtYmVyRXhpc3RlZCkge1xuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKGh0dHBTdGF0dXMuQkFEX1JFUVVFU1QsIFwiRW1haWwgYWxyZWFkeSB0YWtlblwiKTtcbiAgICB9XG4gICAgY29uc3QgaGFzaFBhc3MgPSBhd2FpdCBoYXNoUGFzc3dvcmQobWVtYmVyLnBhc3N3b3JkKTtcblxuICAgIGNvbnN0IG5ld01lbWJlciA9IGF3YWl0IG1lbWJlcnNSZXBvc2l0b3J5LmNyZWF0ZU5ld01lbWJlcih7XG4gICAgICBlbWFpbDogbWVtYmVyLmVtYWlsLFxuICAgICAgZnVsbG5hbWU6IG1lbWJlci5mdWxsbmFtZSxcbiAgICAgIHBhc3N3b3JkOiBoYXNoUGFzcyxcbiAgICAgIGF2YXRhcjogbnVsbCxcbiAgICAgIHZlcmlmaWVkX2NvZGU6IE1hdGguZmxvb3IoMTAwMCArIE1hdGgucmFuZG9tKCkgKiA5MDAwKSxcbiAgICB9KTtcblxuICAgIGNvbnNvbGUubG9nKG5ld01lbWJlcik7XG4gICAgaWYgKCFuZXdNZW1iZXIpIHtcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLkJBRF9SRVFVRVNULCBcIlJlZ2lzdGVyIGZhaWxcIik7XG4gICAgfVxuICAgIC8vc2VuZCBlbWFpbCB2ZXJpZnkgY2hvIG5ndW9pIGR1bmdcbiAgICAvL1BoYWkgYmF0IGxlc3Mgc2VjdXJlIGFwcFxuICAgIGF3YWl0IG1lbWJlcnNSZXBvc2l0b3J5LnNlbmRNYWlsKFxuICAgICAgbmV3TWVtYmVyLmVtYWlsLFxuICAgICAgXCJDb2RlIHRvIHZlcmlmeSBhY2NvdW50XCIsXG4gICAgICBcInlvdXIgdmVyaWZ5IGNvZGUgaXM6IFwiICsgbmV3TWVtYmVyLnZlcmlmaWVkX2NvZGVcbiAgICApO1xuICAgIHJldHVybiBuZXdNZW1iZXI7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5jb25zdCB2ZXJpQ29kZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IG1lbWJlckVtYWlsID0gcmVxLmJvZHkuZW1haWw7XG4gICAgY29uc29sZS5sb2cobWVtYmVyRW1haWwpO1xuICAgIGxldCBnZXRDb2RlID0gYXdhaXQgbWVtYmVyc1JlcG9zaXRvcnkuZ2V0Q29kZUJ5RW1haWwobWVtYmVyRW1haWwpO1xuICAgIGNvbnNvbGUubG9nKGdldENvZGUudmVyaWZpZWRfY29kZSk7XG4gICAgaWYgKCEoZ2V0Q29kZS52ZXJpZmllZF9jb2RlID09IHJlcS5ib2R5LnZlcmlmaWVkX2NvZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5VTkFVVEhPUklaRUQsIFwiSW52YWxpZCBjb2RlXCIpO1xuICAgIH1cbiAgICBjb25zdCBpY29kZSA9IGF3YWl0IG1lbWJlcnNSZXBvc2l0b3J5LnVwZGF0ZVN0YXR1cyh7IGVtYWlsOiBtZW1iZXJFbWFpbCB9KTtcblxuICAgIHJldHVybiBpY29kZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuY29uc3QgZ2VuQXV0aFRva2VuID0gYXN5bmMgKHVzZXIpID0+IHtcbiAgY29uc3QgdXNlck9iaiA9IHtcbiAgICBzdWI6IHVzZXIuaWQsXG4gICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgaWQ6IHVzZXIuaWQsXG4gIH07XG4gIGNvbnN0IHRva2VuID0gand0LnNpZ24odXNlck9iaiwgcHJvY2Vzcy5lbnYuQUNDRVNTX1RPS0VOX1NFQ1JFVCwge1xuICAgIGV4cGlyZXNJbjogXCIxZFwiLFxuICB9KTtcbiAgcmV0dXJuIHRva2VuO1xufTtcbmNvbnN0IGNvbXBhcmVQYXNzd29yZCA9IGFzeW5jIChjYW5kaWRhdGVQYXNzd29yZCwgaGFzaFBhc3N3b3JkKSA9PiB7XG4gIC8vIGNhbmRpZGF0ZSBwYXNzd29yZCA9IGhhc2ggcGFzc3dvcmRcblxuICBjb25zdCBtYXRjaCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKGNhbmRpZGF0ZVBhc3N3b3JkLCBoYXNoUGFzc3dvcmQpO1xuICByZXR1cm4gbWF0Y2g7XG59O1xuY29uc3Qgc2lnbkluV2l0aEVtYWlsUGFzc3dvcmQgPSBhc3luYyAoZW1haWwsIHBhc3N3b3JkKSA9PiB7XG4gIHRyeSB7XG4gICAgLy8gY2hlY2sgZW1haWxcbiAgICBjb25zdCBtZW1iZXIgPSBhd2FpdCBtZW1iZXJzUmVwb3NpdG9yeS5nZXRNZW1iZXJCeUVtYWlsQWN0aXZlKGVtYWlsKTtcbiAgICBpZiAoIW1lbWJlcikge1xuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKGh0dHBTdGF0dXMuVU5BVVRIT1JJWkVELCBcIlNvcnJ5IEJhZCBFbWFpbFwiKTtcbiAgICB9XG4gICAgaWYgKCEoYXdhaXQgY29tcGFyZVBhc3N3b3JkKHBhc3N3b3JkLCBtZW1iZXIucGFzc3dvcmQpKSkge1xuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKFxuICAgICAgICBodHRwU3RhdHVzLlVOQVVUSE9SSVpFRCxcbiAgICAgICAgXCJUw6BpIGtob+G6o24gaG/hurdjIG3huq10IGto4bqpdSBraMO0bmcgY2jDrW5oIHjDoWNcIlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG1lbWJlcjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuLy8tLS0tLXJlc2V0IHBhc3N3b3JkLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmNvbnN0IGZvcmdvdFBhc3MgPSBhc3luYyAoZGF0YSwgcmVzKSA9PiB7XG4gIGNvbnN0IGVtYWlsID0gZGF0YS5lbWFpbDtcbiAgdHJ5IHtcbiAgICBpZiAoIWVtYWlsKSB7XG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5OT1RfRk9VTkQsIFwiUGxlYXNlIGVudGVyIHlvdXIgZW1haWxcIik7XG4gICAgfVxuICAgIGNvbnN0IG9sZFVzZXIgPSBhd2FpdCBtZW1iZXJzUmVwb3NpdG9yeS5nZXRNZW1iZXJCeUVtYWlsKGVtYWlsKTtcblxuICAgIGlmICghb2xkVXNlcikge1xuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKGh0dHBTdGF0dXMuTk9UX0ZPVU5ELCBcIk5nxrDhu51pIGTDuW5nIGtow7RuZyB04buTbiB04bqhaVwiKTtcbiAgICB9XG4gICAgLy8gY29uc3Qgc2VjcmV0ID0gcHJvY2Vzcy5lbnYuQUNDRVNTX1RPS0VOX1NFQ1JFVCArIG9sZFVzZXIucGFzc3dvcmQ7XG4gICAgLy8gY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7IGVtYWlsOiBvbGRVc2VyLmVtYWlsLCBpZDogb2xkVXNlci5pZCB9LCBzZWNyZXQsIHtcbiAgICAvLyAgIGV4cGlyZXNJbjogXCI1bVwiLFxuICAgIC8vIH0pO1xuICAgIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICBjb25zb2xlLmxvZyhzdGFydCk7XG4gICAgY29uc3QgbGluayA9IGAxMjcuMC4wLjE6NTE3My9yZXNldC1wYXNzd29yZC8ke29sZFVzZXIuaWR9LyR7c3RhcnR9YDtcblxuICAgIGF3YWl0IG1lbWJlcnNSZXBvc2l0b3J5LnNlbmRNYWlsKFxuICAgICAgb2xkVXNlci5lbWFpbCxcbiAgICAgIFwiUGFzc3dvcmQgcmVzZXRcIixcbiAgICAgIFwiUmVzZXQgTGluayBleHBpcmVkIGluIDUgbWludXRlczogXCIgKyBsaW5rXG4gICAgKTtcbiAgICBjb25zb2xlLmxvZyhcIkxpbmsgZXhwaXJlZCBpbiA1IG1pbnV0ZXM6IFwiICsgbGluayk7XG5cbiAgICAvLyByZXMuanNvbihcInBhc3dvcmQgcmVzZXQgbGluayBzZW5kIHRvIHlvdXIgYWNjb3VudFwiKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbmNvbnN0IHJlc2V0UGFzcyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7IGlkLCBzdGFydCB9ID0gcmVxLnBhcmFtcztcbiAgY29uc29sZS5sb2cocmVxLnBhcmFtcyk7XG4gIGNvbnN0IG9sZFVzZXIgPSBhd2FpdCBtZW1iZXJzUmVwb3NpdG9yeS5nZXRNZW1iZXJCeUlkKGlkKTtcbiAgaWYgKCFvbGRVc2VyKSB7XG4gICAgdGhyb3cgbmV3IEFwaUVycm9yKGh0dHBTdGF0dXMuTk9UX0ZPVU5ELCBcIk5nxrDhu51pIGTDuW5nIGtow7RuZyB04buTbiB04bqhaVwiKTtcbiAgfVxuICB0cnkge1xuICAgIGNvbnN0IG1pbGxpcyA9IERhdGUubm93KCkgLSBzdGFydDtcbiAgICBpZiAoTWF0aC5mbG9vcihtaWxsaXMgLyAxMDAwKSA+IDMwMCkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogXCJMaW5rIGjhur90IGjhuqFuXCIgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiByZXMuanNvbih7IG1lc3NhZ2U6IFwieMOhYyB0aOG7sWNcIiB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLlVOQVVUSE9SSVpFRCwgXCJMaW5rIGjhur90IGjhuqFuXCIpO1xuICB9XG59O1xuXG5jb25zdCBzZXROZXdQYXNzd29yZCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zO1xuICBjb25zdCB7IHBhc3N3b3JkIH0gPSByZXEuYm9keTtcbiAgY29uc29sZS5sb2cocGFzc3dvcmQpO1xuICBjb25zdCBvbGRVc2VyID0gYXdhaXQgbWVtYmVyc1JlcG9zaXRvcnkuZ2V0TWVtYmVyQnlJZChpZCk7XG4gIGlmICghb2xkVXNlcikge1xuICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLk5PVF9GT1VORCwgXCJOZ8aw4budaSBkw7luZyBraMO0bmcgdOG7k24gdOG6oWlcIik7XG4gIH1cbiAgdHJ5IHtcbiAgICBjb25zdCBuZXdIYXNoUGFzc3dvcmQgPSBhd2FpdCBoYXNoUGFzc3dvcmQocGFzc3dvcmQpO1xuICAgIGNvbnNvbGUubG9nKG5ld0hhc2hQYXNzd29yZCk7XG4gICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT11cGRhdGUgcGFzc3dvcmQ9PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgY29uc3QgdXBkYXRlUGFzc3dvcmQgPSBhd2FpdCBtZW1iZXJzUmVwb3NpdG9yeS51cGRhdGUoXG4gICAgICB7IHBhc3N3b3JkOiBuZXdIYXNoUGFzc3dvcmQgfSxcbiAgICAgIHsgaWQ6IG9sZFVzZXIuaWQgfVxuICAgICk7XG4gICAgcmV0dXJuIHJlcy5qc29uKHsgbWVzc2FnZTogXCJUaGF5IMSR4buVaSBwYXNzd29yZCB0aMOgbmggY8O0bmdcIiB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAvLyBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjcmVhdGVOZXdNZW1iZXIsXG4gIGdlbkF1dGhUb2tlbixcbiAgc2lnbkluV2l0aEVtYWlsUGFzc3dvcmQsXG4gIHZlcmlDb2RlLFxuICBmb3Jnb3RQYXNzLFxuICByZXNldFBhc3MsXG4gIHNldE5ld1Bhc3N3b3JkLFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEI7O0FBQ0EsTUFBTUMsTUFBTSxHQUFHRixPQUFPLENBQUMsUUFBRCxDQUF0Qjs7QUFDQSxNQUFNRyxHQUFHLEdBQUdILE9BQU8sQ0FBQyxjQUFELENBQW5COztBQUNBLE1BQU1JLFVBQVUsR0FBR0osT0FBTyxDQUFDLGFBQUQsQ0FBMUI7O0FBQ0EsTUFBTTtFQUFFSztBQUFGLElBQWVMLE9BQU8sQ0FBQyx3QkFBRCxDQUE1Qjs7QUFDQSxNQUFNTSxpQkFBaUIsR0FBR04sT0FBTyxDQUFDLGtDQUFELENBQWpDOztBQUNBLElBQUlPLFVBQVUsR0FBR1AsT0FBTyxDQUFDLFlBQUQsQ0FBeEI7O0FBQ0EsTUFBTTtFQUFFUTtBQUFGLElBQWVSLE9BQU8sQ0FBQyxTQUFELENBQTVCOztBQUVBLE1BQU1TLFlBQVksR0FBRyxNQUFPQyxRQUFQLElBQW9CO0VBQ3ZDLE1BQU1DLElBQUksR0FBRyxNQUFNVCxNQUFNLENBQUNVLE9BQVAsQ0FBZSxFQUFmLENBQW5CO0VBQ0EsTUFBTUMsVUFBVSxHQUFHLE1BQU1YLE1BQU0sQ0FBQ1ksSUFBUCxDQUFZSixRQUFaLEVBQXNCQyxJQUF0QixDQUF6QjtFQUNBLE9BQU9FLFVBQVA7QUFDRCxDQUpEOztBQU1BLE1BQU1FLGVBQWUsR0FBRyxPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7RUFDMUMsSUFBSTtJQUNGLE1BQU1DLE1BQU0sR0FBR0YsR0FBRyxDQUFDRyxJQUFuQjtJQUNBLE1BQU1DLGFBQWEsR0FBRyxNQUFNZCxpQkFBaUIsQ0FBQ2UsZ0JBQWxCLENBQzFCSCxNQUFNLENBQUNJLEtBRG1CLENBQTVCOztJQUdBLElBQUlGLGFBQUosRUFBbUI7TUFDakIsTUFBTSxJQUFJZixRQUFKLENBQWFELFVBQVUsQ0FBQ21CLFdBQXhCLEVBQXFDLHFCQUFyQyxDQUFOO0lBQ0Q7O0lBQ0QsTUFBTUMsUUFBUSxHQUFHLE1BQU1mLFlBQVksQ0FBQ1MsTUFBTSxDQUFDUixRQUFSLENBQW5DO0lBRUEsTUFBTWUsU0FBUyxHQUFHLE1BQU1uQixpQkFBaUIsQ0FBQ1MsZUFBbEIsQ0FBa0M7TUFDeERPLEtBQUssRUFBRUosTUFBTSxDQUFDSSxLQUQwQztNQUV4REksUUFBUSxFQUFFUixNQUFNLENBQUNRLFFBRnVDO01BR3hEaEIsUUFBUSxFQUFFYyxRQUg4QztNQUl4REcsTUFBTSxFQUFFLElBSmdEO01BS3hEQyxhQUFhLEVBQUVDLElBQUksQ0FBQ0MsS0FBTCxDQUFXLE9BQU9ELElBQUksQ0FBQ0UsTUFBTCxLQUFnQixJQUFsQztJQUx5QyxDQUFsQyxDQUF4QjtJQVFBQyxPQUFPLENBQUNDLEdBQVIsQ0FBWVIsU0FBWjs7SUFDQSxJQUFJLENBQUNBLFNBQUwsRUFBZ0I7TUFDZCxNQUFNLElBQUlwQixRQUFKLENBQWFELFVBQVUsQ0FBQ21CLFdBQXhCLEVBQXFDLGVBQXJDLENBQU47SUFDRCxDQXJCQyxDQXNCRjtJQUNBOzs7SUFDQSxNQUFNakIsaUJBQWlCLENBQUM0QixRQUFsQixDQUNKVCxTQUFTLENBQUNILEtBRE4sRUFFSix3QkFGSSxFQUdKLDBCQUEwQkcsU0FBUyxDQUFDRyxhQUhoQyxDQUFOO0lBS0EsT0FBT0gsU0FBUDtFQUNELENBOUJELENBOEJFLE9BQU9VLEtBQVAsRUFBYztJQUNkLE1BQU1BLEtBQU47RUFDRDtBQUNGLENBbENEOztBQW1DQSxNQUFNQyxRQUFRLEdBQUcsT0FBT3BCLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtFQUNuQyxJQUFJO0lBQ0YsTUFBTW9CLFdBQVcsR0FBR3JCLEdBQUcsQ0FBQ0csSUFBSixDQUFTRyxLQUE3QjtJQUNBVSxPQUFPLENBQUNDLEdBQVIsQ0FBWUksV0FBWjtJQUNBLElBQUlDLE9BQU8sR0FBRyxNQUFNaEMsaUJBQWlCLENBQUNpQyxjQUFsQixDQUFpQ0YsV0FBakMsQ0FBcEI7SUFDQUwsT0FBTyxDQUFDQyxHQUFSLENBQVlLLE9BQU8sQ0FBQ1YsYUFBcEI7O0lBQ0EsSUFBSSxFQUFFVSxPQUFPLENBQUNWLGFBQVIsSUFBeUJaLEdBQUcsQ0FBQ0csSUFBSixDQUFTUyxhQUFwQyxDQUFKLEVBQXdEO01BQ3RELE1BQU0sSUFBSXZCLFFBQUosQ0FBYUQsVUFBVSxDQUFDb0MsWUFBeEIsRUFBc0MsY0FBdEMsQ0FBTjtJQUNEOztJQUNELE1BQU1DLEtBQUssR0FBRyxNQUFNbkMsaUJBQWlCLENBQUNvQyxZQUFsQixDQUErQjtNQUFFcEIsS0FBSyxFQUFFZTtJQUFULENBQS9CLENBQXBCO0lBRUEsT0FBT0ksS0FBUDtFQUNELENBWEQsQ0FXRSxPQUFPTixLQUFQLEVBQWM7SUFDZCxNQUFNQSxLQUFOO0VBQ0Q7QUFDRixDQWZEOztBQWlCQSxNQUFNUSxZQUFZLEdBQUcsTUFBT0MsSUFBUCxJQUFnQjtFQUNuQyxNQUFNQyxPQUFPLEdBQUc7SUFDZEMsR0FBRyxFQUFFRixJQUFJLENBQUNHLEVBREk7SUFFZHpCLEtBQUssRUFBRXNCLElBQUksQ0FBQ3RCLEtBRkU7SUFHZHlCLEVBQUUsRUFBRUgsSUFBSSxDQUFDRztFQUhLLENBQWhCO0VBS0EsTUFBTUMsS0FBSyxHQUFHN0MsR0FBRyxDQUFDOEMsSUFBSixDQUFTSixPQUFULEVBQWtCSyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsbUJBQTlCLEVBQW1EO0lBQy9EQyxTQUFTLEVBQUU7RUFEb0QsQ0FBbkQsQ0FBZDtFQUdBLE9BQU9MLEtBQVA7QUFDRCxDQVZEOztBQVdBLE1BQU1NLGVBQWUsR0FBRyxPQUFPQyxpQkFBUCxFQUEwQjlDLFlBQTFCLEtBQTJDO0VBQ2pFO0VBRUEsTUFBTStDLEtBQUssR0FBRyxNQUFNdEQsTUFBTSxDQUFDdUQsT0FBUCxDQUFlRixpQkFBZixFQUFrQzlDLFlBQWxDLENBQXBCO0VBQ0EsT0FBTytDLEtBQVA7QUFDRCxDQUxEOztBQU1BLE1BQU1FLHVCQUF1QixHQUFHLE9BQU9wQyxLQUFQLEVBQWNaLFFBQWQsS0FBMkI7RUFDekQsSUFBSTtJQUNGO0lBQ0EsTUFBTVEsTUFBTSxHQUFHLE1BQU1aLGlCQUFpQixDQUFDcUQsc0JBQWxCLENBQXlDckMsS0FBekMsQ0FBckI7O0lBQ0EsSUFBSSxDQUFDSixNQUFMLEVBQWE7TUFDWCxNQUFNLElBQUliLFFBQUosQ0FBYUQsVUFBVSxDQUFDb0MsWUFBeEIsRUFBc0MsaUJBQXRDLENBQU47SUFDRDs7SUFDRCxJQUFJLEVBQUUsTUFBTWMsZUFBZSxDQUFDNUMsUUFBRCxFQUFXUSxNQUFNLENBQUNSLFFBQWxCLENBQXZCLENBQUosRUFBeUQ7TUFDdkQsTUFBTSxJQUFJTCxRQUFKLENBQ0pELFVBQVUsQ0FBQ29DLFlBRFAsRUFFSix5Q0FGSSxDQUFOO0lBSUQ7O0lBQ0QsT0FBT3RCLE1BQVA7RUFDRCxDQWJELENBYUUsT0FBT2lCLEtBQVAsRUFBYztJQUNkLE1BQU1BLEtBQU47RUFDRDtBQUNGLENBakJELEMsQ0FtQkE7OztBQUVBLE1BQU15QixVQUFVLEdBQUcsT0FBT0MsSUFBUCxFQUFhNUMsR0FBYixLQUFxQjtFQUN0QyxNQUFNSyxLQUFLLEdBQUd1QyxJQUFJLENBQUN2QyxLQUFuQjs7RUFDQSxJQUFJO0lBQ0YsSUFBSSxDQUFDQSxLQUFMLEVBQVk7TUFDVixNQUFNLElBQUlqQixRQUFKLENBQWFELFVBQVUsQ0FBQzBELFNBQXhCLEVBQW1DLHlCQUFuQyxDQUFOO0lBQ0Q7O0lBQ0QsTUFBTUMsT0FBTyxHQUFHLE1BQU16RCxpQkFBaUIsQ0FBQ2UsZ0JBQWxCLENBQW1DQyxLQUFuQyxDQUF0Qjs7SUFFQSxJQUFJLENBQUN5QyxPQUFMLEVBQWM7TUFDWixNQUFNLElBQUkxRCxRQUFKLENBQWFELFVBQVUsQ0FBQzBELFNBQXhCLEVBQW1DLDBCQUFuQyxDQUFOO0lBQ0QsQ0FSQyxDQVNGO0lBQ0E7SUFDQTtJQUNBOzs7SUFDQSxNQUFNRSxLQUFLLEdBQUdDLElBQUksQ0FBQ0MsR0FBTCxFQUFkO0lBQ0FsQyxPQUFPLENBQUNDLEdBQVIsQ0FBWStCLEtBQVo7SUFDQSxNQUFNRyxJQUFJLEdBQUksaUNBQWdDSixPQUFPLENBQUNoQixFQUFHLElBQUdpQixLQUFNLEVBQWxFO0lBRUEsTUFBTTFELGlCQUFpQixDQUFDNEIsUUFBbEIsQ0FDSjZCLE9BQU8sQ0FBQ3pDLEtBREosRUFFSixnQkFGSSxFQUdKLHNDQUFzQzZDLElBSGxDLENBQU47SUFLQW5DLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGdDQUFnQ2tDLElBQTVDLEVBdEJFLENBd0JGO0VBQ0QsQ0F6QkQsQ0F5QkUsT0FBT2hDLEtBQVAsRUFBYztJQUNkSCxPQUFPLENBQUNDLEdBQVIsQ0FBWUUsS0FBWjtJQUNBLE1BQU1BLEtBQU47RUFDRDtBQUNGLENBL0JEOztBQWlDQSxNQUFNaUMsU0FBUyxHQUFHLE9BQU9wRCxHQUFQLEVBQVlDLEdBQVosS0FBb0I7RUFDcEMsTUFBTTtJQUFFOEIsRUFBRjtJQUFNaUI7RUFBTixJQUFnQmhELEdBQUcsQ0FBQ3FELE1BQTFCO0VBQ0FyQyxPQUFPLENBQUNDLEdBQVIsQ0FBWWpCLEdBQUcsQ0FBQ3FELE1BQWhCO0VBQ0EsTUFBTU4sT0FBTyxHQUFHLE1BQU16RCxpQkFBaUIsQ0FBQ2dFLGFBQWxCLENBQWdDdkIsRUFBaEMsQ0FBdEI7O0VBQ0EsSUFBSSxDQUFDZ0IsT0FBTCxFQUFjO0lBQ1osTUFBTSxJQUFJMUQsUUFBSixDQUFhRCxVQUFVLENBQUMwRCxTQUF4QixFQUFtQywwQkFBbkMsQ0FBTjtFQUNEOztFQUNELElBQUk7SUFDRixNQUFNUyxNQUFNLEdBQUdOLElBQUksQ0FBQ0MsR0FBTCxLQUFhRixLQUE1Qjs7SUFDQSxJQUFJbkMsSUFBSSxDQUFDQyxLQUFMLENBQVd5QyxNQUFNLEdBQUcsSUFBcEIsSUFBNEIsR0FBaEMsRUFBcUM7TUFDbkMsT0FBT3RELEdBQUcsQ0FBQ3VELE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtRQUFFQyxPQUFPLEVBQUU7TUFBWCxDQUFyQixDQUFQO0lBQ0QsQ0FGRCxNQUVPO01BQ0wsT0FBT3pELEdBQUcsQ0FBQ3dELElBQUosQ0FBUztRQUFFQyxPQUFPLEVBQUU7TUFBWCxDQUFULENBQVA7SUFDRDtFQUNGLENBUEQsQ0FPRSxPQUFPdkMsS0FBUCxFQUFjO0lBQ2RILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxLQUFaO0lBQ0EsTUFBTSxJQUFJOUIsUUFBSixDQUFhRCxVQUFVLENBQUNvQyxZQUF4QixFQUFzQyxjQUF0QyxDQUFOO0VBQ0Q7QUFDRixDQWxCRDs7QUFvQkEsTUFBTW1DLGNBQWMsR0FBRyxPQUFPM0QsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0VBQ3pDLE1BQU07SUFBRThCO0VBQUYsSUFBUy9CLEdBQUcsQ0FBQ3FELE1BQW5CO0VBQ0EsTUFBTTtJQUFFM0Q7RUFBRixJQUFlTSxHQUFHLENBQUNHLElBQXpCO0VBQ0FhLE9BQU8sQ0FBQ0MsR0FBUixDQUFZdkIsUUFBWjtFQUNBLE1BQU1xRCxPQUFPLEdBQUcsTUFBTXpELGlCQUFpQixDQUFDZ0UsYUFBbEIsQ0FBZ0N2QixFQUFoQyxDQUF0Qjs7RUFDQSxJQUFJLENBQUNnQixPQUFMLEVBQWM7SUFDWixNQUFNLElBQUkxRCxRQUFKLENBQWFELFVBQVUsQ0FBQzBELFNBQXhCLEVBQW1DLDBCQUFuQyxDQUFOO0VBQ0Q7O0VBQ0QsSUFBSTtJQUNGLE1BQU1jLGVBQWUsR0FBRyxNQUFNbkUsWUFBWSxDQUFDQyxRQUFELENBQTFDO0lBQ0FzQixPQUFPLENBQUNDLEdBQVIsQ0FBWTJDLGVBQVosRUFGRSxDQUdGOztJQUVBLE1BQU1DLGNBQWMsR0FBRyxNQUFNdkUsaUJBQWlCLENBQUN3RSxNQUFsQixDQUMzQjtNQUFFcEUsUUFBUSxFQUFFa0U7SUFBWixDQUQyQixFQUUzQjtNQUFFN0IsRUFBRSxFQUFFZ0IsT0FBTyxDQUFDaEI7SUFBZCxDQUYyQixDQUE3QjtJQUlBLE9BQU85QixHQUFHLENBQUN3RCxJQUFKLENBQVM7TUFBRUMsT0FBTyxFQUFFO0lBQVgsQ0FBVCxDQUFQO0VBQ0QsQ0FWRCxDQVVFLE9BQU92QyxLQUFQLEVBQWM7SUFDZDtJQUNBLE1BQU1BLEtBQU47RUFDRDtBQUNGLENBdEJEOztBQXdCQTRDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmakUsZUFEZTtFQUVmNEIsWUFGZTtFQUdmZSx1QkFIZTtFQUlmdEIsUUFKZTtFQUtmd0IsVUFMZTtFQU1mUSxTQU5lO0VBT2ZPO0FBUGUsQ0FBakIifQ==","map":{"version":3,"names":["require","config","bcrypt","jwt","httpStatus","ApiError","membersRepository","nodemailer","response","hashPassword","password","salt","genSalt","hashedPass","hash","createNewMember","req","res","member","body","memberExisted","getMemberByEmail","email","BAD_REQUEST","hashPass","newMember","fullname","avatar","verified_code","Math","floor","random","console","log","sendMail","error","veriCode","memberEmail","getCode","getCodeByEmail","UNAUTHORIZED","icode","updateStatus","genAuthToken","user","userObj","sub","id","token","sign","process","env","ACCESS_TOKEN_SECRET","expiresIn","comparePassword","candidatePassword","match","compare","signInWithEmailPassword","getMemberByEmailActive","forgotPass","data","NOT_FOUND","oldUser","start","Date","now","link","resetPass","params","getMemberById","millis","status","json","message","setNewPassword","newHashPassword","updatePassword","update","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/","sources":["auth.service.js"],"sourcesContent":["require(\"dotenv\").config();\nconst bcrypt = require(\"bcrypt\");\nconst jwt = require(\"jsonwebtoken\");\nconst httpStatus = require(\"http-status\");\nconst { ApiError } = require(\"../middleware/apiError\");\nconst membersRepository = require(\"../repository/members.repository\");\nvar nodemailer = require(\"nodemailer\");\nconst { response } = require(\"express\");\n\nconst hashPassword = async (password) => {\n  const salt = await bcrypt.genSalt(10);\n  const hashedPass = await bcrypt.hash(password, salt);\n  return hashedPass;\n};\n\nconst createNewMember = async (req, res) => {\n  try {\n    const member = req.body;\n    const memberExisted = await membersRepository.getMemberByEmail(\n      member.email\n    );\n    if (memberExisted) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Email already taken\");\n    }\n    const hashPass = await hashPassword(member.password);\n\n    const newMember = await membersRepository.createNewMember({\n      email: member.email,\n      fullname: member.fullname,\n      password: hashPass,\n      avatar: null,\n      verified_code: Math.floor(1000 + Math.random() * 9000),\n    });\n\n    console.log(newMember);\n    if (!newMember) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Register fail\");\n    }\n    //send email verify cho nguoi dung\n    //Phai bat less secure app\n    await membersRepository.sendMail(\n      newMember.email,\n      \"Code to verify account\",\n      \"your verify code is: \" + newMember.verified_code\n    );\n    return newMember;\n  } catch (error) {\n    throw error;\n  }\n};\nconst veriCode = async (req, res) => {\n  try {\n    const memberEmail = req.body.email;\n    console.log(memberEmail);\n    let getCode = await membersRepository.getCodeByEmail(memberEmail);\n    console.log(getCode.verified_code);\n    if (!(getCode.verified_code == req.body.verified_code)) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"Invalid code\");\n    }\n    const icode = await membersRepository.updateStatus({ email: memberEmail });\n\n    return icode;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst genAuthToken = async (user) => {\n  const userObj = {\n    sub: user.id,\n    email: user.email,\n    id: user.id,\n  };\n  const token = jwt.sign(userObj, process.env.ACCESS_TOKEN_SECRET, {\n    expiresIn: \"1d\",\n  });\n  return token;\n};\nconst comparePassword = async (candidatePassword, hashPassword) => {\n  // candidate password = hash password\n\n  const match = await bcrypt.compare(candidatePassword, hashPassword);\n  return match;\n};\nconst signInWithEmailPassword = async (email, password) => {\n  try {\n    // check email\n    const member = await membersRepository.getMemberByEmailActive(email);\n    if (!member) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"Sorry Bad Email\");\n    }\n    if (!(await comparePassword(password, member.password))) {\n      throw new ApiError(\n        httpStatus.UNAUTHORIZED,\n        \"Ti khon hoc mt khu khng chnh xc\"\n      );\n    }\n    return member;\n  } catch (error) {\n    throw error;\n  }\n};\n\n//-----reset password------------------------\n\nconst forgotPass = async (data, res) => {\n  const email = data.email;\n  try {\n    if (!email) {\n      throw new ApiError(httpStatus.NOT_FOUND, \"Please enter your email\");\n    }\n    const oldUser = await membersRepository.getMemberByEmail(email);\n\n    if (!oldUser) {\n      throw new ApiError(httpStatus.NOT_FOUND, \"Ngi dng khng tn ti\");\n    }\n    // const secret = process.env.ACCESS_TOKEN_SECRET + oldUser.password;\n    // const token = jwt.sign({ email: oldUser.email, id: oldUser.id }, secret, {\n    //   expiresIn: \"5m\",\n    // });\n    const start = Date.now();\n    console.log(start);\n    const link = `127.0.0.1:5173/reset-password/${oldUser.id}/${start}`;\n\n    await membersRepository.sendMail(\n      oldUser.email,\n      \"Password reset\",\n      \"Reset Link expired in 5 minutes: \" + link\n    );\n    console.log(\"Link expired in 5 minutes: \" + link);\n\n    // res.json(\"pasword reset link send to your account\");\n  } catch (error) {\n    console.log(error);\n    throw error;\n  }\n};\n\nconst resetPass = async (req, res) => {\n  const { id, start } = req.params;\n  console.log(req.params);\n  const oldUser = await membersRepository.getMemberById(id);\n  if (!oldUser) {\n    throw new ApiError(httpStatus.NOT_FOUND, \"Ngi dng khng tn ti\");\n  }\n  try {\n    const millis = Date.now() - start;\n    if (Math.floor(millis / 1000) > 300) {\n      return res.status(400).json({ message: \"Link ht hn\" });\n    } else {\n      return res.json({ message: \"xc thc\" });\n    }\n  } catch (error) {\n    console.log(error);\n    throw new ApiError(httpStatus.UNAUTHORIZED, \"Link ht hn\");\n  }\n};\n\nconst setNewPassword = async (req, res) => {\n  const { id } = req.params;\n  const { password } = req.body;\n  console.log(password);\n  const oldUser = await membersRepository.getMemberById(id);\n  if (!oldUser) {\n    throw new ApiError(httpStatus.NOT_FOUND, \"Ngi dng khng tn ti\");\n  }\n  try {\n    const newHashPassword = await hashPassword(password);\n    console.log(newHashPassword);\n    //==============================update password=======================\n\n    const updatePassword = await membersRepository.update(\n      { password: newHashPassword },\n      { id: oldUser.id }\n    );\n    return res.json({ message: \"Thay i password thnh cng\" });\n  } catch (error) {\n    // console.log(error);\n    throw error;\n  }\n};\n\nmodule.exports = {\n  createNewMember,\n  genAuthToken,\n  signInWithEmailPassword,\n  veriCode,\n  forgotPass,\n  resetPass,\n  setNewPassword,\n};\n"],"mappings":"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"}},"mtime":1667231633845},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/middleware/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/middleware/apiError.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _httpStatus = _interopRequireDefault(require(\"http-status\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass ApiError extends Error {\n  constructor(statusCode, message) {\n    super();\n    this.statusCode = statusCode;\n    this.message = message;\n  }\n\n}\n\nconst handleError = (err, res) => {\n  const {\n    statusCode,\n    message\n  } = err;\n  res.status(statusCode).json({\n    status: \"error\",\n    statusCode,\n    message\n  });\n};\n\nconst convertToApiError = (err, req, res, next) => {\n  let error = err; // check nu ko c error\n\n  if (!(error instanceof ApiError)) {\n    const statusCode = error.statusCode || _httpStatus.default.BAD_REQUEST || _httpStatus.default.INTERNAL_SERVER_ERROR;\n    const message = error.message || _httpStatus.default[statusCode];\n    error = new ApiError(statusCode, message);\n  }\n\n  next(error);\n};\n\nmodule.exports = {\n  ApiError,\n  handleError,\n  convertToApiError\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBcGlFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJzdGF0dXNDb2RlIiwibWVzc2FnZSIsImhhbmRsZUVycm9yIiwiZXJyIiwicmVzIiwic3RhdHVzIiwianNvbiIsImNvbnZlcnRUb0FwaUVycm9yIiwicmVxIiwibmV4dCIsImVycm9yIiwiaHR0cFN0YXR1cyIsIkJBRF9SRVFVRVNUIiwiSU5URVJOQUxfU0VSVkVSX0VSUk9SIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9taWRkbGV3YXJlLyIsInNvdXJjZXMiOlsiYXBpRXJyb3IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGh0dHBTdGF0dXMgZnJvbSBcImh0dHAtc3RhdHVzXCI7XG5jbGFzcyBBcGlFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3Ioc3RhdHVzQ29kZSwgbWVzc2FnZSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB9XG59XG5cbmNvbnN0IGhhbmRsZUVycm9yID0gKGVyciwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgc3RhdHVzQ29kZSwgbWVzc2FnZSB9ID0gZXJyO1xuICByZXMuc3RhdHVzKHN0YXR1c0NvZGUpLmpzb24oe1xuICAgIHN0YXR1czogXCJlcnJvclwiLFxuICAgIHN0YXR1c0NvZGUsXG4gICAgbWVzc2FnZSxcbiAgfSk7XG59O1xuY29uc3QgY29udmVydFRvQXBpRXJyb3IgPSAoZXJyLCByZXEsIHJlcywgbmV4dCkgPT4ge1xuICBsZXQgZXJyb3IgPSBlcnI7XG4gIC8vIGNoZWNrIG7hur91IGtvIGPDsyBlcnJvclxuICBpZiAoIShlcnJvciBpbnN0YW5jZW9mIEFwaUVycm9yKSkge1xuICAgIGNvbnN0IHN0YXR1c0NvZGUgPVxuICAgICAgZXJyb3Iuc3RhdHVzQ29kZSB8fFxuICAgICAgaHR0cFN0YXR1cy5CQURfUkVRVUVTVCB8fFxuICAgICAgaHR0cFN0YXR1cy5JTlRFUk5BTF9TRVJWRVJfRVJST1I7XG4gICAgY29uc3QgbWVzc2FnZSA9IGVycm9yLm1lc3NhZ2UgfHwgaHR0cFN0YXR1c1tzdGF0dXNDb2RlXTtcbiAgICBlcnJvciA9IG5ldyBBcGlFcnJvcihzdGF0dXNDb2RlLCBtZXNzYWdlKTtcbiAgfVxuICBuZXh0KGVycm9yKTtcbn07XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgQXBpRXJyb3IsXG4gIGhhbmRsZUVycm9yLFxuICBjb252ZXJ0VG9BcGlFcnJvcixcbn07XG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7QUFDQSxNQUFNQSxRQUFOLFNBQXVCQyxLQUF2QixDQUE2QjtFQUMzQkMsV0FBVyxDQUFDQyxVQUFELEVBQWFDLE9BQWIsRUFBc0I7SUFDL0I7SUFDQSxLQUFLRCxVQUFMLEdBQWtCQSxVQUFsQjtJQUNBLEtBQUtDLE9BQUwsR0FBZUEsT0FBZjtFQUNEOztBQUwwQjs7QUFRN0IsTUFBTUMsV0FBVyxHQUFHLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjO0VBQ2hDLE1BQU07SUFBRUosVUFBRjtJQUFjQztFQUFkLElBQTBCRSxHQUFoQztFQUNBQyxHQUFHLENBQUNDLE1BQUosQ0FBV0wsVUFBWCxFQUF1Qk0sSUFBdkIsQ0FBNEI7SUFDMUJELE1BQU0sRUFBRSxPQURrQjtJQUUxQkwsVUFGMEI7SUFHMUJDO0VBSDBCLENBQTVCO0FBS0QsQ0FQRDs7QUFRQSxNQUFNTSxpQkFBaUIsR0FBRyxDQUFDSixHQUFELEVBQU1LLEdBQU4sRUFBV0osR0FBWCxFQUFnQkssSUFBaEIsS0FBeUI7RUFDakQsSUFBSUMsS0FBSyxHQUFHUCxHQUFaLENBRGlELENBRWpEOztFQUNBLElBQUksRUFBRU8sS0FBSyxZQUFZYixRQUFuQixDQUFKLEVBQWtDO0lBQ2hDLE1BQU1HLFVBQVUsR0FDZFUsS0FBSyxDQUFDVixVQUFOLElBQ0FXLG1CQUFBLENBQVdDLFdBRFgsSUFFQUQsbUJBQUEsQ0FBV0UscUJBSGI7SUFJQSxNQUFNWixPQUFPLEdBQUdTLEtBQUssQ0FBQ1QsT0FBTixJQUFpQlUsbUJBQUEsQ0FBV1gsVUFBWCxDQUFqQztJQUNBVSxLQUFLLEdBQUcsSUFBSWIsUUFBSixDQUFhRyxVQUFiLEVBQXlCQyxPQUF6QixDQUFSO0VBQ0Q7O0VBQ0RRLElBQUksQ0FBQ0MsS0FBRCxDQUFKO0FBQ0QsQ0FaRDs7QUFhQUksTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2ZsQixRQURlO0VBRWZLLFdBRmU7RUFHZks7QUFIZSxDQUFqQiJ9","map":{"version":3,"names":["ApiError","Error","constructor","statusCode","message","handleError","err","res","status","json","convertToApiError","req","next","error","httpStatus","BAD_REQUEST","INTERNAL_SERVER_ERROR","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/middleware/","sources":["apiError.js"],"sourcesContent":["import httpStatus from \"http-status\";\nclass ApiError extends Error {\n  constructor(statusCode, message) {\n    super();\n    this.statusCode = statusCode;\n    this.message = message;\n  }\n}\n\nconst handleError = (err, res) => {\n  const { statusCode, message } = err;\n  res.status(statusCode).json({\n    status: \"error\",\n    statusCode,\n    message,\n  });\n};\nconst convertToApiError = (err, req, res, next) => {\n  let error = err;\n  // check nu ko c error\n  if (!(error instanceof ApiError)) {\n    const statusCode =\n      error.statusCode ||\n      httpStatus.BAD_REQUEST ||\n      httpStatus.INTERNAL_SERVER_ERROR;\n    const message = error.message || httpStatus[statusCode];\n    error = new ApiError(statusCode, message);\n  }\n  next(error);\n};\nmodule.exports = {\n  ApiError,\n  handleError,\n  convertToApiError,\n};\n"],"mappings":";;AAAA;;;;AACA,MAAMA,QAAN,SAAuBC,KAAvB,CAA6B;EAC3BC,WAAW,CAACC,UAAD,EAAaC,OAAb,EAAsB;IAC/B;IACA,KAAKD,UAAL,GAAkBA,UAAlB;IACA,KAAKC,OAAL,GAAeA,OAAf;EACD;;AAL0B;;AAQ7B,MAAMC,WAAW,GAAG,CAACC,GAAD,EAAMC,GAAN,KAAc;EAChC,MAAM;IAAEJ,UAAF;IAAcC;EAAd,IAA0BE,GAAhC;EACAC,GAAG,CAACC,MAAJ,CAAWL,UAAX,EAAuBM,IAAvB,CAA4B;IAC1BD,MAAM,EAAE,OADkB;IAE1BL,UAF0B;IAG1BC;EAH0B,CAA5B;AAKD,CAPD;;AAQA,MAAMM,iBAAiB,GAAG,CAACJ,GAAD,EAAMK,GAAN,EAAWJ,GAAX,EAAgBK,IAAhB,KAAyB;EACjD,IAAIC,KAAK,GAAGP,GAAZ,CADiD,CAEjD;;EACA,IAAI,EAAEO,KAAK,YAAYb,QAAnB,CAAJ,EAAkC;IAChC,MAAMG,UAAU,GACdU,KAAK,CAACV,UAAN,IACAW,mBAAA,CAAWC,WADX,IAEAD,mBAAA,CAAWE,qBAHb;IAIA,MAAMZ,OAAO,GAAGS,KAAK,CAACT,OAAN,IAAiBU,mBAAA,CAAWX,UAAX,CAAjC;IACAU,KAAK,GAAG,IAAIb,QAAJ,CAAaG,UAAb,EAAyBC,OAAzB,CAAR;EACD;;EACDQ,IAAI,CAACC,KAAD,CAAJ;AACD,CAZD;;AAaAI,MAAM,CAACC,OAAP,GAAiB;EACflB,QADe;EAEfK,WAFe;EAGfK;AAHe,CAAjB"}},"mtime":1666279748619},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/members.repository.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _index = require(\"../models/index.js\");\n\nconst {\n  QueryTypes,\n  where\n} = require(\"sequelize\");\n\nconst db = require(\"../models\");\n\nrequire(\"dotenv\").config();\n\nconst Members = db.Members;\n\nconst findOne = async where => {\n  var _await$Members$findOn;\n\n  return (_await$Members$findOn = await Members.findOne({\n    where: where\n  })) === null || _await$Members$findOn === void 0 ? void 0 : _await$Members$findOn.dataValues;\n};\n\nconst createNewMember = async user => {\n  const member = await Members.create({\n    email: user.email,\n    fullname: user.fullname,\n    password: user.password,\n    verified_code: user.verified_code\n  });\n  return member === null || member === void 0 ? void 0 : member.dataValues;\n};\n\nconst getMemberByEmail = async email => {\n  var _await$Members$findOn2;\n\n  console.log(email);\n  return (_await$Members$findOn2 = await Members.findOne({\n    where: {\n      email: email\n    }\n  })) === null || _await$Members$findOn2 === void 0 ? void 0 : _await$Members$findOn2.dataValues;\n};\n\nconst getMemberByEmailActive = async email => {\n  var _await$Members$findOn3;\n\n  console.log(email);\n  return (_await$Members$findOn3 = await Members.findOne({\n    where: {\n      email: email,\n      status: \"Active\"\n    }\n  })) === null || _await$Members$findOn3 === void 0 ? void 0 : _await$Members$findOn3.dataValues;\n};\n\nconst getCodeByEmail = email => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const [results, metadata] = await _index.sequelize.query(`select verified_code from members where email = '${email}'`, {\n        type: QueryTypes.SELECT\n      });\n      console.log(results);\n      resolve(results);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nconst updateStatus = async where => {\n  return await Members.update({\n    status: \"Active\"\n  }, {\n    where: where\n  });\n};\n\nconst getMemberById = async memberID => {\n  var _await$Members$findOn4;\n\n  return (_await$Members$findOn4 = await Members.findOne({\n    where: {\n      id: memberID\n    }\n  })) === null || _await$Members$findOn4 === void 0 ? void 0 : _await$Members$findOn4.dataValues;\n};\n\nconst update = async (newObj, where) => {\n  await Members.update(newObj, {\n    where: where\n  });\n};\n\nconst showAllMember = async () => {\n  let memberList = [];\n  memberList = await Members.findAll({\n    raw: true\n  });\n  console.log(memberList);\n  return memberList;\n};\n\nconst sendMail = async (email, subject, text) => {\n  var nodemailer = require(\"nodemailer\");\n\n  var transporter = nodemailer.createTransport({\n    service: \"gmail\",\n    auth: {\n      user: process.env.MY_EMAIL,\n      pass: process.env.MY_PASSWORD\n    }\n  });\n  var mailOptions = {\n    from: process.env.MY_EMAIL,\n    to: email,\n    subject: subject,\n    text: text\n  };\n  transporter.sendMail(mailOptions, function (error, info) {\n    if (error) {\n      console.log(error);\n    } else {\n      console.log(\"Email sent: \" + info.response);\n    }\n  });\n}; // const updatePass = async (pass, where) => {\n//   console.log(where)\n//   await Members.update(pass, {\n//     where: where\n//   })\n// }\n\n\nconst updatePass = async (pass, where) => {\n  await Members.update(pass, {\n    where: where\n  });\n};\n\nmodule.exports = {\n  findOne,\n  createNewMember,\n  getMemberByEmail,\n  getMemberById,\n  update,\n  showAllMember,\n  updateStatus,\n  getCodeByEmail,\n  sendMail,\n  // updatePass\n  updatePass,\n  getMemberByEmailActive\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJRdWVyeVR5cGVzIiwid2hlcmUiLCJyZXF1aXJlIiwiZGIiLCJjb25maWciLCJNZW1iZXJzIiwiZmluZE9uZSIsImRhdGFWYWx1ZXMiLCJjcmVhdGVOZXdNZW1iZXIiLCJ1c2VyIiwibWVtYmVyIiwiY3JlYXRlIiwiZW1haWwiLCJmdWxsbmFtZSIsInBhc3N3b3JkIiwidmVyaWZpZWRfY29kZSIsImdldE1lbWJlckJ5RW1haWwiLCJjb25zb2xlIiwibG9nIiwiZ2V0TWVtYmVyQnlFbWFpbEFjdGl2ZSIsInN0YXR1cyIsImdldENvZGVCeUVtYWlsIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZXN1bHRzIiwibWV0YWRhdGEiLCJzZXF1ZWxpemUiLCJxdWVyeSIsInR5cGUiLCJTRUxFQ1QiLCJlcnJvciIsInVwZGF0ZVN0YXR1cyIsInVwZGF0ZSIsImdldE1lbWJlckJ5SWQiLCJtZW1iZXJJRCIsImlkIiwibmV3T2JqIiwic2hvd0FsbE1lbWJlciIsIm1lbWJlckxpc3QiLCJmaW5kQWxsIiwicmF3Iiwic2VuZE1haWwiLCJzdWJqZWN0IiwidGV4dCIsIm5vZGVtYWlsZXIiLCJ0cmFuc3BvcnRlciIsImNyZWF0ZVRyYW5zcG9ydCIsInNlcnZpY2UiLCJhdXRoIiwicHJvY2VzcyIsImVudiIsIk1ZX0VNQUlMIiwicGFzcyIsIk1ZX1BBU1NXT1JEIiwibWFpbE9wdGlvbnMiLCJmcm9tIiwidG8iLCJpbmZvIiwicmVzcG9uc2UiLCJ1cGRhdGVQYXNzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9yZXBvc2l0b3J5LyIsInNvdXJjZXMiOlsibWVtYmVycy5yZXBvc2l0b3J5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgUXVlcnlUeXBlcywgd2hlcmUgfSA9IHJlcXVpcmUoXCJzZXF1ZWxpemVcIik7XG5jb25zdCBkYiA9IHJlcXVpcmUoXCIuLi9tb2RlbHNcIik7XG5pbXBvcnQgeyBzZXF1ZWxpemUgfSBmcm9tIFwiLi4vbW9kZWxzL2luZGV4LmpzXCI7XG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xuXG5jb25zdCBNZW1iZXJzID0gZGIuTWVtYmVycztcbmNvbnN0IGZpbmRPbmUgPSBhc3luYyAod2hlcmUpID0+IHtcbiAgcmV0dXJuIChhd2FpdCBNZW1iZXJzLmZpbmRPbmUoeyB3aGVyZTogd2hlcmUgfSkpPy5kYXRhVmFsdWVzO1xufTtcbmNvbnN0IGNyZWF0ZU5ld01lbWJlciA9IGFzeW5jICh1c2VyKSA9PiB7XG4gIGNvbnN0IG1lbWJlciA9IGF3YWl0IE1lbWJlcnMuY3JlYXRlKHtcbiAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICBmdWxsbmFtZTogdXNlci5mdWxsbmFtZSxcbiAgICBwYXNzd29yZDogdXNlci5wYXNzd29yZCxcbiAgICB2ZXJpZmllZF9jb2RlOiB1c2VyLnZlcmlmaWVkX2NvZGUsXG4gIH0pO1xuICByZXR1cm4gbWVtYmVyPy5kYXRhVmFsdWVzO1xufTtcblxuY29uc3QgZ2V0TWVtYmVyQnlFbWFpbCA9IGFzeW5jIChlbWFpbCkgPT4ge1xuICBjb25zb2xlLmxvZyhlbWFpbCk7XG4gIHJldHVybiAoXG4gICAgYXdhaXQgTWVtYmVycy5maW5kT25lKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGVtYWlsOiBlbWFpbCxcbiAgICAgIH0sXG4gICAgfSlcbiAgKT8uZGF0YVZhbHVlcztcbn07XG5cbmNvbnN0IGdldE1lbWJlckJ5RW1haWxBY3RpdmUgPSBhc3luYyAoZW1haWwpID0+IHtcbiAgY29uc29sZS5sb2coZW1haWwpO1xuICByZXR1cm4gKFxuICAgIGF3YWl0IE1lbWJlcnMuZmluZE9uZSh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBlbWFpbDogZW1haWwsXG4gICAgICAgIHN0YXR1czogXCJBY3RpdmVcIixcbiAgICAgIH0sXG4gICAgfSlcbiAgKT8uZGF0YVZhbHVlcztcbn07XG5jb25zdCBnZXRDb2RlQnlFbWFpbCA9IChlbWFpbCkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBbcmVzdWx0cywgbWV0YWRhdGFdID0gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KFxuICAgICAgICBgc2VsZWN0IHZlcmlmaWVkX2NvZGUgZnJvbSBtZW1iZXJzIHdoZXJlIGVtYWlsID0gJyR7ZW1haWx9J2AsXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBRdWVyeVR5cGVzLlNFTEVDVCxcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIGNvbnNvbGUubG9nKHJlc3VsdHMpO1xuICAgICAgcmVzb2x2ZShyZXN1bHRzKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICB9XG4gIH0pO1xufTtcbmNvbnN0IHVwZGF0ZVN0YXR1cyA9IGFzeW5jICh3aGVyZSkgPT4ge1xuICByZXR1cm4gYXdhaXQgTWVtYmVycy51cGRhdGUoXG4gICAgeyBzdGF0dXM6IFwiQWN0aXZlXCIgfSxcbiAgICB7XG4gICAgICB3aGVyZTogd2hlcmUsXG4gICAgfVxuICApO1xufTtcblxuY29uc3QgZ2V0TWVtYmVyQnlJZCA9IGFzeW5jIChtZW1iZXJJRCkgPT4ge1xuICByZXR1cm4gKFxuICAgIGF3YWl0IE1lbWJlcnMuZmluZE9uZSh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBpZDogbWVtYmVySUQsXG4gICAgICB9LFxuICAgIH0pXG4gICk/LmRhdGFWYWx1ZXM7XG59O1xuY29uc3QgdXBkYXRlID0gYXN5bmMgKG5ld09iaiwgd2hlcmUpID0+IHtcbiAgYXdhaXQgTWVtYmVycy51cGRhdGUobmV3T2JqLCB7XG4gICAgd2hlcmU6IHdoZXJlLFxuICB9KTtcbn07XG5jb25zdCBzaG93QWxsTWVtYmVyID0gYXN5bmMgKCkgPT4ge1xuICBsZXQgbWVtYmVyTGlzdCA9IFtdO1xuICBtZW1iZXJMaXN0ID0gYXdhaXQgTWVtYmVycy5maW5kQWxsKHsgcmF3OiB0cnVlIH0pO1xuICBjb25zb2xlLmxvZyhtZW1iZXJMaXN0KTtcbiAgcmV0dXJuIG1lbWJlckxpc3Q7XG59O1xuXG5jb25zdCBzZW5kTWFpbCA9IGFzeW5jIChlbWFpbCwgc3ViamVjdCwgdGV4dCkgPT4ge1xuICB2YXIgbm9kZW1haWxlciA9IHJlcXVpcmUoXCJub2RlbWFpbGVyXCIpO1xuXG4gIHZhciB0cmFuc3BvcnRlciA9IG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHtcbiAgICBzZXJ2aWNlOiBcImdtYWlsXCIsXG4gICAgYXV0aDoge1xuICAgICAgdXNlcjogcHJvY2Vzcy5lbnYuTVlfRU1BSUwsXG4gICAgICBwYXNzOiBwcm9jZXNzLmVudi5NWV9QQVNTV09SRCxcbiAgICB9LFxuICB9KTtcblxuICB2YXIgbWFpbE9wdGlvbnMgPSB7XG4gICAgZnJvbTogcHJvY2Vzcy5lbnYuTVlfRU1BSUwsXG4gICAgdG86IGVtYWlsLFxuICAgIHN1YmplY3Q6IHN1YmplY3QsXG4gICAgdGV4dDogdGV4dCxcbiAgfTtcblxuICB0cmFuc3BvcnRlci5zZW5kTWFpbChtYWlsT3B0aW9ucywgZnVuY3Rpb24gKGVycm9yLCBpbmZvKSB7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiRW1haWwgc2VudDogXCIgKyBpbmZvLnJlc3BvbnNlKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLy8gY29uc3QgdXBkYXRlUGFzcyA9IGFzeW5jIChwYXNzLCB3aGVyZSkgPT4ge1xuLy8gICBjb25zb2xlLmxvZyh3aGVyZSlcbi8vICAgYXdhaXQgTWVtYmVycy51cGRhdGUocGFzcywge1xuLy8gICAgIHdoZXJlOiB3aGVyZVxuLy8gICB9KVxuLy8gfVxuY29uc3QgdXBkYXRlUGFzcyA9IGFzeW5jIChwYXNzLCB3aGVyZSkgPT4ge1xuICBhd2FpdCBNZW1iZXJzLnVwZGF0ZShwYXNzLCB7XG4gICAgd2hlcmU6IHdoZXJlLFxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBmaW5kT25lLFxuICBjcmVhdGVOZXdNZW1iZXIsXG4gIGdldE1lbWJlckJ5RW1haWwsXG4gIGdldE1lbWJlckJ5SWQsXG4gIHVwZGF0ZSxcbiAgc2hvd0FsbE1lbWJlcixcbiAgdXBkYXRlU3RhdHVzLFxuICBnZXRDb2RlQnlFbWFpbCxcbiAgc2VuZE1haWwsXG4gIC8vIHVwZGF0ZVBhc3NcbiAgdXBkYXRlUGFzcyxcbiAgZ2V0TWVtYmVyQnlFbWFpbEFjdGl2ZSxcbn07XG4iXSwibWFwcGluZ3MiOiI7O0FBRUE7O0FBRkEsTUFBTTtFQUFFQSxVQUFGO0VBQWNDO0FBQWQsSUFBd0JDLE9BQU8sQ0FBQyxXQUFELENBQXJDOztBQUNBLE1BQU1DLEVBQUUsR0FBR0QsT0FBTyxDQUFDLFdBQUQsQ0FBbEI7O0FBRUFBLE9BQU8sQ0FBQyxRQUFELENBQVAsQ0FBa0JFLE1BQWxCOztBQUVBLE1BQU1DLE9BQU8sR0FBR0YsRUFBRSxDQUFDRSxPQUFuQjs7QUFDQSxNQUFNQyxPQUFPLEdBQUcsTUFBT0wsS0FBUCxJQUFpQjtFQUFBOztFQUMvQixnQ0FBUSxNQUFNSSxPQUFPLENBQUNDLE9BQVIsQ0FBZ0I7SUFBRUwsS0FBSyxFQUFFQTtFQUFULENBQWhCLENBQWQsMERBQU8sc0JBQTJDTSxVQUFsRDtBQUNELENBRkQ7O0FBR0EsTUFBTUMsZUFBZSxHQUFHLE1BQU9DLElBQVAsSUFBZ0I7RUFDdEMsTUFBTUMsTUFBTSxHQUFHLE1BQU1MLE9BQU8sQ0FBQ00sTUFBUixDQUFlO0lBQ2xDQyxLQUFLLEVBQUVILElBQUksQ0FBQ0csS0FEc0I7SUFFbENDLFFBQVEsRUFBRUosSUFBSSxDQUFDSSxRQUZtQjtJQUdsQ0MsUUFBUSxFQUFFTCxJQUFJLENBQUNLLFFBSG1CO0lBSWxDQyxhQUFhLEVBQUVOLElBQUksQ0FBQ007RUFKYyxDQUFmLENBQXJCO0VBTUEsT0FBT0wsTUFB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","map":{"version":3,"names":["QueryTypes","where","require","db","config","Members","findOne","dataValues","createNewMember","user","member","create","email","fullname","password","verified_code","getMemberByEmail","console","log","getMemberByEmailActive","status","getCodeByEmail","Promise","resolve","reject","results","metadata","sequelize","query","type","SELECT","error","updateStatus","update","getMemberById","memberID","id","newObj","showAllMember","memberList","findAll","raw","sendMail","subject","text","nodemailer","transporter","createTransport","service","auth","process","env","MY_EMAIL","pass","MY_PASSWORD","mailOptions","from","to","info","response","updatePass","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/","sources":["members.repository.js"],"sourcesContent":["const { QueryTypes, where } = require(\"sequelize\");\nconst db = require(\"../models\");\nimport { sequelize } from \"../models/index.js\";\nrequire(\"dotenv\").config();\n\nconst Members = db.Members;\nconst findOne = async (where) => {\n  return (await Members.findOne({ where: where }))?.dataValues;\n};\nconst createNewMember = async (user) => {\n  const member = await Members.create({\n    email: user.email,\n    fullname: user.fullname,\n    password: user.password,\n    verified_code: user.verified_code,\n  });\n  return member?.dataValues;\n};\n\nconst getMemberByEmail = async (email) => {\n  console.log(email);\n  return (\n    await Members.findOne({\n      where: {\n        email: email,\n      },\n    })\n  )?.dataValues;\n};\n\nconst getMemberByEmailActive = async (email) => {\n  console.log(email);\n  return (\n    await Members.findOne({\n      where: {\n        email: email,\n        status: \"Active\",\n      },\n    })\n  )?.dataValues;\n};\nconst getCodeByEmail = (email) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const [results, metadata] = await sequelize.query(\n        `select verified_code from members where email = '${email}'`,\n        {\n          type: QueryTypes.SELECT,\n        }\n      );\n      console.log(results);\n      resolve(results);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\nconst updateStatus = async (where) => {\n  return await Members.update(\n    { status: \"Active\" },\n    {\n      where: where,\n    }\n  );\n};\n\nconst getMemberById = async (memberID) => {\n  return (\n    await Members.findOne({\n      where: {\n        id: memberID,\n      },\n    })\n  )?.dataValues;\n};\nconst update = async (newObj, where) => {\n  await Members.update(newObj, {\n    where: where,\n  });\n};\nconst showAllMember = async () => {\n  let memberList = [];\n  memberList = await Members.findAll({ raw: true });\n  console.log(memberList);\n  return memberList;\n};\n\nconst sendMail = async (email, subject, text) => {\n  var nodemailer = require(\"nodemailer\");\n\n  var transporter = nodemailer.createTransport({\n    service: \"gmail\",\n    auth: {\n      user: process.env.MY_EMAIL,\n      pass: process.env.MY_PASSWORD,\n    },\n  });\n\n  var mailOptions = {\n    from: process.env.MY_EMAIL,\n    to: email,\n    subject: subject,\n    text: text,\n  };\n\n  transporter.sendMail(mailOptions, function (error, info) {\n    if (error) {\n      console.log(error);\n    } else {\n      console.log(\"Email sent: \" + info.response);\n    }\n  });\n};\n\n// const updatePass = async (pass, where) => {\n//   console.log(where)\n//   await Members.update(pass, {\n//     where: where\n//   })\n// }\nconst updatePass = async (pass, where) => {\n  await Members.update(pass, {\n    where: where,\n  });\n};\n\nmodule.exports = {\n  findOne,\n  createNewMember,\n  getMemberByEmail,\n  getMemberById,\n  update,\n  showAllMember,\n  updateStatus,\n  getCodeByEmail,\n  sendMail,\n  // updatePass\n  updatePass,\n  getMemberByEmailActive,\n};\n"],"mappings":"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"}},"mtime":1667231633838},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/middleware/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/middleware/auth.middleware.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst httpStatus = require(\"http-status\");\n\nconst jwt = require(\"jsonwebtoken\");\n\nrequire(\"dotenv\").config();\n\nconst {\n  ApiError\n} = require(\"./apiError\");\n\nconst auth = async (req, res, next) => {\n  try {\n    var _req$header;\n\n    const token = (_req$header = req.header(\"Authorization\")) === null || _req$header === void 0 ? void 0 : _req$header.replace(\"Bearer \", \"\");\n\n    if (!token) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"INVALID TOKEN\");\n    }\n\n    const currentUser = jwt.verify(token, process.env.ACCESS_TOKEN_SECRET, (err, payload) => {\n      if (!err) {\n        return payload;\n      }\n\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"BAD REQUEST\");\n    });\n    req.currentUser = currentUser;\n    next();\n  } catch (error) {\n    next(error);\n  } finally {}\n};\n\nmodule.exports = auth;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwU3RhdHVzIiwicmVxdWlyZSIsImp3dCIsImNvbmZpZyIsIkFwaUVycm9yIiwiYXV0aCIsInJlcSIsInJlcyIsIm5leHQiLCJ0b2tlbiIsImhlYWRlciIsInJlcGxhY2UiLCJVTkFVVEhPUklaRUQiLCJjdXJyZW50VXNlciIsInZlcmlmeSIsInByb2Nlc3MiLCJlbnYiLCJBQ0NFU1NfVE9LRU5fU0VDUkVUIiwiZXJyIiwicGF5bG9hZCIsImVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9taWRkbGV3YXJlLyIsInNvdXJjZXMiOlsiYXV0aC5taWRkbGV3YXJlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGh0dHBTdGF0dXMgPSByZXF1aXJlKFwiaHR0cC1zdGF0dXNcIik7XG5jb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xucmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcbmNvbnN0IHsgQXBpRXJyb3IgfSA9IHJlcXVpcmUoXCIuL2FwaUVycm9yXCIpO1xuY29uc3QgYXV0aCA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHRva2VuID0gcmVxLmhlYWRlcihcIkF1dGhvcml6YXRpb25cIik/LnJlcGxhY2UoXCJCZWFyZXIgXCIsIFwiXCIpO1xuICAgIGlmICghdG9rZW4pIHtcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLlVOQVVUSE9SSVpFRCwgXCJJTlZBTElEIFRPS0VOXCIpO1xuICAgIH1cbiAgICBjb25zdCBjdXJyZW50VXNlciA9IGp3dC52ZXJpZnkoXG4gICAgICB0b2tlbixcbiAgICAgIHByb2Nlc3MuZW52LkFDQ0VTU19UT0tFTl9TRUNSRVQsXG4gICAgICAoZXJyLCBwYXlsb2FkKSA9PiB7XG4gICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKGh0dHBTdGF0dXMuVU5BVVRIT1JJWkVELCBcIkJBRCBSRVFVRVNUXCIpO1xuICAgICAgfVxuICAgICk7XG4gICAgcmVxLmN1cnJlbnRVc2VyID0gY3VycmVudFVzZXI7XG5cbiAgICBuZXh0KCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbmV4dChlcnJvcik7XG4gIH0gZmluYWxseSB7XG4gIH1cbn07XG5tb2R1bGUuZXhwb3J0cyA9IGF1dGg7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsVUFBVSxHQUFHQyxPQUFPLENBQUMsYUFBRCxDQUExQjs7QUFDQSxNQUFNQyxHQUFHLEdBQUdELE9BQU8sQ0FBQyxjQUFELENBQW5COztBQUNBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCRSxNQUFsQjs7QUFDQSxNQUFNO0VBQUVDO0FBQUYsSUFBZUgsT0FBTyxDQUFDLFlBQUQsQ0FBNUI7O0FBQ0EsTUFBTUksSUFBSSxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDckMsSUFBSTtJQUFBOztJQUNGLE1BQU1DLEtBQUssa0JBQUdILEdBQUcsQ0FBQ0ksTUFBSixDQUFXLGVBQVgsQ0FBSCxnREFBRyxZQUE2QkMsT0FBN0IsQ0FBcUMsU0FBckMsRUFBZ0QsRUFBaEQsQ0FBZDs7SUFDQSxJQUFJLENBQUNGLEtBQUwsRUFBWTtNQUNWLE1BQU0sSUFBSUwsUUFBSixDQUFhSixVQUFVLENBQUNZLFlBQXhCLEVBQXNDLGVBQXRDLENBQU47SUFDRDs7SUFDRCxNQUFNQyxXQUFXLEdBQUdYLEdBQUcsQ0FBQ1ksTUFBSixDQUNsQkwsS0FEa0IsRUFFbEJNLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxtQkFGTSxFQUdsQixDQUFDQyxHQUFELEVBQU1DLE9BQU4sS0FBa0I7TUFDaEIsSUFBSSxDQUFDRCxHQUFMLEVBQVU7UUFDUixPQUFPQyxPQUFQO01BQ0Q7O01BQ0QsTUFBTSxJQUFJZixRQUFKLENBQWFKLFVBQVUsQ0FBQ1ksWUFBeEIsRUFBc0MsYUFBdEMsQ0FBTjtJQUNELENBUmlCLENBQXBCO0lBVUFOLEdBQUcsQ0FBQ08sV0FBSixHQUFrQkEsV0FBbEI7SUFFQUwsSUFBSTtFQUNMLENBbEJELENBa0JFLE9BQU9ZLEtBQVAsRUFBYztJQUNkWixJQUFJLENBQUNZLEtBQUQsQ0FBSjtFQUNELENBcEJELFNBb0JVLENBQ1Q7QUFDRixDQXZCRDs7QUF3QkFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmpCLElBQWpCIn0=","map":{"version":3,"names":["httpStatus","require","jwt","config","ApiError","auth","req","res","next","token","header","replace","UNAUTHORIZED","currentUser","verify","process","env","ACCESS_TOKEN_SECRET","err","payload","error","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/middleware/","sources":["auth.middleware.js"],"sourcesContent":["const httpStatus = require(\"http-status\");\nconst jwt = require(\"jsonwebtoken\");\nrequire(\"dotenv\").config();\nconst { ApiError } = require(\"./apiError\");\nconst auth = async (req, res, next) => {\n  try {\n    const token = req.header(\"Authorization\")?.replace(\"Bearer \", \"\");\n    if (!token) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"INVALID TOKEN\");\n    }\n    const currentUser = jwt.verify(\n      token,\n      process.env.ACCESS_TOKEN_SECRET,\n      (err, payload) => {\n        if (!err) {\n          return payload;\n        }\n        throw new ApiError(httpStatus.UNAUTHORIZED, \"BAD REQUEST\");\n      }\n    );\n    req.currentUser = currentUser;\n\n    next();\n  } catch (error) {\n    next(error);\n  } finally {\n  }\n};\nmodule.exports = auth;\n"],"mappings":";;AAAA,MAAMA,UAAU,GAAGC,OAAO,CAAC,aAAD,CAA1B;;AACA,MAAMC,GAAG,GAAGD,OAAO,CAAC,cAAD,CAAnB;;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBE,MAAlB;;AACA,MAAM;EAAEC;AAAF,IAAeH,OAAO,CAAC,YAAD,CAA5B;;AACA,MAAMI,IAAI,GAAG,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EACrC,IAAI;IAAA;;IACF,MAAMC,KAAK,kBAAGH,GAAG,CAACI,MAAJ,CAAW,eAAX,CAAH,gDAAG,YAA6BC,OAA7B,CAAqC,SAArC,EAAgD,EAAhD,CAAd;;IACA,IAAI,CAACF,KAAL,EAAY;MACV,MAAM,IAAIL,QAAJ,CAAaJ,UAAU,CAACY,YAAxB,EAAsC,eAAtC,CAAN;IACD;;IACD,MAAMC,WAAW,GAAGX,GAAG,CAACY,MAAJ,CAClBL,KADkB,EAElBM,OAAO,CAACC,GAAR,CAAYC,mBAFM,EAGlB,CAACC,GAAD,EAAMC,OAAN,KAAkB;MAChB,IAAI,CAACD,GAAL,EAAU;QACR,OAAOC,OAAP;MACD;;MACD,MAAM,IAAIf,QAAJ,CAAaJ,UAAU,CAACY,YAAxB,EAAsC,aAAtC,CAAN;IACD,CARiB,CAApB;IAUAN,GAAG,CAACO,WAAJ,GAAkBA,WAAlB;IAEAL,IAAI;EACL,CAlBD,CAkBE,OAAOY,KAAP,EAAc;IACdZ,IAAI,CAACY,KAAD,CAAJ;EACD,CApBD,SAoBU,CACT;AACF,CAvBD;;AAwBAC,MAAM,CAACC,OAAP,GAAiBjB,IAAjB"}},"mtime":1666279748620},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/member.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\n\nconst auth = require(\"../middleware/auth.middleware\");\n\nconst memberController = require(\"../controller/member.controller\");\n\nconst router = express.Router();\nrouter.route(\"/profile\").get(auth, memberController.profile).patch(auth, memberController.updateProfile);\nrouter.get(\"/all\", memberController.getAllMember);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImF1dGgiLCJtZW1iZXJDb250cm9sbGVyIiwicm91dGVyIiwiUm91dGVyIiwicm91dGUiLCJnZXQiLCJwcm9maWxlIiwicGF0Y2giLCJ1cGRhdGVQcm9maWxlIiwiZ2V0QWxsTWVtYmVyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9yb3V0ZXMvIiwic291cmNlcyI6WyJtZW1iZXIucm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3QgYXV0aCA9IHJlcXVpcmUoXCIuLi9taWRkbGV3YXJlL2F1dGgubWlkZGxld2FyZVwiKTtcbmNvbnN0IG1lbWJlckNvbnRyb2xsZXIgPSByZXF1aXJlKFwiLi4vY29udHJvbGxlci9tZW1iZXIuY29udHJvbGxlclwiKTtcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5yb3V0ZXJcbiAgLnJvdXRlKFwiL3Byb2ZpbGVcIilcbiAgLmdldChhdXRoLCBtZW1iZXJDb250cm9sbGVyLnByb2ZpbGUpXG4gIC5wYXRjaChhdXRoLCBtZW1iZXJDb250cm9sbGVyLnVwZGF0ZVByb2ZpbGUpO1xucm91dGVyLmdldChcIi9hbGxcIiwgbWVtYmVyQ29udHJvbGxlci5nZXRBbGxNZW1iZXIpO1xubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQywrQkFBRCxDQUFwQjs7QUFDQSxNQUFNRSxnQkFBZ0IsR0FBR0YsT0FBTyxDQUFDLGlDQUFELENBQWhDOztBQUNBLE1BQU1HLE1BQU0sR0FBR0osT0FBTyxDQUFDSyxNQUFSLEVBQWY7QUFDQUQsTUFBTSxDQUNIRSxLQURILENBQ1MsVUFEVCxFQUVHQyxHQUZILENBRU9MLElBRlAsRUFFYUMsZ0JBQWdCLENBQUNLLE9BRjlCLEVBR0dDLEtBSEgsQ0FHU1AsSUFIVCxFQUdlQyxnQkFBZ0IsQ0FBQ08sYUFIaEM7QUFJQU4sTUFBTSxDQUFDRyxHQUFQLENBQVcsTUFBWCxFQUFtQkosZ0JBQWdCLENBQUNRLFlBQXBDO0FBQ0FDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlQsTUFBakIifQ==","map":{"version":3,"names":["express","require","auth","memberController","router","Router","route","get","profile","patch","updateProfile","getAllMember","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["member.route.js"],"sourcesContent":["const express = require(\"express\");\nconst auth = require(\"../middleware/auth.middleware\");\nconst memberController = require(\"../controller/member.controller\");\nconst router = express.Router();\nrouter\n  .route(\"/profile\")\n  .get(auth, memberController.profile)\n  .patch(auth, memberController.updateProfile);\nrouter.get(\"/all\", memberController.getAllMember);\nmodule.exports = router;\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,+BAAD,CAApB;;AACA,MAAME,gBAAgB,GAAGF,OAAO,CAAC,iCAAD,CAAhC;;AACA,MAAMG,MAAM,GAAGJ,OAAO,CAACK,MAAR,EAAf;AACAD,MAAM,CACHE,KADH,CACS,UADT,EAEGC,GAFH,CAEOL,IAFP,EAEaC,gBAAgB,CAACK,OAF9B,EAGGC,KAHH,CAGSP,IAHT,EAGeC,gBAAgB,CAACO,aAHhC;AAIAN,MAAM,CAACG,GAAP,CAAW,MAAX,EAAmBJ,gBAAgB,CAACQ,YAApC;AACAC,MAAM,CAACC,OAAP,GAAiBT,MAAjB"}},"mtime":1666279748633},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/member.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _index = require(\"../models/index\");\n\nconst httpStatus = require(\"http-status\");\n\nconst {\n  ApiError\n} = require(\"../middleware/apiError\");\n\nconst {\n  getMemberByEmail,\n  showAllMember\n} = require(\"../repository/members.repository\");\n\nconst {\n  updateMemberProfile\n} = require(\"../service/member.service\");\n\nconst memberController = {\n  async profile(req, res, next) {\n    try {\n      const member = await getMemberByEmail(req.currentUser.email);\n\n      if (!member) {\n        throw new ApiError(httpStatus.NOT_FOUND, \"Member Not Found\");\n      }\n\n      return res.json(member);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async updateProfile(req, res, next) {\n    try {\n      const updatedMember = await updateMemberProfile(req);\n      return res.json(updatedMember);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async getAllMember(req, res) {\n    try {\n      const allMember = await showAllMember();\n\n      if (!allMember) {\n        throw new ApiError(\"Member khong ton tai\");\n      }\n\n      return res.send(allMember);\n    } catch (error) {}\n  }\n\n};\nmodule.exports = memberController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwU3RhdHVzIiwicmVxdWlyZSIsIkFwaUVycm9yIiwiZ2V0TWVtYmVyQnlFbWFpbCIsInNob3dBbGxNZW1iZXIiLCJ1cGRhdGVNZW1iZXJQcm9maWxlIiwibWVtYmVyQ29udHJvbGxlciIsInByb2ZpbGUiLCJyZXEiLCJyZXMiLCJuZXh0IiwibWVtYmVyIiwiY3VycmVudFVzZXIiLCJlbWFpbCIsIk5PVF9GT1VORCIsImpzb24iLCJlcnJvciIsInVwZGF0ZVByb2ZpbGUiLCJ1cGRhdGVkTWVtYmVyIiwiZ2V0QWxsTWVtYmVyIiwiYWxsTWVtYmVyIiwic2VuZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvY29udHJvbGxlci8iLCJzb3VyY2VzIjpbIm1lbWJlci5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGh0dHBTdGF0dXMgPSByZXF1aXJlKFwiaHR0cC1zdGF0dXNcIik7XG5jb25zdCB7IEFwaUVycm9yIH0gPSByZXF1aXJlKFwiLi4vbWlkZGxld2FyZS9hcGlFcnJvclwiKTtcbmltcG9ydCB7IHNlcXVlbGl6ZSB9IGZyb20gXCIuLi9tb2RlbHMvaW5kZXhcIjtcbmNvbnN0IHtcbiAgZ2V0TWVtYmVyQnlFbWFpbCxcbiAgc2hvd0FsbE1lbWJlcixcbn0gPSByZXF1aXJlKFwiLi4vcmVwb3NpdG9yeS9tZW1iZXJzLnJlcG9zaXRvcnlcIik7XG5jb25zdCB7IHVwZGF0ZU1lbWJlclByb2ZpbGUgfSA9IHJlcXVpcmUoXCIuLi9zZXJ2aWNlL21lbWJlci5zZXJ2aWNlXCIpO1xuY29uc3QgbWVtYmVyQ29udHJvbGxlciA9IHtcbiAgYXN5bmMgcHJvZmlsZShyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBtZW1iZXIgPSBhd2FpdCBnZXRNZW1iZXJCeUVtYWlsKHJlcS5jdXJyZW50VXNlci5lbWFpbCk7XG5cbiAgICAgIGlmICghbWVtYmVyKSB7XG4gICAgICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLk5PVF9GT1VORCwgXCJNZW1iZXIgTm90IEZvdW5kXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcy5qc29uKG1lbWJlcik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG5leHQoZXJyb3IpO1xuICAgIH1cbiAgfSxcbiAgYXN5bmMgdXBkYXRlUHJvZmlsZShyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cGRhdGVkTWVtYmVyID0gYXdhaXQgdXBkYXRlTWVtYmVyUHJvZmlsZShyZXEpO1xuICAgICAgcmV0dXJuIHJlcy5qc29uKHVwZGF0ZWRNZW1iZXIpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBuZXh0KGVycm9yKTtcbiAgICB9XG4gIH0sXG4gIGFzeW5jIGdldEFsbE1lbWJlcihyZXEsIHJlcykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhbGxNZW1iZXIgPSBhd2FpdCBzaG93QWxsTWVtYmVyKCk7XG4gICAgICBpZiAoIWFsbE1lbWJlcikge1xuICAgICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoXCJNZW1iZXIga2hvbmcgdG9uIHRhaVwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXMuc2VuZChhbGxNZW1iZXIpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxuICB9LFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBtZW1iZXJDb250cm9sbGVyO1xuIl0sIm1hcHBpbmdzIjoiOztBQUVBOztBQUZBLE1BQU1BLFVBQVUsR0FBR0MsT0FBTyxDQUFDLGFBQUQsQ0FBMUI7O0FBQ0EsTUFBTTtFQUFFQztBQUFGLElBQWVELE9BQU8sQ0FBQyx3QkFBRCxDQUE1Qjs7QUFFQSxNQUFNO0VBQ0pFLGdCQURJO0VBRUpDO0FBRkksSUFHRkgsT0FBTyxDQUFDLGtDQUFELENBSFg7O0FBSUEsTUFBTTtFQUFFSTtBQUFGLElBQTBCSixPQUFPLENBQUMsMkJBQUQsQ0FBdkM7O0FBQ0EsTUFBTUssZ0JBQWdCLEdBQUc7RUFDdkIsTUFBTUMsT0FBTixDQUFjQyxHQUFkLEVBQW1CQyxHQUFuQixFQUF3QkMsSUFBeEIsRUFBOEI7SUFDNUIsSUFBSTtNQUNGLE1BQU1DLE1BQU0sR0FBRyxNQUFNUixnQkFBZ0IsQ0FBQ0ssR0FBRyxDQUFDSSxXQUFKLENBQWdCQyxLQUFqQixDQUFyQzs7TUFFQSxJQUFJLENBQUNGLE1BQUwsRUFBYTtRQUNYLE1BQU0sSUFBSVQsUUFBSixDQUFhRixVQUFVLENBQUNjLFNBQXhCLEVBQW1DLGtCQUFuQyxDQUFOO01BQ0Q7O01BQ0QsT0FBT0wsR0FBRyxDQUFDTSxJQUFKLENBQVNKLE1BQVQsQ0FBUDtJQUNELENBUEQsQ0FPRSxPQUFPSyxLQUFQLEVBQWM7TUFDZE4sSUFBSSxDQUFDTSxLQUFELENBQUo7SUFDRDtFQUNGLENBWnNCOztFQWF2QixNQUFNQyxhQUFOLENBQW9CVCxHQUFwQixFQUF5QkMsR0FBekIsRUFBOEJDLElBQTlCLEVBQW9DO0lBQ2xDLElBQUk7TUFDRixNQUFNUSxhQUFhLEdBQUcsTUFBTWIsbUJBQW1CLENBQUNHLEdBQUQsQ0FBL0M7TUFDQSxPQUFPQyxHQUFHLENBQUNNLElBQUosQ0FBU0csYUFBVCxDQUFQO0lBQ0QsQ0FIRCxDQUdFLE9BQU9GLEtBQVAsRUFBYztNQUNkTixJQUFJLENBQUNNLEtBQUQsQ0FBSjtJQUNEO0VBQ0YsQ0FwQnNCOztFQXFCdkIsTUFBTUcsWUFBTixDQUFtQlgsR0FBbkIsRUFBd0JDLEdBQXhCLEVBQTZCO0lBQzNCLElBQUk7TUFDRixNQUFNVyxTQUFTLEdBQUcsTUFBTWhCLGFBQWEsRUFBckM7O01BQ0EsSUFBSSxDQUFDZ0IsU0FBTCxFQUFnQjtRQUNkLE1BQU0sSUFBSWxCLFFBQUosQ0FBYSxzQkFBYixDQUFOO01BQ0Q7O01BQ0QsT0FBT08sR0FBRyxDQUFDWSxJQUFKLENBQVNELFNBQVQsQ0FBUDtJQUNELENBTkQsQ0FNRSxPQUFPSixLQUFQLEVBQWMsQ0FBRTtFQUNuQjs7QUE3QnNCLENBQXpCO0FBZ0NBTSxNQUFNLENBQUNDLE9BQVAsR0FBaUJqQixnQkFBakIifQ==","map":{"version":3,"names":["httpStatus","require","ApiError","getMemberByEmail","showAllMember","updateMemberProfile","memberController","profile","req","res","next","member","currentUser","email","NOT_FOUND","json","error","updateProfile","updatedMember","getAllMember","allMember","send","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/","sources":["member.controller.js"],"sourcesContent":["const httpStatus = require(\"http-status\");\nconst { ApiError } = require(\"../middleware/apiError\");\nimport { sequelize } from \"../models/index\";\nconst {\n  getMemberByEmail,\n  showAllMember,\n} = require(\"../repository/members.repository\");\nconst { updateMemberProfile } = require(\"../service/member.service\");\nconst memberController = {\n  async profile(req, res, next) {\n    try {\n      const member = await getMemberByEmail(req.currentUser.email);\n\n      if (!member) {\n        throw new ApiError(httpStatus.NOT_FOUND, \"Member Not Found\");\n      }\n      return res.json(member);\n    } catch (error) {\n      next(error);\n    }\n  },\n  async updateProfile(req, res, next) {\n    try {\n      const updatedMember = await updateMemberProfile(req);\n      return res.json(updatedMember);\n    } catch (error) {\n      next(error);\n    }\n  },\n  async getAllMember(req, res) {\n    try {\n      const allMember = await showAllMember();\n      if (!allMember) {\n        throw new ApiError(\"Member khong ton tai\");\n      }\n      return res.send(allMember);\n    } catch (error) {}\n  },\n};\n\nmodule.exports = memberController;\n"],"mappings":";;AAEA;;AAFA,MAAMA,UAAU,GAAGC,OAAO,CAAC,aAAD,CAA1B;;AACA,MAAM;EAAEC;AAAF,IAAeD,OAAO,CAAC,wBAAD,CAA5B;;AAEA,MAAM;EACJE,gBADI;EAEJC;AAFI,IAGFH,OAAO,CAAC,kCAAD,CAHX;;AAIA,MAAM;EAAEI;AAAF,IAA0BJ,OAAO,CAAC,2BAAD,CAAvC;;AACA,MAAMK,gBAAgB,GAAG;EACvB,MAAMC,OAAN,CAAcC,GAAd,EAAmBC,GAAnB,EAAwBC,IAAxB,EAA8B;IAC5B,IAAI;MACF,MAAMC,MAAM,GAAG,MAAMR,gBAAgB,CAACK,GAAG,CAACI,WAAJ,CAAgBC,KAAjB,CAArC;;MAEA,IAAI,CAACF,MAAL,EAAa;QACX,MAAM,IAAIT,QAAJ,CAAaF,UAAU,CAACc,SAAxB,EAAmC,kBAAnC,CAAN;MACD;;MACD,OAAOL,GAAG,CAACM,IAAJ,CAASJ,MAAT,CAAP;IACD,CAPD,CAOE,OAAOK,KAAP,EAAc;MACdN,IAAI,CAACM,KAAD,CAAJ;IACD;EACF,CAZsB;;EAavB,MAAMC,aAAN,CAAoBT,GAApB,EAAyBC,GAAzB,EAA8BC,IAA9B,EAAoC;IAClC,IAAI;MACF,MAAMQ,aAAa,GAAG,MAAMb,mBAAmB,CAACG,GAAD,CAA/C;MACA,OAAOC,GAAG,CAACM,IAAJ,CAASG,aAAT,CAAP;IACD,CAHD,CAGE,OAAOF,KAAP,EAAc;MACdN,IAAI,CAACM,KAAD,CAAJ;IACD;EACF,CApBsB;;EAqBvB,MAAMG,YAAN,CAAmBX,GAAnB,EAAwBC,GAAxB,EAA6B;IAC3B,IAAI;MACF,MAAMW,SAAS,GAAG,MAAMhB,aAAa,EAArC;;MACA,IAAI,CAACgB,SAAL,EAAgB;QACd,MAAM,IAAIlB,QAAJ,CAAa,sBAAb,CAAN;MACD;;MACD,OAAOO,GAAG,CAACY,IAAJ,CAASD,SAAT,CAAP;IACD,CAND,CAME,OAAOJ,KAAP,EAAc,CAAE;EACnB;;AA7BsB,CAAzB;AAgCAM,MAAM,CAACC,OAAP,GAAiBjB,gBAAjB"}},"mtime":1667231633832},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/member.service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  update,\n  getMemberById\n} = require(\"../repository/members.repository\");\n\nrequire(\"dotenv\").config();\n\nconst updateMemberProfile = async req => {\n  try {\n    await update(req.body, {\n      id: req.currentUser.id\n    });\n    const member = await getMemberById(req.currentUser.id);\n    return member;\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  updateMemberProfile\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1cGRhdGUiLCJnZXRNZW1iZXJCeUlkIiwicmVxdWlyZSIsImNvbmZpZyIsInVwZGF0ZU1lbWJlclByb2ZpbGUiLCJyZXEiLCJib2R5IiwiaWQiLCJjdXJyZW50VXNlciIsIm1lbWJlciIsImVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9zZXJ2aWNlLyIsInNvdXJjZXMiOlsibWVtYmVyLnNlcnZpY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyB1cGRhdGUsIGdldE1lbWJlckJ5SWQgfSA9IHJlcXVpcmUoXCIuLi9yZXBvc2l0b3J5L21lbWJlcnMucmVwb3NpdG9yeVwiKTtcbnJlcXVpcmUoXCJkb3RlbnZcIikuY29uZmlnKCk7XG5cbmNvbnN0IHVwZGF0ZU1lbWJlclByb2ZpbGUgPSBhc3luYyAocmVxKSA9PiB7XG4gIHRyeSB7XG4gICAgYXdhaXQgdXBkYXRlKHJlcS5ib2R5LCB7IGlkOiByZXEuY3VycmVudFVzZXIuaWQgfSk7XG4gICAgY29uc3QgbWVtYmVyID0gYXdhaXQgZ2V0TWVtYmVyQnlJZChyZXEuY3VycmVudFVzZXIuaWQpO1xuICAgIHJldHVybiBtZW1iZXI7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgdXBkYXRlTWVtYmVyUHJvZmlsZSxcbn07XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTTtFQUFFQSxNQUFGO0VBQVVDO0FBQVYsSUFBNEJDLE9BQU8sQ0FBQyxrQ0FBRCxDQUF6Qzs7QUFDQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEI7O0FBRUEsTUFBTUMsbUJBQW1CLEdBQUcsTUFBT0MsR0FBUCxJQUFlO0VBQ3pDLElBQUk7SUFDRixNQUFNTCxNQUFNLENBQUNLLEdBQUcsQ0FBQ0MsSUFBTCxFQUFXO01BQUVDLEVBQUUsRUFBRUYsR0FBRyxDQUFDRyxXQUFKLENBQWdCRDtJQUF0QixDQUFYLENBQVo7SUFDQSxNQUFNRSxNQUFNLEdBQUcsTUFBTVIsYUFBYSxDQUFDSSxHQUFHLENBQUNHLFdBQUosQ0FBZ0JELEVBQWpCLENBQWxDO0lBQ0EsT0FBT0UsTUFBUDtFQUNELENBSkQsQ0FJRSxPQUFPQyxLQUFQLEVBQWM7SUFDZCxNQUFNQSxLQUFOO0VBQ0Q7QUFDRixDQVJEOztBQVNBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7RUFDZlI7QUFEZSxDQUFqQiJ9","map":{"version":3,"names":["update","getMemberById","require","config","updateMemberProfile","req","body","id","currentUser","member","error","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/","sources":["member.service.js"],"sourcesContent":["const { update, getMemberById } = require(\"../repository/members.repository\");\nrequire(\"dotenv\").config();\n\nconst updateMemberProfile = async (req) => {\n  try {\n    await update(req.body, { id: req.currentUser.id });\n    const member = await getMemberById(req.currentUser.id);\n    return member;\n  } catch (error) {\n    throw error;\n  }\n};\nmodule.exports = {\n  updateMemberProfile,\n};\n"],"mappings":";;AAAA,MAAM;EAAEA,MAAF;EAAUC;AAAV,IAA4BC,OAAO,CAAC,kCAAD,CAAzC;;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEA,MAAMC,mBAAmB,GAAG,MAAOC,GAAP,IAAe;EACzC,IAAI;IACF,MAAML,MAAM,CAACK,GAAG,CAACC,IAAL,EAAW;MAAEC,EAAE,EAAEF,GAAG,CAACG,WAAJ,CAAgBD;IAAtB,CAAX,CAAZ;IACA,MAAME,MAAM,GAAG,MAAMR,aAAa,CAACI,GAAG,CAACG,WAAJ,CAAgBD,EAAjB,CAAlC;IACA,OAAOE,MAAP;EACD,CAJD,CAIE,OAAOC,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CARD;;AASAC,MAAM,CAACC,OAAP,GAAiB;EACfR;AADe,CAAjB"}},"mtime":1666279748641},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/staff.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\n\nconst auth = require(\"../middleware/auth.middleware\");\n\nconst staffController = require(\"../controller/staff.controller\");\n\nconst router = express.Router();\nrouter.get(\"/profile\", auth, staffController.profile);\nrouter.patch(\"/profile\", auth, staffController.updateProfile);\nrouter.get(\"/all\", staffController.getAllStaff);\nrouter.get(\"/all-interviewers\", staffController.handleGetAllInterviewers);\nrouter.patch(\"/delete/:id\", staffController.deleteStaff); //   .get(auth, memberController.profile)\n//   .patch(auth, memberController.updateProfile);\n// router.get(\"/all\", memberController.getAllMember);\n\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImF1dGgiLCJzdGFmZkNvbnRyb2xsZXIiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJnZXQiLCJwcm9maWxlIiwicGF0Y2giLCJ1cGRhdGVQcm9maWxlIiwiZ2V0QWxsU3RhZmYiLCJoYW5kbGVHZXRBbGxJbnRlcnZpZXdlcnMiLCJkZWxldGVTdGFmZiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsic3RhZmYucm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3QgYXV0aCA9IHJlcXVpcmUoXCIuLi9taWRkbGV3YXJlL2F1dGgubWlkZGxld2FyZVwiKTtcbmNvbnN0IHN0YWZmQ29udHJvbGxlciA9IHJlcXVpcmUoXCIuLi9jb250cm9sbGVyL3N0YWZmLmNvbnRyb2xsZXJcIik7XG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIuZ2V0KFwiL3Byb2ZpbGVcIiwgYXV0aCwgc3RhZmZDb250cm9sbGVyLnByb2ZpbGUpO1xucm91dGVyLnBhdGNoKFwiL3Byb2ZpbGVcIiwgYXV0aCwgc3RhZmZDb250cm9sbGVyLnVwZGF0ZVByb2ZpbGUpO1xucm91dGVyLmdldChcIi9hbGxcIiwgc3RhZmZDb250cm9sbGVyLmdldEFsbFN0YWZmKTtcbnJvdXRlci5nZXQoXCIvYWxsLWludGVydmlld2Vyc1wiLCBzdGFmZkNvbnRyb2xsZXIuaGFuZGxlR2V0QWxsSW50ZXJ2aWV3ZXJzKTtcbnJvdXRlci5wYXRjaChcIi9kZWxldGUvOmlkXCIsIHN0YWZmQ29udHJvbGxlci5kZWxldGVTdGFmZik7XG5cbi8vICAgLmdldChhdXRoLCBtZW1iZXJDb250cm9sbGVyLnByb2ZpbGUpXG4vLyAgIC5wYXRjaChhdXRoLCBtZW1iZXJDb250cm9sbGVyLnVwZGF0ZVByb2ZpbGUpO1xuLy8gcm91dGVyLmdldChcIi9hbGxcIiwgbWVtYmVyQ29udHJvbGxlci5nZXRBbGxNZW1iZXIpO1xubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQywrQkFBRCxDQUFwQjs7QUFDQSxNQUFNRSxlQUFlLEdBQUdGLE9BQU8sQ0FBQyxnQ0FBRCxDQUEvQjs7QUFDQSxNQUFNRyxNQUFNLEdBQUdKLE9BQU8sQ0FBQ0ssTUFBUixFQUFmO0FBRUFELE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLFVBQVgsRUFBdUJKLElBQXZCLEVBQTZCQyxlQUFlLENBQUNJLE9BQTdDO0FBQ0FILE1BQU0sQ0FBQ0ksS0FBUCxDQUFhLFVBQWIsRUFBeUJOLElBQXpCLEVBQStCQyxlQUFlLENBQUNNLGFBQS9DO0FBQ0FMLE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLE1BQVgsRUFBbUJILGVBQWUsQ0FBQ08sV0FBbkM7QUFDQU4sTUFBTSxDQUFDRSxHQUFQLENBQVcsbUJBQVgsRUFBZ0NILGVBQWUsQ0FBQ1Esd0JBQWhEO0FBQ0FQLE1BQU0sQ0FBQ0ksS0FBUCxDQUFhLGFBQWIsRUFBNEJMLGVBQWUsQ0FBQ1MsV0FBNUMsRSxDQUVBO0FBQ0E7QUFDQTs7QUFDQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCVixNQUFqQiJ9","map":{"version":3,"names":["express","require","auth","staffController","router","Router","get","profile","patch","updateProfile","getAllStaff","handleGetAllInterviewers","deleteStaff","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["staff.route.js"],"sourcesContent":["const express = require(\"express\");\nconst auth = require(\"../middleware/auth.middleware\");\nconst staffController = require(\"../controller/staff.controller\");\nconst router = express.Router();\n\nrouter.get(\"/profile\", auth, staffController.profile);\nrouter.patch(\"/profile\", auth, staffController.updateProfile);\nrouter.get(\"/all\", staffController.getAllStaff);\nrouter.get(\"/all-interviewers\", staffController.handleGetAllInterviewers);\nrouter.patch(\"/delete/:id\", staffController.deleteStaff);\n\n//   .get(auth, memberController.profile)\n//   .patch(auth, memberController.updateProfile);\n// router.get(\"/all\", memberController.getAllMember);\nmodule.exports = router;\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,+BAAD,CAApB;;AACA,MAAME,eAAe,GAAGF,OAAO,CAAC,gCAAD,CAA/B;;AACA,MAAMG,MAAM,GAAGJ,OAAO,CAACK,MAAR,EAAf;AAEAD,MAAM,CAACE,GAAP,CAAW,UAAX,EAAuBJ,IAAvB,EAA6BC,eAAe,CAACI,OAA7C;AACAH,MAAM,CAACI,KAAP,CAAa,UAAb,EAAyBN,IAAzB,EAA+BC,eAAe,CAACM,aAA/C;AACAL,MAAM,CAACE,GAAP,CAAW,MAAX,EAAmBH,eAAe,CAACO,WAAnC;AACAN,MAAM,CAACE,GAAP,CAAW,mBAAX,EAAgCH,eAAe,CAACQ,wBAAhD;AACAP,MAAM,CAACI,KAAP,CAAa,aAAb,EAA4BL,eAAe,CAACS,WAA5C,E,CAEA;AACA;AACA;;AACAC,MAAM,CAACC,OAAP,GAAiBV,MAAjB"}},"mtime":1667231633844},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/staff.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _apiError = require(\"../middleware/apiError\");\n\nvar _staffs = require(\"../repository/staffs.repository\");\n\nvar _staff = require(\"../service/staff.service\");\n\nconst httpStatus = require(\"http-status\");\n\nconst staffController = {\n  // #TODO: xiu nua authen roi chinh parameter o getStaffByEmail()\n  async updateProfile(req, res, next) {\n    try {\n      const updatedStaff = await (0, _staff.updateStaffProfile)(req);\n      return res.json(updatedStaff);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async profile(req, res, next) {\n    try {\n      const staff = await (0, _staffs.getStaffByEmail)(req.currentUser.email);\n\n      if (!staff) {\n        throw new _apiError.ApiError(httpStatus.NOT_FOUND, \"Staff Not Found\");\n      }\n\n      return res.json(staff);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async getAllStaff(req, res) {\n    try {\n      const allStaff = await (0, _staffs.showAllStaff)();\n\n      if (!allStaff) {\n        throw new _apiError.ApiError(\"Staff khong ton tai\");\n      }\n\n      return res.json(allStaff);\n    } catch (error) {}\n  },\n\n  async handleGetAllInterviewers(req, res, error) {\n    try {\n      const allInterviewers = await (0, _staffs.getAllInterviewers)();\n      return res.json(allInterviewers);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async deleteStaff(req, res, next) {\n    try {\n      const updateStatusStaffToHidden = await updateStaffStatusToHidden(req);\n      return res.json({\n        message: \"Delete successfully\"\n      });\n    } catch (error) {\n      next(error);\n    }\n  }\n\n};\nmodule.exports = staffController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwU3RhdHVzIiwicmVxdWlyZSIsInN0YWZmQ29udHJvbGxlciIsInVwZGF0ZVByb2ZpbGUiLCJyZXEiLCJyZXMiLCJuZXh0IiwidXBkYXRlZFN0YWZmIiwidXBkYXRlU3RhZmZQcm9maWxlIiwianNvbiIsImVycm9yIiwicHJvZmlsZSIsInN0YWZmIiwiZ2V0U3RhZmZCeUVtYWlsIiwiY3VycmVudFVzZXIiLCJlbWFpbCIsIkFwaUVycm9yIiwiTk9UX0ZPVU5EIiwiZ2V0QWxsU3RhZmYiLCJhbGxTdGFmZiIsInNob3dBbGxTdGFmZiIsImhhbmRsZUdldEFsbEludGVydmlld2VycyIsImFsbEludGVydmlld2VycyIsImdldEFsbEludGVydmlld2VycyIsImRlbGV0ZVN0YWZmIiwidXBkYXRlU3RhdHVzU3RhZmZUb0hpZGRlbiIsInVwZGF0ZVN0YWZmU3RhdHVzVG9IaWRkZW4iLCJtZXNzYWdlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9jb250cm9sbGVyLyIsInNvdXJjZXMiOlsic3RhZmYuY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBodHRwU3RhdHVzID0gcmVxdWlyZShcImh0dHAtc3RhdHVzXCIpO1xuaW1wb3J0IHsgQXBpRXJyb3IgfSBmcm9tIFwiLi4vbWlkZGxld2FyZS9hcGlFcnJvclwiO1xuaW1wb3J0IHtcbiAgZ2V0U3RhZmZCeUVtYWlsLFxuICBzaG93QWxsU3RhZmYsXG4gIGdldEFsbEludGVydmlld2Vycyxcbn0gZnJvbSBcIi4uL3JlcG9zaXRvcnkvc3RhZmZzLnJlcG9zaXRvcnlcIjtcbmltcG9ydCB7IHVwZGF0ZVN0YWZmUHJvZmlsZSB9IGZyb20gXCIuLi9zZXJ2aWNlL3N0YWZmLnNlcnZpY2VcIjtcbmNvbnN0IHN0YWZmQ29udHJvbGxlciA9IHtcbiAgLy8gI1RPRE86IHhpdSBudWEgYXV0aGVuIHJvaSBjaGluaCBwYXJhbWV0ZXIgbyBnZXRTdGFmZkJ5RW1haWwoKVxuICBhc3luYyB1cGRhdGVQcm9maWxlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVwZGF0ZWRTdGFmZiA9IGF3YWl0IHVwZGF0ZVN0YWZmUHJvZmlsZShyZXEpO1xuICAgICAgcmV0dXJuIHJlcy5qc29uKHVwZGF0ZWRTdGFmZik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG5leHQoZXJyb3IpO1xuICAgIH1cbiAgfSxcbiAgYXN5bmMgcHJvZmlsZShyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdGFmZiA9IGF3YWl0IGdldFN0YWZmQnlFbWFpbChyZXEuY3VycmVudFVzZXIuZW1haWwpO1xuICAgICAgaWYgKCFzdGFmZikge1xuICAgICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5OT1RfRk9VTkQsIFwiU3RhZmYgTm90IEZvdW5kXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcy5qc29uKHN0YWZmKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbmV4dChlcnJvcik7XG4gICAgfVxuICB9LFxuICBhc3luYyBnZXRBbGxTdGFmZihyZXEsIHJlcykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhbGxTdGFmZiA9IGF3YWl0IHNob3dBbGxTdGFmZigpO1xuICAgICAgaWYgKCFhbGxTdGFmZikge1xuICAgICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoXCJTdGFmZiBraG9uZyB0b24gdGFpXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcy5qc29uKGFsbFN0YWZmKTtcbiAgICB9IGNhdGNoIChlcnJvcikgeyB9XG4gIH0sXG5cbiAgYXN5bmMgaGFuZGxlR2V0QWxsSW50ZXJ2aWV3ZXJzKHJlcSwgcmVzLCBlcnJvcikge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhbGxJbnRlcnZpZXdlcnMgPSBhd2FpdCBnZXRBbGxJbnRlcnZpZXdlcnMoKTtcbiAgICAgIHJldHVybiByZXMuanNvbihhbGxJbnRlcnZpZXdlcnMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBuZXh0KGVycm9yKTtcbiAgICB9XG4gIH0sXG4gIGFzeW5jIGRlbGV0ZVN0YWZmKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVwZGF0ZVN0YXR1c1N0YWZmVG9IaWRkZW4gPSBhd2FpdCB1cGRhdGVTdGFmZlN0YXR1c1RvSGlkZGVuKHJlcSk7XG4gICAgICByZXR1cm4gcmVzLmpzb24oeyBtZXNzYWdlOiBcIkRlbGV0ZSBzdWNjZXNzZnVsbHlcIiB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbmV4dChlcnJvcik7XG4gICAgfVxuICB9LFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBzdGFmZkNvbnRyb2xsZXI7XG4iXSwibWFwcGluZ3MiOiI7O0FBQ0E7O0FBQ0E7O0FBS0E7O0FBUEEsTUFBTUEsVUFBVSxHQUFHQyxPQUFPLENBQUMsYUFBRCxDQUExQjs7QUFRQSxNQUFNQyxlQUFlLEdBQUc7RUFDdEI7RUFDQSxNQUFNQyxhQUFOLENBQW9CQyxHQUFwQixFQUF5QkMsR0FBekIsRUFBOEJDLElBQTlCLEVBQW9DO0lBQ2xDLElBQUk7TUFDRixNQUFNQyxZQUFZLEdBQUcsTUFBTSxJQUFBQyx5QkFBQSxFQUFtQkosR0FBbkIsQ0FBM0I7TUFDQSxPQUFPQyxHQUFHLENBQUNJLElBQUosQ0FBU0YsWUFBVCxDQUFQO0lBQ0QsQ0FIRCxDQUdFLE9BQU9HLEtBQVAsRUFBYztNQUNkSixJQUFJLENBQUNJLEtBQUQsQ0FBSjtJQUNEO0VBQ0YsQ0FUcUI7O0VBVXRCLE1BQU1DLE9BQU4sQ0FBY1AsR0FBZCxFQUFtQkMsR0FBbkIsRUFBd0JDLElBQXhCLEVBQThCO0lBQzVCLElBQUk7TUFDRixNQUFNTSxLQUFLLEdBQUcsTUFBTSxJQUFBQyx1QkFBQSxFQUFnQlQsR0FBRyxDQUFDVSxXQUFKLENBQWdCQyxLQUFoQyxDQUFwQjs7TUFDQSxJQUFJLENBQUNILEtBQUwsRUFBWTtRQUNWLE1BQU0sSUFBSUksa0JBQUosQ0FBYWhCLFVBQVUsQ0FBQ2lCLFNBQXhCLEVBQW1DLGlCQUFuQyxDQUFOO01BQ0Q7O01BQ0QsT0FBT1osR0FBRyxDQUFDSSxJQUFKLENBQVNHLEtBQVQsQ0FBUDtJQUNELENBTkQsQ0FNRSxPQUFPRixLQUFQLEVBQWM7TUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7SUFDRDtFQUNGLENBcEJxQjs7RUFxQnRCLE1BQU1RLFdBQU4sQ0FBa0JkLEdBQWxCLEVBQXVCQyxHQUF2QixFQUE0QjtJQUMxQixJQUFJO01BQ0YsTUFBTWMsUUFBUSxHQUFHLE1BQU0sSUFBQUMsb0JBQUEsR0FBdkI7O01BQ0EsSUFBSSxDQUFDRCxRQUFMLEVBQWU7UUFDYixNQUFNLElBQUlILGtCQUFKLENBQWEscUJBQWIsQ0FBTjtNQUNEOztNQUNELE9BQU9YLEdBQUcsQ0FBQ0ksSUFBSixDQUFTVSxRQUFULENBQVA7SUFDRCxDQU5ELENBTUUsT0FBT1QsS0FBUCxFQUFjLENBQUc7RUFDcEIsQ0E3QnFCOztFQStCdEIsTUFBTVcsd0JBQU4sQ0FBK0JqQixHQUEvQixFQUFvQ0MsR0FBcEMsRUFBeUNLLEtBQXpDLEVBQWdEO0lBQzlDLElBQUk7TUFDRixNQUFNWSxlQUFlLEdBQUcsTUFBTSxJQUFBQywwQkFBQSxHQUE5QjtNQUNBLE9BQU9sQixHQUFHLENBQUNJLElBQUosQ0FBU2EsZUFBVCxDQUFQO0lBQ0QsQ0FIRCxDQUdFLE9BQU9aLEtBQVAsRUFBYztNQUNkSixJQUFJLENBQUNJLEtBQUQsQ0FBSjtJQUNEO0VBQ0YsQ0F0Q3FCOztFQXVDdEIsTUFBTWMsV0FBTixDQUFrQnBCLEdBQWxCLEVBQXVCQyxHQUF2QixFQUE0QkMsSUFBNUIsRUFBa0M7SUFDaEMsSUFBSTtNQUNGLE1BQU1tQix5QkFBeUIsR0FBRyxNQUFNQyx5QkFBeUIsQ0FBQ3RCLEdBQUQsQ0FBakU7TUFDQSxPQUFPQyxHQUFHLENBQUNJLElBQUosQ0FBUztRQUFFa0IsT0FBTyxFQUFFO01BQVgsQ0FBVCxDQUFQO0lBQ0QsQ0FIRCxDQUdFLE9BQU9qQixLQUFQLEVBQWM7TUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7SUFDRDtFQUNGOztBQTlDcUIsQ0FBeEI7QUFpREFrQixNQUFNLENBQUNDLE9BQVAsR0FBaUIzQixlQUFqQiJ9","map":{"version":3,"names":["httpStatus","require","staffController","updateProfile","req","res","next","updatedStaff","updateStaffProfile","json","error","profile","staff","getStaffByEmail","currentUser","email","ApiError","NOT_FOUND","getAllStaff","allStaff","showAllStaff","handleGetAllInterviewers","allInterviewers","getAllInterviewers","deleteStaff","updateStatusStaffToHidden","updateStaffStatusToHidden","message","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/","sources":["staff.controller.js"],"sourcesContent":["const httpStatus = require(\"http-status\");\nimport { ApiError } from \"../middleware/apiError\";\nimport {\n  getStaffByEmail,\n  showAllStaff,\n  getAllInterviewers,\n} from \"../repository/staffs.repository\";\nimport { updateStaffProfile } from \"../service/staff.service\";\nconst staffController = {\n  // #TODO: xiu nua authen roi chinh parameter o getStaffByEmail()\n  async updateProfile(req, res, next) {\n    try {\n      const updatedStaff = await updateStaffProfile(req);\n      return res.json(updatedStaff);\n    } catch (error) {\n      next(error);\n    }\n  },\n  async profile(req, res, next) {\n    try {\n      const staff = await getStaffByEmail(req.currentUser.email);\n      if (!staff) {\n        throw new ApiError(httpStatus.NOT_FOUND, \"Staff Not Found\");\n      }\n      return res.json(staff);\n    } catch (error) {\n      next(error);\n    }\n  },\n  async getAllStaff(req, res) {\n    try {\n      const allStaff = await showAllStaff();\n      if (!allStaff) {\n        throw new ApiError(\"Staff khong ton tai\");\n      }\n      return res.json(allStaff);\n    } catch (error) { }\n  },\n\n  async handleGetAllInterviewers(req, res, error) {\n    try {\n      const allInterviewers = await getAllInterviewers();\n      return res.json(allInterviewers);\n    } catch (error) {\n      next(error);\n    }\n  },\n  async deleteStaff(req, res, next) {\n    try {\n      const updateStatusStaffToHidden = await updateStaffStatusToHidden(req);\n      return res.json({ message: \"Delete successfully\" });\n    } catch (error) {\n      next(error);\n    }\n  },\n};\n\nmodule.exports = staffController;\n"],"mappings":";;AACA;;AACA;;AAKA;;AAPA,MAAMA,UAAU,GAAGC,OAAO,CAAC,aAAD,CAA1B;;AAQA,MAAMC,eAAe,GAAG;EACtB;EACA,MAAMC,aAAN,CAAoBC,GAApB,EAAyBC,GAAzB,EAA8BC,IAA9B,EAAoC;IAClC,IAAI;MACF,MAAMC,YAAY,GAAG,MAAM,IAAAC,yBAAA,EAAmBJ,GAAnB,CAA3B;MACA,OAAOC,GAAG,CAACI,IAAJ,CAASF,YAAT,CAAP;IACD,CAHD,CAGE,OAAOG,KAAP,EAAc;MACdJ,IAAI,CAACI,KAAD,CAAJ;IACD;EACF,CATqB;;EAUtB,MAAMC,OAAN,CAAcP,GAAd,EAAmBC,GAAnB,EAAwBC,IAAxB,EAA8B;IAC5B,IAAI;MACF,MAAMM,KAAK,GAAG,MAAM,IAAAC,uBAAA,EAAgBT,GAAG,CAACU,WAAJ,CAAgBC,KAAhC,CAApB;;MACA,IAAI,CAACH,KAAL,EAAY;QACV,MAAM,IAAII,kBAAJ,CAAahB,UAAU,CAACiB,SAAxB,EAAmC,iBAAnC,CAAN;MACD;;MACD,OAAOZ,GAAG,CAACI,IAAJ,CAASG,KAAT,CAAP;IACD,CAND,CAME,OAAOF,KAAP,EAAc;MACdJ,IAAI,CAACI,KAAD,CAAJ;IACD;EACF,CApBqB;;EAqBtB,MAAMQ,WAAN,CAAkBd,GAAlB,EAAuBC,GAAvB,EAA4B;IAC1B,IAAI;MACF,MAAMc,QAAQ,GAAG,MAAM,IAAAC,oBAAA,GAAvB;;MACA,IAAI,CAACD,QAAL,EAAe;QACb,MAAM,IAAIH,kBAAJ,CAAa,qBAAb,CAAN;MACD;;MACD,OAAOX,GAAG,CAACI,IAAJ,CAASU,QAAT,CAAP;IACD,CAND,CAME,OAAOT,KAAP,EAAc,CAAG;EACpB,CA7BqB;;EA+BtB,MAAMW,wBAAN,CAA+BjB,GAA/B,EAAoCC,GAApC,EAAyCK,KAAzC,EAAgD;IAC9C,IAAI;MACF,MAAMY,eAAe,GAAG,MAAM,IAAAC,0BAAA,GAA9B;MACA,OAAOlB,GAAG,CAACI,IAAJ,CAASa,eAAT,CAAP;IACD,CAHD,CAGE,OAAOZ,KAAP,EAAc;MACdJ,IAAI,CAACI,KAAD,CAAJ;IACD;EACF,CAtCqB;;EAuCtB,MAAMc,WAAN,CAAkBpB,GAAlB,EAAuBC,GAAvB,EAA4BC,IAA5B,EAAkC;IAChC,IAAI;MACF,MAAMmB,yBAAyB,GAAG,MAAMC,yBAAyB,CAACtB,GAAD,CAAjE;MACA,OAAOC,GAAG,CAACI,IAAJ,CAAS;QAAEkB,OAAO,EAAE;MAAX,CAAT,CAAP;IACD,CAHD,CAGE,OAAOjB,KAAP,EAAc;MACdJ,IAAI,CAACI,KAAD,CAAJ;IACD;EACF;;AA9CqB,CAAxB;AAiDAkB,MAAM,CAACC,OAAP,GAAiB3B,eAAjB"}},"mtime":1667231633832},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/staffs.repository.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _sequelize = require(\"sequelize\");\n\nvar _index = _interopRequireWildcard(require(\"../models/index\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst findOne = async where => {\n  var _await$db$Staffs$find;\n\n  return (_await$db$Staffs$find = await _index.default.Staffs.findOne({\n    where: where\n  })) === null || _await$db$Staffs$find === void 0 ? void 0 : _await$db$Staffs$find.dataValues;\n};\n\nconst createNewStaff = async user => {\n  const staff = await _index.default.Staffs.create({\n    email: user.email,\n    fullname: user.fullname,\n    password: user.password\n  });\n  return staff === null || staff === void 0 ? void 0 : staff.dataValues;\n};\n\nconst getStaffByEmail = async email => {\n  var _await$db$Staffs$find2;\n\n  return (_await$db$Staffs$find2 = await _index.default.Staffs.findOne({\n    where: {\n      email: email\n    }\n  })) === null || _await$db$Staffs$find2 === void 0 ? void 0 : _await$db$Staffs$find2.dataValues;\n};\n\nconst getStaffById = async staffID => {\n  var _await$db$Staffs$find3;\n\n  return (_await$db$Staffs$find3 = await _index.default.Staffs.findOne({\n    where: {\n      id: staffID\n    }\n  })) === null || _await$db$Staffs$find3 === void 0 ? void 0 : _await$db$Staffs$find3.dataValues;\n};\n\nconst update = async (newObj, where) => {\n  await _index.default.Staffs.update(newObj, {\n    where: where\n  });\n};\n\nconst showAllStaff = async () => {\n  const query = \"SELECT * FROM hrms.staffs\"; // staffList = await db.Staffs.findAll({ raw: true });\n\n  const staffList = await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.SELECT\n  });\n  console.log(\"bbbb\");\n  return staffList;\n};\n\nconst updateStatus = async where => {\n  return await _index.default.Staffs.update({\n    status: \"Inactive\"\n  }, {\n    where: where\n  });\n};\n\nconst getAllInterviewers = async () => {\n  const query = \"SELECT * FROM hrms.staffs WHERE role = 'Interviewer' \";\n  return await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.SELECT\n  });\n};\n\nmodule.exports = {\n  findOne,\n  createNewStaff,\n  getStaffByEmail,\n  getStaffById,\n  update,\n  showAllStaff,\n  updateStatus,\n  getAllInterviewers\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmaW5kT25lIiwid2hlcmUiLCJkYiIsIlN0YWZmcyIsImRhdGFWYWx1ZXMiLCJjcmVhdGVOZXdTdGFmZiIsInVzZXIiLCJzdGFmZiIsImNyZWF0ZSIsImVtYWlsIiwiZnVsbG5hbWUiLCJwYXNzd29yZCIsImdldFN0YWZmQnlFbWFpbCIsImdldFN0YWZmQnlJZCIsInN0YWZmSUQiLCJpZCIsInVwZGF0ZSIsIm5ld09iaiIsInNob3dBbGxTdGFmZiIsInF1ZXJ5Iiwic3RhZmZMaXN0Iiwic2VxdWVsaXplIiwidHlwZSIsIlF1ZXJ5VHlwZXMiLCJTRUxFQ1QiLCJjb25zb2xlIiwibG9nIiwidXBkYXRlU3RhdHVzIiwic3RhdHVzIiwiZ2V0QWxsSW50ZXJ2aWV3ZXJzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9yZXBvc2l0b3J5LyIsInNvdXJjZXMiOlsic3RhZmZzLnJlcG9zaXRvcnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUXVlcnlUeXBlcyB9IGZyb20gXCJzZXF1ZWxpemVcIjtcbmltcG9ydCBkYiwgeyBzZXF1ZWxpemUgfSBmcm9tIFwiLi4vbW9kZWxzL2luZGV4XCI7XG5jb25zdCBmaW5kT25lID0gYXN5bmMgKHdoZXJlKSA9PiB7XG4gIHJldHVybiAoYXdhaXQgZGIuU3RhZmZzLmZpbmRPbmUoeyB3aGVyZTogd2hlcmUgfSkpPy5kYXRhVmFsdWVzO1xufTtcbmNvbnN0IGNyZWF0ZU5ld1N0YWZmID0gYXN5bmMgKHVzZXIpID0+IHtcbiAgY29uc3Qgc3RhZmYgPSBhd2FpdCBkYi5TdGFmZnMuY3JlYXRlKHtcbiAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICBmdWxsbmFtZTogdXNlci5mdWxsbmFtZSxcbiAgICBwYXNzd29yZDogdXNlci5wYXNzd29yZCxcbiAgfSk7XG4gIHJldHVybiBzdGFmZj8uZGF0YVZhbHVlcztcbn07XG5jb25zdCBnZXRTdGFmZkJ5RW1haWwgPSBhc3luYyAoZW1haWwpID0+IHtcbiAgcmV0dXJuIChcbiAgICBhd2FpdCBkYi5TdGFmZnMuZmluZE9uZSh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBlbWFpbDogZW1haWwsXG4gICAgICB9LFxuICAgIH0pXG4gICk/LmRhdGFWYWx1ZXM7XG59O1xuXG5jb25zdCBnZXRTdGFmZkJ5SWQgPSBhc3luYyAoc3RhZmZJRCkgPT4ge1xuICByZXR1cm4gKFxuICAgIGF3YWl0IGRiLlN0YWZmcy5maW5kT25lKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGlkOiBzdGFmZklELFxuICAgICAgfSxcbiAgICB9KVxuICApPy5kYXRhVmFsdWVzO1xufTtcbmNvbnN0IHVwZGF0ZSA9IGFzeW5jIChuZXdPYmosIHdoZXJlKSA9PiB7XG4gIGF3YWl0IGRiLlN0YWZmcy51cGRhdGUobmV3T2JqLCB7XG4gICAgd2hlcmU6IHdoZXJlLFxuICB9KTtcbn07XG5jb25zdCBzaG93QWxsU3RhZmYgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHF1ZXJ5ID0gXCJTRUxFQ1QgKiBGUk9NIGhybXMuc3RhZmZzXCI7XG4gIC8vIHN0YWZmTGlzdCA9IGF3YWl0IGRiLlN0YWZmcy5maW5kQWxsKHsgcmF3OiB0cnVlIH0pO1xuICBjb25zdCBzdGFmZkxpc3QgPSBhd2FpdCBzZXF1ZWxpemUucXVlcnkocXVlcnksIHtcbiAgICB0eXBlOiBRdWVyeVR5cGVzLlNFTEVDVCxcbiAgfSk7XG4gIGNvbnNvbGUubG9nKFwiYmJiYlwiKTtcbiAgcmV0dXJuIHN0YWZmTGlzdDtcbn07XG5cbmNvbnN0IHVwZGF0ZVN0YXR1cyA9IGFzeW5jICh3aGVyZSkgPT4ge1xuICByZXR1cm4gKFxuXG4gICAgYXdhaXQgZGIuU3RhZmZzLnVwZGF0ZSh7IHN0YXR1czogXCJJbmFjdGl2ZVwiIH0sIHtcbiAgICAgIHdoZXJlOiB3aGVyZSxcbiAgICB9XG4gICAgKVxuICApXG59XG5jb25zdCBnZXRBbGxJbnRlcnZpZXdlcnMgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHF1ZXJ5ID0gXCJTRUxFQ1QgKiBGUk9NIGhybXMuc3RhZmZzIFdIRVJFIHJvbGUgPSAnSW50ZXJ2aWV3ZXInIFwiO1xuICByZXR1cm4gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KHF1ZXJ5LCB7XG4gICAgdHlwZTogUXVlcnlUeXBlcy5TRUxFQ1QsXG4gIH0pO1xufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBmaW5kT25lLFxuICBjcmVhdGVOZXdTdGFmZixcbiAgZ2V0U3RhZmZCeUVtYWlsLFxuICBnZXRTdGFmZkJ5SWQsXG4gIHVwZGF0ZSxcbiAgc2hvd0FsbFN0YWZmLFxuICB1cGRhdGVTdGF0dXMsXG4gIGdldEFsbEludGVydmlld2Vycyxcbn07XG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7Ozs7OztBQUNBLE1BQU1BLE9BQU8sR0FBRyxNQUFPQyxLQUFQLElBQWlCO0VBQUE7O0VBQy9CLGdDQUFRLE1BQU1DLGNBQUEsQ0FBR0MsTUFBSCxDQUFVSCxPQUFWLENBQWtCO0lBQUVDLEtBQUssRUFBRUE7RUFBVCxDQUFsQixDQUFkLDBEQUFPLHNCQUE2Q0csVUFBcEQ7QUFDRCxDQUZEOztBQUdBLE1BQU1DLGNBQWMsR0FBRyxNQUFPQyxJQUFQLElBQWdCO0VBQ3JDLE1BQU1DLEtBQUssR0FBRyxNQUFNTCxjQUFBLENBQUdDLE1BQUgsQ0FBVUssTUFBVixDQUFpQjtJQUNuQ0MsS0FBSyxFQUFFSCxJQUFJLENBQUNHLEtBRHVCO0lBRW5DQyxRQUFRLEVBQUVKLElBQUksQ0FBQ0ksUUFGb0I7SUFHbkNDLFFBQVEsRUFBRUwsSUFBSSxDQUFDSztFQUhvQixDQUFqQixDQUFwQjtFQUtBLE9BQU9KLEtBQVAsYUFBT0EsS0FBUCx1QkFBT0EsS0FBSyxDQUFFSCxVQUFkO0FBQ0QsQ0FQRDs7QUFRQSxNQUFNUSxlQUFlLEdBQUcsTUFBT0gsS0FBUCxJQUFpQjtFQUFBOztFQUN2QyxpQ0FDRSxNQUFNUCxjQUFBLENBQUdDLE1BQUgsQ0FBVUgsT0FBVixDQUFrQjtJQUN0QkMsS0FBSyxFQUFFO01BQ0xRLEtBQUssRUFBRUE7SUFERjtFQURlLENBQWxCLENBRFIsMkRBQU8sdUJBTUpMLFVBTkg7QUFPRCxDQVJEOztBQVVBLE1BQU1TLFlBQVksR0FBRyxNQUFPQyxPQUFQLElBQW1CO0VBQUE7O0VBQ3RDLGlDQUNFLE1BQU1aLGNBQUEsQ0FBR0MsTUFBSCxDQUFVSCxPQUFWLENBQWtCO0lBQ3RCQyxLQUFLLEVBQUU7TUFDTGMsRUFBRSxFQUFFRDtJQURDO0VBRGUsQ0FBbEIsQ0FEUiwyREFBTyx1QkFNSlYsVUFOSDtBQU9ELENBUkQ7O0FBU0EsTUFBTVksTUFBTSxHQUFHLE9BQU9DLE1BQVAsRUFBZWhCLEtBQWYsS0FBeUI7RUFDdEMsTUFBTUMsY0FBQSxDQUFHQyxNQUFILENBQVVhLE1BQVYsQ0FBaUJDLE1BQWpCLEVBQXlCO0lBQzdCaEIsS0FBSyxFQUFFQTtFQURzQixDQUF6QixDQUFOO0FBR0QsQ0FKRDs7QUFLQSxNQUFNaUIsWUFBWSxHQUFHLFlBQVk7RUFDL0IsTUFBTUMsS0FBSyxHQUFHLDJCQUFkLENBRCtCLENBRS9COztFQUNBLE1BQU1DLFNBQVMsR0FBRyxNQUFNQyxnQkFBQSxDQUFVRixLQUFWLENBQWdCQSxLQUFoQixFQUF1QjtJQUM3Q0csSUFBSSxFQUFFQyxxQkFBQSxDQUFXQztFQUQ0QixDQUF2QixDQUF4QjtFQUdBQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxNQUFaO0VBQ0EsT0FBT04sU0FBUDtBQUNELENBUkQ7O0FBVUEsTUFBTU8sWUFBWSxHQUFHLE1BQU8xQixLQUFQLElBQWlCO0VBQ3BDLE9BRUUsTUFBTUMsY0FBQSxDQUFHQyxNQUFILENBQVVhLE1BQVYsQ0FBaUI7SUFBRVksTUFBTSxFQUFFO0VBQVYsQ0FBakIsRUFBeUM7SUFDN0MzQixLQUFLLEVBQUVBO0VBRHNDLENBQXpDLENBRlI7QUFPRCxDQVJEOztBQVNBLE1BQU00QixrQkFBa0IsR0FBRyxZQUFZO0VBQ3JDLE1BQU1WLEtBQUssR0FBRyx1REFBZDtFQUNBLE9BQU8sTUFBTUUsZ0JBQUEsQ0FBVUYsS0FBVixDQUFnQkEsS0FBaEIsRUFBdUI7SUFDbENHLElBQUksRUFBRUMscUJBQUEsQ0FBV0M7RUFEaUIsQ0FBdkIsQ0FBYjtBQUdELENBTEQ7O0FBTUFNLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmL0IsT0FEZTtFQUVmSyxjQUZlO0VBR2ZPLGVBSGU7RUFJZkMsWUFKZTtFQUtmRyxNQUxlO0VBTWZFLFlBTmU7RUFPZlMsWUFQZTtFQVFmRTtBQVJlLENBQWpCIn0=","map":{"version":3,"names":["findOne","where","db","Staffs","dataValues","createNewStaff","user","staff","create","email","fullname","password","getStaffByEmail","getStaffById","staffID","id","update","newObj","showAllStaff","query","staffList","sequelize","type","QueryTypes","SELECT","console","log","updateStatus","status","getAllInterviewers","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/","sources":["staffs.repository.js"],"sourcesContent":["import { QueryTypes } from \"sequelize\";\nimport db, { sequelize } from \"../models/index\";\nconst findOne = async (where) => {\n  return (await db.Staffs.findOne({ where: where }))?.dataValues;\n};\nconst createNewStaff = async (user) => {\n  const staff = await db.Staffs.create({\n    email: user.email,\n    fullname: user.fullname,\n    password: user.password,\n  });\n  return staff?.dataValues;\n};\nconst getStaffByEmail = async (email) => {\n  return (\n    await db.Staffs.findOne({\n      where: {\n        email: email,\n      },\n    })\n  )?.dataValues;\n};\n\nconst getStaffById = async (staffID) => {\n  return (\n    await db.Staffs.findOne({\n      where: {\n        id: staffID,\n      },\n    })\n  )?.dataValues;\n};\nconst update = async (newObj, where) => {\n  await db.Staffs.update(newObj, {\n    where: where,\n  });\n};\nconst showAllStaff = async () => {\n  const query = \"SELECT * FROM hrms.staffs\";\n  // staffList = await db.Staffs.findAll({ raw: true });\n  const staffList = await sequelize.query(query, {\n    type: QueryTypes.SELECT,\n  });\n  console.log(\"bbbb\");\n  return staffList;\n};\n\nconst updateStatus = async (where) => {\n  return (\n\n    await db.Staffs.update({ status: \"Inactive\" }, {\n      where: where,\n    }\n    )\n  )\n}\nconst getAllInterviewers = async () => {\n  const query = \"SELECT * FROM hrms.staffs WHERE role = 'Interviewer' \";\n  return await sequelize.query(query, {\n    type: QueryTypes.SELECT,\n  });\n};\nmodule.exports = {\n  findOne,\n  createNewStaff,\n  getStaffByEmail,\n  getStaffById,\n  update,\n  showAllStaff,\n  updateStatus,\n  getAllInterviewers,\n};\n"],"mappings":";;AAAA;;AACA;;;;;;AACA,MAAMA,OAAO,GAAG,MAAOC,KAAP,IAAiB;EAAA;;EAC/B,gCAAQ,MAAMC,cAAA,CAAGC,MAAH,CAAUH,OAAV,CAAkB;IAAEC,KAAK,EAAEA;EAAT,CAAlB,CAAd,0DAAO,sBAA6CG,UAApD;AACD,CAFD;;AAGA,MAAMC,cAAc,GAAG,MAAOC,IAAP,IAAgB;EACrC,MAAMC,KAAK,GAAG,MAAML,cAAA,CAAGC,MAAH,CAAUK,MAAV,CAAiB;IACnCC,KAAK,EAAEH,IAAI,CAACG,KADuB;IAEnCC,QAAQ,EAAEJ,IAAI,CAACI,QAFoB;IAGnCC,QAAQ,EAAEL,IAAI,CAACK;EAHoB,CAAjB,CAApB;EAKA,OAAOJ,KAAP,aAAOA,KAAP,uBAAOA,KAAK,CAAEH,UAAd;AACD,CAPD;;AAQA,MAAMQ,eAAe,GAAG,MAAOH,KAAP,IAAiB;EAAA;;EACvC,iCACE,MAAMP,cAAA,CAAGC,MAAH,CAAUH,OAAV,CAAkB;IACtBC,KAAK,EAAE;MACLQ,KAAK,EAAEA;IADF;EADe,CAAlB,CADR,2DAAO,uBAMJL,UANH;AAOD,CARD;;AAUA,MAAMS,YAAY,GAAG,MAAOC,OAAP,IAAmB;EAAA;;EACtC,iCACE,MAAMZ,cAAA,CAAGC,MAAH,CAAUH,OAAV,CAAkB;IACtBC,KAAK,EAAE;MACLc,EAAE,EAAED;IADC;EADe,CAAlB,CADR,2DAAO,uBAMJV,UANH;AAOD,CARD;;AASA,MAAMY,MAAM,GAAG,OAAOC,MAAP,EAAehB,KAAf,KAAyB;EACtC,MAAMC,cAAA,CAAGC,MAAH,CAAUa,MAAV,CAAiBC,MAAjB,EAAyB;IAC7BhB,KAAK,EAAEA;EADsB,CAAzB,CAAN;AAGD,CAJD;;AAKA,MAAMiB,YAAY,GAAG,YAAY;EAC/B,MAAMC,KAAK,GAAG,2BAAd,CAD+B,CAE/B;;EACA,MAAMC,SAAS,GAAG,MAAMC,gBAAA,CAAUF,KAAV,CAAgBA,KAAhB,EAAuB;IAC7CG,IAAI,EAAEC,qBAAA,CAAWC;EAD4B,CAAvB,CAAxB;EAGAC,OAAO,CAACC,GAAR,CAAY,MAAZ;EACA,OAAON,SAAP;AACD,CARD;;AAUA,MAAMO,YAAY,GAAG,MAAO1B,KAAP,IAAiB;EACpC,OAEE,MAAMC,cAAA,CAAGC,MAAH,CAAUa,MAAV,CAAiB;IAAEY,MAAM,EAAE;EAAV,CAAjB,EAAyC;IAC7C3B,KAAK,EAAEA;EADsC,CAAzC,CAFR;AAOD,CARD;;AASA,MAAM4B,kBAAkB,GAAG,YAAY;EACrC,MAAMV,KAAK,GAAG,uDAAd;EACA,OAAO,MAAME,gBAAA,CAAUF,KAAV,CAAgBA,KAAhB,EAAuB;IAClCG,IAAI,EAAEC,qBAAA,CAAWC;EADiB,CAAvB,CAAb;AAGD,CALD;;AAMAM,MAAM,CAACC,OAAP,GAAiB;EACf/B,OADe;EAEfK,cAFe;EAGfO,eAHe;EAIfC,YAJe;EAKfG,MALe;EAMfE,YANe;EAOfS,YAPe;EAQfE;AARe,CAAjB"}},"mtime":1667231633839},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/staff.service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _httpStatus = _interopRequireDefault(require(\"http-status\"));\n\nvar _staffs = require(\"../repository/staffs.repository\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst updateStaffProfile = async req => {\n  try {\n    await (0, _staffs.update)(req.body, {\n      id: req.currentUser.id\n    });\n    const staff = await (0, _staffs.getStaffById)(req.currentUser.id);\n    return staff;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst updateStaffStatusToHidden = async (req, res) => {\n  try {\n    const id = req.params.id;\n    const staff = await (0, _staffs.getStaffById)(id);\n\n    if (!staff) {\n      throw new ApiError(_httpStatus.default.NOT_FOUND, \"Staff not found\");\n    }\n\n    await (0, _staffs.updateStatus)({\n      id: id\n    });\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  updateStaffProfile,\n  updateStaffStatusToHidden\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1cGRhdGVTdGFmZlByb2ZpbGUiLCJyZXEiLCJ1cGRhdGUiLCJib2R5IiwiaWQiLCJjdXJyZW50VXNlciIsInN0YWZmIiwiZ2V0U3RhZmZCeUlkIiwiZXJyb3IiLCJ1cGRhdGVTdGFmZlN0YXR1c1RvSGlkZGVuIiwicmVzIiwicGFyYW1zIiwiQXBpRXJyb3IiLCJodHRwU3RhdHVzIiwiTk9UX0ZPVU5EIiwidXBkYXRlU3RhdHVzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9zZXJ2aWNlLyIsInNvdXJjZXMiOlsic3RhZmYuc2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaHR0cFN0YXR1cyBmcm9tIFwiaHR0cC1zdGF0dXNcIjtcbmltcG9ydCB7IGdldFN0YWZmQnlJZCwgdXBkYXRlLCB1cGRhdGVTdGF0dXMgfSBmcm9tIFwiLi4vcmVwb3NpdG9yeS9zdGFmZnMucmVwb3NpdG9yeVwiO1xuY29uc3QgdXBkYXRlU3RhZmZQcm9maWxlID0gYXN5bmMgKHJlcSkgPT4ge1xuICB0cnkge1xuICAgIGF3YWl0IHVwZGF0ZShyZXEuYm9keSwgeyBpZDogcmVxLmN1cnJlbnRVc2VyLmlkIH0pO1xuICAgIGNvbnN0IHN0YWZmID0gYXdhaXQgZ2V0U3RhZmZCeUlkKHJlcS5jdXJyZW50VXNlci5pZCk7XG4gICAgcmV0dXJuIHN0YWZmO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5jb25zdCB1cGRhdGVTdGFmZlN0YXR1c1RvSGlkZGVuID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgaWQgPSByZXEucGFyYW1zLmlkO1xuICAgIGNvbnN0IHN0YWZmID0gYXdhaXQgZ2V0U3RhZmZCeUlkKGlkKTtcbiAgICBpZiAoIXN0YWZmKSB7XG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5OT1RfRk9VTkQsIFwiU3RhZmYgbm90IGZvdW5kXCIpO1xuICAgIH1cbiAgICBhd2FpdCB1cGRhdGVTdGF0dXMoeyBpZDogaWQgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHVwZGF0ZVN0YWZmUHJvZmlsZSxcbiAgdXBkYXRlU3RhZmZTdGF0dXNUb0hpZGRlblxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7OztBQUNBLE1BQU1BLGtCQUFrQixHQUFHLE1BQU9DLEdBQVAsSUFBZTtFQUN4QyxJQUFJO0lBQ0YsTUFBTSxJQUFBQyxjQUFBLEVBQU9ELEdBQUcsQ0FBQ0UsSUFBWCxFQUFpQjtNQUFFQyxFQUFFLEVBQUVILEdBQUcsQ0FBQ0ksV0FBSixDQUFnQkQ7SUFBdEIsQ0FBakIsQ0FBTjtJQUNBLE1BQU1FLEtBQUssR0FBRyxNQUFNLElBQUFDLG9CQUFBLEVBQWFOLEdBQUcsQ0FBQ0ksV0FBSixDQUFnQkQsRUFBN0IsQ0FBcEI7SUFDQSxPQUFPRSxLQUFQO0VBQ0QsQ0FKRCxDQUlFLE9BQU9FLEtBQVAsRUFBYztJQUNkLE1BQU1BLEtBQU47RUFDRDtBQUNGLENBUkQ7O0FBVUEsTUFBTUMseUJBQXlCLEdBQUcsT0FBT1IsR0FBUCxFQUFZUyxHQUFaLEtBQW9CO0VBQ3BELElBQUk7SUFDRixNQUFNTixFQUFFLEdBQUdILEdBQUcsQ0FBQ1UsTUFBSixDQUFXUCxFQUF0QjtJQUNBLE1BQU1FLEtBQUssR0FBRyxNQUFNLElBQUFDLG9CQUFBLEVBQWFILEVBQWIsQ0FBcEI7O0lBQ0EsSUFBSSxDQUFDRSxLQUFMLEVBQVk7TUFDVixNQUFNLElBQUlNLFFBQUosQ0FBYUMsbUJBQUEsQ0FBV0MsU0FBeEIsRUFBbUMsaUJBQW5DLENBQU47SUFDRDs7SUFDRCxNQUFNLElBQUFDLG9CQUFBLEVBQWE7TUFBRVgsRUFBRSxFQUFFQTtJQUFOLENBQWIsQ0FBTjtFQUVELENBUkQsQ0FRRSxPQUFPSSxLQUFQLEVBQWM7SUFDZCxNQUFNQSxLQUFOO0VBQ0Q7QUFDRixDQVpEOztBQWFBUSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7RUFDZmpCLGtCQURlO0VBRWZTO0FBRmUsQ0FBakIifQ==","map":{"version":3,"names":["updateStaffProfile","req","update","body","id","currentUser","staff","getStaffById","error","updateStaffStatusToHidden","res","params","ApiError","httpStatus","NOT_FOUND","updateStatus","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/","sources":["staff.service.js"],"sourcesContent":["import httpStatus from \"http-status\";\nimport { getStaffById, update, updateStatus } from \"../repository/staffs.repository\";\nconst updateStaffProfile = async (req) => {\n  try {\n    await update(req.body, { id: req.currentUser.id });\n    const staff = await getStaffById(req.currentUser.id);\n    return staff;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst updateStaffStatusToHidden = async (req, res) => {\n  try {\n    const id = req.params.id;\n    const staff = await getStaffById(id);\n    if (!staff) {\n      throw new ApiError(httpStatus.NOT_FOUND, \"Staff not found\");\n    }\n    await updateStatus({ id: id });\n\n  } catch (error) {\n    throw error;\n  }\n}\nmodule.exports = {\n  updateStaffProfile,\n  updateStaffStatusToHidden\n};\n"],"mappings":";;AAAA;;AACA;;;;AACA,MAAMA,kBAAkB,GAAG,MAAOC,GAAP,IAAe;EACxC,IAAI;IACF,MAAM,IAAAC,cAAA,EAAOD,GAAG,CAACE,IAAX,EAAiB;MAAEC,EAAE,EAAEH,GAAG,CAACI,WAAJ,CAAgBD;IAAtB,CAAjB,CAAN;IACA,MAAME,KAAK,GAAG,MAAM,IAAAC,oBAAA,EAAaN,GAAG,CAACI,WAAJ,CAAgBD,EAA7B,CAApB;IACA,OAAOE,KAAP;EACD,CAJD,CAIE,OAAOE,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CARD;;AAUA,MAAMC,yBAAyB,GAAG,OAAOR,GAAP,EAAYS,GAAZ,KAAoB;EACpD,IAAI;IACF,MAAMN,EAAE,GAAGH,GAAG,CAACU,MAAJ,CAAWP,EAAtB;IACA,MAAME,KAAK,GAAG,MAAM,IAAAC,oBAAA,EAAaH,EAAb,CAApB;;IACA,IAAI,CAACE,KAAL,EAAY;MACV,MAAM,IAAIM,QAAJ,CAAaC,mBAAA,CAAWC,SAAxB,EAAmC,iBAAnC,CAAN;IACD;;IACD,MAAM,IAAAC,oBAAA,EAAa;MAAEX,EAAE,EAAEA;IAAN,CAAb,CAAN;EAED,CARD,CAQE,OAAOI,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CAZD;;AAaAQ,MAAM,CAACC,OAAP,GAAiB;EACfjB,kBADe;EAEfS;AAFe,CAAjB"}},"mtime":1667231633849},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/staffAuth.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\n\nconst staffAuthController = require(\"../controller/staffAuth.controller.js\");\n\nconst auth = require(\"../middleware/auth.middleware\");\n\nconst router = express.Router();\nrouter.post(\"/register\", staffAuthController.register);\nrouter.post(\"/login\", staffAuthController.login);\nrouter.get(\"/isauth\", auth, staffAuthController.isauth);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInN0YWZmQXV0aENvbnRyb2xsZXIiLCJhdXRoIiwicm91dGVyIiwiUm91dGVyIiwicG9zdCIsInJlZ2lzdGVyIiwibG9naW4iLCJnZXQiLCJpc2F1dGgiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL3JvdXRlcy8iLCJzb3VyY2VzIjpbInN0YWZmQXV0aC5yb3V0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5jb25zdCBzdGFmZkF1dGhDb250cm9sbGVyID0gcmVxdWlyZShcIi4uL2NvbnRyb2xsZXIvc3RhZmZBdXRoLmNvbnRyb2xsZXIuanNcIik7XG5jb25zdCBhdXRoID0gcmVxdWlyZShcIi4uL21pZGRsZXdhcmUvYXV0aC5taWRkbGV3YXJlXCIpO1xuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgc3RhZmZBdXRoQ29udHJvbGxlci5yZWdpc3Rlcik7XG5yb3V0ZXIucG9zdChcIi9sb2dpblwiLCBzdGFmZkF1dGhDb250cm9sbGVyLmxvZ2luKTtcbnJvdXRlci5nZXQoXCIvaXNhdXRoXCIsIGF1dGgsIHN0YWZmQXV0aENvbnRyb2xsZXIuaXNhdXRoKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxtQkFBbUIsR0FBR0QsT0FBTyxDQUFDLHVDQUFELENBQW5DOztBQUNBLE1BQU1FLElBQUksR0FBR0YsT0FBTyxDQUFDLCtCQUFELENBQXBCOztBQUNBLE1BQU1HLE1BQU0sR0FBR0osT0FBTyxDQUFDSyxNQUFSLEVBQWY7QUFFQUQsTUFBTSxDQUFDRSxJQUFQLENBQVksV0FBWixFQUF5QkosbUJBQW1CLENBQUNLLFFBQTdDO0FBQ0FILE1BQU0sQ0FBQ0UsSUFBUCxDQUFZLFFBQVosRUFBc0JKLG1CQUFtQixDQUFDTSxLQUExQztBQUNBSixNQUFNLENBQUNLLEdBQVAsQ0FBVyxTQUFYLEVBQXNCTixJQUF0QixFQUE0QkQsbUJBQW1CLENBQUNRLE1BQWhEO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlIsTUFBakIifQ==","map":{"version":3,"names":["express","require","staffAuthController","auth","router","Router","post","register","login","get","isauth","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["staffAuth.route.js"],"sourcesContent":["const express = require(\"express\");\nconst staffAuthController = require(\"../controller/staffAuth.controller.js\");\nconst auth = require(\"../middleware/auth.middleware\");\nconst router = express.Router();\n\nrouter.post(\"/register\", staffAuthController.register);\nrouter.post(\"/login\", staffAuthController.login);\nrouter.get(\"/isauth\", auth, staffAuthController.isauth);\n\nmodule.exports = router;\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,mBAAmB,GAAGD,OAAO,CAAC,uCAAD,CAAnC;;AACA,MAAME,IAAI,GAAGF,OAAO,CAAC,+BAAD,CAApB;;AACA,MAAMG,MAAM,GAAGJ,OAAO,CAACK,MAAR,EAAf;AAEAD,MAAM,CAACE,IAAP,CAAY,WAAZ,EAAyBJ,mBAAmB,CAACK,QAA7C;AACAH,MAAM,CAACE,IAAP,CAAY,QAAZ,EAAsBJ,mBAAmB,CAACM,KAA1C;AACAJ,MAAM,CAACK,GAAP,CAAW,SAAX,EAAsBN,IAAtB,EAA4BD,mBAAmB,CAACQ,MAAhD;AAEAC,MAAM,CAACC,OAAP,GAAiBR,MAAjB"}},"mtime":1666279748636},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/staffAuth.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _staffAuth = require(\"../service/staffAuth.service\");\n\nconst staffAuth = {\n  async register(req, res, next) {\n    try {\n      res.header(\"Access-Control-Allow-Headers\", \"*\");\n      res.header(\"Access-Control-Allow-Credentials\", true);\n      res.header(\"Access-Control-Allow-Methods\", \"GET,PUT,POST,DELETE\");\n      const staff = await (0, _staffAuth.createStaff)(req, res);\n      const token = await (0, _staffAuth.genAuthToken)(staff);\n      res.cookie(\"x-access-token\", token).status(200).send({\n        staff,\n        token\n      });\n      console.log(staff);\n    } catch (error) {\n      console.log(error);\n      next(error);\n    }\n  },\n\n  async login(req, res, next) {\n    try {\n      const {\n        email,\n        password\n      } = req.body;\n      const staff = await (0, _staffAuth.signInWithEmailPassword)(email, password);\n      const token = await (0, _staffAuth.genAuthToken)(staff);\n      res.cookie(\"x-access-token\", token).send({\n        staff,\n        token\n      });\n      console.log(staff);\n    } catch (error) {\n      next(error); // res.send({ error: error.statusCode, message: error.message });\n    }\n  },\n\n  async isauth(req, res, next) {\n    return res.json(req.currentUser);\n  }\n\n};\nmodule.exports = staffAuth;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzdGFmZkF1dGgiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsIm5leHQiLCJoZWFkZXIiLCJzdGFmZiIsImNyZWF0ZVN0YWZmIiwidG9rZW4iLCJnZW5BdXRoVG9rZW4iLCJjb29raWUiLCJzdGF0dXMiLCJzZW5kIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwibG9naW4iLCJlbWFpbCIsInBhc3N3b3JkIiwiYm9keSIsInNpZ25JbldpdGhFbWFpbFBhc3N3b3JkIiwiaXNhdXRoIiwianNvbiIsImN1cnJlbnRVc2VyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9jb250cm9sbGVyLyIsInNvdXJjZXMiOlsic3RhZmZBdXRoLmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgY3JlYXRlU3RhZmYsXG4gIGdlbkF1dGhUb2tlbixcbiAgc2lnbkluV2l0aEVtYWlsUGFzc3dvcmQsXG59IGZyb20gXCIuLi9zZXJ2aWNlL3N0YWZmQXV0aC5zZXJ2aWNlXCI7XG5jb25zdCBzdGFmZkF1dGggPSB7XG4gIGFzeW5jIHJlZ2lzdGVyKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlcy5oZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzXCIsIFwiKlwiKTtcbiAgICAgIHJlcy5oZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFsc1wiLCB0cnVlKTtcbiAgICAgIHJlcy5oZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzXCIsIFwiR0VULFBVVCxQT1NULERFTEVURVwiKTtcbiAgICAgIGNvbnN0IHN0YWZmID0gYXdhaXQgY3JlYXRlU3RhZmYocmVxLCByZXMpO1xuICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBnZW5BdXRoVG9rZW4oc3RhZmYpO1xuXG4gICAgICByZXMuY29va2llKFwieC1hY2Nlc3MtdG9rZW5cIiwgdG9rZW4pLnN0YXR1cygyMDApLnNlbmQoe1xuICAgICAgICBzdGFmZixcbiAgICAgICAgdG9rZW4sXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKHN0YWZmKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgbmV4dChlcnJvcik7XG4gICAgfVxuICB9LFxuICBhc3luYyBsb2dpbihyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gICAgICBjb25zdCBzdGFmZiA9IGF3YWl0IHNpZ25JbldpdGhFbWFpbFBhc3N3b3JkKGVtYWlsLCBwYXNzd29yZCk7XG4gICAgICBjb25zdCB0b2tlbiA9IGF3YWl0IGdlbkF1dGhUb2tlbihzdGFmZik7XG4gICAgICByZXMuY29va2llKFwieC1hY2Nlc3MtdG9rZW5cIiwgdG9rZW4pLnNlbmQoe1xuICAgICAgICBzdGFmZixcbiAgICAgICAgdG9rZW4sXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKHN0YWZmKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbmV4dChlcnJvcik7XG4gICAgICAvLyByZXMuc2VuZCh7IGVycm9yOiBlcnJvci5zdGF0dXNDb2RlLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pO1xuICAgIH1cbiAgfSxcbiAgYXN5bmMgaXNhdXRoKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgcmV0dXJuIHJlcy5qc29uKHJlcS5jdXJyZW50VXNlcik7XG4gIH0sXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHN0YWZmQXV0aDtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFLQSxNQUFNQSxTQUFTLEdBQUc7RUFDaEIsTUFBTUMsUUFBTixDQUFlQyxHQUFmLEVBQW9CQyxHQUFwQixFQUF5QkMsSUFBekIsRUFBK0I7SUFDN0IsSUFBSTtNQUNGRCxHQUFHLENBQUNFLE1BQUosQ0FBVyw4QkFBWCxFQUEyQyxHQUEzQztNQUNBRixHQUFHLENBQUNFLE1BQUosQ0FBVyxrQ0FBWCxFQUErQyxJQUEvQztNQUNBRixHQUFHLENBQUNFLE1BQUosQ0FBVyw4QkFBWCxFQUEyQyxxQkFBM0M7TUFDQSxNQUFNQyxLQUFLLEdBQUcsTUFBTSxJQUFBQyxzQkFBQSxFQUFZTCxHQUFaLEVBQWlCQyxHQUFqQixDQUFwQjtNQUNBLE1BQU1LLEtBQUssR0FBRyxNQUFNLElBQUFDLHVCQUFBLEVBQWFILEtBQWIsQ0FBcEI7TUFFQUgsR0FBRyxDQUFDTyxNQUFKLENBQVcsZ0JBQVgsRUFBNkJGLEtBQTdCLEVBQW9DRyxNQUFwQyxDQUEyQyxHQUEzQyxFQUFnREMsSUFBaEQsQ0FBcUQ7UUFDbkROLEtBRG1EO1FBRW5ERTtNQUZtRCxDQUFyRDtNQUlBSyxPQUFPLENBQUNDLEdBQVIsQ0FBWVIsS0FBWjtJQUNELENBWkQsQ0FZRSxPQUFPUyxLQUFQLEVBQWM7TUFDZEYsT0FBTyxDQUFDQyxHQUFSLENBQVlDLEtBQVo7TUFDQVgsSUFBSSxDQUFDVyxLQUFELENBQUo7SUFDRDtFQUNGLENBbEJlOztFQW1CaEIsTUFBTUMsS0FBTixDQUFZZCxHQUFaLEVBQWlCQyxHQUFqQixFQUFzQkMsSUFBdEIsRUFBNEI7SUFDMUIsSUFBSTtNQUNGLE1BQU07UUFBRWEsS0FBRjtRQUFTQztNQUFULElBQXNCaEIsR0FBRyxDQUFDaUIsSUFBaEM7TUFDQSxNQUFNYixLQUFLLEdBQUcsTUFBTSxJQUFBYyxrQ0FBQSxFQUF3QkgsS0FBeEIsRUFBK0JDLFFBQS9CLENBQXBCO01BQ0EsTUFBTVYsS0FBSyxHQUFHLE1BQU0sSUFBQUMsdUJBQUEsRUFBYUgsS0FBYixDQUFwQjtNQUNBSCxHQUFHLENBQUNPLE1BQUosQ0FBVyxnQkFBWCxFQUE2QkYsS0FBN0IsRUFBb0NJLElBQXBDLENBQXlDO1FBQ3ZDTixLQUR1QztRQUV2Q0U7TUFGdUMsQ0FBekM7TUFJQUssT0FBTyxDQUFDQyxHQUFSLENBQVlSLEtBQVo7SUFDRCxDQVRELENBU0UsT0FBT1MsS0FBUCxFQUFjO01BQ2RYLElBQUksQ0FBQ1csS0FBRCxDQUFKLENBRGMsQ0FFZDtJQUNEO0VBQ0YsQ0FqQ2U7O0VBa0NoQixNQUFNTSxNQUFOLENBQWFuQixHQUFiLEVBQWtCQyxHQUFsQixFQUF1QkMsSUFBdkIsRUFBNkI7SUFDM0IsT0FBT0QsR0FBRyxDQUFDbUIsSUFBSixDQUFTcEIsR0FBRyxDQUFDcUIsV0FBYixDQUFQO0VBQ0Q7O0FBcENlLENBQWxCO0FBdUNBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJ6QixTQUFqQiJ9","map":{"version":3,"names":["staffAuth","register","req","res","next","header","staff","createStaff","token","genAuthToken","cookie","status","send","console","log","error","login","email","password","body","signInWithEmailPassword","isauth","json","currentUser","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/","sources":["staffAuth.controller.js"],"sourcesContent":["import {\n  createStaff,\n  genAuthToken,\n  signInWithEmailPassword,\n} from \"../service/staffAuth.service\";\nconst staffAuth = {\n  async register(req, res, next) {\n    try {\n      res.header(\"Access-Control-Allow-Headers\", \"*\");\n      res.header(\"Access-Control-Allow-Credentials\", true);\n      res.header(\"Access-Control-Allow-Methods\", \"GET,PUT,POST,DELETE\");\n      const staff = await createStaff(req, res);\n      const token = await genAuthToken(staff);\n\n      res.cookie(\"x-access-token\", token).status(200).send({\n        staff,\n        token,\n      });\n      console.log(staff);\n    } catch (error) {\n      console.log(error);\n      next(error);\n    }\n  },\n  async login(req, res, next) {\n    try {\n      const { email, password } = req.body;\n      const staff = await signInWithEmailPassword(email, password);\n      const token = await genAuthToken(staff);\n      res.cookie(\"x-access-token\", token).send({\n        staff,\n        token,\n      });\n      console.log(staff);\n    } catch (error) {\n      next(error);\n      // res.send({ error: error.statusCode, message: error.message });\n    }\n  },\n  async isauth(req, res, next) {\n    return res.json(req.currentUser);\n  },\n};\n\nmodule.exports = staffAuth;\n"],"mappings":";;AAAA;;AAKA,MAAMA,SAAS,GAAG;EAChB,MAAMC,QAAN,CAAeC,GAAf,EAAoBC,GAApB,EAAyBC,IAAzB,EAA+B;IAC7B,IAAI;MACFD,GAAG,CAACE,MAAJ,CAAW,8BAAX,EAA2C,GAA3C;MACAF,GAAG,CAACE,MAAJ,CAAW,kCAAX,EAA+C,IAA/C;MACAF,GAAG,CAACE,MAAJ,CAAW,8BAAX,EAA2C,qBAA3C;MACA,MAAMC,KAAK,GAAG,MAAM,IAAAC,sBAAA,EAAYL,GAAZ,EAAiBC,GAAjB,CAApB;MACA,MAAMK,KAAK,GAAG,MAAM,IAAAC,uBAAA,EAAaH,KAAb,CAApB;MAEAH,GAAG,CAACO,MAAJ,CAAW,gBAAX,EAA6BF,KAA7B,EAAoCG,MAApC,CAA2C,GAA3C,EAAgDC,IAAhD,CAAqD;QACnDN,KADmD;QAEnDE;MAFmD,CAArD;MAIAK,OAAO,CAACC,GAAR,CAAYR,KAAZ;IACD,CAZD,CAYE,OAAOS,KAAP,EAAc;MACdF,OAAO,CAACC,GAAR,CAAYC,KAAZ;MACAX,IAAI,CAACW,KAAD,CAAJ;IACD;EACF,CAlBe;;EAmBhB,MAAMC,KAAN,CAAYd,GAAZ,EAAiBC,GAAjB,EAAsBC,IAAtB,EAA4B;IAC1B,IAAI;MACF,MAAM;QAAEa,KAAF;QAASC;MAAT,IAAsBhB,GAAG,CAACiB,IAAhC;MACA,MAAMb,KAAK,GAAG,MAAM,IAAAc,kCAAA,EAAwBH,KAAxB,EAA+BC,QAA/B,CAApB;MACA,MAAMV,KAAK,GAAG,MAAM,IAAAC,uBAAA,EAAaH,KAAb,CAApB;MACAH,GAAG,CAACO,MAAJ,CAAW,gBAAX,EAA6BF,KAA7B,EAAoCI,IAApC,CAAyC;QACvCN,KADuC;QAEvCE;MAFuC,CAAzC;MAIAK,OAAO,CAACC,GAAR,CAAYR,KAAZ;IACD,CATD,CASE,OAAOS,KAAP,EAAc;MACdX,IAAI,CAACW,KAAD,CAAJ,CADc,CAEd;IACD;EACF,CAjCe;;EAkChB,MAAMM,MAAN,CAAanB,GAAb,EAAkBC,GAAlB,EAAuBC,IAAvB,EAA6B;IAC3B,OAAOD,GAAG,CAACmB,IAAJ,CAASpB,GAAG,CAACqB,WAAb,CAAP;EACD;;AApCe,CAAlB;AAuCAC,MAAM,CAACC,OAAP,GAAiBzB,SAAjB"}},"mtime":1667231633833},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/staffAuth.service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _staffs = require(\"../repository/staffs.repository\");\n\nrequire(\"dotenv\").config();\n\nconst bcrypt = require(\"bcrypt\");\n\nconst jwt = require(\"jsonwebtoken\");\n\nconst httpStatus = require(\"http-status\");\n\nconst {\n  ApiError\n} = require(\"../middleware/apiError\");\n\nconst hashPassword = async password => {\n  const salt = await bcrypt.genSalt(10);\n  const hashedPass = await bcrypt.hash(password, salt);\n  return hashedPass;\n};\n\nconst createStaff = async (req, res) => {\n  try {\n    const staff = req.body;\n    const staffExisted = await (0, _staffs.getStaffByEmail)(staff.email);\n\n    if (staffExisted) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Email already taken\");\n    }\n\n    const hashPass = await hashPassword(staff.password);\n    const newStaff = await (0, _staffs.createNewStaff)({\n      email: staff.email,\n      fullname: staff.fullname,\n      password: hashPass,\n      avatar: null\n    });\n    console.log(newStaff);\n\n    if (!newStaff) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Register fail\");\n    }\n\n    return newStaff;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst genAuthToken = async user => {\n  const userObj = {\n    sub: user.id,\n    email: user.email,\n    id: user.id\n  };\n  const token = jwt.sign(userObj, process.env.ACCESS_TOKEN_SECRET, {\n    expiresIn: \"1d\"\n  });\n  return token;\n};\n\nconst comparePassword = async (candidatePassword, hashPassword) => {\n  // candidate password = hash password\n  const match = await bcrypt.compare(candidatePassword, hashPassword);\n  return match;\n};\n\nconst signInWithEmailPassword = async (email, password) => {\n  try {\n    // check email\n    const staff = await (0, _staffs.getStaffByEmail)(email);\n\n    if (!staff) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"Sorry Bad Email\");\n    }\n\n    if (!(await comparePassword(password, staff.password))) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"Ti khon hoc mt khu khng chnh xc\");\n    }\n\n    return staff;\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  createStaff,\n  genAuthToken,\n  signInWithEmailPassword\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiYmNyeXB0Iiwiand0IiwiaHR0cFN0YXR1cyIsIkFwaUVycm9yIiwiaGFzaFBhc3N3b3JkIiwicGFzc3dvcmQiLCJzYWx0IiwiZ2VuU2FsdCIsImhhc2hlZFBhc3MiLCJoYXNoIiwiY3JlYXRlU3RhZmYiLCJyZXEiLCJyZXMiLCJzdGFmZiIsImJvZHkiLCJzdGFmZkV4aXN0ZWQiLCJnZXRTdGFmZkJ5RW1haWwiLCJlbWFpbCIsIkJBRF9SRVFVRVNUIiwiaGFzaFBhc3MiLCJuZXdTdGFmZiIsImNyZWF0ZU5ld1N0YWZmIiwiZnVsbG5hbWUiLCJhdmF0YXIiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJnZW5BdXRoVG9rZW4iLCJ1c2VyIiwidXNlck9iaiIsInN1YiIsImlkIiwidG9rZW4iLCJzaWduIiwicHJvY2VzcyIsImVudiIsIkFDQ0VTU19UT0tFTl9TRUNSRVQiLCJleHBpcmVzSW4iLCJjb21wYXJlUGFzc3dvcmQiLCJjYW5kaWRhdGVQYXNzd29yZCIsIm1hdGNoIiwiY29tcGFyZSIsInNpZ25JbldpdGhFbWFpbFBhc3N3b3JkIiwiVU5BVVRIT1JJWkVEIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9zZXJ2aWNlLyIsInNvdXJjZXMiOlsic3RhZmZBdXRoLnNlcnZpY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoXCJiY3J5cHRcIik7XG5jb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xuY29uc3QgaHR0cFN0YXR1cyA9IHJlcXVpcmUoXCJodHRwLXN0YXR1c1wiKTtcblxuY29uc3QgeyBBcGlFcnJvciB9ID0gcmVxdWlyZShcIi4uL21pZGRsZXdhcmUvYXBpRXJyb3JcIik7XG5pbXBvcnQge1xuICBnZXRTdGFmZkJ5RW1haWwsXG4gIGNyZWF0ZU5ld1N0YWZmLFxufSBmcm9tIFwiLi4vcmVwb3NpdG9yeS9zdGFmZnMucmVwb3NpdG9yeVwiO1xuXG5jb25zdCBoYXNoUGFzc3dvcmQgPSBhc3luYyAocGFzc3dvcmQpID0+IHtcbiAgY29uc3Qgc2FsdCA9IGF3YWl0IGJjcnlwdC5nZW5TYWx0KDEwKTtcbiAgY29uc3QgaGFzaGVkUGFzcyA9IGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCBzYWx0KTtcbiAgcmV0dXJuIGhhc2hlZFBhc3M7XG59O1xuXG5jb25zdCBjcmVhdGVTdGFmZiA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHN0YWZmID0gcmVxLmJvZHk7XG4gICAgY29uc3Qgc3RhZmZFeGlzdGVkID0gYXdhaXQgZ2V0U3RhZmZCeUVtYWlsKHN0YWZmLmVtYWlsKTtcbiAgICBpZiAoc3RhZmZFeGlzdGVkKSB7XG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5CQURfUkVRVUVTVCwgXCJFbWFpbCBhbHJlYWR5IHRha2VuXCIpO1xuICAgIH1cbiAgICBjb25zdCBoYXNoUGFzcyA9IGF3YWl0IGhhc2hQYXNzd29yZChzdGFmZi5wYXNzd29yZCk7XG4gICAgY29uc3QgbmV3U3RhZmYgPSBhd2FpdCBjcmVhdGVOZXdTdGFmZih7XG4gICAgICBlbWFpbDogc3RhZmYuZW1haWwsXG4gICAgICBmdWxsbmFtZTogc3RhZmYuZnVsbG5hbWUsXG4gICAgICBwYXNzd29yZDogaGFzaFBhc3MsXG4gICAgICBhdmF0YXI6IG51bGwsXG4gICAgfSk7XG4gICAgY29uc29sZS5sb2cobmV3U3RhZmYpO1xuICAgIGlmICghbmV3U3RhZmYpIHtcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLkJBRF9SRVFVRVNULCBcIlJlZ2lzdGVyIGZhaWxcIik7XG4gICAgfVxuICAgIHJldHVybiBuZXdTdGFmZjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcbmNvbnN0IGdlbkF1dGhUb2tlbiA9IGFzeW5jICh1c2VyKSA9PiB7XG4gIGNvbnN0IHVzZXJPYmogPSB7XG4gICAgc3ViOiB1c2VyLmlkLFxuICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgIGlkOiB1c2VyLmlkLFxuICB9O1xuICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHVzZXJPYmosIHByb2Nlc3MuZW52LkFDQ0VTU19UT0tFTl9TRUNSRVQsIHtcbiAgICBleHBpcmVzSW46IFwiMWRcIixcbiAgfSk7XG4gIHJldHVybiB0b2tlbjtcbn07XG5jb25zdCBjb21wYXJlUGFzc3dvcmQgPSBhc3luYyAoY2FuZGlkYXRlUGFzc3dvcmQsIGhhc2hQYXNzd29yZCkgPT4ge1xuICAvLyBjYW5kaWRhdGUgcGFzc3dvcmQgPSBoYXNoIHBhc3N3b3JkXG5cbiAgY29uc3QgbWF0Y2ggPSBhd2FpdCBiY3J5cHQuY29tcGFyZShjYW5kaWRhdGVQYXNzd29yZCwgaGFzaFBhc3N3b3JkKTtcbiAgcmV0dXJuIG1hdGNoO1xufTtcbmNvbnN0IHNpZ25JbldpdGhFbWFpbFBhc3N3b3JkID0gYXN5bmMgKGVtYWlsLCBwYXNzd29yZCkgPT4ge1xuICB0cnkge1xuICAgIC8vIGNoZWNrIGVtYWlsXG4gICAgY29uc3Qgc3RhZmYgPSBhd2FpdCBnZXRTdGFmZkJ5RW1haWwoZW1haWwpO1xuICAgIGlmICghc3RhZmYpIHtcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLlVOQVVUSE9SSVpFRCwgXCJTb3JyeSBCYWQgRW1haWxcIik7XG4gICAgfVxuICAgIGlmICghKGF3YWl0IGNvbXBhcmVQYXNzd29yZChwYXNzd29yZCwgc3RhZmYucGFzc3dvcmQpKSkge1xuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKFxuICAgICAgICBodHRwU3RhdHVzLlVOQVVUSE9SSVpFRCxcbiAgICAgICAgXCJUw6BpIGtob+G6o24gaG/hurdjIG3huq10IGto4bqpdSBraMO0bmcgY2jDrW5oIHjDoWNcIlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YWZmO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY3JlYXRlU3RhZmYsXG4gIGdlbkF1dGhUb2tlbixcbiAgc2lnbkluV2l0aEVtYWlsUGFzc3dvcmQsXG59O1xuIl0sIm1hcHBpbmdzIjoiOztBQU1BOztBQU5BQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQyxRQUFELENBQXRCOztBQUNBLE1BQU1HLEdBQUcsR0FBR0gsT0FBTyxDQUFDLGNBQUQsQ0FBbkI7O0FBQ0EsTUFBTUksVUFBVSxHQUFHSixPQUFPLENBQUMsYUFBRCxDQUExQjs7QUFFQSxNQUFNO0VBQUVLO0FBQUYsSUFBZUwsT0FBTyxDQUFDLHdCQUFELENBQTVCOztBQU1BLE1BQU1NLFlBQVksR0FBRyxNQUFPQyxRQUFQLElBQW9CO0VBQ3ZDLE1BQU1DLElBQUksR0FBRyxNQUFNTixNQUFNLENBQUNPLE9BQVAsQ0FBZSxFQUFmLENBQW5CO0VBQ0EsTUFBTUMsVUFBVSxHQUFHLE1BQU1SLE1BQU0sQ0FBQ1MsSUFBUCxDQUFZSixRQUFaLEVBQXNCQyxJQUF0QixDQUF6QjtFQUNBLE9BQU9FLFVBQVA7QUFDRCxDQUpEOztBQU1BLE1BQU1FLFdBQVcsR0FBRyxPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7RUFDdEMsSUFBSTtJQUNGLE1BQU1DLEtBQUssR0FBR0YsR0FBRyxDQUFDRyxJQUFsQjtJQUNBLE1BQU1DLFlBQVksR0FBRyxNQUFNLElBQUFDLHVCQUFBLEVBQWdCSCxLQUFLLENBQUNJLEtBQXRCLENBQTNCOztJQUNBLElBQUlGLFlBQUosRUFBa0I7TUFDaEIsTUFBTSxJQUFJWixRQUFKLENBQWFELFVBQVUsQ0FBQ2dCLFdBQXhCLEVBQXFDLHFCQUFyQyxDQUFOO0lBQ0Q7O0lBQ0QsTUFBTUMsUUFBUSxHQUFHLE1BQU1mLFlBQVksQ0FBQ1MsS0FBSyxDQUFDUixRQUFQLENBQW5DO0lBQ0EsTUFBTWUsUUFBUSxHQUFHLE1BQU0sSUFBQUMsc0JBQUEsRUFBZTtNQUNwQ0osS0FBSyxFQUFFSixLQUFLLENBQUNJLEtBRHVCO01BRXBDSyxRQUFRLEVBQUVULEtBQUssQ0FBQ1MsUUFGb0I7TUFHcENqQixRQUFRLEVBQUVjLFFBSDBCO01BSXBDSSxNQUFNLEVBQUU7SUFKNEIsQ0FBZixDQUF2QjtJQU1BQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUwsUUFBWjs7SUFDQSxJQUFJLENBQUNBLFFBQUwsRUFBZTtNQUNiLE1BQU0sSUFBSWpCLFFBQUosQ0FBYUQsVUFBVSxDQUFDZ0IsV0FBeEIsRUFBcUMsZUFBckMsQ0FBTjtJQUNEOztJQUNELE9BQU9FLFFBQVA7RUFDRCxDQWxCRCxDQWtCRSxPQUFPTSxLQUFQLEVBQWM7SUFDZCxNQUFNQSxLQUFOO0VBQ0Q7QUFDRixDQXRCRDs7QUF1QkEsTUFBTUMsWUFBWSxHQUFHLE1BQU9DLElBQVAsSUFBZ0I7RUFDbkMsTUFBTUMsT0FBTyxHQUFHO0lBQ2RDLEdBQUcsRUFBRUYsSUFBSSxDQUFDRyxFQURJO0lBRWRkLEtBQUssRUFBRVcsSUFBSSxDQUFDWCxLQUZFO0lBR2RjLEVBQUUsRUFBRUgsSUFBSSxDQUFDRztFQUhLLENBQWhCO0VBS0EsTUFBTUMsS0FBSyxHQUFHL0IsR0FBRyxDQUFDZ0MsSUFBSixDQUFTSixPQUFULEVBQWtCSyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsbUJBQTlCLEVBQW1EO0lBQy9EQyxTQUFTLEVBQUU7RUFEb0QsQ0FBbkQsQ0FBZDtFQUdBLE9BQU9MLEtBQVA7QUFDRCxDQVZEOztBQVdBLE1BQU1NLGVBQWUsR0FBRyxPQUFPQyxpQkFBUCxFQUEwQm5DLFlBQTFCLEtBQTJDO0VBQ2pFO0VBRUEsTUFBTW9DLEtBQUssR0FBRyxNQUFNeEMsTUFBTSxDQUFDeUMsT0FBUCxDQUFlRixpQkFBZixFQUFrQ25DLFlBQWxDLENBQXBCO0VBQ0EsT0FBT29DLEtBQVA7QUFDRCxDQUxEOztBQU1BLE1BQU1FLHVCQUF1QixHQUFHLE9BQU96QixLQUFQLEVBQWNaLFFBQWQsS0FBMkI7RUFDekQsSUFBSTtJQUNGO0lBQ0EsTUFBTVEsS0FBSyxHQUFHLE1BQU0sSUFBQUcsdUJBQUEsRUFBZ0JDLEtBQWhCLENBQXBCOztJQUNBLElBQUksQ0FBQ0osS0FBTCxFQUFZO01BQ1YsTUFBTSxJQUFJVixRQUFKLENBQWFELFVBQVUsQ0FBQ3lDLFlBQXhCLEVBQXNDLGlCQUF0QyxDQUFOO0lBQ0Q7O0lBQ0QsSUFBSSxFQUFFLE1BQU1MLGVBQWUsQ0FBQ2pDLFFBQUQsRUFBV1EsS0FBSyxDQUFDUixRQUFqQixDQUF2QixDQUFKLEVBQXdEO01BQ3RELE1BQU0sSUFBSUYsUUFBSixDQUNKRCxVQUFVLENBQUN5QyxZQURQLEVBRUoseUNBRkksQ0FBTjtJQUlEOztJQUNELE9BQU85QixLQUFQO0VBQ0QsQ0FiRCxDQWFFLE9BQU9hLEtBQVAsRUFBYztJQUNkLE1BQU1BLEtBQU47RUFDRDtBQUNGLENBakJEOztBQW1CQWtCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmbkMsV0FEZTtFQUVmaUIsWUFGZTtFQUdmZTtBQUhlLENBQWpCIn0=","map":{"version":3,"names":["require","config","bcrypt","jwt","httpStatus","ApiError","hashPassword","password","salt","genSalt","hashedPass","hash","createStaff","req","res","staff","body","staffExisted","getStaffByEmail","email","BAD_REQUEST","hashPass","newStaff","createNewStaff","fullname","avatar","console","log","error","genAuthToken","user","userObj","sub","id","token","sign","process","env","ACCESS_TOKEN_SECRET","expiresIn","comparePassword","candidatePassword","match","compare","signInWithEmailPassword","UNAUTHORIZED","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/","sources":["staffAuth.service.js"],"sourcesContent":["require(\"dotenv\").config();\nconst bcrypt = require(\"bcrypt\");\nconst jwt = require(\"jsonwebtoken\");\nconst httpStatus = require(\"http-status\");\n\nconst { ApiError } = require(\"../middleware/apiError\");\nimport {\n  getStaffByEmail,\n  createNewStaff,\n} from \"../repository/staffs.repository\";\n\nconst hashPassword = async (password) => {\n  const salt = await bcrypt.genSalt(10);\n  const hashedPass = await bcrypt.hash(password, salt);\n  return hashedPass;\n};\n\nconst createStaff = async (req, res) => {\n  try {\n    const staff = req.body;\n    const staffExisted = await getStaffByEmail(staff.email);\n    if (staffExisted) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Email already taken\");\n    }\n    const hashPass = await hashPassword(staff.password);\n    const newStaff = await createNewStaff({\n      email: staff.email,\n      fullname: staff.fullname,\n      password: hashPass,\n      avatar: null,\n    });\n    console.log(newStaff);\n    if (!newStaff) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Register fail\");\n    }\n    return newStaff;\n  } catch (error) {\n    throw error;\n  }\n};\nconst genAuthToken = async (user) => {\n  const userObj = {\n    sub: user.id,\n    email: user.email,\n    id: user.id,\n  };\n  const token = jwt.sign(userObj, process.env.ACCESS_TOKEN_SECRET, {\n    expiresIn: \"1d\",\n  });\n  return token;\n};\nconst comparePassword = async (candidatePassword, hashPassword) => {\n  // candidate password = hash password\n\n  const match = await bcrypt.compare(candidatePassword, hashPassword);\n  return match;\n};\nconst signInWithEmailPassword = async (email, password) => {\n  try {\n    // check email\n    const staff = await getStaffByEmail(email);\n    if (!staff) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"Sorry Bad Email\");\n    }\n    if (!(await comparePassword(password, staff.password))) {\n      throw new ApiError(\n        httpStatus.UNAUTHORIZED,\n        \"Ti khon hoc mt khu khng chnh xc\"\n      );\n    }\n    return staff;\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  createStaff,\n  genAuthToken,\n  signInWithEmailPassword,\n};\n"],"mappings":"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"}},"mtime":1666279748642},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/auth.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\n\nconst authController = require(\"../controller/auth.controller.js\");\n\nconst auth = require(\"../middleware/auth.middleware\");\n\nconst router = express.Router();\nrouter.post(\"/register\", authController.register);\nrouter.post(\"/login\", authController.login);\nrouter.patch(\"/verify\", authController.verifyCode);\nrouter.get(\"/isauth\", auth, authController.isauth); //------reset password------\n\nrouter.post(\"/forgot-password\", authController.forgotPassword);\nrouter.get(\"/reset-password/:id/:start\", authController.resetPassword);\nrouter.post(\"/reset-password/:id/:start\", authController.setNewPassword);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImF1dGhDb250cm9sbGVyIiwiYXV0aCIsInJvdXRlciIsIlJvdXRlciIsInBvc3QiLCJyZWdpc3RlciIsImxvZ2luIiwicGF0Y2giLCJ2ZXJpZnlDb2RlIiwiZ2V0IiwiaXNhdXRoIiwiZm9yZ290UGFzc3dvcmQiLCJyZXNldFBhc3N3b3JkIiwic2V0TmV3UGFzc3dvcmQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL3JvdXRlcy8iLCJzb3VyY2VzIjpbImF1dGgucm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3QgYXV0aENvbnRyb2xsZXIgPSByZXF1aXJlKFwiLi4vY29udHJvbGxlci9hdXRoLmNvbnRyb2xsZXIuanNcIik7XG5jb25zdCBhdXRoID0gcmVxdWlyZShcIi4uL21pZGRsZXdhcmUvYXV0aC5taWRkbGV3YXJlXCIpO1xuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgYXV0aENvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnBvc3QoXCIvbG9naW5cIiwgYXV0aENvbnRyb2xsZXIubG9naW4pO1xucm91dGVyLnBhdGNoKFwiL3ZlcmlmeVwiLCBhdXRoQ29udHJvbGxlci52ZXJpZnlDb2RlKTtcbnJvdXRlci5nZXQoXCIvaXNhdXRoXCIsIGF1dGgsIGF1dGhDb250cm9sbGVyLmlzYXV0aCk7XG4vLy0tLS0tLXJlc2V0IHBhc3N3b3JkLS0tLS0tXG5yb3V0ZXIucG9zdChcIi9mb3Jnb3QtcGFzc3dvcmRcIiwgYXV0aENvbnRyb2xsZXIuZm9yZ290UGFzc3dvcmQpO1xucm91dGVyLmdldChcIi9yZXNldC1wYXNzd29yZC86aWQvOnN0YXJ0XCIsIGF1dGhDb250cm9sbGVyLnJlc2V0UGFzc3dvcmQpO1xucm91dGVyLnBvc3QoXCIvcmVzZXQtcGFzc3dvcmQvOmlkLzpzdGFydFwiLCBhdXRoQ29udHJvbGxlci5zZXROZXdQYXNzd29yZCk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsTUFBTUMsY0FBYyxHQUFHRCxPQUFPLENBQUMsa0NBQUQsQ0FBOUI7O0FBQ0EsTUFBTUUsSUFBSSxHQUFHRixPQUFPLENBQUMsK0JBQUQsQ0FBcEI7O0FBQ0EsTUFBTUcsTUFBTSxHQUFHSixPQUFPLENBQUNLLE1BQVIsRUFBZjtBQUVBRCxNQUFNLENBQUNFLElBQVAsQ0FBWSxXQUFaLEVBQXlCSixjQUFjLENBQUNLLFFBQXhDO0FBQ0FILE1BQU0sQ0FBQ0UsSUFBUCxDQUFZLFFBQVosRUFBc0JKLGNBQWMsQ0FBQ00sS0FBckM7QUFDQUosTUFBTSxDQUFDSyxLQUFQLENBQWEsU0FBYixFQUF3QlAsY0FBYyxDQUFDUSxVQUF2QztBQUNBTixNQUFNLENBQUNPLEdBQVAsQ0FBVyxTQUFYLEVBQXNCUixJQUF0QixFQUE0QkQsY0FBYyxDQUFDVSxNQUEzQyxFLENBQ0E7O0FBQ0FSLE1BQU0sQ0FBQ0UsSUFBUCxDQUFZLGtCQUFaLEVBQWdDSixjQUFjLENBQUNXLGNBQS9DO0FBQ0FULE1BQU0sQ0FBQ08sR0FBUCxDQUFXLDRCQUFYLEVBQXlDVCxjQUFjLENBQUNZLGFBQXhEO0FBQ0FWLE1BQU0sQ0FBQ0UsSUFBUCxDQUFZLDRCQUFaLEVBQTBDSixjQUFjLENBQUNhLGNBQXpEO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmIsTUFBakIifQ==","map":{"version":3,"names":["express","require","authController","auth","router","Router","post","register","login","patch","verifyCode","get","isauth","forgotPassword","resetPassword","setNewPassword","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["auth.route.js"],"sourcesContent":["const express = require(\"express\");\nconst authController = require(\"../controller/auth.controller.js\");\nconst auth = require(\"../middleware/auth.middleware\");\nconst router = express.Router();\n\nrouter.post(\"/register\", authController.register);\nrouter.post(\"/login\", authController.login);\nrouter.patch(\"/verify\", authController.verifyCode);\nrouter.get(\"/isauth\", auth, authController.isauth);\n//------reset password------\nrouter.post(\"/forgot-password\", authController.forgotPassword);\nrouter.get(\"/reset-password/:id/:start\", authController.resetPassword);\nrouter.post(\"/reset-password/:id/:start\", authController.setNewPassword);\n\nmodule.exports = router;\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,cAAc,GAAGD,OAAO,CAAC,kCAAD,CAA9B;;AACA,MAAME,IAAI,GAAGF,OAAO,CAAC,+BAAD,CAApB;;AACA,MAAMG,MAAM,GAAGJ,OAAO,CAACK,MAAR,EAAf;AAEAD,MAAM,CAACE,IAAP,CAAY,WAAZ,EAAyBJ,cAAc,CAACK,QAAxC;AACAH,MAAM,CAACE,IAAP,CAAY,QAAZ,EAAsBJ,cAAc,CAACM,KAArC;AACAJ,MAAM,CAACK,KAAP,CAAa,SAAb,EAAwBP,cAAc,CAACQ,UAAvC;AACAN,MAAM,CAACO,GAAP,CAAW,SAAX,EAAsBR,IAAtB,EAA4BD,cAAc,CAACU,MAA3C,E,CACA;;AACAR,MAAM,CAACE,IAAP,CAAY,kBAAZ,EAAgCJ,cAAc,CAACW,cAA/C;AACAT,MAAM,CAACO,GAAP,CAAW,4BAAX,EAAyCT,cAAc,CAACY,aAAxD;AACAV,MAAM,CAACE,IAAP,CAAY,4BAAZ,EAA0CJ,cAAc,CAACa,cAAzD;AAEAC,MAAM,CAACC,OAAP,GAAiBb,MAAjB"}},"mtime":1667231633840},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/auth.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _auth = require(\"../service/auth.service\");\n\nconst authController = {\n  async register(req, res, next) {\n    try {\n      res.header(\"Access-Control-Allow-Headers\", \"*\");\n      res.header(\"Access-Control-Allow-Credentials\", true);\n      res.header(\"Access-Control-Allow-Methods\", \"GET,PUT,POST,DELETE\");\n      const member = await (0, _auth.createNewMember)(req, res);\n      const token = await (0, _auth.genAuthToken)(member);\n      res.cookie(\"sang\", \"sang dep chai\");\n      res.cookie(\"x-access-token\", token).status(200).send({\n        member,\n        token\n      });\n    } catch (error) {\n      console.log(error);\n      next(error);\n    }\n  },\n\n  async verifyCode(req, res, next) {\n    try {\n      const ve = await (0, _auth.veriCode)(req, res);\n\n      if (ve == 1) {\n        return res.json(\"Verify code successfully\");\n      }\n\n      return res.json(\"Verify code failed\");\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async login(req, res, next) {\n    try {\n      const {\n        email,\n        password\n      } = req.body;\n      const member = await (0, _auth.signInWithEmailPassword)(email, password);\n      const token = await (0, _auth.genAuthToken)(member);\n      res.cookie(\"x-access-token\", token).send({\n        member,\n        token\n      });\n    } catch (error) {\n      next(error); // res.send({ error: error.statusCode, message: error.message });\n    }\n  },\n\n  async isauth(req, res, next) {\n    res.json(req.currentUser);\n  },\n\n  //-----reset password------------------------\n  async forgotPassword(req, res, next) {\n    try {\n      const forgetPass = await (0, _auth.forgotPass)(req.body);\n      return res.json({\n        message: \"send link ok\"\n      });\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async resetPassword(req, res, next) {\n    try {\n      const resetPasss = await (0, _auth.resetPass)(req, res);\n      return res.json(resetPasss);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async setNewPassword(req, res, next) {\n    try {\n      const setNewPasswordd = await (0, _auth.setNewPassword)(req, res);\n    } catch (error) {\n      next(error);\n    }\n  }\n\n};\nmodule.exports = authController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhdXRoQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwibmV4dCIsImhlYWRlciIsIm1lbWJlciIsImNyZWF0ZU5ld01lbWJlciIsInRva2VuIiwiZ2VuQXV0aFRva2VuIiwiY29va2llIiwic3RhdHVzIiwic2VuZCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInZlcmlmeUNvZGUiLCJ2ZSIsInZlcmlDb2RlIiwianNvbiIsImxvZ2luIiwiZW1haWwiLCJwYXNzd29yZCIsImJvZHkiLCJzaWduSW5XaXRoRW1haWxQYXNzd29yZCIsImlzYXV0aCIsImN1cnJlbnRVc2VyIiwiZm9yZ290UGFzc3dvcmQiLCJmb3JnZXRQYXNzIiwiZm9yZ290UGFzcyIsIm1lc3NhZ2UiLCJyZXNldFBhc3N3b3JkIiwicmVzZXRQYXNzcyIsInJlc2V0UGFzcyIsInNldE5ld1Bhc3N3b3JkIiwic2V0TmV3UGFzc3dvcmRkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9jb250cm9sbGVyLyIsInNvdXJjZXMiOlsiYXV0aC5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGNyZWF0ZU5ld01lbWJlcixcbiAgZ2VuQXV0aFRva2VuLFxuICBzaWduSW5XaXRoRW1haWxQYXNzd29yZCxcbiAgdmVyaUNvZGUsXG4gIGZvcmdvdFBhc3MsXG4gIHJlc2V0UGFzcyxcbiAgc2V0TmV3UGFzc3dvcmRcbn0gZnJvbSBcIi4uL3NlcnZpY2UvYXV0aC5zZXJ2aWNlXCI7XG5cbmNvbnN0IGF1dGhDb250cm9sbGVyID0ge1xuICBhc3luYyByZWdpc3RlcihyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICByZXMuaGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVyc1wiLCBcIipcIik7XG4gICAgICByZXMuaGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHNcIiwgdHJ1ZSk7XG4gICAgICByZXMuaGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kc1wiLCBcIkdFVCxQVVQsUE9TVCxERUxFVEVcIik7XG4gICAgICBjb25zdCBtZW1iZXIgPSBhd2FpdCBjcmVhdGVOZXdNZW1iZXIocmVxLCByZXMpO1xuICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBnZW5BdXRoVG9rZW4obWVtYmVyKTtcbiAgICAgIHJlcy5jb29raWUoXCJzYW5nXCIsIFwic2FuZyBkZXAgY2hhaVwiKTtcbiAgICAgIHJlcy5jb29raWUoXCJ4LWFjY2Vzcy10b2tlblwiLCB0b2tlbikuc3RhdHVzKDIwMCkuc2VuZCh7XG4gICAgICAgIG1lbWJlcixcbiAgICAgICAgdG9rZW4sXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgbmV4dChlcnJvcik7XG4gICAgfVxuICB9LFxuICBhc3luYyB2ZXJpZnlDb2RlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHZlID0gYXdhaXQgdmVyaUNvZGUocmVxLCByZXMpO1xuICAgICAgaWYgKHZlID09IDEpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKFwiVmVyaWZ5IGNvZGUgc3VjY2Vzc2Z1bGx5XCIpXG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzLmpzb24oXCJWZXJpZnkgY29kZSBmYWlsZWRcIilcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbmV4dChlcnJvcik7XG4gICAgfVxuICB9LFxuICBhc3luYyBsb2dpbihyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gICAgICBjb25zdCBtZW1iZXIgPSBhd2FpdCBzaWduSW5XaXRoRW1haWxQYXNzd29yZChlbWFpbCwgcGFzc3dvcmQpO1xuICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBnZW5BdXRoVG9rZW4obWVtYmVyKTtcbiAgICAgIHJlcy5jb29raWUoXCJ4LWFjY2Vzcy10b2tlblwiLCB0b2tlbikuc2VuZCh7XG4gICAgICAgIG1lbWJlcixcbiAgICAgICAgdG9rZW4sXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbmV4dChlcnJvcik7XG4gICAgICAvLyByZXMuc2VuZCh7IGVycm9yOiBlcnJvci5zdGF0dXNDb2RlLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pO1xuICAgIH1cbiAgfSxcbiAgYXN5bmMgaXNhdXRoKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgcmVzLmpzb24ocmVxLmN1cnJlbnRVc2VyKTtcbiAgfSxcblxuXG5cbiAgLy8tLS0tLXJlc2V0IHBhc3N3b3JkLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblxuICBhc3luYyBmb3Jnb3RQYXNzd29yZChyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBmb3JnZXRQYXNzID0gYXdhaXQgZm9yZ290UGFzcyhyZXEuYm9keSlcbiAgICAgIHJldHVybiByZXMuanNvbih7IG1lc3NhZ2U6IFwic2VuZCBsaW5rIG9rXCIgfSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbmV4dChlcnJvcik7XG4gICAgfVxuICB9LFxuXG4gIGFzeW5jIHJlc2V0UGFzc3dvcmQocmVxLCByZXMsIG5leHQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzZXRQYXNzcyA9IGF3YWl0IHJlc2V0UGFzcyhyZXEsIHJlcylcbiAgICAgIHJldHVybiByZXMuanNvbihyZXNldFBhc3NzKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBuZXh0KGVycm9yKTtcblxuICAgIH1cbiAgfSxcbiAgYXN5bmMgc2V0TmV3UGFzc3dvcmQocmVxLCByZXMsIG5leHQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2V0TmV3UGFzc3dvcmRkID0gYXdhaXQgc2V0TmV3UGFzc3dvcmQocmVxLCByZXMpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG5leHQoZXJyb3IpO1xuICAgIH1cbiAgfVxufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IGF1dGhDb250cm9sbGVyO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQVVBLE1BQU1BLGNBQWMsR0FBRztFQUNyQixNQUFNQyxRQUFOLENBQWVDLEdBQWYsRUFBb0JDLEdBQXBCLEVBQXlCQyxJQUF6QixFQUErQjtJQUM3QixJQUFJO01BQ0ZELEdBQUcsQ0FBQ0UsTUFBSixDQUFXLDhCQUFYLEVBQTJDLEdBQTNDO01BQ0FGLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLGtDQUFYLEVBQStDLElBQS9DO01BQ0FGLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLDhCQUFYLEVBQTJDLHFCQUEzQztNQUNBLE1BQU1DLE1BQU0sR0FBRyxNQUFNLElBQUFDLHFCQUFBLEVBQWdCTCxHQUFoQixFQUFxQkMsR0FBckIsQ0FBckI7TUFDQSxNQUFNSyxLQUFLLEdBQUcsTUFBTSxJQUFBQyxrQkFBQSxFQUFhSCxNQUFiLENBQXBCO01BQ0FILEdBQUcsQ0FBQ08sTUFBSixDQUFXLE1BQVgsRUFBbUIsZUFBbkI7TUFDQVAsR0FBRyxDQUFDTyxNQUFKLENBQVcsZ0JBQVgsRUFBNkJGLEtBQTdCLEVBQW9DRyxNQUFwQyxDQUEyQyxHQUEzQyxFQUFnREMsSUFBaEQsQ0FBcUQ7UUFDbkROLE1BRG1EO1FBRW5ERTtNQUZtRCxDQUFyRDtJQUlELENBWEQsQ0FXRSxPQUFPSyxLQUFQLEVBQWM7TUFDZEMsT0FBTyxDQUFDQyxHQUFSLENBQVlGLEtBQVo7TUFDQVQsSUFBSSxDQUFDUyxLQUFELENBQUo7SUFDRDtFQUNGLENBakJvQjs7RUFrQnJCLE1BQU1HLFVBQU4sQ0FBaUJkLEdBQWpCLEVBQXNCQyxHQUF0QixFQUEyQkMsSUFBM0IsRUFBaUM7SUFDL0IsSUFBSTtNQUNGLE1BQU1hLEVBQUUsR0FBRyxNQUFN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","map":{"version":3,"names":["authController","register","req","res","next","header","member","createNewMember","token","genAuthToken","cookie","status","send","error","console","log","verifyCode","ve","veriCode","json","login","email","password","body","signInWithEmailPassword","isauth","currentUser","forgotPassword","forgetPass","forgotPass","message","resetPassword","resetPasss","resetPass","setNewPassword","setNewPasswordd","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/","sources":["auth.controller.js"],"sourcesContent":["import {\n  createNewMember,\n  genAuthToken,\n  signInWithEmailPassword,\n  veriCode,\n  forgotPass,\n  resetPass,\n  setNewPassword\n} from \"../service/auth.service\";\n\nconst authController = {\n  async register(req, res, next) {\n    try {\n      res.header(\"Access-Control-Allow-Headers\", \"*\");\n      res.header(\"Access-Control-Allow-Credentials\", true);\n      res.header(\"Access-Control-Allow-Methods\", \"GET,PUT,POST,DELETE\");\n      const member = await createNewMember(req, res);\n      const token = await genAuthToken(member);\n      res.cookie(\"sang\", \"sang dep chai\");\n      res.cookie(\"x-access-token\", token).status(200).send({\n        member,\n        token,\n      });\n    } catch (error) {\n      console.log(error);\n      next(error);\n    }\n  },\n  async verifyCode(req, res, next) {\n    try {\n      const ve = await veriCode(req, res);\n      if (ve == 1) {\n        return res.json(\"Verify code successfully\")\n      }\n      return res.json(\"Verify code failed\")\n    } catch (error) {\n      next(error);\n    }\n  },\n  async login(req, res, next) {\n    try {\n      const { email, password } = req.body;\n      const member = await signInWithEmailPassword(email, password);\n      const token = await genAuthToken(member);\n      res.cookie(\"x-access-token\", token).send({\n        member,\n        token,\n      });\n    } catch (error) {\n      next(error);\n      // res.send({ error: error.statusCode, message: error.message });\n    }\n  },\n  async isauth(req, res, next) {\n    res.json(req.currentUser);\n  },\n\n\n\n  //-----reset password------------------------\n\n\n  async forgotPassword(req, res, next) {\n    try {\n      const forgetPass = await forgotPass(req.body)\n      return res.json({ message: \"send link ok\" })\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async resetPassword(req, res, next) {\n    try {\n      const resetPasss = await resetPass(req, res)\n      return res.json(resetPasss)\n    } catch (error) {\n      next(error);\n\n    }\n  },\n  async setNewPassword(req, res, next) {\n    try {\n      const setNewPasswordd = await setNewPassword(req, res)\n    } catch (error) {\n      next(error);\n    }\n  }\n};\n\n\nmodule.exports = authController;\n"],"mappings":"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"}},"mtime":1667231633829},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/auth.service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nrequire(\"dotenv\").config();\n\nconst bcrypt = require(\"bcrypt\");\n\nconst jwt = require(\"jsonwebtoken\");\n\nconst httpStatus = require(\"http-status\");\n\nconst {\n  ApiError\n} = require(\"../middleware/apiError\");\n\nconst membersRepository = require(\"../repository/members.repository\");\n\nvar nodemailer = require(\"nodemailer\");\n\nconst {\n  response\n} = require(\"express\");\n\nconst hashPassword = async password => {\n  const salt = await bcrypt.genSalt(10);\n  const hashedPass = await bcrypt.hash(password, salt);\n  return hashedPass;\n};\n\nconst createNewMember = async (req, res) => {\n  try {\n    const member = req.body;\n    const memberExisted = await membersRepository.getMemberByEmail(member.email);\n\n    if (memberExisted) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Email already taken\");\n    }\n\n    const hashPass = await hashPassword(member.password);\n    const newMember = await membersRepository.createNewMember({\n      email: member.email,\n      fullname: member.fullname,\n      password: hashPass,\n      avatar: null,\n      verified_code: Math.floor(1000 + Math.random() * 9000)\n    });\n    console.log(newMember);\n\n    if (!newMember) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Register fail\");\n    } //send email verify cho nguoi dung\n    //Phai bat less secure app\n\n\n    await membersRepository.sendMail(newMember.email, \"Code to verify account\", \"your verify code is: \" + newMember.verified_code);\n    return newMember;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst veriCode = async (req, res) => {\n  try {\n    const memberEmail = req.body.email;\n    console.log(memberEmail);\n    let getCode = await membersRepository.getCodeByEmail(memberEmail);\n    console.log(getCode.verified_code);\n\n    if (!(getCode.verified_code == req.body.verified_code)) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"Invalid code\");\n    }\n\n    const icode = await membersRepository.updateStatus({\n      email: memberEmail\n    });\n    return icode;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst genAuthToken = async user => {\n  const userObj = {\n    sub: user.id,\n    email: user.email,\n    id: user.id\n  };\n  const token = jwt.sign(userObj, process.env.ACCESS_TOKEN_SECRET, {\n    expiresIn: \"1d\"\n  });\n  return token;\n};\n\nconst comparePassword = async (candidatePassword, hashPassword) => {\n  // candidate password = hash password\n  const match = await bcrypt.compare(candidatePassword, hashPassword);\n  return match;\n};\n\nconst signInWithEmailPassword = async (email, password) => {\n  try {\n    // check email\n    const member = await membersRepository.getMemberByEmailActive(email);\n\n    if (!member) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"Sorry Bad Email\");\n    }\n\n    if (!(await comparePassword(password, member.password))) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"Ti khon hoc mt khu khng chnh xc\");\n    }\n\n    return member;\n  } catch (error) {\n    throw error;\n  }\n}; //-----reset password------------------------\n\n\nconst forgotPass = async (data, res) => {\n  const email = data.email;\n\n  try {\n    if (!email) {\n      throw new ApiError(httpStatus.NOT_FOUND, \"Please enter your email\");\n    }\n\n    const oldUser = await membersRepository.getMemberByEmail(email);\n\n    if (!oldUser) {\n      throw new ApiError(httpStatus.NOT_FOUND, \"Ngi dng khng tn ti\");\n    } // const secret = process.env.ACCESS_TOKEN_SECRET + oldUser.password;\n    // const token = jwt.sign({ email: oldUser.email, id: oldUser.id }, secret, {\n    //   expiresIn: \"5m\",\n    // });\n\n\n    const start = Date.now();\n    console.log(start);\n    const link = `127.0.0.1:5173/reset-password/${oldUser.id}/${start}`;\n    await membersRepository.sendMail(oldUser.email, \"Password reset\", \"Reset Link expired in 5 minutes: \" + link);\n    console.log(\"Link expired in 5 minutes: \" + link); // res.json(\"pasword reset link send to your account\");\n  } catch (error) {\n    console.log(error);\n    throw error;\n  }\n};\n\nconst resetPass = async (req, res) => {\n  const {\n    id,\n    start\n  } = req.params;\n  console.log(req.params);\n  const oldUser = await membersRepository.getMemberById(id);\n\n  if (!oldUser) {\n    throw new ApiError(httpStatus.NOT_FOUND, \"Ngi dng khng tn ti\");\n  }\n\n  try {\n    const millis = Date.now() - start;\n\n    if (Math.floor(millis / 1000) > 300) {\n      return res.status(400).json({\n        message: \"Link ht hn\"\n      });\n    } else {\n      return res.json({\n        message: \"xc thc\"\n      });\n    }\n  } catch (error) {\n    console.log(error);\n    throw new ApiError(httpStatus.UNAUTHORIZED, \"Link ht hn\");\n  }\n};\n\nconst setNewPassword = async (req, res) => {\n  const {\n    id\n  } = req.params;\n  const {\n    password\n  } = req.body;\n  console.log(password);\n  const oldUser = await membersRepository.getMemberById(id);\n\n  if (!oldUser) {\n    throw new ApiError(httpStatus.NOT_FOUND, \"Ngi dng khng tn ti\");\n  }\n\n  try {\n    const newHashPassword = await hashPassword(password);\n    console.log(newHashPassword); //==============================update password=======================\n\n    const updatePassword = await membersRepository.update({\n      password: newHashPassword\n    }, {\n      id: oldUser.id\n    });\n    return res.json({\n      message: \"Thay i password thnh cng\"\n    });\n  } catch (error) {\n    // console.log(error);\n    throw error;\n  }\n};\n\nmodule.exports = {\n  createNewMember,\n  genAuthToken,\n  signInWithEmailPassword,\n  veriCode,\n  forgotPass,\n  resetPass,\n  setNewPassword\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiYmNyeXB0Iiwiand0IiwiaHR0cFN0YXR1cyIsIkFwaUVycm9yIiwibWVtYmVyc1JlcG9zaXRvcnkiLCJub2RlbWFpbGVyIiwicmVzcG9uc2UiLCJoYXNoUGFzc3dvcmQiLCJwYXNzd29yZCIsInNhbHQiLCJnZW5TYWx0IiwiaGFzaGVkUGFzcyIsImhhc2giLCJjcmVhdGVOZXdNZW1iZXIiLCJyZXEiLCJyZXMiLCJtZW1iZXIiLCJib2R5IiwibWVtYmVyRXhpc3RlZCIsImdldE1lbWJlckJ5RW1haWwiLCJlbWFpbCIsIkJBRF9SRVFVRVNUIiwiaGFzaFBhc3MiLCJuZXdNZW1iZXIiLCJmdWxsbmFtZSIsImF2YXRhciIsInZlcmlmaWVkX2NvZGUiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJjb25zb2xlIiwibG9nIiwic2VuZE1haWwiLCJlcnJvciIsInZlcmlDb2RlIiwibWVtYmVyRW1haWwiLCJnZXRDb2RlIiwiZ2V0Q29kZUJ5RW1haWwiLCJVTkFVVEhPUklaRUQiLCJpY29kZSIsInVwZGF0ZVN0YXR1cyIsImdlbkF1dGhUb2tlbiIsInVzZXIiLCJ1c2VyT2JqIiwic3ViIiwiaWQiLCJ0b2tlbiIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiQUNDRVNTX1RPS0VOX1NFQ1JFVCIsImV4cGlyZXNJbiIsImNvbXBhcmVQYXNzd29yZCIsImNhbmRpZGF0ZVBhc3N3b3JkIiwibWF0Y2giLCJjb21wYXJlIiwic2lnbkluV2l0aEVtYWlsUGFzc3dvcmQiLCJnZXRNZW1iZXJCeUVtYWlsQWN0aXZlIiwiZm9yZ290UGFzcyIsImRhdGEiLCJOT1RfRk9VTkQiLCJvbGRVc2VyIiwic3RhcnQiLCJEYXRlIiwibm93IiwibGluayIsInJlc2V0UGFzcyIsInBhcmFtcyIsImdldE1lbWJlckJ5SWQiLCJtaWxsaXMiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInNldE5ld1Bhc3N3b3JkIiwibmV3SGFzaFBhc3N3b3JkIiwidXBkYXRlUGFzc3dvcmQiLCJ1cGRhdGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL3NlcnZpY2UvIiwic291cmNlcyI6WyJhdXRoLnNlcnZpY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoXCJiY3J5cHRcIik7XG5jb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xuY29uc3QgaHR0cFN0YXR1cyA9IHJlcXVpcmUoXCJodHRwLXN0YXR1c1wiKTtcbmNvbnN0IHsgQXBpRXJyb3IgfSA9IHJlcXVpcmUoXCIuLi9taWRkbGV3YXJlL2FwaUVycm9yXCIpO1xuY29uc3QgbWVtYmVyc1JlcG9zaXRvcnkgPSByZXF1aXJlKFwiLi4vcmVwb3NpdG9yeS9tZW1iZXJzLnJlcG9zaXRvcnlcIik7XG52YXIgbm9kZW1haWxlciA9IHJlcXVpcmUoXCJub2RlbWFpbGVyXCIpO1xuY29uc3QgeyByZXNwb25zZSB9ID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5cbmNvbnN0IGhhc2hQYXNzd29yZCA9IGFzeW5jIChwYXNzd29yZCkgPT4ge1xuICBjb25zdCBzYWx0ID0gYXdhaXQgYmNyeXB0LmdlblNhbHQoMTApO1xuICBjb25zdCBoYXNoZWRQYXNzID0gYXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIHNhbHQpO1xuICByZXR1cm4gaGFzaGVkUGFzcztcbn07XG5cbmNvbnN0IGNyZWF0ZU5ld01lbWJlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IG1lbWJlciA9IHJlcS5ib2R5O1xuICAgIGNvbnN0IG1lbWJlckV4aXN0ZWQgPSBhd2FpdCBtZW1iZXJzUmVwb3NpdG9yeS5nZXRNZW1iZXJCeUVtYWlsKFxuICAgICAgbWVtYmVyLmVtYWlsXG4gICAgKTtcbiAgICBpZiAobWVtYmVyRXhpc3RlZCkge1xuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKGh0dHBTdGF0dXMuQkFEX1JFUVVFU1QsIFwiRW1haWwgYWxyZWFkeSB0YWtlblwiKTtcbiAgICB9XG4gICAgY29uc3QgaGFzaFBhc3MgPSBhd2FpdCBoYXNoUGFzc3dvcmQobWVtYmVyLnBhc3N3b3JkKTtcblxuICAgIGNvbnN0IG5ld01lbWJlciA9IGF3YWl0IG1lbWJlcnNSZXBvc2l0b3J5LmNyZWF0ZU5ld01lbWJlcih7XG4gICAgICBlbWFpbDogbWVtYmVyLmVtYWlsLFxuICAgICAgZnVsbG5hbWU6IG1lbWJlci5mdWxsbmFtZSxcbiAgICAgIHBhc3N3b3JkOiBoYXNoUGFzcyxcbiAgICAgIGF2YXRhcjogbnVsbCxcbiAgICAgIHZlcmlmaWVkX2NvZGU6IE1hdGguZmxvb3IoMTAwMCArIE1hdGgucmFuZG9tKCkgKiA5MDAwKSxcbiAgICB9KTtcblxuICAgIGNvbnNvbGUubG9nKG5ld01lbWJlcik7XG4gICAgaWYgKCFuZXdNZW1iZXIpIHtcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLkJBRF9SRVFVRVNULCBcIlJlZ2lzdGVyIGZhaWxcIik7XG4gICAgfVxuICAgIC8vc2VuZCBlbWFpbCB2ZXJpZnkgY2hvIG5ndW9pIGR1bmdcbiAgICAvL1BoYWkgYmF0IGxlc3Mgc2VjdXJlIGFwcFxuICAgIGF3YWl0IG1lbWJlcnNSZXBvc2l0b3J5LnNlbmRNYWlsKFxuICAgICAgbmV3TWVtYmVyLmVtYWlsLFxuICAgICAgXCJDb2RlIHRvIHZlcmlmeSBhY2NvdW50XCIsXG4gICAgICBcInlvdXIgdmVyaWZ5IGNvZGUgaXM6IFwiICsgbmV3TWVtYmVyLnZlcmlmaWVkX2NvZGVcbiAgICApO1xuICAgIHJldHVybiBuZXdNZW1iZXI7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5jb25zdCB2ZXJpQ29kZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IG1lbWJlckVtYWlsID0gcmVxLmJvZHkuZW1haWw7XG4gICAgY29uc29sZS5sb2cobWVtYmVyRW1haWwpO1xuICAgIGxldCBnZXRDb2RlID0gYXdhaXQgbWVtYmVyc1JlcG9zaXRvcnkuZ2V0Q29kZUJ5RW1haWwobWVtYmVyRW1haWwpO1xuICAgIGNvbnNvbGUubG9nKGdldENvZGUudmVyaWZpZWRfY29kZSk7XG4gICAgaWYgKCEoZ2V0Q29kZS52ZXJpZmllZF9jb2RlID09IHJlcS5ib2R5LnZlcmlmaWVkX2NvZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5VTkFVVEhPUklaRUQsIFwiSW52YWxpZCBjb2RlXCIpO1xuICAgIH1cbiAgICBjb25zdCBpY29kZSA9IGF3YWl0IG1lbWJlcnNSZXBvc2l0b3J5LnVwZGF0ZVN0YXR1cyh7IGVtYWlsOiBtZW1iZXJFbWFpbCB9KTtcblxuICAgIHJldHVybiBpY29kZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuY29uc3QgZ2VuQXV0aFRva2VuID0gYXN5bmMgKHVzZXIpID0+IHtcbiAgY29uc3QgdXNlck9iaiA9IHtcbiAgICBzdWI6IHVzZXIuaWQsXG4gICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgaWQ6IHVzZXIuaWQsXG4gIH07XG4gIGNvbnN0IHRva2VuID0gand0LnNpZ24odXNlck9iaiwgcHJvY2Vzcy5lbnYuQUNDRVNTX1RPS0VOX1NFQ1JFVCwge1xuICAgIGV4cGlyZXNJbjogXCIxZFwiLFxuICB9KTtcbiAgcmV0dXJuIHRva2VuO1xufTtcbmNvbnN0IGNvbXBhcmVQYXNzd29yZCA9IGFzeW5jIChjYW5kaWRhdGVQYXNzd29yZCwgaGFzaFBhc3N3b3JkKSA9PiB7XG4gIC8vIGNhbmRpZGF0ZSBwYXNzd29yZCA9IGhhc2ggcGFzc3dvcmRcblxuICBjb25zdCBtYXRjaCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKGNhbmRpZGF0ZVBhc3N3b3JkLCBoYXNoUGFzc3dvcmQpO1xuICByZXR1cm4gbWF0Y2g7XG59O1xuY29uc3Qgc2lnbkluV2l0aEVtYWlsUGFzc3dvcmQgPSBhc3luYyAoZW1haWwsIHBhc3N3b3JkKSA9PiB7XG4gIHRyeSB7XG4gICAgLy8gY2hlY2sgZW1haWxcbiAgICBjb25zdCBtZW1iZXIgPSBhd2FpdCBtZW1iZXJzUmVwb3NpdG9yeS5nZXRNZW1iZXJCeUVtYWlsQWN0aXZlKGVtYWlsKTtcbiAgICBpZiAoIW1lbWJlcikge1xuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKGh0dHBTdGF0dXMuVU5BVVRIT1JJWkVELCBcIlNvcnJ5IEJhZCBFbWFpbFwiKTtcbiAgICB9XG4gICAgaWYgKCEoYXdhaXQgY29tcGFyZVBhc3N3b3JkKHBhc3N3b3JkLCBtZW1iZXIucGFzc3dvcmQpKSkge1xuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKFxuICAgICAgICBodHRwU3RhdHVzLlVOQVVUSE9SSVpFRCxcbiAgICAgICAgXCJUw6BpIGtob+G6o24gaG/hurdjIG3huq10IGto4bqpdSBraMO0bmcgY2jDrW5oIHjDoWNcIlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG1lbWJlcjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuLy8tLS0tLXJlc2V0IHBhc3N3b3JkLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmNvbnN0IGZvcmdvdFBhc3MgPSBhc3luYyAoZGF0YSwgcmVzKSA9PiB7XG4gIGNvbnN0IGVtYWlsID0gZGF0YS5lbWFpbDtcbiAgdHJ5IHtcbiAgICBpZiAoIWVtYWlsKSB7XG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5OT1RfRk9VTkQsIFwiUGxlYXNlIGVudGVyIHlvdXIgZW1haWxcIik7XG4gICAgfVxuICAgIGNvbnN0IG9sZFVzZXIgPSBhd2FpdCBtZW1iZXJzUmVwb3NpdG9yeS5nZXRNZW1iZXJCeUVtYWlsKGVtYWlsKTtcblxuICAgIGlmICghb2xkVXNlcikge1xuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKGh0dHBTdGF0dXMuTk9UX0ZPVU5ELCBcIk5nxrDhu51pIGTDuW5nIGtow7RuZyB04buTbiB04bqhaVwiKTtcbiAgICB9XG4gICAgLy8gY29uc3Qgc2VjcmV0ID0gcHJvY2Vzcy5lbnYuQUNDRVNTX1RPS0VOX1NFQ1JFVCArIG9sZFVzZXIucGFzc3dvcmQ7XG4gICAgLy8gY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7IGVtYWlsOiBvbGRVc2VyLmVtYWlsLCBpZDogb2xkVXNlci5pZCB9LCBzZWNyZXQsIHtcbiAgICAvLyAgIGV4cGlyZXNJbjogXCI1bVwiLFxuICAgIC8vIH0pO1xuICAgIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICBjb25zb2xlLmxvZyhzdGFydCk7XG4gICAgY29uc3QgbGluayA9IGAxMjcuMC4wLjE6NTE3My9yZXNldC1wYXNzd29yZC8ke29sZFVzZXIuaWR9LyR7c3RhcnR9YDtcblxuICAgIGF3YWl0IG1lbWJlcnNSZXBvc2l0b3J5LnNlbmRNYWlsKFxuICAgICAgb2xkVXNlci5lbWFpbCxcbiAgICAgIFwiUGFzc3dvcmQgcmVzZXRcIixcbiAgICAgIFwiUmVzZXQgTGluayBleHBpcmVkIGluIDUgbWludXRlczogXCIgKyBsaW5rXG4gICAgKTtcbiAgICBjb25zb2xlLmxvZyhcIkxpbmsgZXhwaXJlZCBpbiA1IG1pbnV0ZXM6IFwiICsgbGluayk7XG5cbiAgICAvLyByZXMuanNvbihcInBhc3dvcmQgcmVzZXQgbGluayBzZW5kIHRvIHlvdXIgYWNjb3VudFwiKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbmNvbnN0IHJlc2V0UGFzcyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7IGlkLCBzdGFydCB9ID0gcmVxLnBhcmFtcztcbiAgY29uc29sZS5sb2cocmVxLnBhcmFtcyk7XG4gIGNvbnN0IG9sZFVzZXIgPSBhd2FpdCBtZW1iZXJzUmVwb3NpdG9yeS5nZXRNZW1iZXJCeUlkKGlkKTtcbiAgaWYgKCFvbGRVc2VyKSB7XG4gICAgdGhyb3cgbmV3IEFwaUVycm9yKGh0dHBTdGF0dXMuTk9UX0ZPVU5ELCBcIk5nxrDhu51pIGTDuW5nIGtow7RuZyB04buTbiB04bqhaVwiKTtcbiAgfVxuICB0cnkge1xuICAgIGNvbnN0IG1pbGxpcyA9IERhdGUubm93KCkgLSBzdGFydDtcbiAgICBpZiAoTWF0aC5mbG9vcihtaWxsaXMgLyAxMDAwKSA+IDMwMCkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogXCJMaW5rIGjhur90IGjhuqFuXCIgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiByZXMuanNvbih7IG1lc3NhZ2U6IFwieMOhYyB0aOG7sWNcIiB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLlVOQVVUSE9SSVpFRCwgXCJMaW5rIGjhur90IGjhuqFuXCIpO1xuICB9XG59O1xuXG5jb25zdCBzZXROZXdQYXNzd29yZCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zO1xuICBjb25zdCB7IHBhc3N3b3JkIH0gPSByZXEuYm9keTtcbiAgY29uc29sZS5sb2cocGFzc3dvcmQpO1xuICBjb25zdCBvbGRVc2VyID0gYXdhaXQgbWVtYmVyc1JlcG9zaXRvcnkuZ2V0TWVtYmVyQnlJZChpZCk7XG4gIGlmICghb2xkVXNlcikge1xuICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLk5PVF9GT1VORCwgXCJOZ8aw4budaSBkw7luZyBraMO0bmcgdOG7k24gdOG6oWlcIik7XG4gIH1cbiAgdHJ5IHtcbiAgICBjb25zdCBuZXdIYXNoUGFzc3dvcmQgPSBhd2FpdCBoYXNoUGFzc3dvcmQocGFzc3dvcmQpO1xuICAgIGNvbnNvbGUubG9nKG5ld0hhc2hQYXNzd29yZCk7XG4gICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT11cGRhdGUgcGFzc3dvcmQ9PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgY29uc3QgdXBkYXRlUGFzc3dvcmQgPSBhd2FpdCBtZW1iZXJzUmVwb3NpdG9yeS51cGRhdGUoXG4gICAgICB7IHBhc3N3b3JkOiBuZXdIYXNoUGFzc3dvcmQgfSxcbiAgICAgIHsgaWQ6IG9sZFVzZXIuaWQgfVxuICAgICk7XG4gICAgcmV0dXJuIHJlcy5qc29uKHsgbWVzc2FnZTogXCJUaGF5IMSR4buVaSBwYXNzd29yZCB0aMOgbmggY8O0bmdcIiB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAvLyBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjcmVhdGVOZXdNZW1iZXIsXG4gIGdlbkF1dGhUb2tlbixcbiAgc2lnbkluV2l0aEVtYWlsUGFzc3dvcmQsXG4gIHZlcmlDb2RlLFxuICBmb3Jnb3RQYXNzLFxuICByZXNldFBhc3MsXG4gIHNldE5ld1Bhc3N3b3JkLFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEI7O0FBQ0EsTUFBTUMsTUFBTSxHQUFHRixPQUFPLENBQUMsUUFBRCxDQUF0Qjs7QUFDQSxNQUFNRyxHQUFHLEdBQUdILE9BQU8sQ0FBQyxjQUFELENBQW5COztBQUNBLE1BQU1JLFVBQVUsR0FBR0osT0FBTyxDQUFDLGFBQUQsQ0FBMUI7O0FBQ0EsTUFBTTtFQUFFSztBQUFGLElBQWVMLE9BQU8sQ0FBQyx3QkFBRCxDQUE1Qjs7QUFDQSxNQUFNTSxpQkFBaUIsR0FBR04sT0FBTyxDQUFDLGtDQUFELENBQWpDOztBQUNBLElBQUlPLFVBQVUsR0FBR1AsT0FBTyxDQUFDLFlBQUQsQ0FBeEI7O0FBQ0EsTUFBTTtFQUFFUTtBQUFG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","map":{"version":3,"names":["require","config","bcrypt","jwt","httpStatus","ApiError","membersRepository","nodemailer","response","hashPassword","password","salt","genSalt","hashedPass","hash","createNewMember","req","res","member","body","memberExisted","getMemberByEmail","email","BAD_REQUEST","hashPass","newMember","fullname","avatar","verified_code","Math","floor","random","console","log","sendMail","error","veriCode","memberEmail","getCode","getCodeByEmail","UNAUTHORIZED","icode","updateStatus","genAuthToken","user","userObj","sub","id","token","sign","process","env","ACCESS_TOKEN_SECRET","expiresIn","comparePassword","candidatePassword","match","compare","signInWithEmailPassword","getMemberByEmailActive","forgotPass","data","NOT_FOUND","oldUser","start","Date","now","link","resetPass","params","getMemberById","millis","status","json","message","setNewPassword","newHashPassword","updatePassword","update","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/","sources":["auth.service.js"],"sourcesContent":["require(\"dotenv\").config();\nconst bcrypt = require(\"bcrypt\");\nconst jwt = require(\"jsonwebtoken\");\nconst httpStatus = require(\"http-status\");\nconst { ApiError } = require(\"../middleware/apiError\");\nconst membersRepository = require(\"../repository/members.repository\");\nvar nodemailer = require(\"nodemailer\");\nconst { response } = require(\"express\");\n\nconst hashPassword = async (password) => {\n  const salt = await bcrypt.genSalt(10);\n  const hashedPass = await bcrypt.hash(password, salt);\n  return hashedPass;\n};\n\nconst createNewMember = async (req, res) => {\n  try {\n    const member = req.body;\n    const memberExisted = await membersRepository.getMemberByEmail(\n      member.email\n    );\n    if (memberExisted) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Email already taken\");\n    }\n    const hashPass = await hashPassword(member.password);\n\n    const newMember = await membersRepository.createNewMember({\n      email: member.email,\n      fullname: member.fullname,\n      password: hashPass,\n      avatar: null,\n      verified_code: Math.floor(1000 + Math.random() * 9000),\n    });\n\n    console.log(newMember);\n    if (!newMember) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Register fail\");\n    }\n    //send email verify cho nguoi dung\n    //Phai bat less secure app\n    await membersRepository.sendMail(\n      newMember.email,\n      \"Code to verify account\",\n      \"your verify code is: \" + newMember.verified_code\n    );\n    return newMember;\n  } catch (error) {\n    throw error;\n  }\n};\nconst veriCode = async (req, res) => {\n  try {\n    const memberEmail = req.body.email;\n    console.log(memberEmail);\n    let getCode = await membersRepository.getCodeByEmail(memberEmail);\n    console.log(getCode.verified_code);\n    if (!(getCode.verified_code == req.body.verified_code)) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"Invalid code\");\n    }\n    const icode = await membersRepository.updateStatus({ email: memberEmail });\n\n    return icode;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst genAuthToken = async (user) => {\n  const userObj = {\n    sub: user.id,\n    email: user.email,\n    id: user.id,\n  };\n  const token = jwt.sign(userObj, process.env.ACCESS_TOKEN_SECRET, {\n    expiresIn: \"1d\",\n  });\n  return token;\n};\nconst comparePassword = async (candidatePassword, hashPassword) => {\n  // candidate password = hash password\n\n  const match = await bcrypt.compare(candidatePassword, hashPassword);\n  return match;\n};\nconst signInWithEmailPassword = async (email, password) => {\n  try {\n    // check email\n    const member = await membersRepository.getMemberByEmailActive(email);\n    if (!member) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"Sorry Bad Email\");\n    }\n    if (!(await comparePassword(password, member.password))) {\n      throw new ApiError(\n        httpStatus.UNAUTHORIZED,\n        \"Ti khon hoc mt khu khng chnh xc\"\n      );\n    }\n    return member;\n  } catch (error) {\n    throw error;\n  }\n};\n\n//-----reset password------------------------\n\nconst forgotPass = async (data, res) => {\n  const email = data.email;\n  try {\n    if (!email) {\n      throw new ApiError(httpStatus.NOT_FOUND, \"Please enter your email\");\n    }\n    const oldUser = await membersRepository.getMemberByEmail(email);\n\n    if (!oldUser) {\n      throw new ApiError(httpStatus.NOT_FOUND, \"Ngi dng khng tn ti\");\n    }\n    // const secret = process.env.ACCESS_TOKEN_SECRET + oldUser.password;\n    // const token = jwt.sign({ email: oldUser.email, id: oldUser.id }, secret, {\n    //   expiresIn: \"5m\",\n    // });\n    const start = Date.now();\n    console.log(start);\n    const link = `127.0.0.1:5173/reset-password/${oldUser.id}/${start}`;\n\n    await membersRepository.sendMail(\n      oldUser.email,\n      \"Password reset\",\n      \"Reset Link expired in 5 minutes: \" + link\n    );\n    console.log(\"Link expired in 5 minutes: \" + link);\n\n    // res.json(\"pasword reset link send to your account\");\n  } catch (error) {\n    console.log(error);\n    throw error;\n  }\n};\n\nconst resetPass = async (req, res) => {\n  const { id, start } = req.params;\n  console.log(req.params);\n  const oldUser = await membersRepository.getMemberById(id);\n  if (!oldUser) {\n    throw new ApiError(httpStatus.NOT_FOUND, \"Ngi dng khng tn ti\");\n  }\n  try {\n    const millis = Date.now() - start;\n    if (Math.floor(millis / 1000) > 300) {\n      return res.status(400).json({ message: \"Link ht hn\" });\n    } else {\n      return res.json({ message: \"xc thc\" });\n    }\n  } catch (error) {\n    console.log(error);\n    throw new ApiError(httpStatus.UNAUTHORIZED, \"Link ht hn\");\n  }\n};\n\nconst setNewPassword = async (req, res) => {\n  const { id } = req.params;\n  const { password } = req.body;\n  console.log(password);\n  const oldUser = await membersRepository.getMemberById(id);\n  if (!oldUser) {\n    throw new ApiError(httpStatus.NOT_FOUND, \"Ngi dng khng tn ti\");\n  }\n  try {\n    const newHashPassword = await hashPassword(password);\n    console.log(newHashPassword);\n    //==============================update password=======================\n\n    const updatePassword = await membersRepository.update(\n      { password: newHashPassword },\n      { id: oldUser.id }\n    );\n    return res.json({ message: \"Thay i password thnh cng\" });\n  } catch (error) {\n    // console.log(error);\n    throw error;\n  }\n};\n\nmodule.exports = {\n  createNewMember,\n  genAuthToken,\n  signInWithEmailPassword,\n  veriCode,\n  forgotPass,\n  resetPass,\n  setNewPassword,\n};\n"],"mappings":"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"}},"mtime":1667231633845},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/middleware/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/middleware/apiError.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _httpStatus = _interopRequireDefault(require(\"http-status\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass ApiError extends Error {\n  constructor(statusCode, message) {\n    super();\n    this.statusCode = statusCode;\n    this.message = message;\n  }\n\n}\n\nconst handleError = (err, res) => {\n  const {\n    statusCode,\n    message\n  } = err;\n  res.status(statusCode).json({\n    status: \"error\",\n    statusCode,\n    message\n  });\n};\n\nconst convertToApiError = (err, req, res, next) => {\n  let error = err; // check nu ko c error\n\n  if (!(error instanceof ApiError)) {\n    const statusCode = error.statusCode || _httpStatus.default.BAD_REQUEST || _httpStatus.default.INTERNAL_SERVER_ERROR;\n    const message = error.message || _httpStatus.default[statusCode];\n    error = new ApiError(statusCode, message);\n  }\n\n  next(error);\n};\n\nmodule.exports = {\n  ApiError,\n  handleError,\n  convertToApiError\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBcGlFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJzdGF0dXNDb2RlIiwibWVzc2FnZSIsImhhbmRsZUVycm9yIiwiZXJyIiwicmVzIiwic3RhdHVzIiwianNvbiIsImNvbnZlcnRUb0FwaUVycm9yIiwicmVxIiwibmV4dCIsImVycm9yIiwiaHR0cFN0YXR1cyIsIkJBRF9SRVFVRVNUIiwiSU5URVJOQUxfU0VSVkVSX0VSUk9SIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9taWRkbGV3YXJlLyIsInNvdXJjZXMiOlsiYXBpRXJyb3IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGh0dHBTdGF0dXMgZnJvbSBcImh0dHAtc3RhdHVzXCI7XG5jbGFzcyBBcGlFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3Ioc3RhdHVzQ29kZSwgbWVzc2FnZSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB9XG59XG5cbmNvbnN0IGhhbmRsZUVycm9yID0gKGVyciwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgc3RhdHVzQ29kZSwgbWVzc2FnZSB9ID0gZXJyO1xuICByZXMuc3RhdHVzKHN0YXR1c0NvZGUpLmpzb24oe1xuICAgIHN0YXR1czogXCJlcnJvclwiLFxuICAgIHN0YXR1c0NvZGUsXG4gICAgbWVzc2FnZSxcbiAgfSk7XG59O1xuY29uc3QgY29udmVydFRvQXBpRXJyb3IgPSAoZXJyLCByZXEsIHJlcywgbmV4dCkgPT4ge1xuICBsZXQgZXJyb3IgPSBlcnI7XG4gIC8vIGNoZWNrIG7hur91IGtvIGPDsyBlcnJvclxuICBpZiAoIShlcnJvciBpbnN0YW5jZW9mIEFwaUVycm9yKSkge1xuICAgIGNvbnN0IHN0YXR1c0NvZGUgPVxuICAgICAgZXJyb3Iuc3RhdHVzQ29kZSB8fFxuICAgICAgaHR0cFN0YXR1cy5CQURfUkVRVUVTVCB8fFxuICAgICAgaHR0cFN0YXR1cy5JTlRFUk5BTF9TRVJWRVJfRVJST1I7XG4gICAgY29uc3QgbWVzc2FnZSA9IGVycm9yLm1lc3NhZ2UgfHwgaHR0cFN0YXR1c1tzdGF0dXNDb2RlXTtcbiAgICBlcnJvciA9IG5ldyBBcGlFcnJvcihzdGF0dXNDb2RlLCBtZXNzYWdlKTtcbiAgfVxuICBuZXh0KGVycm9yKTtcbn07XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgQXBpRXJyb3IsXG4gIGhhbmRsZUVycm9yLFxuICBjb252ZXJ0VG9BcGlFcnJvcixcbn07XG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7QUFDQSxNQUFNQSxRQUFOLFNBQXVCQyxLQUF2QixDQUE2QjtFQUMzQkMsV0FBVyxDQUFDQyxVQUFELEVBQWFDLE9BQWIsRUFBc0I7SUFDL0I7SUFDQSxLQUFLRCxVQUFMLEdBQWtCQSxVQUFsQjtJQUNBLEtBQUtDLE9BQUwsR0FBZUEsT0FBZjtFQUNEOztBQUwwQjs7QUFRN0IsTUFBTUMsV0FBVyxHQUFHLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjO0VBQ2hDLE1BQU07SUFBRUosVUFBRjtJQUFjQztFQUFkLElBQTBCRSxHQUFoQztFQUNBQyxHQUFHLENBQUNDLE1BQUosQ0FBV0wsVUFBWCxFQUF1Qk0sSUFBdkIsQ0FBNEI7SUFDMUJELE1BQU0sRUFBRSxPQURrQjtJQUUxQkwsVUFGMEI7SUFHMUJDO0VBSDBCLENBQTVCO0FBS0QsQ0FQRDs7QUFRQSxNQUFNTSxpQkFBaUIsR0FBRyxDQUFDSixHQUFELEVBQU1LLEdBQU4sRUFBV0osR0FBWCxFQUFnQkssSUFBaEIsS0FBeUI7RUFDakQsSUFBSUMsS0FBSyxHQUFHUCxHQUFaLENBRGlELENBRWpEOztFQUNBLElBQUksRUFBRU8sS0FBSyxZQUFZYixRQUFuQixDQUFKLEVBQWtDO0lBQ2hDLE1BQU1HLFVBQVUsR0FDZFUsS0FBSyxDQUFDVixVQUFOLElBQ0FXLG1CQUFBLENBQVdDLFdBRFgsSUFFQUQsbUJBQUEsQ0FBV0UscUJBSGI7SUFJQSxNQUFNWixPQUFPLEdBQUdTLEtBQUssQ0FBQ1QsT0FBTixJQUFpQlUsbUJBQUEsQ0FBV1gsVUFBWCxDQUFqQztJQUNBVSxLQUFLLEdBQUcsSUFBSWIsUUFBSixDQUFhRyxVQUFiLEVBQXlCQyxPQUF6QixDQUFSO0VBQ0Q7O0VBQ0RRLElBQUksQ0FBQ0MsS0FBRCxDQUFKO0FBQ0QsQ0FaRDs7QUFhQUksTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2ZsQixRQURlO0VBRWZLLFdBRmU7RUFHZks7QUFIZSxDQUFqQiJ9","map":{"version":3,"names":["ApiError","Error","constructor","statusCode","message","handleError","err","res","status","json","convertToApiError","req","next","error","httpStatus","BAD_REQUEST","INTERNAL_SERVER_ERROR","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/middleware/","sources":["apiError.js"],"sourcesContent":["import httpStatus from \"http-status\";\nclass ApiError extends Error {\n  constructor(statusCode, message) {\n    super();\n    this.statusCode = statusCode;\n    this.message = message;\n  }\n}\n\nconst handleError = (err, res) => {\n  const { statusCode, message } = err;\n  res.status(statusCode).json({\n    status: \"error\",\n    statusCode,\n    message,\n  });\n};\nconst convertToApiError = (err, req, res, next) => {\n  let error = err;\n  // check nu ko c error\n  if (!(error instanceof ApiError)) {\n    const statusCode =\n      error.statusCode ||\n      httpStatus.BAD_REQUEST ||\n      httpStatus.INTERNAL_SERVER_ERROR;\n    const message = error.message || httpStatus[statusCode];\n    error = new ApiError(statusCode, message);\n  }\n  next(error);\n};\nmodule.exports = {\n  ApiError,\n  handleError,\n  convertToApiError,\n};\n"],"mappings":";;AAAA;;;;AACA,MAAMA,QAAN,SAAuBC,KAAvB,CAA6B;EAC3BC,WAAW,CAACC,UAAD,EAAaC,OAAb,EAAsB;IAC/B;IACA,KAAKD,UAAL,GAAkBA,UAAlB;IACA,KAAKC,OAAL,GAAeA,OAAf;EACD;;AAL0B;;AAQ7B,MAAMC,WAAW,GAAG,CAACC,GAAD,EAAMC,GAAN,KAAc;EAChC,MAAM;IAAEJ,UAAF;IAAcC;EAAd,IAA0BE,GAAhC;EACAC,GAAG,CAACC,MAAJ,CAAWL,UAAX,EAAuBM,IAAvB,CAA4B;IAC1BD,MAAM,EAAE,OADkB;IAE1BL,UAF0B;IAG1BC;EAH0B,CAA5B;AAKD,CAPD;;AAQA,MAAMM,iBAAiB,GAAG,CAACJ,GAAD,EAAMK,GAAN,EAAWJ,GAAX,EAAgBK,IAAhB,KAAyB;EACjD,IAAIC,KAAK,GAAGP,GAAZ,CADiD,CAEjD;;EACA,IAAI,EAAEO,KAAK,YAAYb,QAAnB,CAAJ,EAAkC;IAChC,MAAMG,UAAU,GACdU,KAAK,CAACV,UAAN,IACAW,mBAAA,CAAWC,WADX,IAEAD,mBAAA,CAAWE,qBAHb;IAIA,MAAMZ,OAAO,GAAGS,KAAK,CAACT,OAAN,IAAiBU,mBAAA,CAAWX,UAAX,CAAjC;IACAU,KAAK,GAAG,IAAIb,QAAJ,CAAaG,UAAb,EAAyBC,OAAzB,CAAR;EACD;;EACDQ,IAAI,CAACC,KAAD,CAAJ;AACD,CAZD;;AAaAI,MAAM,CAACC,OAAP,GAAiB;EACflB,QADe;EAEfK,WAFe;EAGfK;AAHe,CAAjB"}},"mtime":1666279748619},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/dbconnect.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\n// import { createRequire } from \"module\";\n// const require = createRequire(import.meta.url);\nconst {\n  Sequelize\n} = require(\"sequelize\"); // Option 3: Passing parameters separately (other dialects)\n\n\nconst sequelize = new Sequelize(\"hrms\", \"root\", \"12072002\", {\n  host: \"localhost\",\n  dialect: \"mysql\",\n  logging: false\n});\n\nlet connectDB = async () => {\n  try {\n    await sequelize.authenticate();\n    console.log(\"Connection has been established successfully.\");\n  } catch (error) {\n    console.error(\"Unable to connect to the database: \", error);\n  }\n};\n\nmodule.exports = connectDB;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTZXF1ZWxpemUiLCJyZXF1aXJlIiwic2VxdWVsaXplIiwiaG9zdCIsImRpYWxlY3QiLCJsb2dnaW5nIiwiY29ubmVjdERCIiwiYXV0aGVudGljYXRlIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy8iLCJzb3VyY2VzIjpbImRiY29ubmVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgeyBjcmVhdGVSZXF1aXJlIH0gZnJvbSBcIm1vZHVsZVwiO1xuXG4vLyBjb25zdCByZXF1aXJlID0gY3JlYXRlUmVxdWlyZShpbXBvcnQubWV0YS51cmwpO1xuXG5jb25zdCB7IFNlcXVlbGl6ZSB9ID0gcmVxdWlyZShcInNlcXVlbGl6ZVwiKTtcbi8vIE9wdGlvbiAzOiBQYXNzaW5nIHBhcmFtZXRlcnMgc2VwYXJhdGVseSAob3RoZXIgZGlhbGVjdHMpXG5jb25zdCBzZXF1ZWxpemUgPSBuZXcgU2VxdWVsaXplKFwiaHJtc1wiLCBcInJvb3RcIiwgXCIxMjA3MjAwMlwiLCB7XG4gIGhvc3Q6IFwibG9jYWxob3N0XCIsXG4gIGRpYWxlY3Q6IFwibXlzcWxcIixcbiAgbG9nZ2luZzogZmFsc2UsXG59KTtcblxubGV0IGNvbm5lY3REQiA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBzZXF1ZWxpemUuYXV0aGVudGljYXRlKCk7XG4gICAgY29uc29sZS5sb2coXCJDb25uZWN0aW9uIGhhcyBiZWVuIGVzdGFibGlzaGVkIHN1Y2Nlc3NmdWxseS5cIik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIlVuYWJsZSB0byBjb25uZWN0IHRvIHRoZSBkYXRhYmFzZTogXCIsIGVycm9yKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBjb25uZWN0REI7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFFQTtBQUVBLE1BQU07RUFBRUE7QUFBRixJQUFnQkMsT0FBTyxDQUFDLFdBQUQsQ0FBN0IsQyxDQUNBOzs7QUFDQSxNQUFNQyxTQUFTLEdBQUcsSUFBSUYsU0FBSixDQUFjLE1BQWQsRUFBc0IsTUFBdEIsRUFBOEIsVUFBOUIsRUFBMEM7RUFDMURHLElBQUksRUFBRSxXQURvRDtFQUUxREMsT0FBTyxFQUFFLE9BRmlEO0VBRzFEQyxPQUFPLEVBQUU7QUFIaUQsQ0FBMUMsQ0FBbEI7O0FBTUEsSUFBSUMsU0FBUyxHQUFHLFlBQVk7RUFDMUIsSUFBSTtJQUNGLE1BQU1KLFNBQVMsQ0FBQ0ssWUFBVixFQUFOO0lBQ0FDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLCtDQUFaO0VBQ0QsQ0FIRCxDQUdFLE9BQU9DLEtBQVAsRUFBYztJQUNkRixPQUFPLENBQUNFLEtBQVIsQ0FBYyxxQ0FBZCxFQUFxREEsS0FBckQ7RUFDRDtBQUNGLENBUEQ7O0FBU0FDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQk4sU0FBakIifQ==","map":{"version":3,"names":["Sequelize","require","sequelize","host","dialect","logging","connectDB","authenticate","console","log","error","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/","sources":["dbconnect.js"],"sourcesContent":["// import { createRequire } from \"module\";\n\n// const require = createRequire(import.meta.url);\n\nconst { Sequelize } = require(\"sequelize\");\n// Option 3: Passing parameters separately (other dialects)\nconst sequelize = new Sequelize(\"hrms\", \"root\", \"12072002\", {\n  host: \"localhost\",\n  dialect: \"mysql\",\n  logging: false,\n});\n\nlet connectDB = async () => {\n  try {\n    await sequelize.authenticate();\n    console.log(\"Connection has been established successfully.\");\n  } catch (error) {\n    console.error(\"Unable to connect to the database: \", error);\n  }\n};\n\nmodule.exports = connectDB;\n"],"mappings":";;AAAA;AAEA;AAEA,MAAM;EAAEA;AAAF,IAAgBC,OAAO,CAAC,WAAD,CAA7B,C,CACA;;;AACA,MAAMC,SAAS,GAAG,IAAIF,SAAJ,CAAc,MAAd,EAAsB,MAAtB,EAA8B,UAA9B,EAA0C;EAC1DG,IAAI,EAAE,WADoD;EAE1DC,OAAO,EAAE,OAFiD;EAG1DC,OAAO,EAAE;AAHiD,CAA1C,CAAlB;;AAMA,IAAIC,SAAS,GAAG,YAAY;EAC1B,IAAI;IACF,MAAMJ,SAAS,CAACK,YAAV,EAAN;IACAC,OAAO,CAACC,GAAR,CAAY,+CAAZ;EACD,CAHD,CAGE,OAAOC,KAAP,EAAc;IACdF,OAAO,CAACE,KAAR,CAAc,qCAAd,EAAqDA,KAArD;EACD;AACF,CAPD;;AASAC,MAAM,CAACC,OAAP,GAAiBN,SAAjB"}},"mtime":1667231633833},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/members.repository.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _index = require(\"../models/index.js\");\n\nconst {\n  QueryTypes,\n  where\n} = require(\"sequelize\");\n\nconst db = require(\"../models\");\n\nrequire(\"dotenv\").config();\n\nconst Members = db.Members;\n\nconst findOne = async where => {\n  var _await$Members$findOn;\n\n  return (_await$Members$findOn = await Members.findOne({\n    where: where\n  })) === null || _await$Members$findOn === void 0 ? void 0 : _await$Members$findOn.dataValues;\n};\n\nconst createNewMember = async user => {\n  const member = await Members.create({\n    email: user.email,\n    fullname: user.fullname,\n    password: user.password,\n    verified_code: user.verified_code\n  });\n  return member === null || member === void 0 ? void 0 : member.dataValues;\n};\n\nconst getMemberByEmail = async email => {\n  var _await$Members$findOn2;\n\n  console.log(email);\n  return (_await$Members$findOn2 = await Members.findOne({\n    where: {\n      email: email\n    }\n  })) === null || _await$Members$findOn2 === void 0 ? void 0 : _await$Members$findOn2.dataValues;\n};\n\nconst getMemberByEmailActive = async email => {\n  var _await$Members$findOn3;\n\n  console.log(email);\n  return (_await$Members$findOn3 = await Members.findOne({\n    where: {\n      email: email,\n      status: \"Active\"\n    }\n  })) === null || _await$Members$findOn3 === void 0 ? void 0 : _await$Members$findOn3.dataValues;\n};\n\nconst getCodeByEmail = email => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const [results, metadata] = await _index.sequelize.query(`select verified_code from members where email = '${email}'`, {\n        type: QueryTypes.SELECT\n      });\n      console.log(results);\n      resolve(results);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nconst updateStatus = async where => {\n  return await Members.update({\n    status: \"Active\"\n  }, {\n    where: where\n  });\n};\n\nconst getMemberById = async memberID => {\n  var _await$Members$findOn4;\n\n  return (_await$Members$findOn4 = await Members.findOne({\n    where: {\n      id: memberID\n    }\n  })) === null || _await$Members$findOn4 === void 0 ? void 0 : _await$Members$findOn4.dataValues;\n};\n\nconst update = async (newObj, where) => {\n  await Members.update(newObj, {\n    where: where\n  });\n};\n\nconst showAllMember = async () => {\n  let memberList = [];\n  memberList = await Members.findAll({\n    raw: true\n  });\n  console.log(memberList);\n  return memberList;\n};\n\nconst sendMail = async (email, subject, text) => {\n  var nodemailer = require(\"nodemailer\");\n\n  var transporter = nodemailer.createTransport({\n    service: \"gmail\",\n    auth: {\n      user: process.env.MY_EMAIL,\n      pass: process.env.MY_PASSWORD\n    }\n  });\n  var mailOptions = {\n    from: process.env.MY_EMAIL,\n    to: email,\n    subject: subject,\n    text: text\n  };\n  transporter.sendMail(mailOptions, function (error, info) {\n    if (error) {\n      console.log(error);\n    } else {\n      console.log(\"Email sent: \" + info.response);\n    }\n  });\n}; // const updatePass = async (pass, where) => {\n//   console.log(where)\n//   await Members.update(pass, {\n//     where: where\n//   })\n// }\n\n\nconst updatePass = async (pass, where) => {\n  await Members.update(pass, {\n    where: where\n  });\n};\n\nmodule.exports = {\n  findOne,\n  createNewMember,\n  getMemberByEmail,\n  getMemberById,\n  update,\n  showAllMember,\n  updateStatus,\n  getCodeByEmail,\n  sendMail,\n  // updatePass\n  updatePass,\n  getMemberByEmailActive\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJRdWVyeVR5cGVzIiwid2hlcmUiLCJyZXF1aXJlIiwiZGIiLCJjb25maWciLCJNZW1iZXJzIiwiZmluZE9uZSIsImRhdGFWYWx1ZXMiLCJjcmVhdGVOZXdNZW1iZXIiLCJ1c2VyIiwibWVtYmVyIiwiY3JlYXRlIiwiZW1haWwiLCJmdWxsbmFtZSIsInBhc3N3b3JkIiwidmVyaWZpZWRfY29kZSIsImdldE1lbWJlckJ5RW1haWwiLCJjb25zb2xlIiwibG9nIiwiZ2V0TWVtYmVyQnlFbWFpbEFjdGl2ZSIsInN0YXR1cyIsImdldENvZGVCeUVtYWlsIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZXN1bHRzIiwibWV0YWRhdGEiLCJzZXF1ZWxpemUiLCJxdWVyeSIsInR5cGUiLCJTRUxFQ1QiLCJlcnJvciIsInVwZGF0ZVN0YXR1cyIsInVwZGF0ZSIsImdldE1lbWJlckJ5SWQiLCJtZW1iZXJJRCIsImlkIiwibmV3T2JqIiwic2hvd0FsbE1lbWJlciIsIm1lbWJlckxpc3QiLCJmaW5kQWxsIiwicmF3Iiwic2VuZE1haWwiLCJzdWJqZWN0IiwidGV4dCIsIm5vZGVtYWlsZXIiLCJ0cmFuc3BvcnRlciIsImNyZWF0ZVRyYW5zcG9ydCIsInNlcnZpY2UiLCJhdXRoIiwicHJvY2VzcyIsImVudiIsIk1ZX0VNQUlMIiwicGFzcyIsIk1ZX1BBU1NXT1JEIiwibWFpbE9wdGlvbnMiLCJmcm9tIiwidG8iLCJpbmZvIiwicmVzcG9uc2UiLCJ1cGRhdGVQYXNzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9yZXBvc2l0b3J5LyIsInNvdXJjZXMiOlsibWVtYmVycy5yZXBvc2l0b3J5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgUXVlcnlUeXBlcywgd2hlcmUgfSA9IHJlcXVpcmUoXCJzZXF1ZWxpemVcIik7XG5jb25zdCBkYiA9IHJlcXVpcmUoXCIuLi9tb2RlbHNcIik7XG5pbXBvcnQgeyBzZXF1ZWxpemUgfSBmcm9tIFwiLi4vbW9kZWxzL2luZGV4LmpzXCI7XG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xuXG5jb25zdCBNZW1iZXJzID0gZGIuTWVtYmVycztcbmNvbnN0IGZpbmRPbmUgPSBhc3luYyAod2hlcmUpID0+IHtcbiAgcmV0dXJuIChhd2FpdCBNZW1iZXJzLmZpbmRPbmUoeyB3aGVyZTogd2hlcmUgfSkpPy5kYXRhVmFsdWVzO1xufTtcbmNvbnN0IGNyZWF0ZU5ld01lbWJlciA9IGFzeW5jICh1c2VyKSA9PiB7XG4gIGNvbnN0IG1lbWJlciA9IGF3YWl0IE1lbWJlcnMuY3JlYXRlKHtcbiAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICBmdWxsbmFtZTogdXNlci5mdWxsbmFtZSxcbiAgICBwYXNzd29yZDogdXNlci5wYXNzd29yZCxcbiAgICB2ZXJpZmllZF9jb2RlOiB1c2VyLnZlcmlmaWVkX2NvZGUsXG4gIH0pO1xuICByZXR1cm4gbWVtYmVyPy5kYXRhVmFsdWVzO1xufTtcblxuY29uc3QgZ2V0TWVtYmVyQnlFbWFpbCA9IGFzeW5jIChlbWFpbCkgPT4ge1xuICBjb25zb2xlLmxvZyhlbWFpbCk7XG4gIHJldHVybiAoXG4gICAgYXdhaXQgTWVtYmVycy5maW5kT25lKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGVtYWlsOiBlbWFpbCxcbiAgICAgIH0sXG4gICAgfSlcbiAgKT8uZGF0YVZhbHVlcztcbn07XG5cbmNvbnN0IGdldE1lbWJlckJ5RW1haWxBY3RpdmUgPSBhc3luYyAoZW1haWwpID0+IHtcbiAgY29uc29sZS5sb2coZW1haWwpO1xuICByZXR1cm4gKFxuICAgIGF3YWl0IE1lbWJlcnMuZmluZE9uZSh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBlbWFpbDogZW1haWwsXG4gICAgICAgIHN0YXR1czogXCJBY3RpdmVcIixcbiAgICAgIH0sXG4gICAgfSlcbiAgKT8uZGF0YVZhbHVlcztcbn07XG5jb25zdCBnZXRDb2RlQnlFbWFpbCA9IChlbWFpbCkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBbcmVzdWx0cywgbWV0YWRhdGFdID0gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KFxuICAgICAgICBgc2VsZWN0IHZlcmlmaWVkX2NvZGUgZnJvbSBtZW1iZXJzIHdoZXJlIGVtYWlsID0gJyR7ZW1haWx9J2AsXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBRdWVyeVR5cGVzLlNFTEVDVCxcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIGNvbnNvbGUubG9nKHJlc3VsdHMpO1xuICAgICAgcmVzb2x2ZShyZXN1bHRzKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICB9XG4gIH0pO1xufTtcbmNvbnN0IHVwZGF0ZVN0YXR1cyA9IGFzeW5jICh3aGVyZSkgPT4ge1xuICByZXR1cm4gYXdhaXQgTWVtYmVycy51cGRhdGUoXG4gICAgeyBzdGF0dXM6IFwiQWN0aXZlXCIgfSxcbiAgICB7XG4gICAgICB3aGVyZTogd2hlcmUsXG4gICAgfVxuICApO1xufTtcblxuY29uc3QgZ2V0TWVtYmVyQnlJZCA9IGFzeW5jIChtZW1iZXJJRCkgPT4ge1xuICByZXR1cm4gKFxuICAgIGF3YWl0IE1lbWJlcnMuZmluZE9uZSh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBpZDogbWVtYmVySUQsXG4gICAgICB9LFxuICAgIH0pXG4gICk/LmRhdGFWYWx1ZXM7XG59O1xuY29uc3QgdXBkYXRlID0gYXN5bmMgKG5ld09iaiwgd2hlcmUpID0+IHtcbiAgYXdhaXQgTWVtYmVycy51cGRhdGUobmV3T2JqLCB7XG4gICAgd2hlcmU6IHdoZXJlLFxuICB9KTtcbn07XG5jb25zdCBzaG93QWxsTWVtYmVyID0gYXN5bmMgKCkgPT4ge1xuICBsZXQgbWVtYmVyTGlzdCA9IFtdO1xuICBtZW1iZXJMaXN0ID0gYXdhaXQgTWVtYmVycy5maW5kQWxsKHsgcmF3OiB0cnVlIH0pO1xuICBjb25zb2xlLmxvZyhtZW1iZXJMaXN0KTtcbiAgcmV0dXJuIG1lbWJlckxpc3Q7XG59O1xuXG5jb25zdCBzZW5kTWFpbCA9IGFzeW5jIChlbWFpbCwgc3ViamVjdCwgdGV4dCkgPT4ge1xuICB2YXIgbm9kZW1haWxlciA9IHJlcXVpcmUoXCJub2RlbWFpbGVyXCIpO1xuXG4gIHZhciB0cmFuc3BvcnRlciA9IG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHtcbiAgICBzZXJ2aWNlOiBcImdtYWlsXCIsXG4gICAgYXV0aDoge1xuICAgICAgdXNlcjogcHJvY2Vzcy5lbnYuTVlfRU1BSUwsXG4gICAgICBwYXNzOiBwcm9jZXNzLmVudi5NWV9QQVNTV09SRCxcbiAgICB9LFxuICB9KTtcblxuICB2YXIgbWFpbE9wdGlvbnMgPSB7XG4gICAgZnJvbTogcHJvY2Vzcy5lbnYuTVlfRU1BSUwsXG4gICAgdG86IGVtYWlsLFxuICAgIHN1YmplY3Q6IHN1YmplY3QsXG4gICAgdGV4dDogdGV4dCxcbiAgfTtcblxuICB0cmFuc3BvcnRlci5zZW5kTWFpbChtYWlsT3B0aW9ucywgZnVuY3Rpb24gKGVycm9yLCBpbmZvKSB7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiRW1haWwgc2VudDogXCIgKyBpbmZvLnJlc3BvbnNlKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLy8gY29uc3QgdXBkYXRlUGFzcyA9IGFzeW5jIChwYXNzLCB3aGVyZSkgPT4ge1xuLy8gICBjb25zb2xlLmxvZyh3aGVyZSlcbi8vICAgYXdhaXQgTWVtYmVycy51cGRhdGUocGFzcywge1xuLy8gICAgIHdoZXJlOiB3aGVyZVxuLy8gICB9KVxuLy8gfVxuY29uc3QgdXBkYXRlUGFzcyA9IGFzeW5jIChwYXNzLCB3aGVyZSkgPT4ge1xuICBhd2FpdCBNZW1iZXJzLnVwZGF0ZShwYXNzLCB7XG4gICAgd2hlcmU6IHdoZXJlLFxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBmaW5kT25lLFxuICBjcmVhdGVOZXdNZW1iZXIsXG4gIGdldE1lbWJlckJ5RW1haWwsXG4gIGdldE1lbWJlckJ5SWQsXG4gIHVwZGF0ZSxcbiAgc2hvd0FsbE1lbWJlcixcbiAgdXBkYXRlU3RhdHVzLFxuICBnZXRDb2RlQnlFbWFpbCxcbiAgc2VuZE1haWwsXG4gIC8vIHVwZGF0ZVBhc3NcbiAgdXBkYXRlUGFzcyxcbiAgZ2V0TWVtYmVyQnlFbWFpbEFjdGl2ZSxcbn07XG4iXSwibWFwcGluZ3MiOiI7O0FBRUE7O0FBRkEsTUFBTTtFQUFFQSxVQUFGO0VBQWNDO0FBQWQsSUFBd0JDLE9BQU8sQ0FBQyxXQUFELENBQXJDOztBQUNBLE1BQU1DLEVBQUUsR0FBR0QsT0FBTyxDQUFDLFdBQUQsQ0FBbEI7O0FBRUFBLE9BQU8sQ0FBQyxRQUFELENBQVAsQ0FBa0JFLE1BQWxCOztBQUVBLE1BQU1DLE9BQU8sR0FBR0YsRUFBRSxDQUFDRSxPQUFuQjs7QUFDQSxNQUFNQyxPQUFPLEdBQUcsTUFBT0wsS0FBUCxJQUFpQjtFQUFBOztFQUMvQixnQ0FBUSxNQUFNSSxPQUFPLENBQUNDLE9BQVIsQ0FBZ0I7SUFBRUwsS0FBSyxFQUFFQTtFQUFULENBQWhCLENBQWQsMERBQU8sc0JBQTJDTSxVQUFsRDtBQUNELENBRkQ7O0FBR0EsTUFBTUMsZUFBZSxHQUFHLE1BQU9DLElBQVAsSUFBZ0I7RUFDdEMsTUFBTUMsTUFBTSxHQUFHLE1BQU1MLE9BQU8sQ0FBQ00sTUFBUixDQUFlO0lBQ2xDQyxLQUFLLEVBQUVILElBQUksQ0FBQ0csS0FEc0I7SUFFbENDLFFBQVEsRUFBRUosSUFBSSxDQUFDSSxRQUZtQjtJQUdsQ0MsUUFBUSxFQUFFTCxJQUFJLENBQUNLLFFBSG1CO0lBSWxDQyxhQUFhLEVBQUVOLElBQUksQ0FBQ007RUFKYyxDQUFmLENBQXJCO0VBTUEsT0FBT0wsTUFB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","map":{"version":3,"names":["QueryTypes","where","require","db","config","Members","findOne","dataValues","createNewMember","user","member","create","email","fullname","password","verified_code","getMemberByEmail","console","log","getMemberByEmailActive","status","getCodeByEmail","Promise","resolve","reject","results","metadata","sequelize","query","type","SELECT","error","updateStatus","update","getMemberById","memberID","id","newObj","showAllMember","memberList","findAll","raw","sendMail","subject","text","nodemailer","transporter","createTransport","service","auth","process","env","MY_EMAIL","pass","MY_PASSWORD","mailOptions","from","to","info","response","updatePass","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/","sources":["members.repository.js"],"sourcesContent":["const { QueryTypes, where } = require(\"sequelize\");\nconst db = require(\"../models\");\nimport { sequelize } from \"../models/index.js\";\nrequire(\"dotenv\").config();\n\nconst Members = db.Members;\nconst findOne = async (where) => {\n  return (await Members.findOne({ where: where }))?.dataValues;\n};\nconst createNewMember = async (user) => {\n  const member = await Members.create({\n    email: user.email,\n    fullname: user.fullname,\n    password: user.password,\n    verified_code: user.verified_code,\n  });\n  return member?.dataValues;\n};\n\nconst getMemberByEmail = async (email) => {\n  console.log(email);\n  return (\n    await Members.findOne({\n      where: {\n        email: email,\n      },\n    })\n  )?.dataValues;\n};\n\nconst getMemberByEmailActive = async (email) => {\n  console.log(email);\n  return (\n    await Members.findOne({\n      where: {\n        email: email,\n        status: \"Active\",\n      },\n    })\n  )?.dataValues;\n};\nconst getCodeByEmail = (email) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const [results, metadata] = await sequelize.query(\n        `select verified_code from members where email = '${email}'`,\n        {\n          type: QueryTypes.SELECT,\n        }\n      );\n      console.log(results);\n      resolve(results);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\nconst updateStatus = async (where) => {\n  return await Members.update(\n    { status: \"Active\" },\n    {\n      where: where,\n    }\n  );\n};\n\nconst getMemberById = async (memberID) => {\n  return (\n    await Members.findOne({\n      where: {\n        id: memberID,\n      },\n    })\n  )?.dataValues;\n};\nconst update = async (newObj, where) => {\n  await Members.update(newObj, {\n    where: where,\n  });\n};\nconst showAllMember = async () => {\n  let memberList = [];\n  memberList = await Members.findAll({ raw: true });\n  console.log(memberList);\n  return memberList;\n};\n\nconst sendMail = async (email, subject, text) => {\n  var nodemailer = require(\"nodemailer\");\n\n  var transporter = nodemailer.createTransport({\n    service: \"gmail\",\n    auth: {\n      user: process.env.MY_EMAIL,\n      pass: process.env.MY_PASSWORD,\n    },\n  });\n\n  var mailOptions = {\n    from: process.env.MY_EMAIL,\n    to: email,\n    subject: subject,\n    text: text,\n  };\n\n  transporter.sendMail(mailOptions, function (error, info) {\n    if (error) {\n      console.log(error);\n    } else {\n      console.log(\"Email sent: \" + info.response);\n    }\n  });\n};\n\n// const updatePass = async (pass, where) => {\n//   console.log(where)\n//   await Members.update(pass, {\n//     where: where\n//   })\n// }\nconst updatePass = async (pass, where) => {\n  await Members.update(pass, {\n    where: where,\n  });\n};\n\nmodule.exports = {\n  findOne,\n  createNewMember,\n  getMemberByEmail,\n  getMemberById,\n  update,\n  showAllMember,\n  updateStatus,\n  getCodeByEmail,\n  sendMail,\n  // updatePass\n  updatePass,\n  getMemberByEmailActive,\n};\n"],"mappings":"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"}},"mtime":1667231633838},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\n\nconst authRoute = require(\"./auth.route.js\");\n\nconst memberRoute = require(\"./member.route\");\n\nconst staffRoute = require(\"./staff.route\");\n\nconst staffAuthRoute = require(\"./staffAuth.route\");\n\nconst categoryRoute = require(\"./categories.route\");\n\nconst campaignRoute = require(\"./campaigns.route\");\n\nconst jobRoute = require(\"./jobs.route.js\");\n\nconst candidateRoute = require(\"./candidate.route\");\n\nconst interviewRoute = require(\"./interview.route\");\n\nconst router = express.Router();\nconst routesIndex = [{\n  path: \"/member-auth\",\n  route: authRoute\n}, {\n  path: \"/category\",\n  route: categoryRoute\n}, {\n  path: \"/campaign\",\n  route: campaignRoute\n}, {\n  path: \"/job\",\n  route: jobRoute\n}, {\n  path: \"/member\",\n  route: memberRoute\n}, {\n  path: \"/staff\",\n  route: staffRoute\n}, {\n  path: \"/staff-auth\",\n  route: staffAuthRoute\n}, {\n  path: \"/candidate\",\n  route: candidateRoute\n}, {\n  path: \"/interview\",\n  route: interviewRoute\n}];\nroutesIndex.forEach(route => {\n  router.use(route.path, route.route);\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImF1dGhSb3V0ZSIsIm1lbWJlclJvdXRlIiwic3RhZmZSb3V0ZSIsInN0YWZmQXV0aFJvdXRlIiwiY2F0ZWdvcnlSb3V0ZSIsImNhbXBhaWduUm91dGUiLCJqb2JSb3V0ZSIsImNhbmRpZGF0ZVJvdXRlIiwiaW50ZXJ2aWV3Um91dGUiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJyb3V0ZXNJbmRleCIsInBhdGgiLCJyb3V0ZSIsImZvckVhY2giLCJ1c2UiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL3JvdXRlcy8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IGF1dGhSb3V0ZSA9IHJlcXVpcmUoXCIuL2F1dGgucm91dGUuanNcIik7XG5jb25zdCBtZW1iZXJSb3V0ZSA9IHJlcXVpcmUoXCIuL21lbWJlci5yb3V0ZVwiKTtcbmNvbnN0IHN0YWZmUm91dGUgPSByZXF1aXJlKFwiLi9zdGFmZi5yb3V0ZVwiKTtcbmNvbnN0IHN0YWZmQXV0aFJvdXRlID0gcmVxdWlyZShcIi4vc3RhZmZBdXRoLnJvdXRlXCIpO1xuY29uc3QgY2F0ZWdvcnlSb3V0ZSA9IHJlcXVpcmUoXCIuL2NhdGVnb3JpZXMucm91dGVcIik7XG5jb25zdCBjYW1wYWlnblJvdXRlID0gcmVxdWlyZShcIi4vY2FtcGFpZ25zLnJvdXRlXCIpO1xuY29uc3Qgam9iUm91dGUgPSByZXF1aXJlKFwiLi9qb2JzLnJvdXRlLmpzXCIpO1xuY29uc3QgY2FuZGlkYXRlUm91dGUgPSByZXF1aXJlKFwiLi9jYW5kaWRhdGUucm91dGVcIik7XG5jb25zdCBpbnRlcnZpZXdSb3V0ZSA9IHJlcXVpcmUoXCIuL2ludGVydmlldy5yb3V0ZVwiKTtcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbmNvbnN0IHJvdXRlc0luZGV4ID0gW1xuICB7XG4gICAgcGF0aDogXCIvbWVtYmVyLWF1dGhcIixcbiAgICByb3V0ZTogYXV0aFJvdXRlLFxuICB9LFxuICB7XG4gICAgcGF0aDogXCIvY2F0ZWdvcnlcIixcbiAgICByb3V0ZTogY2F0ZWdvcnlSb3V0ZSxcbiAgfSxcbiAge1xuICAgIHBhdGg6IFwiL2NhbXBhaWduXCIsXG4gICAgcm91dGU6IGNhbXBhaWduUm91dGUsXG4gIH0sXG4gIHtcbiAgICBwYXRoOiBcIi9qb2JcIixcbiAgICByb3V0ZTogam9iUm91dGUsXG4gIH0sXG4gIHtcbiAgICBwYXRoOiBcIi9tZW1iZXJcIixcbiAgICByb3V0ZTogbWVtYmVyUm91dGUsXG4gIH0sXG4gIHtcbiAgICBwYXRoOiBcIi9zdGFmZlwiLFxuICAgIHJvdXRlOiBzdGFmZlJvdXRlLFxuICB9LFxuICB7XG4gICAgcGF0aDogXCIvc3RhZmYtYXV0aFwiLFxuICAgIHJvdXRlOiBzdGFmZkF1dGhSb3V0ZSxcbiAgfSxcbiAge1xuICAgIHBhdGg6IFwiL2NhbmRpZGF0ZVwiLFxuICAgIHJvdXRlOiBjYW5kaWRhdGVSb3V0ZSxcbiAgfSxcbiAge1xuICAgIHBhdGg6IFwiL2ludGVydmlld1wiLFxuICAgIHJvdXRlOiBpbnRlcnZpZXdSb3V0ZSxcbiAgfSxcbl07XG5cbnJvdXRlc0luZGV4LmZvckVhY2goKHJvdXRlKSA9PiB7XG4gIHJvdXRlci51c2Uocm91dGUucGF0aCwgcm91dGUucm91dGUpO1xufSk7XG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBLE1BQU1DLFNBQVMsR0FBR0QsT0FBTyxDQUFDLGlCQUFELENBQXpCOztBQUNBLE1BQU1FLFdBQVcsR0FBR0YsT0FBTyxDQUFDLGdCQUFELENBQTNCOztBQUNBLE1BQU1HLFVBQVUsR0FBR0gsT0FBTyxDQUFDLGVBQUQsQ0FBMUI7O0FBQ0EsTUFBTUksY0FBYyxHQUFHSixPQUFPLENBQUMsbUJBQUQsQ0FBOUI7O0FBQ0EsTUFBTUssYUFBYSxHQUFHTCxPQUFPLENBQUMsb0JBQUQsQ0FBN0I7O0FBQ0EsTUFBTU0sYUFBYSxHQUFHTixPQUFPLENBQUMsbUJBQUQsQ0FBN0I7O0FBQ0EsTUFBTU8sUUFBUSxHQUFHUCxPQUFPLENBQUMsaUJBQUQsQ0FBeEI7O0FBQ0EsTUFBTVEsY0FBYyxHQUFHUixPQUFPLENBQUMsbUJBQUQsQ0FBOUI7O0FBQ0EsTUFBTVMsY0FBYyxHQUFHVCxPQUFPLENBQUMsbUJBQUQsQ0FBOUI7O0FBQ0EsTUFBTVUsTUFBTSxHQUFHWCxPQUFPLENBQUNZLE1BQVIsRUFBZjtBQUVBLE1BQU1DLFdBQVcsR0FBRyxDQUNsQjtFQUNFQyxJQUFJLEVBQUUsY0FEUjtFQUVFQyxLQUFLLEVBQUViO0FBRlQsQ0FEa0IsRUFLbEI7RUFDRVksSUFBSSxFQUFFLFdBRFI7RUFFRUMsS0FBSyxFQUFFVDtBQUZULENBTGtCLEVBU2xCO0VBQ0VRLElBQUksRUFBRSxXQURSO0VBRUVDLEtBQUssRUFBRVI7QUFGVCxDQVRrQixFQWFsQjtFQUNFTyxJQUFJLEVBQUUsTUFEUjtFQUVFQyxLQUFLLEVBQUVQO0FBRlQsQ0Fia0IsRUFpQmxCO0VBQ0VNLElBQUksRUFBRSxTQURSO0VBRUVDLEtBQUssRUFBRVo7QUFGVCxDQWpCa0IsRUFxQmxCO0VBQ0VXLElBQUksRUFBRSxRQURSO0VBRUVDLEtBQUssRUFBRVg7QUFGVCxDQXJCa0IsRUF5QmxCO0VBQ0VVLElBQUksRUFBRSxhQURSO0VBRUVDLEtBQUssRUFBRVY7QUFGVCxDQXpCa0IsRUE2QmxCO0VBQ0VTLElBQUksRUFBRSxZQURSO0VBRUVDLEtBQUssRUFBRU47QUFGVCxDQTdCa0IsRUFpQ2xCO0VBQ0VLLElBQUksRUFBRSxZQURSO0VBRUVDLEtBQUssRUFBRUw7QUFGVCxDQWpDa0IsQ0FBcEI7QUF1Q0FHLFdBQVcsQ0FBQ0csT0FBWixDQUFxQkQsS0FBRCxJQUFXO0VBQzdCSixNQUFNLENBQUNNLEdBQVAsQ0FBV0YsS0FBSyxDQUFDRCxJQUFqQixFQUF1QkMsS0FBSyxDQUFDQSxLQUE3QjtBQUNELENBRkQ7QUFHQUcsTUFBTSxDQUFDQyxPQUFQLEdBQWlCUixNQUFqQiJ9","map":{"version":3,"names":["express","require","authRoute","memberRoute","staffRoute","staffAuthRoute","categoryRoute","campaignRoute","jobRoute","candidateRoute","interviewRoute","router","Router","routesIndex","path","route","forEach","use","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["index.js"],"sourcesContent":["const express = require(\"express\");\nconst authRoute = require(\"./auth.route.js\");\nconst memberRoute = require(\"./member.route\");\nconst staffRoute = require(\"./staff.route\");\nconst staffAuthRoute = require(\"./staffAuth.route\");\nconst categoryRoute = require(\"./categories.route\");\nconst campaignRoute = require(\"./campaigns.route\");\nconst jobRoute = require(\"./jobs.route.js\");\nconst candidateRoute = require(\"./candidate.route\");\nconst interviewRoute = require(\"./interview.route\");\nconst router = express.Router();\n\nconst routesIndex = [\n  {\n    path: \"/member-auth\",\n    route: authRoute,\n  },\n  {\n    path: \"/category\",\n    route: categoryRoute,\n  },\n  {\n    path: \"/campaign\",\n    route: campaignRoute,\n  },\n  {\n    path: \"/job\",\n    route: jobRoute,\n  },\n  {\n    path: \"/member\",\n    route: memberRoute,\n  },\n  {\n    path: \"/staff\",\n    route: staffRoute,\n  },\n  {\n    path: \"/staff-auth\",\n    route: staffAuthRoute,\n  },\n  {\n    path: \"/candidate\",\n    route: candidateRoute,\n  },\n  {\n    path: \"/interview\",\n    route: interviewRoute,\n  },\n];\n\nroutesIndex.forEach((route) => {\n  router.use(route.path, route.route);\n});\nmodule.exports = router;\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,SAAS,GAAGD,OAAO,CAAC,iBAAD,CAAzB;;AACA,MAAME,WAAW,GAAGF,OAAO,CAAC,gBAAD,CAA3B;;AACA,MAAMG,UAAU,GAAGH,OAAO,CAAC,eAAD,CAA1B;;AACA,MAAMI,cAAc,GAAGJ,OAAO,CAAC,mBAAD,CAA9B;;AACA,MAAMK,aAAa,GAAGL,OAAO,CAAC,oBAAD,CAA7B;;AACA,MAAMM,aAAa,GAAGN,OAAO,CAAC,mBAAD,CAA7B;;AACA,MAAMO,QAAQ,GAAGP,OAAO,CAAC,iBAAD,CAAxB;;AACA,MAAMQ,cAAc,GAAGR,OAAO,CAAC,mBAAD,CAA9B;;AACA,MAAMS,cAAc,GAAGT,OAAO,CAAC,mBAAD,CAA9B;;AACA,MAAMU,MAAM,GAAGX,OAAO,CAACY,MAAR,EAAf;AAEA,MAAMC,WAAW,GAAG,CAClB;EACEC,IAAI,EAAE,cADR;EAEEC,KAAK,EAAEb;AAFT,CADkB,EAKlB;EACEY,IAAI,EAAE,WADR;EAEEC,KAAK,EAAET;AAFT,CALkB,EASlB;EACEQ,IAAI,EAAE,WADR;EAEEC,KAAK,EAAER;AAFT,CATkB,EAalB;EACEO,IAAI,EAAE,MADR;EAEEC,KAAK,EAAEP;AAFT,CAbkB,EAiBlB;EACEM,IAAI,EAAE,SADR;EAEEC,KAAK,EAAEZ;AAFT,CAjBkB,EAqBlB;EACEW,IAAI,EAAE,QADR;EAEEC,KAAK,EAAEX;AAFT,CArBkB,EAyBlB;EACEU,IAAI,EAAE,aADR;EAEEC,KAAK,EAAEV;AAFT,CAzBkB,EA6BlB;EACES,IAAI,EAAE,YADR;EAEEC,KAAK,EAAEN;AAFT,CA7BkB,EAiClB;EACEK,IAAI,EAAE,YADR;EAEEC,KAAK,EAAEL;AAFT,CAjCkB,CAApB;AAuCAG,WAAW,CAACG,OAAZ,CAAqBD,KAAD,IAAW;EAC7BJ,MAAM,CAACM,GAAP,CAAWF,KAAK,CAACD,IAAjB,EAAuBC,KAAK,CAACA,KAA7B;AACD,CAFD;AAGAG,MAAM,CAACC,OAAP,GAAiBR,MAAjB"}},"mtime":1666594653417},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/categories.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nconst {\n  categoryStatus,\n  categoryStatusDefault\n} = require(\"../constant/categoryStatus.enum\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Categories extends Model {\n    static associate(models) {\n      // define association here\n      Categories.hasMany(models.Jobs, {\n        foreignKey: \"Category_id\"\n      });\n    }\n\n  }\n\n  Categories.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    name: {\n      allowNull: false,\n      type: DataTypes.STRING(45)\n    },\n    description: {\n      allowNull: false,\n      type: DataTypes.TEXT\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(categoryStatus),\n      defaultValue: categoryStatusDefault\n    }\n  }, {\n    sequelize,\n    modelName: \"Categories\",\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  return Categories;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJjYXRlZ29yeVN0YXR1cyIsImNhdGVnb3J5U3RhdHVzRGVmYXVsdCIsIm1vZHVsZSIsImV4cG9ydHMiLCJzZXF1ZWxpemUiLCJEYXRhVHlwZXMiLCJDYXRlZ29yaWVzIiwiYXNzb2NpYXRlIiwibW9kZWxzIiwiaGFzTWFueSIsIkpvYnMiLCJmb3JlaWduS2V5IiwiaW5pdCIsImlkIiwiYWxsb3dOdWxsIiwicHJpbWFyeUtleSIsInR5cGUiLCJTVFJJTkciLCJkZWZhdWx0VmFsdWUiLCJVVUlEVjQiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJURVhUIiwic3RhdHVzIiwiRU5VTSIsIm1vZGVsTmFtZSIsInRpbWVzdGFtcHMiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvbW9kZWxzLyIsInNvdXJjZXMiOlsiY2F0ZWdvcmllcy5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJzZXF1ZWxpemVcIik7XG5jb25zdCB7IGNhdGVnb3J5U3RhdHVzLCBjYXRlZ29yeVN0YXR1c0RlZmF1bHQgfSA9IHJlcXVpcmUoXCIuLi9jb25zdGFudC9jYXRlZ29yeVN0YXR1cy5lbnVtXCIpO1xubW9kdWxlLmV4cG9ydHMgPSAoc2VxdWVsaXplLCBEYXRhVHlwZXMpID0+IHtcbiAgY2xhc3MgQ2F0ZWdvcmllcyBleHRlbmRzIE1vZGVsIHtcbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xuICAgICAgLy8gZGVmaW5lIGFzc29jaWF0aW9uIGhlcmVcbiAgICAgIENhdGVnb3JpZXMuaGFzTWFueShtb2RlbHMuSm9icywgeyBmb3JlaWduS2V5OiBcIkNhdGVnb3J5X2lkXCIgfSk7XG4gICAgfVxuICB9XG4gIENhdGVnb3JpZXMuaW5pdChcbiAgICB7XG4gICAgICBpZDoge1xuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICBwcmltYXJ5S2V5OiB0cnVlLFxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDM2KSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuVVVJRFY0LFxuICAgICAgfSxcbiAgICAgIG5hbWU6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyg0NSksXG4gICAgICB9LFxuICAgICAgZGVzY3JpcHRpb246IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlRFWFQsXG4gICAgICB9LFxuICAgICAgc3RhdHVzOiB7XG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5FTlVNKGNhdGVnb3J5U3RhdHVzKSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBjYXRlZ29yeVN0YXR1c0RlZmF1bHRcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBzZXF1ZWxpemUsXG4gICAgICBtb2RlbE5hbWU6IFwiQ2F0ZWdvcmllc1wiLFxuICAgICAgdGltZXN0YW1wczogZmFsc2UsXG4gICAgICBjcmVhdGVkQXQ6IGZhbHNlLFxuICAgICAgdXBkYXRlZEF0OiBmYWxzZSxcbiAgICB9XG4gICk7XG4gIHJldHVybiBDYXRlZ29yaWVzO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0EsTUFBTTtFQUFFQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU07RUFBRUMsY0FBRjtFQUFrQkM7QUFBbEIsSUFBNENGLE9BQU8sQ0FBQyxpQ0FBRCxDQUF6RDs7QUFDQUcsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLENBQUNDLFNBQUQsRUFBWUMsU0FBWixLQUEwQjtFQUN6QyxNQUFNQyxVQUFOLFNBQXlCUixLQUF6QixDQUErQjtJQUNiLE9BQVRTLFNBQVMsQ0FBQ0MsTUFBRCxFQUFTO01BQ3ZCO01BQ0FGLFVBQVUsQ0FBQ0csT0FBWCxDQUFtQkQsTUFBTSxDQUFDRSxJQUExQixFQUFnQztRQUFFQyxVQUFVLEVBQUU7TUFBZCxDQUFoQztJQUNEOztFQUo0Qjs7RUFNL0JMLFVBQVUsQ0FBQ00sSUFBWCxDQUNFO0lBQ0VDLEVBQUUsRUFBRTtNQUNGQyxTQUFTLEVBQUUsS0FEVDtNQUVGQyxVQUFVLEVBQUUsSUFGVjtNQUdGQyxJQUFJLEVBQUVYLFNBQVMsQ0FBQ1ksTUFBVixDQUFpQixFQUFqQixDQUhKO01BSUZDLFlBQVksRUFBRWIsU0FBUyxDQUFDYztJQUp0QixDQUROO0lBT0VDLElBQUksRUFBRTtNQUNKTixTQUFTLEVBQUUsS0FEUDtNQUVKRSxJQUFJLEVBQUVYLFNBQVMsQ0FBQ1ksTUFBVixDQUFpQixFQUFqQjtJQUZGLENBUFI7SUFXRUksV0FBVyxFQUFFO01BQ1hQLFNBQVMsRUFBRSxLQURBO01BRVhFLElBQUksRUFBRVgsU0FBUyxDQUFDaUI7SUFGTCxDQVhmO0lBZUVDLE1BQU0sRUFBRTtNQUNOVCxTQUFTLEVBQUUsS0FETDtNQUVORSxJQUFJLEVBQUVYLFNBQVMsQ0FBQ21CLElBQVYsQ0FBZXhCLGNBQWYsQ0FGQTtNQUdOa0IsWUFBWSxFQUFFakI7SUFIUjtFQWZWLENBREYsRUFzQkU7SUFDRUcsU0FERjtJQUVFcUIsU0FBUyxFQUFFLFlBRmI7SUFHRUMsVUFBVSxFQUFFLEtBSGQ7SUFJRUMsU0FBUyxFQUFFLEtBSmI7SUFLRUMsU0FBUyxFQUFFO0VBTGIsQ0F0QkY7RUE4QkEsT0FBT3RCLFVBQVA7QUFDRCxDQXRDRCJ9","map":{"version":3,"names":["Model","require","categoryStatus","categoryStatusDefault","module","exports","sequelize","DataTypes","Categories","associate","models","hasMany","Jobs","foreignKey","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","name","description","TEXT","status","ENUM","modelName","timestamps","createdAt","updatedAt"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/","sources":["categories.model.js"],"sourcesContent":["\"use strict\";\nconst { Model } = require(\"sequelize\");\nconst { categoryStatus, categoryStatusDefault } = require(\"../constant/categoryStatus.enum\");\nmodule.exports = (sequelize, DataTypes) => {\n  class Categories extends Model {\n    static associate(models) {\n      // define association here\n      Categories.hasMany(models.Jobs, { foreignKey: \"Category_id\" });\n    }\n  }\n  Categories.init(\n    {\n      id: {\n        allowNull: false,\n        primaryKey: true,\n        type: DataTypes.STRING(36),\n        defaultValue: DataTypes.UUIDV4,\n      },\n      name: {\n        allowNull: false,\n        type: DataTypes.STRING(45),\n      },\n      description: {\n        allowNull: false,\n        type: DataTypes.TEXT,\n      },\n      status: {\n        allowNull: false,\n        type: DataTypes.ENUM(categoryStatus),\n        defaultValue: categoryStatusDefault\n      },\n    },\n    {\n      sequelize,\n      modelName: \"Categories\",\n      timestamps: false,\n      createdAt: false,\n      updatedAt: false,\n    }\n  );\n  return Categories;\n};\n"],"mappings":"AAAA;;AACA,MAAM;EAAEA;AAAF,IAAYC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAM;EAAEC,cAAF;EAAkBC;AAAlB,IAA4CF,OAAO,CAAC,iCAAD,CAAzD;;AACAG,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;EACzC,MAAMC,UAAN,SAAyBR,KAAzB,CAA+B;IACb,OAATS,SAAS,CAACC,MAAD,EAAS;MACvB;MACAF,UAAU,CAACG,OAAX,CAAmBD,MAAM,CAACE,IAA1B,EAAgC;QAAEC,UAAU,EAAE;MAAd,CAAhC;IACD;;EAJ4B;;EAM/BL,UAAU,CAACM,IAAX,CACE;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB,CAHJ;MAIFC,YAAY,EAAEb,SAAS,CAACc;IAJtB,CADN;IAOEC,IAAI,EAAE;MACJN,SAAS,EAAE,KADP;MAEJE,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB;IAFF,CAPR;IAWEI,WAAW,EAAE;MACXP,SAAS,EAAE,KADA;MAEXE,IAAI,EAAEX,SAAS,CAACiB;IAFL,CAXf;IAeEC,MAAM,EAAE;MACNT,SAAS,EAAE,KADL;MAENE,IAAI,EAAEX,SAAS,CAACmB,IAAV,CAAexB,cAAf,CAFA;MAGNkB,YAAY,EAAEjB;IAHR;EAfV,CADF,EAsBE;IACEG,SADF;IAEEqB,SAAS,EAAE,YAFb;IAGEC,UAAU,EAAE,KAHd;IAIEC,SAAS,EAAE,KAJb;IAKEC,SAAS,EAAE;EALb,CAtBF;EA8BA,OAAOtB,UAAP;AACD,CAtCD"}},"mtime":1667142342264},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/interviews.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nconst {\n  interviewStatus,\n  interviewStatusDefault\n} = require(\"../constant/interviewStatus.enum.js\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Interviews extends Model {\n    static associate(models) {\n      // define association here\n      Interviews.belongsTo(models.CandidateDetails, {\n        foreignKey: \"CandidateDetail_id\"\n      });\n      Interviews.hasMany(models.Reports, {\n        foreignKey: \"Interview_id\"\n      });\n    }\n\n  }\n\n  Interviews.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(6),\n      defaultValue: DataTypes.UUIDV4\n    },\n    room: {\n      allowNull: false,\n      type: DataTypes.STRING(20)\n    },\n    slot: {\n      allowNull: false,\n      type: DataTypes.INTEGER\n    },\n    week: {\n      allowNull: false,\n      type: DataTypes.INTEGER\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(interviewStatus),\n      defaultValue: interviewStatusDefault\n    },\n    CandidateDetail_id: {\n      allowNull: false,\n      type: DataTypes.STRING(6),\n      references: {\n        model: \"CandidateDetails\",\n        key: \"id\"\n      }\n    }\n  }, {\n    sequelize,\n    modelName: \"Interviews\",\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  return Interviews;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJpbnRlcnZpZXdTdGF0dXMiLCJpbnRlcnZpZXdTdGF0dXNEZWZhdWx0IiwibW9kdWxlIiwiZXhwb3J0cyIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsIkludGVydmlld3MiLCJhc3NvY2lhdGUiLCJtb2RlbHMiLCJiZWxvbmdzVG8iLCJDYW5kaWRhdGVEZXRhaWxzIiwiZm9yZWlnbktleSIsImhhc01hbnkiLCJSZXBvcnRzIiwiaW5pdCIsImlkIiwiYWxsb3dOdWxsIiwicHJpbWFyeUtleSIsInR5cGUiLCJTVFJJTkciLCJkZWZhdWx0VmFsdWUiLCJVVUlEVjQiLCJyb29tIiwic2xvdCIsIklOVEVHRVIiLCJ3ZWVrIiwic3RhdHVzIiwiRU5VTSIsIkNhbmRpZGF0ZURldGFpbF9pZCIsInJlZmVyZW5jZXMiLCJtb2RlbCIsImtleSIsIm1vZGVsTmFtZSIsInRpbWVzdGFtcHMiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvbW9kZWxzLyIsInNvdXJjZXMiOlsiaW50ZXJ2aWV3cy5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcInNlcXVlbGl6ZVwiKTtcclxuY29uc3Qge1xyXG4gIGludGVydmlld1N0YXR1cyxcclxuICBpbnRlcnZpZXdTdGF0dXNEZWZhdWx0LFxyXG59ID0gcmVxdWlyZShcIi4uL2NvbnN0YW50L2ludGVydmlld1N0YXR1cy5lbnVtLmpzXCIpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xyXG4gIGNsYXNzIEludGVydmlld3MgZXh0ZW5kcyBNb2RlbCB7XHJcbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xyXG4gICAgICAvLyBkZWZpbmUgYXNzb2NpYXRpb24gaGVyZVxyXG4gICAgICBJbnRlcnZpZXdzLmJlbG9uZ3NUbyhtb2RlbHMuQ2FuZGlkYXRlRGV0YWlscywge1xyXG4gICAgICAgIGZvcmVpZ25LZXk6IFwiQ2FuZGlkYXRlRGV0YWlsX2lkXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgICBJbnRlcnZpZXdzLmhhc01hbnkobW9kZWxzLlJlcG9ydHMsIHsgZm9yZWlnbktleTogXCJJbnRlcnZpZXdfaWRcIiB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgSW50ZXJ2aWV3cy5pbml0KFxyXG4gICAge1xyXG4gICAgICBpZDoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDYpLFxyXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLlVVSURWNCxcclxuICAgICAgfSxcclxuICAgICAgcm9vbToge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygyMCksXHJcbiAgICAgIH0sXHJcbiAgICAgIHNsb3Q6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxyXG4gICAgICB9LFxyXG4gICAgICB3ZWVrOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcclxuICAgICAgfSxcclxuICAgICAgc3RhdHVzOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuRU5VTShpbnRlcnZpZXdTdGF0dXMpLFxyXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogaW50ZXJ2aWV3U3RhdHVzRGVmYXVsdCxcclxuICAgICAgfSxcclxuICAgICAgQ2FuZGlkYXRlRGV0YWlsX2lkOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDYpLFxyXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcclxuICAgICAgICAgIG1vZGVsOiBcIkNhbmRpZGF0ZURldGFpbHNcIixcclxuICAgICAgICAgIGtleTogXCJpZFwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBzZXF1ZWxpemUsXHJcbiAgICAgIG1vZGVsTmFtZTogXCJJbnRlcnZpZXdzXCIsXHJcbiAgICAgIHRpbWVzdGFtcHM6IGZhbHNlLFxyXG4gICAgICBjcmVhdGVkQXQ6IGZhbHNlLFxyXG4gICAgICB1cGRhdGVkQXQ6IGZhbHNlLFxyXG4gICAgfVxyXG4gICk7XHJcbiAgcmV0dXJuIEludGVydmlld3M7XHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0EsTUFBTTtFQUFFQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU07RUFDSkMsZUFESTtFQUVKQztBQUZJLElBR0ZGLE9BQU8sQ0FBQyxxQ0FBRCxDQUhYOztBQUlBRyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsQ0FBQ0MsU0FBRCxFQUFZQyxTQUFaLEtBQTBCO0VBQ3pDLE1BQU1DLFVBQU4sU0FBeUJSLEtBQXpCLENBQStCO0lBQ2IsT0FBVFMsU0FBUyxDQUFDQyxNQUFELEVBQVM7TUFDdkI7TUFDQUYsVUFBVSxDQUFDRyxTQUFYLENBQXFCRCxNQUFNLENBQUNFLGdCQUE1QixFQUE4QztRQUM1Q0MsVUFBVSxFQUFFO01BRGdDLENBQTlDO01BR0FMLFVBQVUsQ0FBQ00sT0FBWCxDQUFtQkosTUFBTSxDQUFDSyxPQUExQixFQUFtQztRQUFFRixVQUFVLEVBQUU7TUFBZCxDQUFuQztJQUNEOztFQVA0Qjs7RUFTL0JMLFVBQVUsQ0FBQ1EsSUFBWCxDQUNFO0lBQ0VDLEVBQUUsRUFBRTtNQUNGQyxTQUFTLEVBQUUsS0FEVDtNQUVGQyxVQUFVLEVBQUUsSUFGVjtNQUdGQyxJQUFJLEVBQUViLFNBQVMsQ0FBQ2MsTUFBVixDQUFpQixDQUFqQixDQUhKO01BSUZDLFlBQVksRUFBRWYsU0FBUyxDQUFDZ0I7SUFKdEIsQ0FETjtJQU9FQyxJQUFJLEVBQUU7TUFDSk4sU0FBUyxFQUFFLEtBRFA7TUFFSkUsSUFBSSxFQUFFYixTQUFTLENBQUNjLE1BQVYsQ0FBaUIsRUFBakI7SUFGRixDQVBSO0lBV0VJLElBQUksRUFBRTtNQUNKUCxTQUFTLEVBQUUsS0FEUDtNQUVKRSxJQUFJLEVBQUViLFNBQVMsQ0FBQ21CO0lBRlosQ0FYUjtJQWVFQyxJQUFJLEVBQUU7TUFDSlQsU0FBUyxFQUFFLEtBRFA7TUFFSkUsSUFBSSxFQUFFYixTQUFTLENBQUNtQjtJQUZaLENBZlI7SUFtQkVFLE1BQU0sRUFBRTtNQUNOVixTQUFTLEVBQUUsS0FETDtNQUVORSxJQUFJLEVBQUViLFNBQVMsQ0FBQ3NCLElBQVYsQ0FBZTNCLGVBQWYsQ0FGQTtNQUdOb0IsWUFBWSxFQUFFbkI7SUFIUixDQW5CVjtJQXdCRTJCLGtCQUFrQixFQUFFO01BQ2xCWixTQUFTLEVBQUUsS0FETztNQUVsQkUsSUFBSSxFQUFFYixTQUFTLENBQUNjLE1BQVYsQ0FBaUIsQ0FBakIsQ0FGWTtNQUdsQlUsVUFBVSxFQUFFO1FBQ1ZDLEtBQUssRUFBRSxrQkFERztRQUVWQyxHQUFHLEVBQUU7TUFGSztJQUhNO0VBeEJ0QixDQURGLEVBa0NFO0lBQ0UzQixTQURGO0lBRUU0QixTQUFTLEVBQUUsWUFGYjtJQUdFQyxVQUFVLEVBQUUsS0FIZDtJQUlFQyxTQUFTLEVBQUUsS0FKYjtJQUtFQyxTQUFTLEVBQUU7RUFMYixDQWxDRjtFQTBDQSxPQUFPN0IsVUFBUDtBQUNELENBckREIn0=","map":{"version":3,"names":["Model","require","interviewStatus","interviewStatusDefault","module","exports","sequelize","DataTypes","Interviews","associate","models","belongsTo","CandidateDetails","foreignKey","hasMany","Reports","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","room","slot","INTEGER","week","status","ENUM","CandidateDetail_id","references","model","key","modelName","timestamps","createdAt","updatedAt"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/","sources":["interviews.model.js"],"sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nconst {\r\n  interviewStatus,\r\n  interviewStatusDefault,\r\n} = require(\"../constant/interviewStatus.enum.js\");\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Interviews extends Model {\r\n    static associate(models) {\r\n      // define association here\r\n      Interviews.belongsTo(models.CandidateDetails, {\r\n        foreignKey: \"CandidateDetail_id\",\r\n      });\r\n      Interviews.hasMany(models.Reports, { foreignKey: \"Interview_id\" });\r\n    }\r\n  }\r\n  Interviews.init(\r\n    {\r\n      id: {\r\n        allowNull: false,\r\n        primaryKey: true,\r\n        type: DataTypes.STRING(6),\r\n        defaultValue: DataTypes.UUIDV4,\r\n      },\r\n      room: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(20),\r\n      },\r\n      slot: {\r\n        allowNull: false,\r\n        type: DataTypes.INTEGER,\r\n      },\r\n      week: {\r\n        allowNull: false,\r\n        type: DataTypes.INTEGER,\r\n      },\r\n      status: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(interviewStatus),\r\n        defaultValue: interviewStatusDefault,\r\n      },\r\n      CandidateDetail_id: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(6),\r\n        references: {\r\n          model: \"CandidateDetails\",\r\n          key: \"id\",\r\n        },\r\n      },\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"Interviews\",\r\n      timestamps: false,\r\n      createdAt: false,\r\n      updatedAt: false,\r\n    }\r\n  );\r\n  return Interviews;\r\n};\r\n"],"mappings":"AAAA;;AACA,MAAM;EAAEA;AAAF,IAAYC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAM;EACJC,eADI;EAEJC;AAFI,IAGFF,OAAO,CAAC,qCAAD,CAHX;;AAIAG,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;EACzC,MAAMC,UAAN,SAAyBR,KAAzB,CAA+B;IACb,OAATS,SAAS,CAACC,MAAD,EAAS;MACvB;MACAF,UAAU,CAACG,SAAX,CAAqBD,MAAM,CAACE,gBAA5B,EAA8C;QAC5CC,UAAU,EAAE;MADgC,CAA9C;MAGAL,UAAU,CAACM,OAAX,CAAmBJ,MAAM,CAACK,OAA1B,EAAmC;QAAEF,UAAU,EAAE;MAAd,CAAnC;IACD;;EAP4B;;EAS/BL,UAAU,CAACQ,IAAX,CACE;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEb,SAAS,CAACc,MAAV,CAAiB,CAAjB,CAHJ;MAIFC,YAAY,EAAEf,SAAS,CAACgB;IAJtB,CADN;IAOEC,IAAI,EAAE;MACJN,SAAS,EAAE,KADP;MAEJE,IAAI,EAAEb,SAAS,CAACc,MAAV,CAAiB,EAAjB;IAFF,CAPR;IAWEI,IAAI,EAAE;MACJP,SAAS,EAAE,KADP;MAEJE,IAAI,EAAEb,SAAS,CAACmB;IAFZ,CAXR;IAeEC,IAAI,EAAE;MACJT,SAAS,EAAE,KADP;MAEJE,IAAI,EAAEb,SAAS,CAACmB;IAFZ,CAfR;IAmBEE,MAAM,EAAE;MACNV,SAAS,EAAE,KADL;MAENE,IAAI,EAAEb,SAAS,CAACsB,IAAV,CAAe3B,eAAf,CAFA;MAGNoB,YAAY,EAAEnB;IAHR,CAnBV;IAwBE2B,kBAAkB,EAAE;MAClBZ,SAAS,EAAE,KADO;MAElBE,IAAI,EAAEb,SAAS,CAACc,MAAV,CAAiB,CAAjB,CAFY;MAGlBU,UAAU,EAAE;QACVC,KAAK,EAAE,kBADG;QAEVC,GAAG,EAAE;MAFK;IAHM;EAxBtB,CADF,EAkCE;IACE3B,SADF;IAEE4B,SAAS,EAAE,YAFb;IAGEC,UAAU,EAAE,KAHd;IAIEC,SAAS,EAAE,KAJb;IAKEC,SAAS,EAAE;EALb,CAlCF;EA0CA,OAAO7B,UAAP;AACD,CArDD"}},"mtime":1667231633834},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/interviewStatus.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  interviewStatus: [\"Waiting\", \"Done\", \"Absent\", \"Hidden\"],\n  interviewStatusDefault: \"Waiting\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiaW50ZXJ2aWV3U3RhdHVzIiwiaW50ZXJ2aWV3U3RhdHVzRGVmYXVsdCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9jb25zdGFudC8iLCJzb3VyY2VzIjpbImludGVydmlld1N0YXR1cy5lbnVtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICBpbnRlcnZpZXdTdGF0dXM6IFtcIldhaXRpbmdcIiwgXCJEb25lXCIsIFwiQWJzZW50XCIsIFwiSGlkZGVuXCJdLFxuICBpbnRlcnZpZXdTdGF0dXNEZWZhdWx0OiBcIldhaXRpbmdcIixcbn07XG4iXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmQyxlQUFlLEVBQUUsQ0FBQyxTQUFELEVBQVksTUFBWixFQUFvQixRQUFwQixFQUE4QixRQUE5QixDQURGO0VBRWZDLHNCQUFzQixFQUFFO0FBRlQsQ0FBakIifQ==","map":{"version":3,"names":["module","exports","interviewStatus","interviewStatusDefault"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/","sources":["interviewStatus.enum.js"],"sourcesContent":["module.exports = {\n  interviewStatus: [\"Waiting\", \"Done\", \"Absent\", \"Hidden\"],\n  interviewStatusDefault: \"Waiting\",\n};\n"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACfC,eAAe,EAAE,CAAC,SAAD,EAAY,MAAZ,EAAoB,QAApB,EAA8B,QAA9B,CADF;EAEfC,sBAAsB,EAAE;AAFT,CAAjB"}},"mtime":1667231633827},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/jobs.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _jobStatus = require(\"../constant/jobStatus.enum\");\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Jobs extends Model {\n    static associate(models) {\n      // define association here\n      Jobs.hasMany(models.CandidateDetails, {\n        foreignKey: \"Job_id\"\n      });\n      Jobs.belongsTo(models.Categories, {\n        foreignKey: \"Category_id\"\n      });\n      Jobs.belongsTo(models.Campaigns, {\n        foreignKey: \"Campaign_id\"\n      });\n    }\n\n  }\n\n  Jobs.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    name: {\n      allowNull: false,\n      type: DataTypes.STRING(45)\n    },\n    description: {\n      allowNull: false,\n      type: DataTypes.TEXT\n    },\n    salary: {\n      allowNull: true,\n      type: DataTypes.STRING(45)\n    },\n    quantity: {\n      defaultValue: 0,\n      allowNull: false,\n      type: DataTypes.INTEGER,\n      validate: {\n        min: 0\n      }\n    },\n    start_date: {\n      allowNull: false,\n      type: DataTypes.DATEONLY\n    },\n    end_date: {\n      allowNull: false,\n      type: DataTypes.DATEONLY\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(_jobStatus.jobStatus),\n      defaultValue: _jobStatus.jobStatusDefault\n    },\n    experience: {\n      allowNull: false,\n      type: DataTypes.ENUM(_jobStatus.jobExperienced),\n      defaultValue: _jobStatus.jobExperiencedDefault\n    },\n    isRemote: {\n      allowNull: false,\n      type: DataTypes.BOOLEAN,\n      defaultValue: false\n    },\n    Category_id: {\n      allowNull: false,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4,\n      references: {\n        model: \"Categories\",\n        key: \"id\"\n      }\n    },\n    Campaign_id: {\n      allowNull: false,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4,\n      references: {\n        model: \"Campaigns\",\n        key: \"id\"\n      }\n    }\n  }, {\n    sequelize,\n    modelName: \"Jobs\",\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  return Jobs;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiSm9icyIsImFzc29jaWF0ZSIsIm1vZGVscyIsImhhc01hbnkiLCJDYW5kaWRhdGVEZXRhaWxzIiwiZm9yZWlnbktleSIsImJlbG9uZ3NUbyIsIkNhdGVnb3JpZXMiLCJDYW1wYWlnbnMiLCJpbml0IiwiaWQiLCJhbGxvd051bGwiLCJwcmltYXJ5S2V5IiwidHlwZSIsIlNUUklORyIsImRlZmF1bHRWYWx1ZSIsIlVVSURWNCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsIlRFWFQiLCJzYWxhcnkiLCJxdWFudGl0eSIsIklOVEVHRVIiLCJ2YWxpZGF0ZSIsIm1pbiIsInN0YXJ0X2RhdGUiLCJEQVRFT05MWSIsImVuZF9kYXRlIiwic3RhdHVzIiwiRU5VTSIsImpvYlN0YXR1cyIsImpvYlN0YXR1c0RlZmF1bHQiLCJleHBlcmllbmNlIiwiam9iRXhwZXJpZW5jZWQiLCJqb2JFeHBlcmllbmNlZERlZmF1bHQiLCJpc1JlbW90ZSIsIkJPT0xFQU4iLCJDYXRlZ29yeV9pZCIsInJlZmVyZW5jZXMiLCJtb2RlbCIsImtleSIsIkNhbXBhaWduX2lkIiwibW9kZWxOYW1lIiwidGltZXN0YW1wcyIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9tb2RlbHMvIiwic291cmNlcyI6WyJqb2JzLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHtcbiAgam9iRXhwZXJpZW5jZWQsXG4gIGpvYkV4cGVyaWVuY2VkRGVmYXVsdCxcbiAgam9iU3RhdHVzLFxuICBqb2JTdGF0dXNEZWZhdWx0LFxufSBmcm9tIFwiLi4vY29uc3RhbnQvam9iU3RhdHVzLmVudW1cIjtcbmNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJzZXF1ZWxpemVcIik7XG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xuICBjbGFzcyBKb2JzIGV4dGVuZHMgTW9kZWwge1xuICAgIHN0YXRpYyBhc3NvY2lhdGUobW9kZWxzKSB7XG4gICAgICAvLyBkZWZpbmUgYXNzb2NpYXRpb24gaGVyZVxuICAgICAgSm9icy5oYXNNYW55KG1vZGVscy5DYW5kaWRhdGVEZXRhaWxzLCB7IGZvcmVpZ25LZXk6IFwiSm9iX2lkXCIgfSk7XG4gICAgICBKb2JzLmJlbG9uZ3NUbyhtb2RlbHMuQ2F0ZWdvcmllcywgeyBmb3JlaWduS2V5OiBcIkNhdGVnb3J5X2lkXCIgfSk7XG4gICAgICBKb2JzLmJlbG9uZ3NUbyhtb2RlbHMuQ2FtcGFpZ25zLCB7IGZvcmVpZ25LZXk6IFwiQ2FtcGFpZ25faWRcIiB9KTtcbiAgICB9XG4gIH1cbiAgSm9icy5pbml0KFxuICAgIHtcbiAgICAgIGlkOiB7XG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHByaW1hcnlLZXk6IHRydWUsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoMzYpLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5VVUlEVjQsXG4gICAgICB9LFxuICAgICAgbmFtZToge1xuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDQ1KSxcbiAgICAgIH0sXG4gICAgICBkZXNjcmlwdGlvbjoge1xuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuVEVYVCxcbiAgICAgIH0sXG4gICAgICBzYWxhcnk6IHtcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDQ1KSxcbiAgICAgIH0sXG4gICAgICBxdWFudGl0eToge1xuICAgICAgICBkZWZhdWx0VmFsdWU6IDAsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBzdGFydF9kYXRlOiB7XG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5EQVRFT05MWSxcbiAgICAgIH0sXG4gICAgICBlbmRfZGF0ZToge1xuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURU9OTFksXG4gICAgICB9LFxuICAgICAgc3RhdHVzOiB7XG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5FTlVNKGpvYlN0YXR1cyksXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogam9iU3RhdHVzRGVmYXVsdCxcbiAgICAgIH0sXG4gICAgICBleHBlcmllbmNlOiB7XG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5FTlVNKGpvYkV4cGVyaWVuY2VkKSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBqb2JFeHBlcmllbmNlZERlZmF1bHQsXG4gICAgICB9LFxuICAgICAgaXNSZW1vdGU6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkJPT0xFQU4sXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogZmFsc2UsXG4gICAgICB9LFxuICAgICAgQ2F0ZWdvcnlfaWQ6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygzNiksXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLlVVSURWNCxcbiAgICAgICAgcmVmZXJlbmNlczoge1xuICAgICAgICAgIG1vZGVsOiBcIkNhdGVnb3JpZXNcIixcbiAgICAgICAgICBrZXk6IFwiaWRcIixcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBDYW1wYWlnbl9pZDoge1xuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDM2KSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuVVVJRFY0LFxuICAgICAgICByZWZlcmVuY2VzOiB7XG4gICAgICAgICAgbW9kZWw6IFwiQ2FtcGFpZ25zXCIsXG4gICAgICAgICAga2V5OiBcImlkXCIsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgc2VxdWVsaXplLFxuICAgICAgbW9kZWxOYW1lOiBcIkpvYnNcIixcbiAgICAgIHRpbWVzdGFtcHM6IGZhbHNlLFxuICAgICAgY3JlYXRlZEF0OiBmYWxzZSxcbiAgICAgIHVwZGF0ZWRBdDogZmFsc2UsXG4gICAgfVxuICApO1xuICByZXR1cm4gSm9icztcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBOztBQU1BLE1BQU07RUFBRUE7QUFBRixJQUFZQyxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLENBQUNDLFNBQUQsRUFBWUMsU0FBWixLQUEwQjtFQUN6QyxNQUFNQyxJQUFOLFNBQW1CTixLQUFuQixDQUF5QjtJQUNQLE9BQVRPLFNBQVMsQ0FBQ0MsTUFBRCxFQUFTO01BQ3ZCO01BQ0FGLElBQUksQ0FBQ0csT0FBTCxDQUFhRCxNQUFNLENBQUNFLGdCQUFwQixFQUFzQztRQUFFQyxVQUFVLEVBQUU7TUFBZCxDQUF0QztNQUNBTCxJQUFJLENBQUNNLFNBQUwsQ0FBZUosTUFBTSxDQUFDSyxVQUF0QixFQUFrQztRQUFFRixVQUFVLEVBQUU7TUFBZCxDQUFsQztNQUNBTCxJQUFJLENBQUNNLFNBQUwsQ0FBZUosTUFBTSxDQUFDTSxTQUF0QixFQUFpQztRQUFFSCxVQUFVLEVBQUU7TUFBZCxDQUFqQztJQUNEOztFQU5zQjs7RUFRekJMLElB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","map":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","Jobs","associate","models","hasMany","CandidateDetails","foreignKey","belongsTo","Categories","Campaigns","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","name","description","TEXT","salary","quantity","INTEGER","validate","min","start_date","DATEONLY","end_date","status","ENUM","jobStatus","jobStatusDefault","experience","jobExperienced","jobExperiencedDefault","isRemote","BOOLEAN","Category_id","references","model","key","Campaign_id","modelName","timestamps","createdAt","updatedAt"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/","sources":["jobs.model.js"],"sourcesContent":["\"use strict\";\nimport {\n  jobExperienced,\n  jobExperiencedDefault,\n  jobStatus,\n  jobStatusDefault,\n} from \"../constant/jobStatus.enum\";\nconst { Model } = require(\"sequelize\");\nmodule.exports = (sequelize, DataTypes) => {\n  class Jobs extends Model {\n    static associate(models) {\n      // define association here\n      Jobs.hasMany(models.CandidateDetails, { foreignKey: \"Job_id\" });\n      Jobs.belongsTo(models.Categories, { foreignKey: \"Category_id\" });\n      Jobs.belongsTo(models.Campaigns, { foreignKey: \"Campaign_id\" });\n    }\n  }\n  Jobs.init(\n    {\n      id: {\n        allowNull: false,\n        primaryKey: true,\n        type: DataTypes.STRING(36),\n        defaultValue: DataTypes.UUIDV4,\n      },\n      name: {\n        allowNull: false,\n        type: DataTypes.STRING(45),\n      },\n      description: {\n        allowNull: false,\n        type: DataTypes.TEXT,\n      },\n      salary: {\n        allowNull: true,\n        type: DataTypes.STRING(45),\n      },\n      quantity: {\n        defaultValue: 0,\n        allowNull: false,\n        type: DataTypes.INTEGER,\n        validate: {\n          min: 0,\n        },\n      },\n      start_date: {\n        allowNull: false,\n        type: DataTypes.DATEONLY,\n      },\n      end_date: {\n        allowNull: false,\n        type: DataTypes.DATEONLY,\n      },\n      status: {\n        allowNull: false,\n        type: DataTypes.ENUM(jobStatus),\n        defaultValue: jobStatusDefault,\n      },\n      experience: {\n        allowNull: false,\n        type: DataTypes.ENUM(jobExperienced),\n        defaultValue: jobExperiencedDefault,\n      },\n      isRemote: {\n        allowNull: false,\n        type: DataTypes.BOOLEAN,\n        defaultValue: false,\n      },\n      Category_id: {\n        allowNull: false,\n        type: DataTypes.STRING(36),\n        defaultValue: DataTypes.UUIDV4,\n        references: {\n          model: \"Categories\",\n          key: \"id\",\n        },\n      },\n      Campaign_id: {\n        allowNull: false,\n        type: DataTypes.STRING(36),\n        defaultValue: DataTypes.UUIDV4,\n        references: {\n          model: \"Campaigns\",\n          key: \"id\",\n        },\n      },\n    },\n    {\n      sequelize,\n      modelName: \"Jobs\",\n      timestamps: false,\n      createdAt: false,\n      updatedAt: false,\n    }\n  );\n  return Jobs;\n};\n"],"mappings":"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"}},"mtime":1667142342265},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/members.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nconst {\n  userStatus,\n  userStatusDefault\n} = require(\"../constant/userStatus.enum.js\");\n\nconst {\n  v4: uuidv4\n} = require(\"uuid\");\n\nconst {\n  memberStatus,\n  memberStatusDefault\n} = require(\"../constant/memberStatus.enum.js\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Members extends Model {\n    static associate(models) {\n      // define association here\n      Members.hasMany(models.CandidateDetails, {\n        foreignKey: \"Member_id\"\n      });\n    }\n\n  }\n\n  Members.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    email: {\n      allowNull: false,\n      type: DataTypes.STRING(320)\n    },\n    fullname: {\n      allowNull: false,\n      type: DataTypes.STRING(60)\n    },\n    password: {\n      allowNull: false,\n      type: DataTypes.STRING(60)\n    },\n    avatar: {\n      allowNull: true,\n      type: DataTypes.TEXT\n    },\n    current_resume_url: {\n      allowNull: true,\n      type: DataTypes.TEXT\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(userStatus),\n      defaultValue: userStatusDefault\n    },\n    phone: {\n      allowNull: true,\n      type: DataTypes.STRING(13)\n    },\n    address: {\n      allowNull: true,\n      type: DataTypes.TEXT\n    },\n    verified_code: {\n      allowNull: true,\n      type: DataTypes.STRING(4)\n    },\n    is_employee: {\n      allowNull: false,\n      type: DataTypes.ENUM(memberStatus),\n      defaultValue: memberStatusDefault\n    },\n    other_resume: {\n      allowNull: true,\n      type: DataTypes.TEXT,\n\n      get() {\n        return this.getDataValue(\"other_resume\").split(\";\");\n      },\n\n      set(val) {\n        this.setDataValue(\"other_resume\", val.join(\";\"));\n      }\n\n    }\n  }, {\n    sequelize,\n    modelName: \"Members\",\n    createdAt: false,\n    updatedAt: false\n  });\n  Members.beforeCreate(user => user.id = uuidv4());\n  return Members;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJ1c2VyU3RhdHVzIiwidXNlclN0YXR1c0RlZmF1bHQiLCJ2NCIsInV1aWR2NCIsIm1lbWJlclN0YXR1cyIsIm1lbWJlclN0YXR1c0RlZmF1bHQiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiTWVtYmVycyIsImFzc29jaWF0ZSIsIm1vZGVscyIsImhhc01hbnkiLCJDYW5kaWRhdGVEZXRhaWxzIiwiZm9yZWlnbktleSIsImluaXQiLCJpZCIsImFsbG93TnVsbCIsInByaW1hcnlLZXkiLCJ0eXBlIiwiU1RSSU5HIiwiZGVmYXVsdFZhbHVlIiwiVVVJRFY0IiwiZW1haWwiLCJmdWxsbmFtZSIsInBhc3N3b3JkIiwiYXZhdGFyIiwiVEVYVCIsImN1cnJlbnRfcmVzdW1lX3VybCIsInN0YXR1cyIsIkVOVU0iLCJwaG9uZSIsImFkZHJlc3MiLCJ2ZXJpZmllZF9jb2RlIiwiaXNfZW1wbG95ZWUiLCJvdGhlcl9yZXN1bWUiLCJnZXQiLCJnZXREYXRhVmFsdWUiLCJzcGxpdCIsInNldCIsInZhbCIsInNldERhdGFWYWx1ZSIsImpvaW4iLCJtb2RlbE5hbWUiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJiZWZvcmVDcmVhdGUiLCJ1c2VyIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL21vZGVscy8iLCJzb3VyY2VzIjpbIm1lbWJlcnMubW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbmNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJzZXF1ZWxpemVcIik7XHJcbmNvbnN0IHtcclxuICB1c2VyU3RhdHVzLFxyXG4gIHVzZXJTdGF0dXNEZWZhdWx0LFxyXG59ID0gcmVxdWlyZShcIi4uL2NvbnN0YW50L3VzZXJTdGF0dXMuZW51bS5qc1wiKTtcclxuY29uc3QgeyB2NDogdXVpZHY0IH0gPSByZXF1aXJlKFwidXVpZFwiKTtcclxuY29uc3Qge1xyXG4gIG1lbWJlclN0YXR1cyxcclxuICBtZW1iZXJTdGF0dXNEZWZhdWx0LFxyXG59ID0gcmVxdWlyZShcIi4uL2NvbnN0YW50L21lbWJlclN0YXR1cy5lbnVtLmpzXCIpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSAoc2VxdWVsaXplLCBEYXRhVHlwZXMpID0+IHtcclxuICBjbGFzcyBNZW1iZXJzIGV4dGVuZHMgTW9kZWwge1xyXG4gICAgc3RhdGljIGFzc29jaWF0ZShtb2RlbHMpIHtcclxuICAgICAgLy8gZGVmaW5lIGFzc29jaWF0aW9uIGhlcmVcclxuICAgICAgTWVtYmVycy5oYXNNYW55KG1vZGVscy5DYW5kaWRhdGVEZXRhaWxzLCB7IGZvcmVpZ25LZXk6IFwiTWVtYmVyX2lkXCIgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIE1lbWJlcnMuaW5pdChcclxuICAgIHtcclxuICAgICAgaWQ6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHByaW1hcnlLZXk6IHRydWUsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygzNiksXHJcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuVVVJRFY0LFxyXG4gICAgICB9LFxyXG4gICAgICBlbWFpbDoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygzMjApLFxyXG4gICAgICB9LFxyXG4gICAgICBmdWxsbmFtZToge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyg2MCksXHJcbiAgICAgIH0sXHJcbiAgICAgIHBhc3N3b3JkOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDYwKSxcclxuICAgICAgfSxcclxuICAgICAgYXZhdGFyOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5URVhULFxyXG4gICAgICB9LFxyXG4gICAgICBjdXJyZW50X3Jlc3VtZV91cmw6IHtcclxuICAgICAgICBhbGxvd051bGw6IHRydWUsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlRFWFQsXHJcbiAgICAgIH0sXHJcbiAgICAgIHN0YXR1czoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkVOVU0odXNlclN0YXR1cyksXHJcbiAgICAgICAgZGVmYXVsdFZhbHVlOiB1c2VyU3RhdHVzRGVmYXVsdCxcclxuICAgICAgfSxcclxuICAgICAgcGhvbmU6IHtcclxuICAgICAgICBhbGxvd051bGw6IHRydWUsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygxMyksXHJcbiAgICAgIH0sXHJcbiAgICAgIGFkZHJlc3M6IHtcclxuICAgICAgICBhbGxvd051bGw6IHRydWUsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlRFWFQsXHJcbiAgICAgIH0sXHJcbiAgICAgIHZlcmlmaWVkX2NvZGU6IHtcclxuICAgICAgICBhbGxvd051bGw6IHRydWUsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyg0KSxcclxuICAgICAgfSxcclxuICAgICAgaXNfZW1wbG95ZWU6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5FTlVNKG1lbWJlclN0YXR1cyksXHJcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBtZW1iZXJTdGF0dXNEZWZhdWx0LFxyXG4gICAgICB9LFxyXG4gICAgICBvdGhlcl9yZXN1bWU6IHtcclxuICAgICAgICBhbGxvd051bGw6IHRydWUsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlRFWFQsXHJcbiAgICAgICAgZ2V0KCkge1xyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YVZhbHVlKFwib3RoZXJfcmVzdW1lXCIpLnNwbGl0KFwiO1wiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldCh2YWwpIHtcclxuICAgICAgICAgIHRoaXMuc2V0RGF0YVZhbHVlKFwib3RoZXJfcmVzdW1lXCIsIHZhbC5qb2luKFwiO1wiKSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHNlcXVlbGl6ZSxcclxuICAgICAgbW9kZWxOYW1lOiBcIk1lbWJlcnNcIixcclxuICAgICAgY3JlYXRlZEF0OiBmYWxzZSxcclxuICAgICAgdXBkYXRlZEF0OiBmYWxzZSxcclxuICAgIH1cclxuICApO1xyXG4gIE1lbWJlcnMuYmVmb3JlQ3JlYXRlKCh1c2VyKSA9PiAodXNlci5pZCA9IHV1aWR2NCgpKSk7XHJcblxyXG4gIHJldHVybiBNZW1iZXJzO1xyXG59O1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBLE1BQU07RUFBRUE7QUFBRixJQUFZQyxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxNQUFNO0VBQ0pDLFVBREk7RUFFSkM7QUFGSSxJQUdGRixPQUFPLENBQUMsZ0NBQUQsQ0FIWDs7QUFJQSxNQUFNO0VBQUVHLEVBQUUsRUFBRUM7QUFBTixJQUFpQkosT0FBTyxDQUFDLE1BQUQsQ0FBOUI7O0FBQ0EsTUFBTTtFQUNKSyxZQURJO0VBRUpDO0FBRkksSUFHRk4sT0FBTyxDQUFDLGtDQUFELENBSFg7O0FBS0FPLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixDQUFDQyxTQUFELEVBQVlDLFNBQVosS0FBMEI7RUFDekMsTUFBTUMsT0FBTixTQUFzQlosS0FBdEIsQ0FBNEI7SUFDVixPQUFUYSxTQUFTLENBQUNDLE1BQUQsRUFBUztNQUN2QjtNQUNBRixPQUFPLENBQUNHLE9BQVIsQ0FBZ0JELE1BQU0sQ0FBQ0UsZ0JBQXZCLEVBQXlDO1FBQUVDLFVBQVUsRUFBRTtNQUFkLENBQXpDO0lBQ0Q7O0VBSnlC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","map":{"version":3,"names":["Model","require","userStatus","userStatusDefault","v4","uuidv4","memberStatus","memberStatusDefault","module","exports","sequelize","DataTypes","Members","associate","models","hasMany","CandidateDetails","foreignKey","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","email","fullname","password","avatar","TEXT","current_resume_url","status","ENUM","phone","address","verified_code","is_employee","other_resume","get","getDataValue","split","set","val","setDataValue","join","modelName","createdAt","updatedAt","beforeCreate","user"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/","sources":["members.model.js"],"sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nconst {\r\n  userStatus,\r\n  userStatusDefault,\r\n} = require(\"../constant/userStatus.enum.js\");\r\nconst { v4: uuidv4 } = require(\"uuid\");\r\nconst {\r\n  memberStatus,\r\n  memberStatusDefault,\r\n} = require(\"../constant/memberStatus.enum.js\");\r\n\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Members extends Model {\r\n    static associate(models) {\r\n      // define association here\r\n      Members.hasMany(models.CandidateDetails, { foreignKey: \"Member_id\" });\r\n    }\r\n  }\r\n  Members.init(\r\n    {\r\n      id: {\r\n        allowNull: false,\r\n        primaryKey: true,\r\n        type: DataTypes.STRING(36),\r\n        defaultValue: DataTypes.UUIDV4,\r\n      },\r\n      email: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(320),\r\n      },\r\n      fullname: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(60),\r\n      },\r\n      password: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(60),\r\n      },\r\n      avatar: {\r\n        allowNull: true,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      current_resume_url: {\r\n        allowNull: true,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      status: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(userStatus),\r\n        defaultValue: userStatusDefault,\r\n      },\r\n      phone: {\r\n        allowNull: true,\r\n        type: DataTypes.STRING(13),\r\n      },\r\n      address: {\r\n        allowNull: true,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      verified_code: {\r\n        allowNull: true,\r\n        type: DataTypes.STRING(4),\r\n      },\r\n      is_employee: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(memberStatus),\r\n        defaultValue: memberStatusDefault,\r\n      },\r\n      other_resume: {\r\n        allowNull: true,\r\n        type: DataTypes.TEXT,\r\n        get() {\r\n          return this.getDataValue(\"other_resume\").split(\";\");\r\n        },\r\n        set(val) {\r\n          this.setDataValue(\"other_resume\", val.join(\";\"));\r\n        },\r\n      },\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"Members\",\r\n      createdAt: false,\r\n      updatedAt: false,\r\n    }\r\n  );\r\n  Members.beforeCreate((user) => (user.id = uuidv4()));\r\n\r\n  return Members;\r\n};\r\n"],"mappings":"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"}},"mtime":1667347470886},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/userStatus.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  userStatus: [\"Active\", \"Inactive\"],\n  userStatusDefault: \"Inactive\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwidXNlclN0YXR1cyIsInVzZXJTdGF0dXNEZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL2NvbnN0YW50LyIsInNvdXJjZXMiOlsidXNlclN0YXR1cy5lbnVtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICB1c2VyU3RhdHVzOiBbXCJBY3RpdmVcIiwgXCJJbmFjdGl2ZVwiXSxcbiAgdXNlclN0YXR1c0RlZmF1bHQ6IFwiSW5hY3RpdmVcIixcbn07XG4iXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmQyxVQUFVLEVBQUUsQ0FBQyxRQUFELEVBQVcsVUFBWCxDQURHO0VBRWZDLGlCQUFpQixFQUFFO0FBRkosQ0FBakIifQ==","map":{"version":3,"names":["module","exports","userStatus","userStatusDefault"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/","sources":["userStatus.enum.js"],"sourcesContent":["module.exports = {\n  userStatus: [\"Active\", \"Inactive\"],\n  userStatusDefault: \"Inactive\",\n};\n"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACfC,UAAU,EAAE,CAAC,QAAD,EAAW,UAAX,CADG;EAEfC,iBAAiB,EAAE;AAFJ,CAAjB"}},"mtime":1666594653407},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/staff.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nconst {\n  role,\n  roleDefault\n} = require(\"../constant/role.enum.js\");\n\nconst {\n  userStatus,\n  userStatusDefault\n} = require(\"../constant/userStatus.enum.js\");\n\nconst {\n  v4: uuidv4\n} = require(\"uuid\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Staffs extends Model {\n    static associate(models) {\n      // define association here\n      Staffs.hasMany(models.Reports, {\n        foreignKey: \"Interviewer_id\"\n      });\n      Staffs.hasMany(models.CandidateDetails, {\n        foreignKey: \"CandidateDetail_id\"\n      });\n    }\n\n  }\n\n  Staffs.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    email: {\n      allowNull: false,\n      type: DataTypes.STRING(320)\n    },\n    fullname: {\n      allowNull: false,\n      type: DataTypes.STRING(60)\n    },\n    avatar: {\n      allowNull: true,\n      type: DataTypes.TEXT\n    },\n    password: {\n      allowNull: false,\n      type: DataTypes.STRING(60)\n    },\n    role: {\n      allowNull: false,\n      type: DataTypes.ENUM(role),\n      defaultValue: roleDefault\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(userStatus),\n      defaultValue: userStatusDefault\n    }\n  }, {\n    sequelize,\n    modelName: \"Staffs\",\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  Staffs.beforeCreate(user => user.id = uuidv4());\n  return Staffs;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJyb2xlIiwicm9sZURlZmF1bHQiLCJ1c2VyU3RhdHVzIiwidXNlclN0YXR1c0RlZmF1bHQiLCJ2NCIsInV1aWR2NCIsIm1vZHVsZSIsImV4cG9ydHMiLCJzZXF1ZWxpemUiLCJEYXRhVHlwZXMiLCJTdGFmZnMiLCJhc3NvY2lhdGUiLCJtb2RlbHMiLCJoYXNNYW55IiwiUmVwb3J0cyIsImZvcmVpZ25LZXkiLCJDYW5kaWRhdGVEZXRhaWxzIiwiaW5pdCIsImlkIiwiYWxsb3dOdWxsIiwicHJpbWFyeUtleSIsInR5cGUiLCJTVFJJTkciLCJkZWZhdWx0VmFsdWUiLCJVVUlEVjQiLCJlbWFpbCIsImZ1bGxuYW1lIiwiYXZhdGFyIiwiVEVYVCIsInBhc3N3b3JkIiwiRU5VTSIsInN0YXR1cyIsIm1vZGVsTmFtZSIsInRpbWVzdGFtcHMiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJiZWZvcmVDcmVhdGUiLCJ1c2VyIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL21vZGVscy8iLCJzb3VyY2VzIjpbInN0YWZmLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5jb25zdCB7IE1vZGVsIH0gPSByZXF1aXJlKFwic2VxdWVsaXplXCIpO1xyXG5jb25zdCB7IHJvbGUsIHJvbGVEZWZhdWx0IH0gPSByZXF1aXJlKFwiLi4vY29uc3RhbnQvcm9sZS5lbnVtLmpzXCIpO1xyXG5jb25zdCB7XHJcbiAgdXNlclN0YXR1cyxcclxuICB1c2VyU3RhdHVzRGVmYXVsdCxcclxufSA9IHJlcXVpcmUoXCIuLi9jb25zdGFudC91c2VyU3RhdHVzLmVudW0uanNcIik7XHJcbmNvbnN0IHsgdjQ6IHV1aWR2NCB9ID0gcmVxdWlyZShcInV1aWRcIik7XHJcbm1vZHVsZS5leHBvcnRzID0gKHNlcXVlbGl6ZSwgRGF0YVR5cGVzKSA9PiB7XHJcbiAgY2xhc3MgU3RhZmZzIGV4dGVuZHMgTW9kZWwge1xyXG4gICAgc3RhdGljIGFzc29jaWF0ZShtb2RlbHMpIHtcclxuICAgICAgLy8gZGVmaW5lIGFzc29jaWF0aW9uIGhlcmVcclxuICAgICAgU3RhZmZzLmhhc01hbnkobW9kZWxzLlJlcG9ydHMsIHsgZm9yZWlnbktleTogXCJJbnRlcnZpZXdlcl9pZFwiIH0pO1xyXG4gICAgICBTdGFmZnMuaGFzTWFueShtb2RlbHMuQ2FuZGlkYXRlRGV0YWlscywge1xyXG4gICAgICAgIGZvcmVpZ25LZXk6IFwiQ2FuZGlkYXRlRGV0YWlsX2lkXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICBTdGFmZnMuaW5pdChcclxuICAgIHtcclxuICAgICAgaWQ6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHByaW1hcnlLZXk6IHRydWUsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygzNiksXHJcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuVVVJRFY0LFxyXG4gICAgICB9LFxyXG4gICAgICBlbWFpbDoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygzMjApLFxyXG4gICAgICB9LFxyXG4gICAgICBmdWxsbmFtZToge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyg2MCksXHJcbiAgICAgIH0sXHJcbiAgICAgIGF2YXRhcjoge1xyXG4gICAgICAgIGFsbG93TnVsbDogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuVEVYVCxcclxuICAgICAgfSxcclxuICAgICAgcGFzc3dvcmQ6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoNjApLFxyXG4gICAgICB9LFxyXG4gICAgICByb2xlOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuRU5VTShyb2xlKSxcclxuICAgICAgICBkZWZhdWx0VmFsdWU6IHJvbGVEZWZhdWx0LFxyXG4gICAgICB9LFxyXG4gICAgICBzdGF0dXM6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5FTlVNKHVzZXJTdGF0dXMpLFxyXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogdXNlclN0YXR1c0RlZmF1bHQsXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBzZXF1ZWxpemUsXHJcbiAgICAgIG1vZGVsTmFtZTogXCJTdGFmZnNcIixcclxuICAgICAgdGltZXN0YW1wczogZmFsc2UsXHJcbiAgICAgIGNyZWF0ZWRBdDogZmFsc2UsXHJcbiAgICAgIHVwZGF0ZWRBdDogZmFsc2UsXHJcbiAgICB9XHJcbiAgKTtcclxuICBTdGFmZnMuYmVmb3JlQ3JlYXRlKCh1c2VyKSA9PiAodXNlci5pZCA9IHV1aWR2NCgpKSk7XHJcbiAgcmV0dXJuIFN0YWZmcztcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQSxNQUFNO0VBQUVBO0FBQUYsSUFBWUMsT0FBTyxDQUFDLFdBQUQsQ0FBekI7O0FBQ0EsTUFBTTtFQUFFQyxJQUFGO0VBQVFDO0FBQVIsSUFBd0JGLE9BQU8sQ0FBQywwQkFBRCxDQUFyQzs7QUFDQSxNQUFNO0VBQ0pHLFVBREk7RUFFSkM7QUFGSSxJQUdGSixPQUFPLENBQUMsZ0NBQUQsQ0FIWDs7QUFJQSxNQUFNO0VBQUVLLEVBQUUsRUFBRUM7QUFBTixJQUFpQk4sT0FBTyxDQUFDLE1BQUQsQ0FBOUI7O0FBQ0FPLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixDQUFDQyxTQUFELEVBQVlDLFNBQVosS0FBMEI7RUFDekMsTUFBTUMsTUFBTixTQUFxQlosS0FBckIsQ0FBMkI7SUFDVCxPQUFUYSxTQUFTLENBQUNDLE1BQUQsRUFBUztNQUN2QjtNQUNBRixNQUFNLENBQUNHLE9BQVAsQ0FBZUQsTUFBTSxDQUFDRSxPQUF0QixFQUErQjtRQUFFQyxVQUFVLEVBQUU7TUFBZCxDQUEvQjtNQUNBTCxNQUFNLENBQUNHLE9BQVAsQ0FBZUQsTUFBTSxDQUFDSSxnQkFBdEIsRUFBd0M7UUFDdENELFVBQVUsRUFBRTtNQUQwQixDQUF4QztJQUdEOztFQVB3Qjs7RUFTM0JMLE1BQU0sQ0FBQ08sSUFBUCxDQUNFO0lBQ0VDLEVBQUUsRUFBRTtNQUNGQyxTQUFTLEVBQUUsS0FEVDtNQUVGQyxVQUFVLEVBQUUsSUFGVjtNQUdGQyxJQUFJLEVBQUVaLFNBQVMsQ0FBQ2EsTUFBVixDQUFpQixFQUFqQixDQUhKO01BSUZDLFlBQVksRUFBRWQsU0FBUyxDQUFDZTtJQUp0QixDQUROO0lBT0VDLEtBQUssRUFBRTtNQUNMTixTQUFTLEVBQUUsS0FETjtNQUVMRSxJQUFJLEVBQUVaLFNBQVMsQ0FBQ2EsTUFBVixDQUFpQixHQUFqQjtJQUZELENBUFQ7SUFXRUksUUFBUSxFQUFFO01BQ1JQLFNBQVMsRUFBRSxLQURIO01BRVJFLElBQUksRUFBRVosU0FBUyxDQUFDYSxNQUFWLENBQWlCLEVBQWpCO0lBRkUsQ0FYWjtJQWVFSyxNQUFNLEVBQUU7TUFDTlIsU0FBUyxFQUFFLElBREw7TUFFTkUsSUFBSSxFQUFFWixTQUFTLENBQUNtQjtJQUZWLENBZlY7SUFtQkVDLFFBQVEsRUFBRTtNQUNSVixTQUFTLEVBQUUsS0FESDtNQUVSRSxJQUFJLEVBQUVaLFNBQVMsQ0FBQ2EsTUFBVixDQUFpQixFQUFqQjtJQUZFLENBbkJaO0lBdUJFdEIsSUFBSSxFQUFFO01BQ0ptQixTQUFTLEVBQUUsS0FEUDtNQUVKRSxJQUFJLEVBQUVaLFNBQVMsQ0FBQ3FCLElBQVYsQ0FBZTlCLElBQWYsQ0FGRjtNQUdKdUIsWUFBWSxFQUFFdEI7SUFIVixDQXZCUjtJQTRCRThCLE1BQU0sRUFBRTtNQUNOWixTQUFTLEVBQUUsS0FETDtNQUVORSxJQUFJLEVBQUVaLFNBQVMsQ0FBQ3FCLElBQVYsQ0FBZTVCLFVBQWYsQ0FGQTtNQUdOcUIsWUFBWSxFQUFFcEI7SUFIUjtFQTVCVixDQURGLEVBbUNFO0lBQ0VLLFNBREY7SUFFRXdCLFNBQVMsRUFBRSxRQUZiO0lBR0VDLFVBQVUsRUFBRSxLQUhkO0lBSUVDLFNBQVMsRUFBRSxLQUpiO0lBS0VDLFNBQVMsRUFBRTtFQUxiLENBbkNGO0VBMkNBekIsTUFBTSxDQUFDMEIsWUFBUCxDQUFxQkMsSUFBRCxJQUFXQSxJQUFJLENBQUNuQixFQUFMLEdBQVViLE1BQU0sRUFBL0M7RUFDQSxPQUFPSyxNQUFQO0FBQ0QsQ0F2REQifQ==","map":{"version":3,"names":["Model","require","role","roleDefault","userStatus","userStatusDefault","v4","uuidv4","module","exports","sequelize","DataTypes","Staffs","associate","models","hasMany","Reports","foreignKey","CandidateDetails","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","email","fullname","avatar","TEXT","password","ENUM","status","modelName","timestamps","createdAt","updatedAt","beforeCreate","user"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/","sources":["staff.model.js"],"sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nconst { role, roleDefault } = require(\"../constant/role.enum.js\");\r\nconst {\r\n  userStatus,\r\n  userStatusDefault,\r\n} = require(\"../constant/userStatus.enum.js\");\r\nconst { v4: uuidv4 } = require(\"uuid\");\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Staffs extends Model {\r\n    static associate(models) {\r\n      // define association here\r\n      Staffs.hasMany(models.Reports, { foreignKey: \"Interviewer_id\" });\r\n      Staffs.hasMany(models.CandidateDetails, {\r\n        foreignKey: \"CandidateDetail_id\",\r\n      });\r\n    }\r\n  }\r\n  Staffs.init(\r\n    {\r\n      id: {\r\n        allowNull: false,\r\n        primaryKey: true,\r\n        type: DataTypes.STRING(36),\r\n        defaultValue: DataTypes.UUIDV4,\r\n      },\r\n      email: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(320),\r\n      },\r\n      fullname: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(60),\r\n      },\r\n      avatar: {\r\n        allowNull: true,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      password: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(60),\r\n      },\r\n      role: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(role),\r\n        defaultValue: roleDefault,\r\n      },\r\n      status: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(userStatus),\r\n        defaultValue: userStatusDefault,\r\n      },\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"Staffs\",\r\n      timestamps: false,\r\n      createdAt: false,\r\n      updatedAt: false,\r\n    }\r\n  );\r\n  Staffs.beforeCreate((user) => (user.id = uuidv4()));\r\n  return Staffs;\r\n};\r\n"],"mappings":"AAAA;;AACA,MAAM;EAAEA;AAAF,IAAYC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAM;EAAEC,IAAF;EAAQC;AAAR,IAAwBF,OAAO,CAAC,0BAAD,CAArC;;AACA,MAAM;EACJG,UADI;EAEJC;AAFI,IAGFJ,OAAO,CAAC,gCAAD,CAHX;;AAIA,MAAM;EAAEK,EAAE,EAAEC;AAAN,IAAiBN,OAAO,CAAC,MAAD,CAA9B;;AACAO,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;EACzC,MAAMC,MAAN,SAAqBZ,KAArB,CAA2B;IACT,OAATa,SAAS,CAACC,MAAD,EAAS;MACvB;MACAF,MAAM,CAACG,OAAP,CAAeD,MAAM,CAACE,OAAtB,EAA+B;QAAEC,UAAU,EAAE;MAAd,CAA/B;MACAL,MAAM,CAACG,OAAP,CAAeD,MAAM,CAACI,gBAAtB,EAAwC;QACtCD,UAAU,EAAE;MAD0B,CAAxC;IAGD;;EAPwB;;EAS3BL,MAAM,CAACO,IAAP,CACE;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEZ,SAAS,CAACa,MAAV,CAAiB,EAAjB,CAHJ;MAIFC,YAAY,EAAEd,SAAS,CAACe;IAJtB,CADN;IAOEC,KAAK,EAAE;MACLN,SAAS,EAAE,KADN;MAELE,IAAI,EAAEZ,SAAS,CAACa,MAAV,CAAiB,GAAjB;IAFD,CAPT;IAWEI,QAAQ,EAAE;MACRP,SAAS,EAAE,KADH;MAERE,IAAI,EAAEZ,SAAS,CAACa,MAAV,CAAiB,EAAjB;IAFE,CAXZ;IAeEK,MAAM,EAAE;MACNR,SAAS,EAAE,IADL;MAENE,IAAI,EAAEZ,SAAS,CAACmB;IAFV,CAfV;IAmBEC,QAAQ,EAAE;MACRV,SAAS,EAAE,KADH;MAERE,IAAI,EAAEZ,SAAS,CAACa,MAAV,CAAiB,EAAjB;IAFE,CAnBZ;IAuBEtB,IAAI,EAAE;MACJmB,SAAS,EAAE,KADP;MAEJE,IAAI,EAAEZ,SAAS,CAACqB,IAAV,CAAe9B,IAAf,CAFF;MAGJuB,YAAY,EAAEtB;IAHV,CAvBR;IA4BE8B,MAAM,EAAE;MACNZ,SAAS,EAAE,KADL;MAENE,IAAI,EAAEZ,SAAS,CAACqB,IAAV,CAAe5B,UAAf,CAFA;MAGNqB,YAAY,EAAEpB;IAHR;EA5BV,CADF,EAmCE;IACEK,SADF;IAEEwB,SAAS,EAAE,QAFb;IAGEC,UAAU,EAAE,KAHd;IAIEC,SAAS,EAAE,KAJb;IAKEC,SAAS,EAAE;EALb,CAnCF;EA2CAzB,MAAM,CAAC0B,YAAP,CAAqBC,IAAD,IAAWA,IAAI,CAACnB,EAAL,GAAUb,MAAM,EAA/C;EACA,OAAOK,MAAP;AACD,CAvDD"}},"mtime":1667231633836},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/role.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  role: [\"Admin\", \"HR Staff\", \"HR Manager\", \"Interviewer\"],\n  roleDefault: \"HR Staff\",\n  memberRole: \"Member\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwicm9sZSIsInJvbGVEZWZhdWx0IiwibWVtYmVyUm9sZSJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9jb25zdGFudC8iLCJzb3VyY2VzIjpbInJvbGUuZW51bS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgcm9sZTogW1wiQWRtaW5cIiwgXCJIUiBTdGFmZlwiLCBcIkhSIE1hbmFnZXJcIiwgXCJJbnRlcnZpZXdlclwiXSxcbiAgcm9sZURlZmF1bHQ6IFwiSFIgU3RhZmZcIixcbiAgbWVtYmVyUm9sZTogXCJNZW1iZXJcIixcbn07XG4iXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmQyxJQUFJLEVBQUUsQ0FBQyxPQUFELEVBQVUsVUFBVixFQUFzQixZQUF0QixFQUFvQyxhQUFwQyxDQURTO0VBRWZDLFdBQVcsRUFBRSxVQUZFO0VBR2ZDLFVBQVUsRUFBRTtBQUhHLENBQWpCIn0=","map":{"version":3,"names":["module","exports","role","roleDefault","memberRole"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/","sources":["role.enum.js"],"sourcesContent":["module.exports = {\n  role: [\"Admin\", \"HR Staff\", \"HR Manager\", \"Interviewer\"],\n  roleDefault: \"HR Staff\",\n  memberRole: \"Member\",\n};\n"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACfC,IAAI,EAAE,CAAC,OAAD,EAAU,UAAV,EAAsB,YAAtB,EAAoC,aAApC,CADS;EAEfC,WAAW,EAAE,UAFE;EAGfC,UAAU,EAAE;AAHG,CAAjB"}},"mtime":1666279748611},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/middleware/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/middleware/auth.middleware.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst httpStatus = require(\"http-status\");\n\nconst jwt = require(\"jsonwebtoken\");\n\nrequire(\"dotenv\").config();\n\nconst {\n  ApiError\n} = require(\"./apiError\");\n\nconst auth = async (req, res, next) => {\n  try {\n    var _req$header;\n\n    const token = (_req$header = req.header(\"Authorization\")) === null || _req$header === void 0 ? void 0 : _req$header.replace(\"Bearer \", \"\");\n\n    if (!token) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"INVALID TOKEN\");\n    }\n\n    const currentUser = jwt.verify(token, process.env.ACCESS_TOKEN_SECRET, (err, payload) => {\n      if (!err) {\n        return payload;\n      }\n\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"BAD REQUEST\");\n    });\n    req.currentUser = currentUser;\n    next();\n  } catch (error) {\n    next(error);\n  } finally {}\n};\n\nmodule.exports = auth;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwU3RhdHVzIiwicmVxdWlyZSIsImp3dCIsImNvbmZpZyIsIkFwaUVycm9yIiwiYXV0aCIsInJlcSIsInJlcyIsIm5leHQiLCJ0b2tlbiIsImhlYWRlciIsInJlcGxhY2UiLCJVTkFVVEhPUklaRUQiLCJjdXJyZW50VXNlciIsInZlcmlmeSIsInByb2Nlc3MiLCJlbnYiLCJBQ0NFU1NfVE9LRU5fU0VDUkVUIiwiZXJyIiwicGF5bG9hZCIsImVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9taWRkbGV3YXJlLyIsInNvdXJjZXMiOlsiYXV0aC5taWRkbGV3YXJlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGh0dHBTdGF0dXMgPSByZXF1aXJlKFwiaHR0cC1zdGF0dXNcIik7XG5jb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xucmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcbmNvbnN0IHsgQXBpRXJyb3IgfSA9IHJlcXVpcmUoXCIuL2FwaUVycm9yXCIpO1xuY29uc3QgYXV0aCA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHRva2VuID0gcmVxLmhlYWRlcihcIkF1dGhvcml6YXRpb25cIik/LnJlcGxhY2UoXCJCZWFyZXIgXCIsIFwiXCIpO1xuICAgIGlmICghdG9rZW4pIHtcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLlVOQVVUSE9SSVpFRCwgXCJJTlZBTElEIFRPS0VOXCIpO1xuICAgIH1cbiAgICBjb25zdCBjdXJyZW50VXNlciA9IGp3dC52ZXJpZnkoXG4gICAgICB0b2tlbixcbiAgICAgIHByb2Nlc3MuZW52LkFDQ0VTU19UT0tFTl9TRUNSRVQsXG4gICAgICAoZXJyLCBwYXlsb2FkKSA9PiB7XG4gICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKGh0dHBTdGF0dXMuVU5BVVRIT1JJWkVELCBcIkJBRCBSRVFVRVNUXCIpO1xuICAgICAgfVxuICAgICk7XG4gICAgcmVxLmN1cnJlbnRVc2VyID0gY3VycmVudFVzZXI7XG5cbiAgICBuZXh0KCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbmV4dChlcnJvcik7XG4gIH0gZmluYWxseSB7XG4gIH1cbn07XG5tb2R1bGUuZXhwb3J0cyA9IGF1dGg7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsVUFBVSxHQUFHQyxPQUFPLENBQUMsYUFBRCxDQUExQjs7QUFDQSxNQUFNQyxHQUFHLEdBQUdELE9BQU8sQ0FBQyxjQUFELENBQW5COztBQUNBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCRSxNQUFsQjs7QUFDQSxNQUFNO0VBQUVDO0FBQUYsSUFBZUgsT0FBTyxDQUFDLFlBQUQsQ0FBNUI7O0FBQ0EsTUFBTUksSUFBSSxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDckMsSUFBSTtJQUFBOztJQUNGLE1BQU1DLEtBQUssa0JBQUdILEdBQUcsQ0FBQ0ksTUFBSixDQUFXLGVBQVgsQ0FBSCxnREFBRyxZQUE2QkMsT0FBN0IsQ0FBcUMsU0FBckMsRUFBZ0QsRUFBaEQsQ0FBZDs7SUFDQSxJQUFJLENBQUNGLEtBQUwsRUFBWTtNQUNWLE1BQU0sSUFBSUwsUUFBSixDQUFhSixVQUFVLENBQUNZLFlBQXhCLEVBQXNDLGVBQXRDLENBQU47SUFDRDs7SUFDRCxNQUFNQyxXQUFXLEdBQUdYLEdBQUcsQ0FBQ1ksTUFBSixDQUNsQkwsS0FEa0IsRUFFbEJNLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxtQkFGTSxFQUdsQixDQUFDQyxHQUFELEVBQU1DLE9BQU4sS0FBa0I7TUFDaEIsSUFBSSxDQUFDRCxHQUFMLEVBQVU7UUFDUixPQUFPQyxPQUFQO01BQ0Q7O01BQ0QsTUFBTSxJQUFJZixRQUFKLENBQWFKLFVBQVUsQ0FBQ1ksWUFBeEIsRUFBc0MsYUFBdEMsQ0FBTjtJQUNELENBUmlCLENBQXBCO0lBVUFOLEdBQUcsQ0FBQ08sV0FBSixHQUFrQkEsV0FBbEI7SUFFQUwsSUFBSTtFQUNMLENBbEJELENBa0JFLE9BQU9ZLEtBQVAsRUFBYztJQUNkWixJQUFJLENBQUNZLEtBQUQsQ0FBSjtFQUNELENBcEJELFNBb0JVLENBQ1Q7QUFDRixDQXZCRDs7QUF3QkFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmpCLElBQWpCIn0=","map":{"version":3,"names":["httpStatus","require","jwt","config","ApiError","auth","req","res","next","token","header","replace","UNAUTHORIZED","currentUser","verify","process","env","ACCESS_TOKEN_SECRET","err","payload","error","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/middleware/","sources":["auth.middleware.js"],"sourcesContent":["const httpStatus = require(\"http-status\");\nconst jwt = require(\"jsonwebtoken\");\nrequire(\"dotenv\").config();\nconst { ApiError } = require(\"./apiError\");\nconst auth = async (req, res, next) => {\n  try {\n    const token = req.header(\"Authorization\")?.replace(\"Bearer \", \"\");\n    if (!token) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"INVALID TOKEN\");\n    }\n    const currentUser = jwt.verify(\n      token,\n      process.env.ACCESS_TOKEN_SECRET,\n      (err, payload) => {\n        if (!err) {\n          return payload;\n        }\n        throw new ApiError(httpStatus.UNAUTHORIZED, \"BAD REQUEST\");\n      }\n    );\n    req.currentUser = currentUser;\n\n    next();\n  } catch (error) {\n    next(error);\n  } finally {\n  }\n};\nmodule.exports = auth;\n"],"mappings":";;AAAA,MAAMA,UAAU,GAAGC,OAAO,CAAC,aAAD,CAA1B;;AACA,MAAMC,GAAG,GAAGD,OAAO,CAAC,cAAD,CAAnB;;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBE,MAAlB;;AACA,MAAM;EAAEC;AAAF,IAAeH,OAAO,CAAC,YAAD,CAA5B;;AACA,MAAMI,IAAI,GAAG,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EACrC,IAAI;IAAA;;IACF,MAAMC,KAAK,kBAAGH,GAAG,CAACI,MAAJ,CAAW,eAAX,CAAH,gDAAG,YAA6BC,OAA7B,CAAqC,SAArC,EAAgD,EAAhD,CAAd;;IACA,IAAI,CAACF,KAAL,EAAY;MACV,MAAM,IAAIL,QAAJ,CAAaJ,UAAU,CAACY,YAAxB,EAAsC,eAAtC,CAAN;IACD;;IACD,MAAMC,WAAW,GAAGX,GAAG,CAACY,MAAJ,CAClBL,KADkB,EAElBM,OAAO,CAACC,GAAR,CAAYC,mBAFM,EAGlB,CAACC,GAAD,EAAMC,OAAN,KAAkB;MAChB,IAAI,CAACD,GAAL,EAAU;QACR,OAAOC,OAAP;MACD;;MACD,MAAM,IAAIf,QAAJ,CAAaJ,UAAU,CAACY,YAAxB,EAAsC,aAAtC,CAAN;IACD,CARiB,CAApB;IAUAN,GAAG,CAACO,WAAJ,GAAkBA,WAAlB;IAEAL,IAAI;EACL,CAlBD,CAkBE,OAAOY,KAAP,EAAc;IACdZ,IAAI,CAACY,KAAD,CAAJ;EACD,CApBD,SAoBU,CACT;AACF,CAvBD;;AAwBAC,MAAM,CAACC,OAAP,GAAiBjB,IAAjB"}},"mtime":1666279748620},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/member.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\n\nconst auth = require(\"../middleware/auth.middleware\");\n\nconst memberController = require(\"../controller/member.controller\");\n\nconst router = express.Router();\nrouter.route(\"/profile\").get(auth, memberController.profile).patch(auth, memberController.updateProfile);\nrouter.get(\"/all\", memberController.getAllMember);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImF1dGgiLCJtZW1iZXJDb250cm9sbGVyIiwicm91dGVyIiwiUm91dGVyIiwicm91dGUiLCJnZXQiLCJwcm9maWxlIiwicGF0Y2giLCJ1cGRhdGVQcm9maWxlIiwiZ2V0QWxsTWVtYmVyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9yb3V0ZXMvIiwic291cmNlcyI6WyJtZW1iZXIucm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3QgYXV0aCA9IHJlcXVpcmUoXCIuLi9taWRkbGV3YXJlL2F1dGgubWlkZGxld2FyZVwiKTtcbmNvbnN0IG1lbWJlckNvbnRyb2xsZXIgPSByZXF1aXJlKFwiLi4vY29udHJvbGxlci9tZW1iZXIuY29udHJvbGxlclwiKTtcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5yb3V0ZXJcbiAgLnJvdXRlKFwiL3Byb2ZpbGVcIilcbiAgLmdldChhdXRoLCBtZW1iZXJDb250cm9sbGVyLnByb2ZpbGUpXG4gIC5wYXRjaChhdXRoLCBtZW1iZXJDb250cm9sbGVyLnVwZGF0ZVByb2ZpbGUpO1xucm91dGVyLmdldChcIi9hbGxcIiwgbWVtYmVyQ29udHJvbGxlci5nZXRBbGxNZW1iZXIpO1xubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQywrQkFBRCxDQUFwQjs7QUFDQSxNQUFNRSxnQkFBZ0IsR0FBR0YsT0FBTyxDQUFDLGlDQUFELENBQWhDOztBQUNBLE1BQU1HLE1BQU0sR0FBR0osT0FBTyxDQUFDSyxNQUFSLEVBQWY7QUFDQUQsTUFBTSxDQUNIRSxLQURILENBQ1MsVUFEVCxFQUVHQyxHQUZILENBRU9MLElBRlAsRUFFYUMsZ0JBQWdCLENBQUNLLE9BRjlCLEVBR0dDLEtBSEgsQ0FHU1AsSUFIVCxFQUdlQyxnQkFBZ0IsQ0FBQ08sYUFIaEM7QUFJQU4sTUFBTSxDQUFDRyxHQUFQLENBQVcsTUFBWCxFQUFtQkosZ0JBQWdCLENBQUNRLFlBQXBDO0FBQ0FDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlQsTUFBakIifQ==","map":{"version":3,"names":["express","require","auth","memberController","router","Router","route","get","profile","patch","updateProfile","getAllMember","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["member.route.js"],"sourcesContent":["const express = require(\"express\");\nconst auth = require(\"../middleware/auth.middleware\");\nconst memberController = require(\"../controller/member.controller\");\nconst router = express.Router();\nrouter\n  .route(\"/profile\")\n  .get(auth, memberController.profile)\n  .patch(auth, memberController.updateProfile);\nrouter.get(\"/all\", memberController.getAllMember);\nmodule.exports = router;\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,+BAAD,CAApB;;AACA,MAAME,gBAAgB,GAAGF,OAAO,CAAC,iCAAD,CAAhC;;AACA,MAAMG,MAAM,GAAGJ,OAAO,CAACK,MAAR,EAAf;AACAD,MAAM,CACHE,KADH,CACS,UADT,EAEGC,GAFH,CAEOL,IAFP,EAEaC,gBAAgB,CAACK,OAF9B,EAGGC,KAHH,CAGSP,IAHT,EAGeC,gBAAgB,CAACO,aAHhC;AAIAN,MAAM,CAACG,GAAP,CAAW,MAAX,EAAmBJ,gBAAgB,CAACQ,YAApC;AACAC,MAAM,CAACC,OAAP,GAAiBT,MAAjB"}},"mtime":1666279748633},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/member.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _index = require(\"../models/index\");\n\nconst httpStatus = require(\"http-status\");\n\nconst {\n  ApiError\n} = require(\"../middleware/apiError\");\n\nconst {\n  getMemberByEmail,\n  showAllMember\n} = require(\"../repository/members.repository\");\n\nconst {\n  updateMemberProfile\n} = require(\"../service/member.service\");\n\nconst memberController = {\n  async profile(req, res, next) {\n    try {\n      const member = await getMemberByEmail(req.currentUser.email);\n\n      if (!member) {\n        throw new ApiError(httpStatus.NOT_FOUND, \"Member Not Found\");\n      }\n\n      return res.json(member);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async updateProfile(req, res, next) {\n    try {\n      const updatedMember = await updateMemberProfile(req);\n      return res.json(updatedMember);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async getAllMember(req, res) {\n    try {\n      const allMember = await showAllMember();\n\n      if (!allMember) {\n        throw new ApiError(\"Member khong ton tai\");\n      }\n\n      return res.send(allMember);\n    } catch (error) {}\n  }\n\n};\nmodule.exports = memberController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwU3RhdHVzIiwicmVxdWlyZSIsIkFwaUVycm9yIiwiZ2V0TWVtYmVyQnlFbWFpbCIsInNob3dBbGxNZW1iZXIiLCJ1cGRhdGVNZW1iZXJQcm9maWxlIiwibWVtYmVyQ29udHJvbGxlciIsInByb2ZpbGUiLCJyZXEiLCJyZXMiLCJuZXh0IiwibWVtYmVyIiwiY3VycmVudFVzZXIiLCJlbWFpbCIsIk5PVF9GT1VORCIsImpzb24iLCJlcnJvciIsInVwZGF0ZVByb2ZpbGUiLCJ1cGRhdGVkTWVtYmVyIiwiZ2V0QWxsTWVtYmVyIiwiYWxsTWVtYmVyIiwic2VuZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvY29udHJvbGxlci8iLCJzb3VyY2VzIjpbIm1lbWJlci5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGh0dHBTdGF0dXMgPSByZXF1aXJlKFwiaHR0cC1zdGF0dXNcIik7XG5jb25zdCB7IEFwaUVycm9yIH0gPSByZXF1aXJlKFwiLi4vbWlkZGxld2FyZS9hcGlFcnJvclwiKTtcbmltcG9ydCB7IHNlcXVlbGl6ZSB9IGZyb20gXCIuLi9tb2RlbHMvaW5kZXhcIjtcbmNvbnN0IHtcbiAgZ2V0TWVtYmVyQnlFbWFpbCxcbiAgc2hvd0FsbE1lbWJlcixcbn0gPSByZXF1aXJlKFwiLi4vcmVwb3NpdG9yeS9tZW1iZXJzLnJlcG9zaXRvcnlcIik7XG5jb25zdCB7IHVwZGF0ZU1lbWJlclByb2ZpbGUgfSA9IHJlcXVpcmUoXCIuLi9zZXJ2aWNlL21lbWJlci5zZXJ2aWNlXCIpO1xuY29uc3QgbWVtYmVyQ29udHJvbGxlciA9IHtcbiAgYXN5bmMgcHJvZmlsZShyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBtZW1iZXIgPSBhd2FpdCBnZXRNZW1iZXJCeUVtYWlsKHJlcS5jdXJyZW50VXNlci5lbWFpbCk7XG5cbiAgICAgIGlmICghbWVtYmVyKSB7XG4gICAgICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLk5PVF9GT1VORCwgXCJNZW1iZXIgTm90IEZvdW5kXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcy5qc29uKG1lbWJlcik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG5leHQoZXJyb3IpO1xuICAgIH1cbiAgfSxcbiAgYXN5bmMgdXBkYXRlUHJvZmlsZShyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cGRhdGVkTWVtYmVyID0gYXdhaXQgdXBkYXRlTWVtYmVyUHJvZmlsZShyZXEpO1xuICAgICAgcmV0dXJuIHJlcy5qc29uKHVwZGF0ZWRNZW1iZXIpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBuZXh0KGVycm9yKTtcbiAgICB9XG4gIH0sXG4gIGFzeW5jIGdldEFsbE1lbWJlcihyZXEsIHJlcykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhbGxNZW1iZXIgPSBhd2FpdCBzaG93QWxsTWVtYmVyKCk7XG4gICAgICBpZiAoIWFsbE1lbWJlcikge1xuICAgICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoXCJNZW1iZXIga2hvbmcgdG9uIHRhaVwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXMuc2VuZChhbGxNZW1iZXIpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxuICB9LFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBtZW1iZXJDb250cm9sbGVyO1xuIl0sIm1hcHBpbmdzIjoiOztBQUVBOztBQUZBLE1BQU1BLFVBQVUsR0FBR0MsT0FBTyxDQUFDLGFBQUQsQ0FBMUI7O0FBQ0EsTUFBTTtFQUFFQztBQUFGLElBQWVELE9BQU8sQ0FBQyx3QkFBRCxDQUE1Qjs7QUFFQSxNQUFNO0VBQ0pFLGdCQURJO0VBRUpDO0FBRkksSUFHRkgsT0FBTyxDQUFDLGtDQUFELENBSFg7O0FBSUEsTUFBTTtFQUFFSTtBQUFGLElBQTBCSixPQUFPLENBQUMsMkJBQUQsQ0FBdkM7O0FBQ0EsTUFBTUssZ0JBQWdCLEdBQUc7RUFDdkIsTUFBTUMsT0FBTixDQUFjQyxHQUFkLEVBQW1CQyxHQUFuQixFQUF3QkMsSUFBeEIsRUFBOEI7SUFDNUIsSUFBSTtNQUNGLE1BQU1DLE1BQU0sR0FBRyxNQUFNUixnQkFBZ0IsQ0FBQ0ssR0FBRyxDQUFDSSxXQUFKLENBQWdCQyxLQUFqQixDQUFyQzs7TUFFQSxJQUFJLENBQUNGLE1BQUwsRUFBYTtRQUNYLE1BQU0sSUFBSVQsUUFBSixDQUFhRixVQUFVLENBQUNjLFNBQXhCLEVBQW1DLGtCQUFuQyxDQUFOO01BQ0Q7O01BQ0QsT0FBT0wsR0FBRyxDQUFDTSxJQUFKLENBQVNKLE1BQVQsQ0FBUDtJQUNELENBUEQsQ0FPRSxPQUFPSyxLQUFQLEVBQWM7TUFDZE4sSUFBSSxDQUFDTSxLQUFELENBQUo7SUFDRDtFQUNGLENBWnNCOztFQWF2QixNQUFNQyxhQUFOLENBQW9CVCxHQUFwQixFQUF5QkMsR0FBekIsRUFBOEJDLElBQTlCLEVBQW9DO0lBQ2xDLElBQUk7TUFDRixNQUFNUSxhQUFhLEdBQUcsTUFBTWIsbUJBQW1CLENBQUNHLEdBQUQsQ0FBL0M7TUFDQSxPQUFPQyxHQUFHLENBQUNNLElBQUosQ0FBU0csYUFBVCxDQUFQO0lBQ0QsQ0FIRCxDQUdFLE9BQU9GLEtBQVAsRUFBYztNQUNkTixJQUFJLENBQUNNLEtBQUQsQ0FBSjtJQUNEO0VBQ0YsQ0FwQnNCOztFQXFCdkIsTUFBTUcsWUFBTixDQUFtQlgsR0FBbkIsRUFBd0JDLEdBQXhCLEVBQTZCO0lBQzNCLElBQUk7TUFDRixNQUFNVyxTQUFTLEdBQUcsTUFBTWhCLGFBQWEsRUFBckM7O01BQ0EsSUFBSSxDQUFDZ0IsU0FBTCxFQUFnQjtRQUNkLE1BQU0sSUFBSWxCLFFBQUosQ0FBYSxzQkFBYixDQUFOO01BQ0Q7O01BQ0QsT0FBT08sR0FBRyxDQUFDWSxJQUFKLENBQVNELFNBQVQsQ0FBUDtJQUNELENBTkQsQ0FNRSxPQUFPSixLQUFQLEVBQWMsQ0FBRTtFQUNuQjs7QUE3QnNCLENBQXpCO0FBZ0NBTSxNQUFNLENBQUNDLE9BQVAsR0FBaUJqQixnQkFBakIifQ==","map":{"version":3,"names":["httpStatus","require","ApiError","getMemberByEmail","showAllMember","updateMemberProfile","memberController","profile","req","res","next","member","currentUser","email","NOT_FOUND","json","error","updateProfile","updatedMember","getAllMember","allMember","send","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/","sources":["member.controller.js"],"sourcesContent":["const httpStatus = require(\"http-status\");\nconst { ApiError } = require(\"../middleware/apiError\");\nimport { sequelize } from \"../models/index\";\nconst {\n  getMemberByEmail,\n  showAllMember,\n} = require(\"../repository/members.repository\");\nconst { updateMemberProfile } = require(\"../service/member.service\");\nconst memberController = {\n  async profile(req, res, next) {\n    try {\n      const member = await getMemberByEmail(req.currentUser.email);\n\n      if (!member) {\n        throw new ApiError(httpStatus.NOT_FOUND, \"Member Not Found\");\n      }\n      return res.json(member);\n    } catch (error) {\n      next(error);\n    }\n  },\n  async updateProfile(req, res, next) {\n    try {\n      const updatedMember = await updateMemberProfile(req);\n      return res.json(updatedMember);\n    } catch (error) {\n      next(error);\n    }\n  },\n  async getAllMember(req, res) {\n    try {\n      const allMember = await showAllMember();\n      if (!allMember) {\n        throw new ApiError(\"Member khong ton tai\");\n      }\n      return res.send(allMember);\n    } catch (error) {}\n  },\n};\n\nmodule.exports = memberController;\n"],"mappings":";;AAEA;;AAFA,MAAMA,UAAU,GAAGC,OAAO,CAAC,aAAD,CAA1B;;AACA,MAAM;EAAEC;AAAF,IAAeD,OAAO,CAAC,wBAAD,CAA5B;;AAEA,MAAM;EACJE,gBADI;EAEJC;AAFI,IAGFH,OAAO,CAAC,kCAAD,CAHX;;AAIA,MAAM;EAAEI;AAAF,IAA0BJ,OAAO,CAAC,2BAAD,CAAvC;;AACA,MAAMK,gBAAgB,GAAG;EACvB,MAAMC,OAAN,CAAcC,GAAd,EAAmBC,GAAnB,EAAwBC,IAAxB,EAA8B;IAC5B,IAAI;MACF,MAAMC,MAAM,GAAG,MAAMR,gBAAgB,CAACK,GAAG,CAACI,WAAJ,CAAgBC,KAAjB,CAArC;;MAEA,IAAI,CAACF,MAAL,EAAa;QACX,MAAM,IAAIT,QAAJ,CAAaF,UAAU,CAACc,SAAxB,EAAmC,kBAAnC,CAAN;MACD;;MACD,OAAOL,GAAG,CAACM,IAAJ,CAASJ,MAAT,CAAP;IACD,CAPD,CAOE,OAAOK,KAAP,EAAc;MACdN,IAAI,CAACM,KAAD,CAAJ;IACD;EACF,CAZsB;;EAavB,MAAMC,aAAN,CAAoBT,GAApB,EAAyBC,GAAzB,EAA8BC,IAA9B,EAAoC;IAClC,IAAI;MACF,MAAMQ,aAAa,GAAG,MAAMb,mBAAmB,CAACG,GAAD,CAA/C;MACA,OAAOC,GAAG,CAACM,IAAJ,CAASG,aAAT,CAAP;IACD,CAHD,CAGE,OAAOF,KAAP,EAAc;MACdN,IAAI,CAACM,KAAD,CAAJ;IACD;EACF,CApBsB;;EAqBvB,MAAMG,YAAN,CAAmBX,GAAnB,EAAwBC,GAAxB,EAA6B;IAC3B,IAAI;MACF,MAAMW,SAAS,GAAG,MAAMhB,aAAa,EAArC;;MACA,IAAI,CAACgB,SAAL,EAAgB;QACd,MAAM,IAAIlB,QAAJ,CAAa,sBAAb,CAAN;MACD;;MACD,OAAOO,GAAG,CAACY,IAAJ,CAASD,SAAT,CAAP;IACD,CAND,CAME,OAAOJ,KAAP,EAAc,CAAE;EACnB;;AA7BsB,CAAzB;AAgCAM,MAAM,CAACC,OAAP,GAAiBjB,gBAAjB"}},"mtime":1667231633832},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/member.service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  update,\n  getMemberById\n} = require(\"../repository/members.repository\");\n\nrequire(\"dotenv\").config();\n\nconst updateMemberProfile = async req => {\n  try {\n    await update(req.body, {\n      id: req.currentUser.id\n    });\n    const member = await getMemberById(req.currentUser.id);\n    return member;\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  updateMemberProfile\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1cGRhdGUiLCJnZXRNZW1iZXJCeUlkIiwicmVxdWlyZSIsImNvbmZpZyIsInVwZGF0ZU1lbWJlclByb2ZpbGUiLCJyZXEiLCJib2R5IiwiaWQiLCJjdXJyZW50VXNlciIsIm1lbWJlciIsImVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9zZXJ2aWNlLyIsInNvdXJjZXMiOlsibWVtYmVyLnNlcnZpY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyB1cGRhdGUsIGdldE1lbWJlckJ5SWQgfSA9IHJlcXVpcmUoXCIuLi9yZXBvc2l0b3J5L21lbWJlcnMucmVwb3NpdG9yeVwiKTtcbnJlcXVpcmUoXCJkb3RlbnZcIikuY29uZmlnKCk7XG5cbmNvbnN0IHVwZGF0ZU1lbWJlclByb2ZpbGUgPSBhc3luYyAocmVxKSA9PiB7XG4gIHRyeSB7XG4gICAgYXdhaXQgdXBkYXRlKHJlcS5ib2R5LCB7IGlkOiByZXEuY3VycmVudFVzZXIuaWQgfSk7XG4gICAgY29uc3QgbWVtYmVyID0gYXdhaXQgZ2V0TWVtYmVyQnlJZChyZXEuY3VycmVudFVzZXIuaWQpO1xuICAgIHJldHVybiBtZW1iZXI7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgdXBkYXRlTWVtYmVyUHJvZmlsZSxcbn07XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTTtFQUFFQSxNQUFGO0VBQVVDO0FBQVYsSUFBNEJDLE9BQU8sQ0FBQyxrQ0FBRCxDQUF6Qzs7QUFDQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEI7O0FBRUEsTUFBTUMsbUJBQW1CLEdBQUcsTUFBT0MsR0FBUCxJQUFlO0VBQ3pDLElBQUk7SUFDRixNQUFNTCxNQUFNLENBQUNLLEdBQUcsQ0FBQ0MsSUFBTCxFQUFXO01BQUVDLEVBQUUsRUFBRUYsR0FBRyxDQUFDRyxXQUFKLENBQWdCRDtJQUF0QixDQUFYLENBQVo7SUFDQSxNQUFNRSxNQUFNLEdBQUcsTUFBTVIsYUFBYSxDQUFDSSxHQUFHLENBQUNHLFdBQUosQ0FBZ0JELEVBQWpCLENBQWxDO0lBQ0EsT0FBT0UsTUFBUDtFQUNELENBSkQsQ0FJRSxPQUFPQyxLQUFQLEVBQWM7SUFDZCxNQUFNQSxLQUFOO0VBQ0Q7QUFDRixDQVJEOztBQVNBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7RUFDZlI7QUFEZSxDQUFqQiJ9","map":{"version":3,"names":["update","getMemberById","require","config","updateMemberProfile","req","body","id","currentUser","member","error","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/","sources":["member.service.js"],"sourcesContent":["const { update, getMemberById } = require(\"../repository/members.repository\");\nrequire(\"dotenv\").config();\n\nconst updateMemberProfile = async (req) => {\n  try {\n    await update(req.body, { id: req.currentUser.id });\n    const member = await getMemberById(req.currentUser.id);\n    return member;\n  } catch (error) {\n    throw error;\n  }\n};\nmodule.exports = {\n  updateMemberProfile,\n};\n"],"mappings":";;AAAA,MAAM;EAAEA,MAAF;EAAUC;AAAV,IAA4BC,OAAO,CAAC,kCAAD,CAAzC;;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEA,MAAMC,mBAAmB,GAAG,MAAOC,GAAP,IAAe;EACzC,IAAI;IACF,MAAML,MAAM,CAACK,GAAG,CAACC,IAAL,EAAW;MAAEC,EAAE,EAAEF,GAAG,CAACG,WAAJ,CAAgBD;IAAtB,CAAX,CAAZ;IACA,MAAME,MAAM,GAAG,MAAMR,aAAa,CAACI,GAAG,CAACG,WAAJ,CAAgBD,EAAjB,CAAlC;IACA,OAAOE,MAAP;EACD,CAJD,CAIE,OAAOC,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CARD;;AASAC,MAAM,CAACC,OAAP,GAAiB;EACfR;AADe,CAAjB"}},"mtime":1666279748641},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/staff.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\n\nconst auth = require(\"../middleware/auth.middleware\");\n\nconst staffController = require(\"../controller/staff.controller\");\n\nconst router = express.Router();\nrouter.get(\"/profile\", auth, staffController.profile);\nrouter.patch(\"/profile\", auth, staffController.updateProfile);\nrouter.get(\"/all\", staffController.getAllStaff);\nrouter.get(\"/all-interviewers\", staffController.handleGetAllInterviewers);\nrouter.patch(\"/delete/:id\", staffController.deleteStaff); //   .get(auth, memberController.profile)\n//   .patch(auth, memberController.updateProfile);\n// router.get(\"/all\", memberController.getAllMember);\n\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImF1dGgiLCJzdGFmZkNvbnRyb2xsZXIiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJnZXQiLCJwcm9maWxlIiwicGF0Y2giLCJ1cGRhdGVQcm9maWxlIiwiZ2V0QWxsU3RhZmYiLCJoYW5kbGVHZXRBbGxJbnRlcnZpZXdlcnMiLCJkZWxldGVTdGFmZiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsic3RhZmYucm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3QgYXV0aCA9IHJlcXVpcmUoXCIuLi9taWRkbGV3YXJlL2F1dGgubWlkZGxld2FyZVwiKTtcbmNvbnN0IHN0YWZmQ29udHJvbGxlciA9IHJlcXVpcmUoXCIuLi9jb250cm9sbGVyL3N0YWZmLmNvbnRyb2xsZXJcIik7XG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIuZ2V0KFwiL3Byb2ZpbGVcIiwgYXV0aCwgc3RhZmZDb250cm9sbGVyLnByb2ZpbGUpO1xucm91dGVyLnBhdGNoKFwiL3Byb2ZpbGVcIiwgYXV0aCwgc3RhZmZDb250cm9sbGVyLnVwZGF0ZVByb2ZpbGUpO1xucm91dGVyLmdldChcIi9hbGxcIiwgc3RhZmZDb250cm9sbGVyLmdldEFsbFN0YWZmKTtcbnJvdXRlci5nZXQoXCIvYWxsLWludGVydmlld2Vyc1wiLCBzdGFmZkNvbnRyb2xsZXIuaGFuZGxlR2V0QWxsSW50ZXJ2aWV3ZXJzKTtcbnJvdXRlci5wYXRjaChcIi9kZWxldGUvOmlkXCIsIHN0YWZmQ29udHJvbGxlci5kZWxldGVTdGFmZik7XG5cbi8vICAgLmdldChhdXRoLCBtZW1iZXJDb250cm9sbGVyLnByb2ZpbGUpXG4vLyAgIC5wYXRjaChhdXRoLCBtZW1iZXJDb250cm9sbGVyLnVwZGF0ZVByb2ZpbGUpO1xuLy8gcm91dGVyLmdldChcIi9hbGxcIiwgbWVtYmVyQ29udHJvbGxlci5nZXRBbGxNZW1iZXIpO1xubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQywrQkFBRCxDQUFwQjs7QUFDQSxNQUFNRSxlQUFlLEdBQUdGLE9BQU8sQ0FBQyxnQ0FBRCxDQUEvQjs7QUFDQSxNQUFNRyxNQUFNLEdBQUdKLE9BQU8sQ0FBQ0ssTUFBUixFQUFmO0FBRUFELE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLFVBQVgsRUFBdUJKLElBQXZCLEVBQTZCQyxlQUFlLENBQUNJLE9BQTdDO0FBQ0FILE1BQU0sQ0FBQ0ksS0FBUCxDQUFhLFVBQWIsRUFBeUJOLElBQXpCLEVBQStCQyxlQUFlLENBQUNNLGFBQS9DO0FBQ0FMLE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLE1BQVgsRUFBbUJILGVBQWUsQ0FBQ08sV0FBbkM7QUFDQU4sTUFBTSxDQUFDRSxHQUFQLENBQVcsbUJBQVgsRUFBZ0NILGVBQWUsQ0FBQ1Esd0JBQWhEO0FBQ0FQLE1BQU0sQ0FBQ0ksS0FBUCxDQUFhLGFBQWIsRUFBNEJMLGVBQWUsQ0FBQ1MsV0FBNUMsRSxDQUVBO0FBQ0E7QUFDQTs7QUFDQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCVixNQUFqQiJ9","map":{"version":3,"names":["express","require","auth","staffController","router","Router","get","profile","patch","updateProfile","getAllStaff","handleGetAllInterviewers","deleteStaff","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["staff.route.js"],"sourcesContent":["const express = require(\"express\");\nconst auth = require(\"../middleware/auth.middleware\");\nconst staffController = require(\"../controller/staff.controller\");\nconst router = express.Router();\n\nrouter.get(\"/profile\", auth, staffController.profile);\nrouter.patch(\"/profile\", auth, staffController.updateProfile);\nrouter.get(\"/all\", staffController.getAllStaff);\nrouter.get(\"/all-interviewers\", staffController.handleGetAllInterviewers);\nrouter.patch(\"/delete/:id\", staffController.deleteStaff);\n\n//   .get(auth, memberController.profile)\n//   .patch(auth, memberController.updateProfile);\n// router.get(\"/all\", memberController.getAllMember);\nmodule.exports = router;\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,+BAAD,CAApB;;AACA,MAAME,eAAe,GAAGF,OAAO,CAAC,gCAAD,CAA/B;;AACA,MAAMG,MAAM,GAAGJ,OAAO,CAACK,MAAR,EAAf;AAEAD,MAAM,CAACE,GAAP,CAAW,UAAX,EAAuBJ,IAAvB,EAA6BC,eAAe,CAACI,OAA7C;AACAH,MAAM,CAACI,KAAP,CAAa,UAAb,EAAyBN,IAAzB,EAA+BC,eAAe,CAACM,aAA/C;AACAL,MAAM,CAACE,GAAP,CAAW,MAAX,EAAmBH,eAAe,CAACO,WAAnC;AACAN,MAAM,CAACE,GAAP,CAAW,mBAAX,EAAgCH,eAAe,CAACQ,wBAAhD;AACAP,MAAM,CAACI,KAAP,CAAa,aAAb,EAA4BL,eAAe,CAACS,WAA5C,E,CAEA;AACA;AACA;;AACAC,MAAM,CAACC,OAAP,GAAiBV,MAAjB"}},"mtime":1667231633844},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/staff.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _apiError = require(\"../middleware/apiError\");\n\nvar _staffs = require(\"../repository/staffs.repository\");\n\nvar _staff = require(\"../service/staff.service\");\n\nconst httpStatus = require(\"http-status\");\n\nconst staffController = {\n  // #TODO: xiu nua authen roi chinh parameter o getStaffByEmail()\n  async updateProfile(req, res, next) {\n    try {\n      const updatedStaff = await (0, _staff.updateStaffProfile)(req);\n      return res.json(updatedStaff);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async profile(req, res, next) {\n    try {\n      const staff = await (0, _staffs.getStaffByEmail)(req.currentUser.email);\n\n      if (!staff) {\n        throw new _apiError.ApiError(httpStatus.NOT_FOUND, \"Staff Not Found\");\n      }\n\n      return res.json(staff);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async getAllStaff(req, res) {\n    try {\n      const allStaff = await (0, _staffs.showAllStaff)();\n\n      if (!allStaff) {\n        throw new _apiError.ApiError(\"Staff khong ton tai\");\n      }\n\n      return res.json(allStaff);\n    } catch (error) {}\n  },\n\n  async handleGetAllInterviewers(req, res, error) {\n    try {\n      const allInterviewers = await (0, _staffs.getAllInterviewers)();\n      return res.json(allInterviewers);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async deleteStaff(req, res, next) {\n    try {\n      const updateStatusStaffToHidden = await updateStaffStatusToHidden(req);\n      return res.json({\n        message: \"Delete successfully\"\n      });\n    } catch (error) {\n      next(error);\n    }\n  }\n\n};\nmodule.exports = staffController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwU3RhdHVzIiwicmVxdWlyZSIsInN0YWZmQ29udHJvbGxlciIsInVwZGF0ZVByb2ZpbGUiLCJyZXEiLCJyZXMiLCJuZXh0IiwidXBkYXRlZFN0YWZmIiwidXBkYXRlU3RhZmZQcm9maWxlIiwianNvbiIsImVycm9yIiwicHJvZmlsZSIsInN0YWZmIiwiZ2V0U3RhZmZCeUVtYWlsIiwiY3VycmVudFVzZXIiLCJlbWFpbCIsIkFwaUVycm9yIiwiTk9UX0ZPVU5EIiwiZ2V0QWxsU3RhZmYiLCJhbGxTdGFmZiIsInNob3dBbGxTdGFmZiIsImhhbmRsZUdldEFsbEludGVydmlld2VycyIsImFsbEludGVydmlld2VycyIsImdldEFsbEludGVydmlld2VycyIsImRlbGV0ZVN0YWZmIiwidXBkYXRlU3RhdHVzU3RhZmZUb0hpZGRlbiIsInVwZGF0ZVN0YWZmU3RhdHVzVG9IaWRkZW4iLCJtZXNzYWdlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9jb250cm9sbGVyLyIsInNvdXJjZXMiOlsic3RhZmYuY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBodHRwU3RhdHVzID0gcmVxdWlyZShcImh0dHAtc3RhdHVzXCIpO1xuaW1wb3J0IHsgQXBpRXJyb3IgfSBmcm9tIFwiLi4vbWlkZGxld2FyZS9hcGlFcnJvclwiO1xuaW1wb3J0IHtcbiAgZ2V0U3RhZmZCeUVtYWlsLFxuICBzaG93QWxsU3RhZmYsXG4gIGdldEFsbEludGVydmlld2Vycyxcbn0gZnJvbSBcIi4uL3JlcG9zaXRvcnkvc3RhZmZzLnJlcG9zaXRvcnlcIjtcbmltcG9ydCB7IHVwZGF0ZVN0YWZmUHJvZmlsZSB9IGZyb20gXCIuLi9zZXJ2aWNlL3N0YWZmLnNlcnZpY2VcIjtcbmNvbnN0IHN0YWZmQ29udHJvbGxlciA9IHtcbiAgLy8gI1RPRE86IHhpdSBudWEgYXV0aGVuIHJvaSBjaGluaCBwYXJhbWV0ZXIgbyBnZXRTdGFmZkJ5RW1haWwoKVxuICBhc3luYyB1cGRhdGVQcm9maWxlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVwZGF0ZWRTdGFmZiA9IGF3YWl0IHVwZGF0ZVN0YWZmUHJvZmlsZShyZXEpO1xuICAgICAgcmV0dXJuIHJlcy5qc29uKHVwZGF0ZWRTdGFmZik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG5leHQoZXJyb3IpO1xuICAgIH1cbiAgfSxcbiAgYXN5bmMgcHJvZmlsZShyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdGFmZiA9IGF3YWl0IGdldFN0YWZmQnlFbWFpbChyZXEuY3VycmVudFVzZXIuZW1haWwpO1xuICAgICAgaWYgKCFzdGFmZikge1xuICAgICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5OT1RfRk9VTkQsIFwiU3RhZmYgTm90IEZvdW5kXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcy5qc29uKHN0YWZmKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbmV4dChlcnJvcik7XG4gICAgfVxuICB9LFxuICBhc3luYyBnZXRBbGxTdGFmZihyZXEsIHJlcykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhbGxTdGFmZiA9IGF3YWl0IHNob3dBbGxTdGFmZigpO1xuICAgICAgaWYgKCFhbGxTdGFmZikge1xuICAgICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoXCJTdGFmZiBraG9uZyB0b24gdGFpXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcy5qc29uKGFsbFN0YWZmKTtcbiAgICB9IGNhdGNoIChlcnJvcikgeyB9XG4gIH0sXG5cbiAgYXN5bmMgaGFuZGxlR2V0QWxsSW50ZXJ2aWV3ZXJzKHJlcSwgcmVzLCBlcnJvcikge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhbGxJbnRlcnZpZXdlcnMgPSBhd2FpdCBnZXRBbGxJbnRlcnZpZXdlcnMoKTtcbiAgICAgIHJldHVybiByZXMuanNvbihhbGxJbnRlcnZpZXdlcnMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBuZXh0KGVycm9yKTtcbiAgICB9XG4gIH0sXG4gIGFzeW5jIGRlbGV0ZVN0YWZmKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVwZGF0ZVN0YXR1c1N0YWZmVG9IaWRkZW4gPSBhd2FpdCB1cGRhdGVTdGFmZlN0YXR1c1RvSGlkZGVuKHJlcSk7XG4gICAgICByZXR1cm4gcmVzLmpzb24oeyBtZXNzYWdlOiBcIkRlbGV0ZSBzdWNjZXNzZnVsbHlcIiB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbmV4dChlcnJvcik7XG4gICAgfVxuICB9LFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBzdGFmZkNvbnRyb2xsZXI7XG4iXSwibWFwcGluZ3MiOiI7O0FBQ0E7O0FBQ0E7O0FBS0E7O0FBUEEsTUFBTUEsVUFBVSxHQUFHQyxPQUFPLENBQUMsYUFBRCxDQUExQjs7QUFRQSxNQUFNQyxlQUFlLEdBQUc7RUFDdEI7RUFDQSxNQUFNQyxhQUFOLENBQW9CQyxHQUFwQixFQUF5QkMsR0FBekIsRUFBOEJDLElBQTlCLEVBQW9DO0lBQ2xDLElBQUk7TUFDRixNQUFNQyxZQUFZLEdBQUcsTUFBTSxJQUFBQyx5QkFBQSxFQUFtQkosR0FBbkIsQ0FBM0I7TUFDQSxPQUFPQyxHQUFHLENBQUNJLElBQUosQ0FBU0YsWUFBVCxDQUFQO0lBQ0QsQ0FIRCxDQUdFLE9BQU9HLEtBQVAsRUFBYztNQUNkSixJQUFJLENBQUNJLEtBQUQsQ0FBSjtJQUNEO0VBQ0YsQ0FUcUI7O0VBVXRCLE1BQU1DLE9BQU4sQ0FBY1AsR0FBZCxFQUFtQkMsR0FBbkIsRUFBd0JDLElBQXhCLEVBQThCO0lBQzVCLElBQUk7TUFDRixNQUFNTSxLQUFLLEdBQUcsTUFBTSxJQUFBQyx1QkFBQSxFQUFnQlQsR0FBRyxDQUFDVSxXQUFKLENBQWdCQyxLQUFoQyxDQUFwQjs7TUFDQSxJQUFJLENBQUNILEtBQUwsRUFBWTtRQUNWLE1BQU0sSUFBSUksa0JBQUosQ0FBYWhCLFVBQVUsQ0FBQ2lCLFNBQXhCLEVBQW1DLGlCQUFuQyxDQUFOO01BQ0Q7O01BQ0QsT0FBT1osR0FBRyxDQUFDSSxJQUFKLENBQVNHLEtBQVQsQ0FBUDtJQUNELENBTkQsQ0FNRSxPQUFPRixLQUFQLEVBQWM7TUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7SUFDRDtFQUNGLENBcEJxQjs7RUFxQnRCLE1BQU1RLFdBQU4sQ0FBa0JkLEdBQWxCLEVBQXVCQyxHQUF2QixFQUE0QjtJQUMxQixJQUFJO01BQ0YsTUFBTWMsUUFBUSxHQUFHLE1BQU0sSUFBQUMsb0JBQUEsR0FBdkI7O01BQ0EsSUFBSSxDQUFDRCxRQUFMLEVBQWU7UUFDYixNQUFNLElBQUlILGtCQUFKLENBQWEscUJBQWIsQ0FBTjtNQUNEOztNQUNELE9BQU9YLEdBQUcsQ0FBQ0ksSUFBSixDQUFTVSxRQUFULENBQVA7SUFDRCxDQU5ELENBTUUsT0FBT1QsS0FBUCxFQUFjLENBQUc7RUFDcEIsQ0E3QnFCOztFQStCdEIsTUFBTVcsd0JBQU4sQ0FBK0JqQixHQUEvQixFQUFvQ0MsR0FBcEMsRUFBeUNLLEtBQXpDLEVBQWdEO0lBQzlDLElBQUk7TUFDRixNQUFNWSxlQUFlLEdBQUcsTUFBTSxJQUFBQywwQkFBQSxHQUE5QjtNQUNBLE9BQU9sQixHQUFHLENBQUNJLElBQUosQ0FBU2EsZUFBVCxDQUFQO0lBQ0QsQ0FIRCxDQUdFLE9BQU9aLEtBQVAsRUFBYztNQUNkSixJQUFJLENBQUNJLEtBQUQsQ0FBSjtJQUNEO0VBQ0YsQ0F0Q3FCOztFQXVDdEIsTUFBTWMsV0FBTixDQUFrQnBCLEdBQWxCLEVBQXVCQyxHQUF2QixFQUE0QkMsSUFBNUIsRUFBa0M7SUFDaEMsSUFBSTtNQUNGLE1BQU1tQix5QkFBeUIsR0FBRyxNQUFNQyx5QkFBeUIsQ0FBQ3RCLEdBQUQsQ0FBakU7TUFDQSxPQUFPQyxHQUFHLENBQUNJLElBQUosQ0FBUztRQUFFa0IsT0FBTyxFQUFFO01BQVgsQ0FBVCxDQUFQO0lBQ0QsQ0FIRCxDQUdFLE9BQU9qQixLQUFQLEVBQWM7TUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7SUFDRDtFQUNGOztBQTlDcUIsQ0FBeEI7QUFpREFrQixNQUFNLENBQUNDLE9BQVAsR0FBaUIzQixlQUFqQiJ9","map":{"version":3,"names":["httpStatus","require","staffController","updateProfile","req","res","next","updatedStaff","updateStaffProfile","json","error","profile","staff","getStaffByEmail","currentUser","email","ApiError","NOT_FOUND","getAllStaff","allStaff","showAllStaff","handleGetAllInterviewers","allInterviewers","getAllInterviewers","deleteStaff","updateStatusStaffToHidden","updateStaffStatusToHidden","message","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/","sources":["staff.controller.js"],"sourcesContent":["const httpStatus = require(\"http-status\");\nimport { ApiError } from \"../middleware/apiError\";\nimport {\n  getStaffByEmail,\n  showAllStaff,\n  getAllInterviewers,\n} from \"../repository/staffs.repository\";\nimport { updateStaffProfile } from \"../service/staff.service\";\nconst staffController = {\n  // #TODO: xiu nua authen roi chinh parameter o getStaffByEmail()\n  async updateProfile(req, res, next) {\n    try {\n      const updatedStaff = await updateStaffProfile(req);\n      return res.json(updatedStaff);\n    } catch (error) {\n      next(error);\n    }\n  },\n  async profile(req, res, next) {\n    try {\n      const staff = await getStaffByEmail(req.currentUser.email);\n      if (!staff) {\n        throw new ApiError(httpStatus.NOT_FOUND, \"Staff Not Found\");\n      }\n      return res.json(staff);\n    } catch (error) {\n      next(error);\n    }\n  },\n  async getAllStaff(req, res) {\n    try {\n      const allStaff = await showAllStaff();\n      if (!allStaff) {\n        throw new ApiError(\"Staff khong ton tai\");\n      }\n      return res.json(allStaff);\n    } catch (error) { }\n  },\n\n  async handleGetAllInterviewers(req, res, error) {\n    try {\n      const allInterviewers = await getAllInterviewers();\n      return res.json(allInterviewers);\n    } catch (error) {\n      next(error);\n    }\n  },\n  async deleteStaff(req, res, next) {\n    try {\n      const updateStatusStaffToHidden = await updateStaffStatusToHidden(req);\n      return res.json({ message: \"Delete successfully\" });\n    } catch (error) {\n      next(error);\n    }\n  },\n};\n\nmodule.exports = staffController;\n"],"mappings":";;AACA;;AACA;;AAKA;;AAPA,MAAMA,UAAU,GAAGC,OAAO,CAAC,aAAD,CAA1B;;AAQA,MAAMC,eAAe,GAAG;EACtB;EACA,MAAMC,aAAN,CAAoBC,GAApB,EAAyBC,GAAzB,EAA8BC,IAA9B,EAAoC;IAClC,IAAI;MACF,MAAMC,YAAY,GAAG,MAAM,IAAAC,yBAAA,EAAmBJ,GAAnB,CAA3B;MACA,OAAOC,GAAG,CAACI,IAAJ,CAASF,YAAT,CAAP;IACD,CAHD,CAGE,OAAOG,KAAP,EAAc;MACdJ,IAAI,CAACI,KAAD,CAAJ;IACD;EACF,CATqB;;EAUtB,MAAMC,OAAN,CAAcP,GAAd,EAAmBC,GAAnB,EAAwBC,IAAxB,EAA8B;IAC5B,IAAI;MACF,MAAMM,KAAK,GAAG,MAAM,IAAAC,uBAAA,EAAgBT,GAAG,CAACU,WAAJ,CAAgBC,KAAhC,CAApB;;MACA,IAAI,CAACH,KAAL,EAAY;QACV,MAAM,IAAII,kBAAJ,CAAahB,UAAU,CAACiB,SAAxB,EAAmC,iBAAnC,CAAN;MACD;;MACD,OAAOZ,GAAG,CAACI,IAAJ,CAASG,KAAT,CAAP;IACD,CAND,CAME,OAAOF,KAAP,EAAc;MACdJ,IAAI,CAACI,KAAD,CAAJ;IACD;EACF,CApBqB;;EAqBtB,MAAMQ,WAAN,CAAkBd,GAAlB,EAAuBC,GAAvB,EAA4B;IAC1B,IAAI;MACF,MAAMc,QAAQ,GAAG,MAAM,IAAAC,oBAAA,GAAvB;;MACA,IAAI,CAACD,QAAL,EAAe;QACb,MAAM,IAAIH,kBAAJ,CAAa,qBAAb,CAAN;MACD;;MACD,OAAOX,GAAG,CAACI,IAAJ,CAASU,QAAT,CAAP;IACD,CAND,CAME,OAAOT,KAAP,EAAc,CAAG;EACpB,CA7BqB;;EA+BtB,MAAMW,wBAAN,CAA+BjB,GAA/B,EAAoCC,GAApC,EAAyCK,KAAzC,EAAgD;IAC9C,IAAI;MACF,MAAMY,eAAe,GAAG,MAAM,IAAAC,0BAAA,GAA9B;MACA,OAAOlB,GAAG,CAACI,IAAJ,CAASa,eAAT,CAAP;IACD,CAHD,CAGE,OAAOZ,KAAP,EAAc;MACdJ,IAAI,CAACI,KAAD,CAAJ;IACD;EACF,CAtCqB;;EAuCtB,MAAMc,WAAN,CAAkBpB,GAAlB,EAAuBC,GAAvB,EAA4BC,IAA5B,EAAkC;IAChC,IAAI;MACF,MAAMmB,yBAAyB,GAAG,MAAMC,yBAAyB,CAACtB,GAAD,CAAjE;MACA,OAAOC,GAAG,CAACI,IAAJ,CAAS;QAAEkB,OAAO,EAAE;MAAX,CAAT,CAAP;IACD,CAHD,CAGE,OAAOjB,KAAP,EAAc;MACdJ,IAAI,CAACI,KAAD,CAAJ;IACD;EACF;;AA9CqB,CAAxB;AAiDAkB,MAAM,CAACC,OAAP,GAAiB3B,eAAjB"}},"mtime":1667231633832},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/staffs.repository.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _sequelize = require(\"sequelize\");\n\nvar _index = _interopRequireWildcard(require(\"../models/index\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst findOne = async where => {\n  var _await$db$Staffs$find;\n\n  return (_await$db$Staffs$find = await _index.default.Staffs.findOne({\n    where: where\n  })) === null || _await$db$Staffs$find === void 0 ? void 0 : _await$db$Staffs$find.dataValues;\n};\n\nconst createNewStaff = async user => {\n  const staff = await _index.default.Staffs.create({\n    email: user.email,\n    fullname: user.fullname,\n    password: user.password\n  });\n  return staff === null || staff === void 0 ? void 0 : staff.dataValues;\n};\n\nconst getStaffByEmail = async email => {\n  var _await$db$Staffs$find2;\n\n  return (_await$db$Staffs$find2 = await _index.default.Staffs.findOne({\n    where: {\n      email: email\n    }\n  })) === null || _await$db$Staffs$find2 === void 0 ? void 0 : _await$db$Staffs$find2.dataValues;\n};\n\nconst getStaffById = async staffID => {\n  var _await$db$Staffs$find3;\n\n  return (_await$db$Staffs$find3 = await _index.default.Staffs.findOne({\n    where: {\n      id: staffID\n    }\n  })) === null || _await$db$Staffs$find3 === void 0 ? void 0 : _await$db$Staffs$find3.dataValues;\n};\n\nconst update = async (newObj, where) => {\n  await _index.default.Staffs.update(newObj, {\n    where: where\n  });\n};\n\nconst showAllStaff = async () => {\n  const query = \"SELECT * FROM hrms.staffs\"; // staffList = await db.Staffs.findAll({ raw: true });\n\n  const staffList = await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.SELECT\n  });\n  console.log(\"bbbb\");\n  return staffList;\n};\n\nconst updateStatus = async where => {\n  return await _index.default.Staffs.update({\n    status: \"Inactive\"\n  }, {\n    where: where\n  });\n};\n\nconst getAllInterviewers = async () => {\n  const query = \"SELECT * FROM hrms.staffs WHERE role = 'Interviewer' \";\n  return await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.SELECT\n  });\n};\n\nmodule.exports = {\n  findOne,\n  createNewStaff,\n  getStaffByEmail,\n  getStaffById,\n  update,\n  showAllStaff,\n  updateStatus,\n  getAllInterviewers\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmaW5kT25lIiwid2hlcmUiLCJkYiIsIlN0YWZmcyIsImRhdGFWYWx1ZXMiLCJjcmVhdGVOZXdTdGFmZiIsInVzZXIiLCJzdGFmZiIsImNyZWF0ZSIsImVtYWlsIiwiZnVsbG5hbWUiLCJwYXNzd29yZCIsImdldFN0YWZmQnlFbWFpbCIsImdldFN0YWZmQnlJZCIsInN0YWZmSUQiLCJpZCIsInVwZGF0ZSIsIm5ld09iaiIsInNob3dBbGxTdGFmZiIsInF1ZXJ5Iiwic3RhZmZMaXN0Iiwic2VxdWVsaXplIiwidHlwZSIsIlF1ZXJ5VHlwZXMiLCJTRUxFQ1QiLCJjb25zb2xlIiwibG9nIiwidXBkYXRlU3RhdHVzIiwic3RhdHVzIiwiZ2V0QWxsSW50ZXJ2aWV3ZXJzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9yZXBvc2l0b3J5LyIsInNvdXJjZXMiOlsic3RhZmZzLnJlcG9zaXRvcnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUXVlcnlUeXBlcyB9IGZyb20gXCJzZXF1ZWxpemVcIjtcbmltcG9ydCBkYiwgeyBzZXF1ZWxpemUgfSBmcm9tIFwiLi4vbW9kZWxzL2luZGV4XCI7XG5jb25zdCBmaW5kT25lID0gYXN5bmMgKHdoZXJlKSA9PiB7XG4gIHJldHVybiAoYXdhaXQgZGIuU3RhZmZzLmZpbmRPbmUoeyB3aGVyZTogd2hlcmUgfSkpPy5kYXRhVmFsdWVzO1xufTtcbmNvbnN0IGNyZWF0ZU5ld1N0YWZmID0gYXN5bmMgKHVzZXIpID0+IHtcbiAgY29uc3Qgc3RhZmYgPSBhd2FpdCBkYi5TdGFmZnMuY3JlYXRlKHtcbiAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICBmdWxsbmFtZTogdXNlci5mdWxsbmFtZSxcbiAgICBwYXNzd29yZDogdXNlci5wYXNzd29yZCxcbiAgfSk7XG4gIHJldHVybiBzdGFmZj8uZGF0YVZhbHVlcztcbn07XG5jb25zdCBnZXRTdGFmZkJ5RW1haWwgPSBhc3luYyAoZW1haWwpID0+IHtcbiAgcmV0dXJuIChcbiAgICBhd2FpdCBkYi5TdGFmZnMuZmluZE9uZSh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBlbWFpbDogZW1haWwsXG4gICAgICB9LFxuICAgIH0pXG4gICk/LmRhdGFWYWx1ZXM7XG59O1xuXG5jb25zdCBnZXRTdGFmZkJ5SWQgPSBhc3luYyAoc3RhZmZJRCkgPT4ge1xuICByZXR1cm4gKFxuICAgIGF3YWl0IGRiLlN0YWZmcy5maW5kT25lKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGlkOiBzdGFmZklELFxuICAgICAgfSxcbiAgICB9KVxuICApPy5kYXRhVmFsdWVzO1xufTtcbmNvbnN0IHVwZGF0ZSA9IGFzeW5jIChuZXdPYmosIHdoZXJlKSA9PiB7XG4gIGF3YWl0IGRiLlN0YWZmcy51cGRhdGUobmV3T2JqLCB7XG4gICAgd2hlcmU6IHdoZXJlLFxuICB9KTtcbn07XG5jb25zdCBzaG93QWxsU3RhZmYgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHF1ZXJ5ID0gXCJTRUxFQ1QgKiBGUk9NIGhybXMuc3RhZmZzXCI7XG4gIC8vIHN0YWZmTGlzdCA9IGF3YWl0IGRiLlN0YWZmcy5maW5kQWxsKHsgcmF3OiB0cnVlIH0pO1xuICBjb25zdCBzdGFmZkxpc3QgPSBhd2FpdCBzZXF1ZWxpemUucXVlcnkocXVlcnksIHtcbiAgICB0eXBlOiBRdWVyeVR5cGVzLlNFTEVDVCxcbiAgfSk7XG4gIGNvbnNvbGUubG9nKFwiYmJiYlwiKTtcbiAgcmV0dXJuIHN0YWZmTGlzdDtcbn07XG5cbmNvbnN0IHVwZGF0ZVN0YXR1cyA9IGFzeW5jICh3aGVyZSkgPT4ge1xuICByZXR1cm4gKFxuXG4gICAgYXdhaXQgZGIuU3RhZmZzLnVwZGF0ZSh7IHN0YXR1czogXCJJbmFjdGl2ZVwiIH0sIHtcbiAgICAgIHdoZXJlOiB3aGVyZSxcbiAgICB9XG4gICAgKVxuICApXG59XG5jb25zdCBnZXRBbGxJbnRlcnZpZXdlcnMgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHF1ZXJ5ID0gXCJTRUxFQ1QgKiBGUk9NIGhybXMuc3RhZmZzIFdIRVJFIHJvbGUgPSAnSW50ZXJ2aWV3ZXInIFwiO1xuICByZXR1cm4gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KHF1ZXJ5LCB7XG4gICAgdHlwZTogUXVlcnlUeXBlcy5TRUxFQ1QsXG4gIH0pO1xufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBmaW5kT25lLFxuICBjcmVhdGVOZXdTdGFmZixcbiAgZ2V0U3RhZmZCeUVtYWlsLFxuICBnZXRTdGFmZkJ5SWQsXG4gIHVwZGF0ZSxcbiAgc2hvd0FsbFN0YWZmLFxuICB1cGRhdGVTdGF0dXMsXG4gIGdldEFsbEludGVydmlld2Vycyxcbn07XG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7Ozs7OztBQUNBLE1BQU1BLE9BQU8sR0FBRyxNQUFPQyxLQUFQLElBQWlCO0VBQUE7O0VBQy9CLGdDQUFRLE1BQU1DLGNBQUEsQ0FBR0MsTUFBSCxDQUFVSCxPQUFWLENBQWtCO0lBQUVDLEtBQUssRUFBRUE7RUFBVCxDQUFsQixDQUFkLDBEQUFPLHNCQUE2Q0csVUFBcEQ7QUFDRCxDQUZEOztBQUdBLE1BQU1DLGNBQWMsR0FBRyxNQUFPQyxJQUFQLElBQWdCO0VBQ3JDLE1BQU1DLEtBQUssR0FBRyxNQUFNTCxjQUFBLENBQUdDLE1BQUgsQ0FBVUssTUFBVixDQUFpQjtJQUNuQ0MsS0FBSyxFQUFFSCxJQUFJLENBQUNHLEtBRHVCO0lBRW5DQyxRQUFRLEVBQUVKLElBQUksQ0FBQ0ksUUFGb0I7SUFHbkNDLFFBQVEsRUFBRUwsSUFBSSxDQUFDSztFQUhvQixDQUFqQixDQUFwQjtFQUtBLE9BQU9KLEtBQVAsYUFBT0EsS0FBUCx1QkFBT0EsS0FBSyxDQUFFSCxVQUFkO0FBQ0QsQ0FQRDs7QUFRQSxNQUFNUSxlQUFlLEdBQUcsTUFBT0gsS0FBUCxJQUFpQjtFQUFBOztFQUN2QyxpQ0FDRSxNQUFNUCxjQUFBLENBQUdDLE1BQUgsQ0FBVUgsT0FBVixDQUFrQjtJQUN0QkMsS0FBSyxFQUFFO01BQ0xRLEtBQUssRUFBRUE7SUFERjtFQURlLENBQWxCLENBRFIsMkRBQU8sdUJBTUpMLFVBTkg7QUFPRCxDQVJEOztBQVVBLE1BQU1TLFlBQVksR0FBRyxNQUFPQyxPQUFQLElBQW1CO0VBQUE7O0VBQ3RDLGlDQUNFLE1BQU1aLGNBQUEsQ0FBR0MsTUFBSCxDQUFVSCxPQUFWLENBQWtCO0lBQ3RCQyxLQUFLLEVBQUU7TUFDTGMsRUFBRSxFQUFFRDtJQURDO0VBRGUsQ0FBbEIsQ0FEUiwyREFBTyx1QkFNSlYsVUFOSDtBQU9ELENBUkQ7O0FBU0EsTUFBTVksTUFBTSxHQUFHLE9BQU9DLE1BQVAsRUFBZWhCLEtBQWYsS0FBeUI7RUFDdEMsTUFBTUMsY0FBQSxDQUFHQyxNQUFILENBQVVhLE1BQVYsQ0FBaUJDLE1BQWpCLEVBQXlCO0lBQzdCaEIsS0FBSyxFQUFFQTtFQURzQixDQUF6QixDQUFOO0FBR0QsQ0FKRDs7QUFLQSxNQUFNaUIsWUFBWSxHQUFHLFlBQVk7RUFDL0IsTUFBTUMsS0FBSyxHQUFHLDJCQUFkLENBRCtCLENBRS9COztFQUNBLE1BQU1DLFNBQVMsR0FBRyxNQUFNQyxnQkFBQSxDQUFVRixLQUFWLENBQWdCQSxLQUFoQixFQUF1QjtJQUM3Q0csSUFBSSxFQUFFQyxxQkFBQSxDQUFXQztFQUQ0QixDQUF2QixDQUF4QjtFQUdBQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxNQUFaO0VBQ0EsT0FBT04sU0FBUDtBQUNELENBUkQ7O0FBVUEsTUFBTU8sWUFBWSxHQUFHLE1BQU8xQixLQUFQLElBQWlCO0VBQ3BDLE9BRUUsTUFBTUMsY0FBQSxDQUFHQyxNQUFILENBQVVhLE1BQVYsQ0FBaUI7SUFBRVksTUFBTSxFQUFFO0VBQVYsQ0FBakIsRUFBeUM7SUFDN0MzQixLQUFLLEVBQUVBO0VBRHNDLENBQXpDLENBRlI7QUFPRCxDQVJEOztBQVNBLE1BQU00QixrQkFBa0IsR0FBRyxZQUFZO0VBQ3JDLE1BQU1WLEtBQUssR0FBRyx1REFBZDtFQUNBLE9BQU8sTUFBTUUsZ0JBQUEsQ0FBVUYsS0FBVixDQUFnQkEsS0FBaEIsRUFBdUI7SUFDbENHLElBQUksRUFBRUMscUJBQUEsQ0FBV0M7RUFEaUIsQ0FBdkIsQ0FBYjtBQUdELENBTEQ7O0FBTUFNLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmL0IsT0FEZTtFQUVmSyxjQUZlO0VBR2ZPLGVBSGU7RUFJZkMsWUFKZTtFQUtmRyxNQUxlO0VBTWZFLFlBTmU7RUFPZlMsWUFQZTtFQVFmRTtBQVJlLENBQWpCIn0=","map":{"version":3,"names":["findOne","where","db","Staffs","dataValues","createNewStaff","user","staff","create","email","fullname","password","getStaffByEmail","getStaffById","staffID","id","update","newObj","showAllStaff","query","staffList","sequelize","type","QueryTypes","SELECT","console","log","updateStatus","status","getAllInterviewers","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/","sources":["staffs.repository.js"],"sourcesContent":["import { QueryTypes } from \"sequelize\";\nimport db, { sequelize } from \"../models/index\";\nconst findOne = async (where) => {\n  return (await db.Staffs.findOne({ where: where }))?.dataValues;\n};\nconst createNewStaff = async (user) => {\n  const staff = await db.Staffs.create({\n    email: user.email,\n    fullname: user.fullname,\n    password: user.password,\n  });\n  return staff?.dataValues;\n};\nconst getStaffByEmail = async (email) => {\n  return (\n    await db.Staffs.findOne({\n      where: {\n        email: email,\n      },\n    })\n  )?.dataValues;\n};\n\nconst getStaffById = async (staffID) => {\n  return (\n    await db.Staffs.findOne({\n      where: {\n        id: staffID,\n      },\n    })\n  )?.dataValues;\n};\nconst update = async (newObj, where) => {\n  await db.Staffs.update(newObj, {\n    where: where,\n  });\n};\nconst showAllStaff = async () => {\n  const query = \"SELECT * FROM hrms.staffs\";\n  // staffList = await db.Staffs.findAll({ raw: true });\n  const staffList = await sequelize.query(query, {\n    type: QueryTypes.SELECT,\n  });\n  console.log(\"bbbb\");\n  return staffList;\n};\n\nconst updateStatus = async (where) => {\n  return (\n\n    await db.Staffs.update({ status: \"Inactive\" }, {\n      where: where,\n    }\n    )\n  )\n}\nconst getAllInterviewers = async () => {\n  const query = \"SELECT * FROM hrms.staffs WHERE role = 'Interviewer' \";\n  return await sequelize.query(query, {\n    type: QueryTypes.SELECT,\n  });\n};\nmodule.exports = {\n  findOne,\n  createNewStaff,\n  getStaffByEmail,\n  getStaffById,\n  update,\n  showAllStaff,\n  updateStatus,\n  getAllInterviewers,\n};\n"],"mappings":";;AAAA;;AACA;;;;;;AACA,MAAMA,OAAO,GAAG,MAAOC,KAAP,IAAiB;EAAA;;EAC/B,gCAAQ,MAAMC,cAAA,CAAGC,MAAH,CAAUH,OAAV,CAAkB;IAAEC,KAAK,EAAEA;EAAT,CAAlB,CAAd,0DAAO,sBAA6CG,UAApD;AACD,CAFD;;AAGA,MAAMC,cAAc,GAAG,MAAOC,IAAP,IAAgB;EACrC,MAAMC,KAAK,GAAG,MAAML,cAAA,CAAGC,MAAH,CAAUK,MAAV,CAAiB;IACnCC,KAAK,EAAEH,IAAI,CAACG,KADuB;IAEnCC,QAAQ,EAAEJ,IAAI,CAACI,QAFoB;IAGnCC,QAAQ,EAAEL,IAAI,CAACK;EAHoB,CAAjB,CAApB;EAKA,OAAOJ,KAAP,aAAOA,KAAP,uBAAOA,KAAK,CAAEH,UAAd;AACD,CAPD;;AAQA,MAAMQ,eAAe,GAAG,MAAOH,KAAP,IAAiB;EAAA;;EACvC,iCACE,MAAMP,cAAA,CAAGC,MAAH,CAAUH,OAAV,CAAkB;IACtBC,KAAK,EAAE;MACLQ,KAAK,EAAEA;IADF;EADe,CAAlB,CADR,2DAAO,uBAMJL,UANH;AAOD,CARD;;AAUA,MAAMS,YAAY,GAAG,MAAOC,OAAP,IAAmB;EAAA;;EACtC,iCACE,MAAMZ,cAAA,CAAGC,MAAH,CAAUH,OAAV,CAAkB;IACtBC,KAAK,EAAE;MACLc,EAAE,EAAED;IADC;EADe,CAAlB,CADR,2DAAO,uBAMJV,UANH;AAOD,CARD;;AASA,MAAMY,MAAM,GAAG,OAAOC,MAAP,EAAehB,KAAf,KAAyB;EACtC,MAAMC,cAAA,CAAGC,MAAH,CAAUa,MAAV,CAAiBC,MAAjB,EAAyB;IAC7BhB,KAAK,EAAEA;EADsB,CAAzB,CAAN;AAGD,CAJD;;AAKA,MAAMiB,YAAY,GAAG,YAAY;EAC/B,MAAMC,KAAK,GAAG,2BAAd,CAD+B,CAE/B;;EACA,MAAMC,SAAS,GAAG,MAAMC,gBAAA,CAAUF,KAAV,CAAgBA,KAAhB,EAAuB;IAC7CG,IAAI,EAAEC,qBAAA,CAAWC;EAD4B,CAAvB,CAAxB;EAGAC,OAAO,CAACC,GAAR,CAAY,MAAZ;EACA,OAAON,SAAP;AACD,CARD;;AAUA,MAAMO,YAAY,GAAG,MAAO1B,KAAP,IAAiB;EACpC,OAEE,MAAMC,cAAA,CAAGC,MAAH,CAAUa,MAAV,CAAiB;IAAEY,MAAM,EAAE;EAAV,CAAjB,EAAyC;IAC7C3B,KAAK,EAAEA;EADsC,CAAzC,CAFR;AAOD,CARD;;AASA,MAAM4B,kBAAkB,GAAG,YAAY;EACrC,MAAMV,KAAK,GAAG,uDAAd;EACA,OAAO,MAAME,gBAAA,CAAUF,KAAV,CAAgBA,KAAhB,EAAuB;IAClCG,IAAI,EAAEC,qBAAA,CAAWC;EADiB,CAAvB,CAAb;AAGD,CALD;;AAMAM,MAAM,CAACC,OAAP,GAAiB;EACf/B,OADe;EAEfK,cAFe;EAGfO,eAHe;EAIfC,YAJe;EAKfG,MALe;EAMfE,YANe;EAOfS,YAPe;EAQfE;AARe,CAAjB"}},"mtime":1667231633839},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/staff.service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _httpStatus = _interopRequireDefault(require(\"http-status\"));\n\nvar _staffs = require(\"../repository/staffs.repository\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst updateStaffProfile = async req => {\n  try {\n    await (0, _staffs.update)(req.body, {\n      id: req.currentUser.id\n    });\n    const staff = await (0, _staffs.getStaffById)(req.currentUser.id);\n    return staff;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst updateStaffStatusToHidden = async (req, res) => {\n  try {\n    const id = req.params.id;\n    const staff = await (0, _staffs.getStaffById)(id);\n\n    if (!staff) {\n      throw new ApiError(_httpStatus.default.NOT_FOUND, \"Staff not found\");\n    }\n\n    await (0, _staffs.updateStatus)({\n      id: id\n    });\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  updateStaffProfile,\n  updateStaffStatusToHidden\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1cGRhdGVTdGFmZlByb2ZpbGUiLCJyZXEiLCJ1cGRhdGUiLCJib2R5IiwiaWQiLCJjdXJyZW50VXNlciIsInN0YWZmIiwiZ2V0U3RhZmZCeUlkIiwiZXJyb3IiLCJ1cGRhdGVTdGFmZlN0YXR1c1RvSGlkZGVuIiwicmVzIiwicGFyYW1zIiwiQXBpRXJyb3IiLCJodHRwU3RhdHVzIiwiTk9UX0ZPVU5EIiwidXBkYXRlU3RhdHVzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9zZXJ2aWNlLyIsInNvdXJjZXMiOlsic3RhZmYuc2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaHR0cFN0YXR1cyBmcm9tIFwiaHR0cC1zdGF0dXNcIjtcbmltcG9ydCB7IGdldFN0YWZmQnlJZCwgdXBkYXRlLCB1cGRhdGVTdGF0dXMgfSBmcm9tIFwiLi4vcmVwb3NpdG9yeS9zdGFmZnMucmVwb3NpdG9yeVwiO1xuY29uc3QgdXBkYXRlU3RhZmZQcm9maWxlID0gYXN5bmMgKHJlcSkgPT4ge1xuICB0cnkge1xuICAgIGF3YWl0IHVwZGF0ZShyZXEuYm9keSwgeyBpZDogcmVxLmN1cnJlbnRVc2VyLmlkIH0pO1xuICAgIGNvbnN0IHN0YWZmID0gYXdhaXQgZ2V0U3RhZmZCeUlkKHJlcS5jdXJyZW50VXNlci5pZCk7XG4gICAgcmV0dXJuIHN0YWZmO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5jb25zdCB1cGRhdGVTdGFmZlN0YXR1c1RvSGlkZGVuID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgaWQgPSByZXEucGFyYW1zLmlkO1xuICAgIGNvbnN0IHN0YWZmID0gYXdhaXQgZ2V0U3RhZmZCeUlkKGlkKTtcbiAgICBpZiAoIXN0YWZmKSB7XG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5OT1RfRk9VTkQsIFwiU3RhZmYgbm90IGZvdW5kXCIpO1xuICAgIH1cbiAgICBhd2FpdCB1cGRhdGVTdGF0dXMoeyBpZDogaWQgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHVwZGF0ZVN0YWZmUHJvZmlsZSxcbiAgdXBkYXRlU3RhZmZTdGF0dXNUb0hpZGRlblxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7OztBQUNBLE1BQU1BLGtCQUFrQixHQUFHLE1BQU9DLEdBQVAsSUFBZTtFQUN4QyxJQUFJO0lBQ0YsTUFBTSxJQUFBQyxjQUFBLEVBQU9ELEdBQUcsQ0FBQ0UsSUFBWCxFQUFpQjtNQUFFQyxFQUFFLEVBQUVILEdBQUcsQ0FBQ0ksV0FBSixDQUFnQkQ7SUFBdEIsQ0FBakIsQ0FBTjtJQUNBLE1BQU1FLEtBQUssR0FBRyxNQUFNLElBQUFDLG9CQUFBLEVBQWFOLEdBQUcsQ0FBQ0ksV0FBSixDQUFnQkQsRUFBN0IsQ0FBcEI7SUFDQSxPQUFPRSxLQUFQO0VBQ0QsQ0FKRCxDQUlFLE9BQU9FLEtBQVAsRUFBYztJQUNkLE1BQU1BLEtBQU47RUFDRDtBQUNGLENBUkQ7O0FBVUEsTUFBTUMseUJBQXlCLEdBQUcsT0FBT1IsR0FBUCxFQUFZUyxHQUFaLEtBQW9CO0VBQ3BELElBQUk7SUFDRixNQUFNTixFQUFFLEdBQUdILEdBQUcsQ0FBQ1UsTUFBSixDQUFXUCxFQUF0QjtJQUNBLE1BQU1FLEtBQUssR0FBRyxNQUFNLElBQUFDLG9CQUFBLEVBQWFILEVBQWIsQ0FBcEI7O0lBQ0EsSUFBSSxDQUFDRSxLQUFMLEVBQVk7TUFDVixNQUFNLElBQUlNLFFBQUosQ0FBYUMsbUJBQUEsQ0FBV0MsU0FBeEIsRUFBbUMsaUJBQW5DLENBQU47SUFDRDs7SUFDRCxNQUFNLElBQUFDLG9CQUFBLEVBQWE7TUFBRVgsRUFBRSxFQUFFQTtJQUFOLENBQWIsQ0FBTjtFQUVELENBUkQsQ0FRRSxPQUFPSSxLQUFQLEVBQWM7SUFDZCxNQUFNQSxLQUFOO0VBQ0Q7QUFDRixDQVpEOztBQWFBUSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7RUFDZmpCLGtCQURlO0VBRWZTO0FBRmUsQ0FBakIifQ==","map":{"version":3,"names":["updateStaffProfile","req","update","body","id","currentUser","staff","getStaffById","error","updateStaffStatusToHidden","res","params","ApiError","httpStatus","NOT_FOUND","updateStatus","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/","sources":["staff.service.js"],"sourcesContent":["import httpStatus from \"http-status\";\nimport { getStaffById, update, updateStatus } from \"../repository/staffs.repository\";\nconst updateStaffProfile = async (req) => {\n  try {\n    await update(req.body, { id: req.currentUser.id });\n    const staff = await getStaffById(req.currentUser.id);\n    return staff;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst updateStaffStatusToHidden = async (req, res) => {\n  try {\n    const id = req.params.id;\n    const staff = await getStaffById(id);\n    if (!staff) {\n      throw new ApiError(httpStatus.NOT_FOUND, \"Staff not found\");\n    }\n    await updateStatus({ id: id });\n\n  } catch (error) {\n    throw error;\n  }\n}\nmodule.exports = {\n  updateStaffProfile,\n  updateStaffStatusToHidden\n};\n"],"mappings":";;AAAA;;AACA;;;;AACA,MAAMA,kBAAkB,GAAG,MAAOC,GAAP,IAAe;EACxC,IAAI;IACF,MAAM,IAAAC,cAAA,EAAOD,GAAG,CAACE,IAAX,EAAiB;MAAEC,EAAE,EAAEH,GAAG,CAACI,WAAJ,CAAgBD;IAAtB,CAAjB,CAAN;IACA,MAAME,KAAK,GAAG,MAAM,IAAAC,oBAAA,EAAaN,GAAG,CAACI,WAAJ,CAAgBD,EAA7B,CAApB;IACA,OAAOE,KAAP;EACD,CAJD,CAIE,OAAOE,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CARD;;AAUA,MAAMC,yBAAyB,GAAG,OAAOR,GAAP,EAAYS,GAAZ,KAAoB;EACpD,IAAI;IACF,MAAMN,EAAE,GAAGH,GAAG,CAACU,MAAJ,CAAWP,EAAtB;IACA,MAAME,KAAK,GAAG,MAAM,IAAAC,oBAAA,EAAaH,EAAb,CAApB;;IACA,IAAI,CAACE,KAAL,EAAY;MACV,MAAM,IAAIM,QAAJ,CAAaC,mBAAA,CAAWC,SAAxB,EAAmC,iBAAnC,CAAN;IACD;;IACD,MAAM,IAAAC,oBAAA,EAAa;MAAEX,EAAE,EAAEA;IAAN,CAAb,CAAN;EAED,CARD,CAQE,OAAOI,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CAZD;;AAaAQ,MAAM,CAACC,OAAP,GAAiB;EACfjB,kBADe;EAEfS;AAFe,CAAjB"}},"mtime":1667231633849},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/staffAuth.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\n\nconst staffAuthController = require(\"../controller/staffAuth.controller.js\");\n\nconst auth = require(\"../middleware/auth.middleware\");\n\nconst router = express.Router();\nrouter.post(\"/register\", staffAuthController.register);\nrouter.post(\"/login\", staffAuthController.login);\nrouter.get(\"/isauth\", auth, staffAuthController.isauth);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInN0YWZmQXV0aENvbnRyb2xsZXIiLCJhdXRoIiwicm91dGVyIiwiUm91dGVyIiwicG9zdCIsInJlZ2lzdGVyIiwibG9naW4iLCJnZXQiLCJpc2F1dGgiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL3JvdXRlcy8iLCJzb3VyY2VzIjpbInN0YWZmQXV0aC5yb3V0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5jb25zdCBzdGFmZkF1dGhDb250cm9sbGVyID0gcmVxdWlyZShcIi4uL2NvbnRyb2xsZXIvc3RhZmZBdXRoLmNvbnRyb2xsZXIuanNcIik7XG5jb25zdCBhdXRoID0gcmVxdWlyZShcIi4uL21pZGRsZXdhcmUvYXV0aC5taWRkbGV3YXJlXCIpO1xuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgc3RhZmZBdXRoQ29udHJvbGxlci5yZWdpc3Rlcik7XG5yb3V0ZXIucG9zdChcIi9sb2dpblwiLCBzdGFmZkF1dGhDb250cm9sbGVyLmxvZ2luKTtcbnJvdXRlci5nZXQoXCIvaXNhdXRoXCIsIGF1dGgsIHN0YWZmQXV0aENvbnRyb2xsZXIuaXNhdXRoKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxtQkFBbUIsR0FBR0QsT0FBTyxDQUFDLHVDQUFELENBQW5DOztBQUNBLE1BQU1FLElBQUksR0FBR0YsT0FBTyxDQUFDLCtCQUFELENBQXBCOztBQUNBLE1BQU1HLE1BQU0sR0FBR0osT0FBTyxDQUFDSyxNQUFSLEVBQWY7QUFFQUQsTUFBTSxDQUFDRSxJQUFQLENBQVksV0FBWixFQUF5QkosbUJBQW1CLENBQUNLLFFBQTdDO0FBQ0FILE1BQU0sQ0FBQ0UsSUFBUCxDQUFZLFFBQVosRUFBc0JKLG1CQUFtQixDQUFDTSxLQUExQztBQUNBSixNQUFNLENBQUNLLEdBQVAsQ0FBVyxTQUFYLEVBQXNCTixJQUF0QixFQUE0QkQsbUJBQW1CLENBQUNRLE1BQWhEO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlIsTUFBakIifQ==","map":{"version":3,"names":["express","require","staffAuthController","auth","router","Router","post","register","login","get","isauth","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["staffAuth.route.js"],"sourcesContent":["const express = require(\"express\");\nconst staffAuthController = require(\"../controller/staffAuth.controller.js\");\nconst auth = require(\"../middleware/auth.middleware\");\nconst router = express.Router();\n\nrouter.post(\"/register\", staffAuthController.register);\nrouter.post(\"/login\", staffAuthController.login);\nrouter.get(\"/isauth\", auth, staffAuthController.isauth);\n\nmodule.exports = router;\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,mBAAmB,GAAGD,OAAO,CAAC,uCAAD,CAAnC;;AACA,MAAME,IAAI,GAAGF,OAAO,CAAC,+BAAD,CAApB;;AACA,MAAMG,MAAM,GAAGJ,OAAO,CAACK,MAAR,EAAf;AAEAD,MAAM,CAACE,IAAP,CAAY,WAAZ,EAAyBJ,mBAAmB,CAACK,QAA7C;AACAH,MAAM,CAACE,IAAP,CAAY,QAAZ,EAAsBJ,mBAAmB,CAACM,KAA1C;AACAJ,MAAM,CAACK,GAAP,CAAW,SAAX,EAAsBN,IAAtB,EAA4BD,mBAAmB,CAACQ,MAAhD;AAEAC,MAAM,CAACC,OAAP,GAAiBR,MAAjB"}},"mtime":1666279748636},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/staffAuth.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _staffAuth = require(\"../service/staffAuth.service\");\n\nconst staffAuth = {\n  async register(req, res, next) {\n    try {\n      res.header(\"Access-Control-Allow-Headers\", \"*\");\n      res.header(\"Access-Control-Allow-Credentials\", true);\n      res.header(\"Access-Control-Allow-Methods\", \"GET,PUT,POST,DELETE\");\n      const staff = await (0, _staffAuth.createStaff)(req, res);\n      const token = await (0, _staffAuth.genAuthToken)(staff);\n      res.cookie(\"x-access-token\", token).status(200).send({\n        staff,\n        token\n      });\n      console.log(staff);\n    } catch (error) {\n      console.log(error);\n      next(error);\n    }\n  },\n\n  async login(req, res, next) {\n    try {\n      const {\n        email,\n        password\n      } = req.body;\n      const staff = await (0, _staffAuth.signInWithEmailPassword)(email, password);\n      const token = await (0, _staffAuth.genAuthToken)(staff);\n      res.cookie(\"x-access-token\", token).send({\n        staff,\n        token\n      });\n      console.log(staff);\n    } catch (error) {\n      next(error); // res.send({ error: error.statusCode, message: error.message });\n    }\n  },\n\n  async isauth(req, res, next) {\n    return res.json(req.currentUser);\n  }\n\n};\nmodule.exports = staffAuth;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzdGFmZkF1dGgiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsIm5leHQiLCJoZWFkZXIiLCJzdGFmZiIsImNyZWF0ZVN0YWZmIiwidG9rZW4iLCJnZW5BdXRoVG9rZW4iLCJjb29raWUiLCJzdGF0dXMiLCJzZW5kIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwibG9naW4iLCJlbWFpbCIsInBhc3N3b3JkIiwiYm9keSIsInNpZ25JbldpdGhFbWFpbFBhc3N3b3JkIiwiaXNhdXRoIiwianNvbiIsImN1cnJlbnRVc2VyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9jb250cm9sbGVyLyIsInNvdXJjZXMiOlsic3RhZmZBdXRoLmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgY3JlYXRlU3RhZmYsXG4gIGdlbkF1dGhUb2tlbixcbiAgc2lnbkluV2l0aEVtYWlsUGFzc3dvcmQsXG59IGZyb20gXCIuLi9zZXJ2aWNlL3N0YWZmQXV0aC5zZXJ2aWNlXCI7XG5jb25zdCBzdGFmZkF1dGggPSB7XG4gIGFzeW5jIHJlZ2lzdGVyKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlcy5oZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzXCIsIFwiKlwiKTtcbiAgICAgIHJlcy5oZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFsc1wiLCB0cnVlKTtcbiAgICAgIHJlcy5oZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzXCIsIFwiR0VULFBVVCxQT1NULERFTEVURVwiKTtcbiAgICAgIGNvbnN0IHN0YWZmID0gYXdhaXQgY3JlYXRlU3RhZmYocmVxLCByZXMpO1xuICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBnZW5BdXRoVG9rZW4oc3RhZmYpO1xuXG4gICAgICByZXMuY29va2llKFwieC1hY2Nlc3MtdG9rZW5cIiwgdG9rZW4pLnN0YXR1cygyMDApLnNlbmQoe1xuICAgICAgICBzdGFmZixcbiAgICAgICAgdG9rZW4sXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKHN0YWZmKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgbmV4dChlcnJvcik7XG4gICAgfVxuICB9LFxuICBhc3luYyBsb2dpbihyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gICAgICBjb25zdCBzdGFmZiA9IGF3YWl0IHNpZ25JbldpdGhFbWFpbFBhc3N3b3JkKGVtYWlsLCBwYXNzd29yZCk7XG4gICAgICBjb25zdCB0b2tlbiA9IGF3YWl0IGdlbkF1dGhUb2tlbihzdGFmZik7XG4gICAgICByZXMuY29va2llKFwieC1hY2Nlc3MtdG9rZW5cIiwgdG9rZW4pLnNlbmQoe1xuICAgICAgICBzdGFmZixcbiAgICAgICAgdG9rZW4sXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKHN0YWZmKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbmV4dChlcnJvcik7XG4gICAgICAvLyByZXMuc2VuZCh7IGVycm9yOiBlcnJvci5zdGF0dXNDb2RlLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pO1xuICAgIH1cbiAgfSxcbiAgYXN5bmMgaXNhdXRoKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgcmV0dXJuIHJlcy5qc29uKHJlcS5jdXJyZW50VXNlcik7XG4gIH0sXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHN0YWZmQXV0aDtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFLQSxNQUFNQSxTQUFTLEdBQUc7RUFDaEIsTUFBTUMsUUFBTixDQUFlQyxHQUFmLEVBQW9CQyxHQUFwQixFQUF5QkMsSUFBekIsRUFBK0I7SUFDN0IsSUFBSTtNQUNGRCxHQUFHLENBQUNFLE1BQUosQ0FBVyw4QkFBWCxFQUEyQyxHQUEzQztNQUNBRixHQUFHLENBQUNFLE1BQUosQ0FBVyxrQ0FBWCxFQUErQyxJQUEvQztNQUNBRixHQUFHLENBQUNFLE1BQUosQ0FBVyw4QkFBWCxFQUEyQyxxQkFBM0M7TUFDQSxNQUFNQyxLQUFLLEdBQUcsTUFBTSxJQUFBQyxzQkFBQSxFQUFZTCxHQUFaLEVBQWlCQyxHQUFqQixDQUFwQjtNQUNBLE1BQU1LLEtBQUssR0FBRyxNQUFNLElBQUFDLHVCQUFBLEVBQWFILEtBQWIsQ0FBcEI7TUFFQUgsR0FBRyxDQUFDTyxNQUFKLENBQVcsZ0JBQVgsRUFBNkJGLEtBQTdCLEVBQW9DRyxNQUFwQyxDQUEyQyxHQUEzQyxFQUFnREMsSUFBaEQsQ0FBcUQ7UUFDbkROLEtBRG1EO1FBRW5ERTtNQUZtRCxDQUFyRDtNQUlBSyxPQUFPLENBQUNDLEdBQVIsQ0FBWVIsS0FBWjtJQUNELENBWkQsQ0FZRSxPQUFPUyxLQUFQLEVBQWM7TUFDZEYsT0FBTyxDQUFDQyxHQUFSLENBQVlDLEtBQVo7TUFDQVgsSUFBSSxDQUFDVyxLQUFELENBQUo7SUFDRDtFQUNGLENBbEJlOztFQW1CaEIsTUFBTUMsS0FBTixDQUFZZCxHQUFaLEVBQWlCQyxHQUFqQixFQUFzQkMsSUFBdEIsRUFBNEI7SUFDMUIsSUFBSTtNQUNGLE1BQU07UUFBRWEsS0FBRjtRQUFTQztNQUFULElBQXNCaEIsR0FBRyxDQUFDaUIsSUFBaEM7TUFDQSxNQUFNYixLQUFLLEdBQUcsTUFBTSxJQUFBYyxrQ0FBQSxFQUF3QkgsS0FBeEIsRUFBK0JDLFFBQS9CLENBQXBCO01BQ0EsTUFBTVYsS0FBSyxHQUFHLE1BQU0sSUFBQUMsdUJBQUEsRUFBYUgsS0FBYixDQUFwQjtNQUNBSCxHQUFHLENBQUNPLE1BQUosQ0FBVyxnQkFBWCxFQUE2QkYsS0FBN0IsRUFBb0NJLElBQXBDLENBQXlDO1FBQ3ZDTixLQUR1QztRQUV2Q0U7TUFGdUMsQ0FBekM7TUFJQUssT0FBTyxDQUFDQyxHQUFSLENBQVlSLEtBQVo7SUFDRCxDQVRELENBU0UsT0FBT1MsS0FBUCxFQUFjO01BQ2RYLElBQUksQ0FBQ1csS0FBRCxDQUFKLENBRGMsQ0FFZDtJQUNEO0VBQ0YsQ0FqQ2U7O0VBa0NoQixNQUFNTSxNQUFOLENBQWFuQixHQUFiLEVBQWtCQyxHQUFsQixFQUF1QkMsSUFBdkIsRUFBNkI7SUFDM0IsT0FBT0QsR0FBRyxDQUFDbUIsSUFBSixDQUFTcEIsR0FBRyxDQUFDcUIsV0FBYixDQUFQO0VBQ0Q7O0FBcENlLENBQWxCO0FBdUNBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJ6QixTQUFqQiJ9","map":{"version":3,"names":["staffAuth","register","req","res","next","header","staff","createStaff","token","genAuthToken","cookie","status","send","console","log","error","login","email","password","body","signInWithEmailPassword","isauth","json","currentUser","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/","sources":["staffAuth.controller.js"],"sourcesContent":["import {\n  createStaff,\n  genAuthToken,\n  signInWithEmailPassword,\n} from \"../service/staffAuth.service\";\nconst staffAuth = {\n  async register(req, res, next) {\n    try {\n      res.header(\"Access-Control-Allow-Headers\", \"*\");\n      res.header(\"Access-Control-Allow-Credentials\", true);\n      res.header(\"Access-Control-Allow-Methods\", \"GET,PUT,POST,DELETE\");\n      const staff = await createStaff(req, res);\n      const token = await genAuthToken(staff);\n\n      res.cookie(\"x-access-token\", token).status(200).send({\n        staff,\n        token,\n      });\n      console.log(staff);\n    } catch (error) {\n      console.log(error);\n      next(error);\n    }\n  },\n  async login(req, res, next) {\n    try {\n      const { email, password } = req.body;\n      const staff = await signInWithEmailPassword(email, password);\n      const token = await genAuthToken(staff);\n      res.cookie(\"x-access-token\", token).send({\n        staff,\n        token,\n      });\n      console.log(staff);\n    } catch (error) {\n      next(error);\n      // res.send({ error: error.statusCode, message: error.message });\n    }\n  },\n  async isauth(req, res, next) {\n    return res.json(req.currentUser);\n  },\n};\n\nmodule.exports = staffAuth;\n"],"mappings":";;AAAA;;AAKA,MAAMA,SAAS,GAAG;EAChB,MAAMC,QAAN,CAAeC,GAAf,EAAoBC,GAApB,EAAyBC,IAAzB,EAA+B;IAC7B,IAAI;MACFD,GAAG,CAACE,MAAJ,CAAW,8BAAX,EAA2C,GAA3C;MACAF,GAAG,CAACE,MAAJ,CAAW,kCAAX,EAA+C,IAA/C;MACAF,GAAG,CAACE,MAAJ,CAAW,8BAAX,EAA2C,qBAA3C;MACA,MAAMC,KAAK,GAAG,MAAM,IAAAC,sBAAA,EAAYL,GAAZ,EAAiBC,GAAjB,CAApB;MACA,MAAMK,KAAK,GAAG,MAAM,IAAAC,uBAAA,EAAaH,KAAb,CAApB;MAEAH,GAAG,CAACO,MAAJ,CAAW,gBAAX,EAA6BF,KAA7B,EAAoCG,MAApC,CAA2C,GAA3C,EAAgDC,IAAhD,CAAqD;QACnDN,KADmD;QAEnDE;MAFmD,CAArD;MAIAK,OAAO,CAACC,GAAR,CAAYR,KAAZ;IACD,CAZD,CAYE,OAAOS,KAAP,EAAc;MACdF,OAAO,CAACC,GAAR,CAAYC,KAAZ;MACAX,IAAI,CAACW,KAAD,CAAJ;IACD;EACF,CAlBe;;EAmBhB,MAAMC,KAAN,CAAYd,GAAZ,EAAiBC,GAAjB,EAAsBC,IAAtB,EAA4B;IAC1B,IAAI;MACF,MAAM;QAAEa,KAAF;QAASC;MAAT,IAAsBhB,GAAG,CAACiB,IAAhC;MACA,MAAMb,KAAK,GAAG,MAAM,IAAAc,kCAAA,EAAwBH,KAAxB,EAA+BC,QAA/B,CAApB;MACA,MAAMV,KAAK,GAAG,MAAM,IAAAC,uBAAA,EAAaH,KAAb,CAApB;MACAH,GAAG,CAACO,MAAJ,CAAW,gBAAX,EAA6BF,KAA7B,EAAoCI,IAApC,CAAyC;QACvCN,KADuC;QAEvCE;MAFuC,CAAzC;MAIAK,OAAO,CAACC,GAAR,CAAYR,KAAZ;IACD,CATD,CASE,OAAOS,KAAP,EAAc;MACdX,IAAI,CAACW,KAAD,CAAJ,CADc,CAEd;IACD;EACF,CAjCe;;EAkChB,MAAMM,MAAN,CAAanB,GAAb,EAAkBC,GAAlB,EAAuBC,IAAvB,EAA6B;IAC3B,OAAOD,GAAG,CAACmB,IAAJ,CAASpB,GAAG,CAACqB,WAAb,CAAP;EACD;;AApCe,CAAlB;AAuCAC,MAAM,CAACC,OAAP,GAAiBzB,SAAjB"}},"mtime":1667231633833},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/staffAuth.service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _staffs = require(\"../repository/staffs.repository\");\n\nrequire(\"dotenv\").config();\n\nconst bcrypt = require(\"bcrypt\");\n\nconst jwt = require(\"jsonwebtoken\");\n\nconst httpStatus = require(\"http-status\");\n\nconst {\n  ApiError\n} = require(\"../middleware/apiError\");\n\nconst hashPassword = async password => {\n  const salt = await bcrypt.genSalt(10);\n  const hashedPass = await bcrypt.hash(password, salt);\n  return hashedPass;\n};\n\nconst createStaff = async (req, res) => {\n  try {\n    const staff = req.body;\n    const staffExisted = await (0, _staffs.getStaffByEmail)(staff.email);\n\n    if (staffExisted) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Email already taken\");\n    }\n\n    const hashPass = await hashPassword(staff.password);\n    const newStaff = await (0, _staffs.createNewStaff)({\n      email: staff.email,\n      fullname: staff.fullname,\n      password: hashPass,\n      avatar: null\n    });\n    console.log(newStaff);\n\n    if (!newStaff) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Register fail\");\n    }\n\n    return newStaff;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst genAuthToken = async user => {\n  const userObj = {\n    sub: user.id,\n    email: user.email,\n    id: user.id\n  };\n  const token = jwt.sign(userObj, process.env.ACCESS_TOKEN_SECRET, {\n    expiresIn: \"1d\"\n  });\n  return token;\n};\n\nconst comparePassword = async (candidatePassword, hashPassword) => {\n  // candidate password = hash password\n  const match = await bcrypt.compare(candidatePassword, hashPassword);\n  return match;\n};\n\nconst signInWithEmailPassword = async (email, password) => {\n  try {\n    // check email\n    const staff = await (0, _staffs.getStaffByEmail)(email);\n\n    if (!staff) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"Sorry Bad Email\");\n    }\n\n    if (!(await comparePassword(password, staff.password))) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"Ti khon hoc mt khu khng chnh xc\");\n    }\n\n    return staff;\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  createStaff,\n  genAuthToken,\n  signInWithEmailPassword\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiYmNyeXB0Iiwiand0IiwiaHR0cFN0YXR1cyIsIkFwaUVycm9yIiwiaGFzaFBhc3N3b3JkIiwicGFzc3dvcmQiLCJzYWx0IiwiZ2VuU2FsdCIsImhhc2hlZFBhc3MiLCJoYXNoIiwiY3JlYXRlU3RhZmYiLCJyZXEiLCJyZXMiLCJzdGFmZiIsImJvZHkiLCJzdGFmZkV4aXN0ZWQiLCJnZXRTdGFmZkJ5RW1haWwiLCJlbWFpbCIsIkJBRF9SRVFVRVNUIiwiaGFzaFBhc3MiLCJuZXdTdGFmZiIsImNyZWF0ZU5ld1N0YWZmIiwiZnVsbG5hbWUiLCJhdmF0YXIiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJnZW5BdXRoVG9rZW4iLCJ1c2VyIiwidXNlck9iaiIsInN1YiIsImlkIiwidG9rZW4iLCJzaWduIiwicHJvY2VzcyIsImVudiIsIkFDQ0VTU19UT0tFTl9TRUNSRVQiLCJleHBpcmVzSW4iLCJjb21wYXJlUGFzc3dvcmQiLCJjYW5kaWRhdGVQYXNzd29yZCIsIm1hdGNoIiwiY29tcGFyZSIsInNpZ25JbldpdGhFbWFpbFBhc3N3b3JkIiwiVU5BVVRIT1JJWkVEIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9zZXJ2aWNlLyIsInNvdXJjZXMiOlsic3RhZmZBdXRoLnNlcnZpY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoXCJiY3J5cHRcIik7XG5jb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xuY29uc3QgaHR0cFN0YXR1cyA9IHJlcXVpcmUoXCJodHRwLXN0YXR1c1wiKTtcblxuY29uc3QgeyBBcGlFcnJvciB9ID0gcmVxdWlyZShcIi4uL21pZGRsZXdhcmUvYXBpRXJyb3JcIik7XG5pbXBvcnQge1xuICBnZXRTdGFmZkJ5RW1haWwsXG4gIGNyZWF0ZU5ld1N0YWZmLFxufSBmcm9tIFwiLi4vcmVwb3NpdG9yeS9zdGFmZnMucmVwb3NpdG9yeVwiO1xuXG5jb25zdCBoYXNoUGFzc3dvcmQgPSBhc3luYyAocGFzc3dvcmQpID0+IHtcbiAgY29uc3Qgc2FsdCA9IGF3YWl0IGJjcnlwdC5nZW5TYWx0KDEwKTtcbiAgY29uc3QgaGFzaGVkUGFzcyA9IGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCBzYWx0KTtcbiAgcmV0dXJuIGhhc2hlZFBhc3M7XG59O1xuXG5jb25zdCBjcmVhdGVTdGFmZiA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHN0YWZmID0gcmVxLmJvZHk7XG4gICAgY29uc3Qgc3RhZmZFeGlzdGVkID0gYXdhaXQgZ2V0U3RhZmZCeUVtYWlsKHN0YWZmLmVtYWlsKTtcbiAgICBpZiAoc3RhZmZFeGlzdGVkKSB7XG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5CQURfUkVRVUVTVCwgXCJFbWFpbCBhbHJlYWR5IHRha2VuXCIpO1xuICAgIH1cbiAgICBjb25zdCBoYXNoUGFzcyA9IGF3YWl0IGhhc2hQYXNzd29yZChzdGFmZi5wYXNzd29yZCk7XG4gICAgY29uc3QgbmV3U3RhZmYgPSBhd2FpdCBjcmVhdGVOZXdTdGFmZih7XG4gICAgICBlbWFpbDogc3RhZmYuZW1haWwsXG4gICAgICBmdWxsbmFtZTogc3RhZmYuZnVsbG5hbWUsXG4gICAgICBwYXNzd29yZDogaGFzaFBhc3MsXG4gICAgICBhdmF0YXI6IG51bGwsXG4gICAgfSk7XG4gICAgY29uc29sZS5sb2cobmV3U3RhZmYpO1xuICAgIGlmICghbmV3U3RhZmYpIHtcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLkJBRF9SRVFVRVNULCBcIlJlZ2lzdGVyIGZhaWxcIik7XG4gICAgfVxuICAgIHJldHVybiBuZXdTdGFmZjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcbmNvbnN0IGdlbkF1dGhUb2tlbiA9IGFzeW5jICh1c2VyKSA9PiB7XG4gIGNvbnN0IHVzZXJPYmogPSB7XG4gICAgc3ViOiB1c2VyLmlkLFxuICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgIGlkOiB1c2VyLmlkLFxuICB9O1xuICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHVzZXJPYmosIHByb2Nlc3MuZW52LkFDQ0VTU19UT0tFTl9TRUNSRVQsIHtcbiAgICBleHBpcmVzSW46IFwiMWRcIixcbiAgfSk7XG4gIHJldHVybiB0b2tlbjtcbn07XG5jb25zdCBjb21wYXJlUGFzc3dvcmQgPSBhc3luYyAoY2FuZGlkYXRlUGFzc3dvcmQsIGhhc2hQYXNzd29yZCkgPT4ge1xuICAvLyBjYW5kaWRhdGUgcGFzc3dvcmQgPSBoYXNoIHBhc3N3b3JkXG5cbiAgY29uc3QgbWF0Y2ggPSBhd2FpdCBiY3J5cHQuY29tcGFyZShjYW5kaWRhdGVQYXNzd29yZCwgaGFzaFBhc3N3b3JkKTtcbiAgcmV0dXJuIG1hdGNoO1xufTtcbmNvbnN0IHNpZ25JbldpdGhFbWFpbFBhc3N3b3JkID0gYXN5bmMgKGVtYWlsLCBwYXNzd29yZCkgPT4ge1xuICB0cnkge1xuICAgIC8vIGNoZWNrIGVtYWlsXG4gICAgY29uc3Qgc3RhZmYgPSBhd2FpdCBnZXRTdGFmZkJ5RW1haWwoZW1haWwpO1xuICAgIGlmICghc3RhZmYpIHtcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLlVOQVVUSE9SSVpFRCwgXCJTb3JyeSBCYWQgRW1haWxcIik7XG4gICAgfVxuICAgIGlmICghKGF3YWl0IGNvbXBhcmVQYXNzd29yZChwYXNzd29yZCwgc3RhZmYucGFzc3dvcmQpKSkge1xuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKFxuICAgICAgICBodHRwU3RhdHVzLlVOQVVUSE9SSVpFRCxcbiAgICAgICAgXCJUw6BpIGtob+G6o24gaG/hurdjIG3huq10IGto4bqpdSBraMO0bmcgY2jDrW5oIHjDoWNcIlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YWZmO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY3JlYXRlU3RhZmYsXG4gIGdlbkF1dGhUb2tlbixcbiAgc2lnbkluV2l0aEVtYWlsUGFzc3dvcmQsXG59O1xuIl0sIm1hcHBpbmdzIjoiOztBQU1BOztBQU5BQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQyxRQUFELENBQXRCOztBQUNBLE1BQU1HLEdBQUcsR0FBR0gsT0FBTyxDQUFDLGNBQUQsQ0FBbkI7O0FBQ0EsTUFBTUksVUFBVSxHQUFHSixPQUFPLENBQUMsYUFBRCxDQUExQjs7QUFFQSxNQUFNO0VBQUVLO0FBQUYsSUFBZUwsT0FBTyxDQUFDLHdCQUFELENBQTVCOztBQU1BLE1BQU1NLFlBQVksR0FBRyxNQUFPQyxRQUFQLElBQW9CO0VBQ3ZDLE1BQU1DLElBQUksR0FBRyxNQUFNTixNQUFNLENBQUNPLE9BQVAsQ0FBZSxFQUFmLENBQW5CO0VBQ0EsTUFBTUMsVUFBVSxHQUFHLE1BQU1SLE1BQU0sQ0FBQ1MsSUFBUCxDQUFZSixRQUFaLEVBQXNCQyxJQUF0QixDQUF6QjtFQUNBLE9BQU9FLFVBQVA7QUFDRCxDQUpEOztBQU1BLE1BQU1FLFdBQVcsR0FBRyxPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7RUFDdEMsSUFBSTtJQUNGLE1BQU1DLEtBQUssR0FBR0YsR0FBRyxDQUFDRyxJQUFsQjtJQUNBLE1BQU1DLFlBQVksR0FBRyxNQUFNLElBQUFDLHVCQUFBLEVBQWdCSCxLQUFLLENBQUNJLEtBQXRCLENBQTNCOztJQUNBLElBQUlGLFlBQUosRUFBa0I7TUFDaEIsTUFBTSxJQUFJWixRQUFKLENBQWFELFVBQVUsQ0FBQ2dCLFdBQXhCLEVBQXFDLHFCQUFyQyxDQUFOO0lBQ0Q7O0lBQ0QsTUFBTUMsUUFBUSxHQUFHLE1BQU1mLFlBQVksQ0FBQ1MsS0FBSyxDQUFDUixRQUFQLENBQW5DO0lBQ0EsTUFBTWUsUUFBUSxHQUFHLE1BQU0sSUFBQUMsc0JBQUEsRUFBZTtNQUNwQ0osS0FBSyxFQUFFSixLQUFLLENBQUNJLEtBRHVCO01BRXBDSyxRQUFRLEVBQUVULEtBQUssQ0FBQ1MsUUFGb0I7TUFHcENqQixRQUFRLEVBQUVjLFFBSDBCO01BSXBDSSxNQUFNLEVBQUU7SUFKNEIsQ0FBZixDQUF2QjtJQU1BQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUwsUUFBWjs7SUFDQSxJQUFJLENBQUNBLFFBQUwsRUFBZTtNQUNiLE1BQU0sSUFBSWpCLFFBQUosQ0FBYUQsVUFBVSxDQUFDZ0IsV0FBeEIsRUFBcUMsZUFBckMsQ0FBTjtJQUNEOztJQUNELE9BQU9FLFFBQVA7RUFDRCxDQWxCRCxDQWtCRSxPQUFPTSxLQUFQLEVBQWM7SUFDZCxNQUFNQSxLQUFOO0VBQ0Q7QUFDRixDQXRCRDs7QUF1QkEsTUFBTUMsWUFBWSxHQUFHLE1BQU9DLElBQVAsSUFBZ0I7RUFDbkMsTUFBTUMsT0FBTyxHQUFHO0lBQ2RDLEdBQUcsRUFBRUYsSUFBSSxDQUFDRyxFQURJO0lBRWRkLEtBQUssRUFBRVcsSUFBSSxDQUFDWCxLQUZFO0lBR2RjLEVBQUUsRUFBRUgsSUFBSSxDQUFDRztFQUhLLENBQWhCO0VBS0EsTUFBTUMsS0FBSyxHQUFHL0IsR0FBRyxDQUFDZ0MsSUFBSixDQUFTSixPQUFULEVBQWtCSyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsbUJBQTlCLEVBQW1EO0lBQy9EQyxTQUFTLEVBQUU7RUFEb0QsQ0FBbkQsQ0FBZDtFQUdBLE9BQU9MLEtBQVA7QUFDRCxDQVZEOztBQVdBLE1BQU1NLGVBQWUsR0FBRyxPQUFPQyxpQkFBUCxFQUEwQm5DLFlBQTFCLEtBQTJDO0VBQ2pFO0VBRUEsTUFBTW9DLEtBQUssR0FBRyxNQUFNeEMsTUFBTSxDQUFDeUMsT0FBUCxDQUFlRixpQkFBZixFQUFrQ25DLFlBQWxDLENBQXBCO0VBQ0EsT0FBT29DLEtBQVA7QUFDRCxDQUxEOztBQU1BLE1BQU1FLHVCQUF1QixHQUFHLE9BQU96QixLQUFQLEVBQWNaLFFBQWQsS0FBMkI7RUFDekQsSUFBSTtJQUNGO0lBQ0EsTUFBTVEsS0FBSyxHQUFHLE1BQU0sSUFBQUcsdUJBQUEsRUFBZ0JDLEtBQWhCLENBQXBCOztJQUNBLElBQUksQ0FBQ0osS0FBTCxFQUFZO01BQ1YsTUFBTSxJQUFJVixRQUFKLENBQWFELFVBQVUsQ0FBQ3lDLFlBQXhCLEVBQXNDLGlCQUF0QyxDQUFOO0lBQ0Q7O0lBQ0QsSUFBSSxFQUFFLE1BQU1MLGVBQWUsQ0FBQ2pDLFFBQUQsRUFBV1EsS0FBSyxDQUFDUixRQUFqQixDQUF2QixDQUFKLEVBQXdEO01BQ3RELE1BQU0sSUFBSUYsUUFBSixDQUNKRCxVQUFVLENBQUN5QyxZQURQLEVBRUoseUNBRkksQ0FBTjtJQUlEOztJQUNELE9BQU85QixLQUFQO0VBQ0QsQ0FiRCxDQWFFLE9BQU9hLEtBQVAsRUFBYztJQUNkLE1BQU1BLEtBQU47RUFDRDtBQUNGLENBakJEOztBQW1CQWtCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmbkMsV0FEZTtFQUVmaUIsWUFGZTtFQUdmZTtBQUhlLENBQWpCIn0=","map":{"version":3,"names":["require","config","bcrypt","jwt","httpStatus","ApiError","hashPassword","password","salt","genSalt","hashedPass","hash","createStaff","req","res","staff","body","staffExisted","getStaffByEmail","email","BAD_REQUEST","hashPass","newStaff","createNewStaff","fullname","avatar","console","log","error","genAuthToken","user","userObj","sub","id","token","sign","process","env","ACCESS_TOKEN_SECRET","expiresIn","comparePassword","candidatePassword","match","compare","signInWithEmailPassword","UNAUTHORIZED","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/","sources":["staffAuth.service.js"],"sourcesContent":["require(\"dotenv\").config();\nconst bcrypt = require(\"bcrypt\");\nconst jwt = require(\"jsonwebtoken\");\nconst httpStatus = require(\"http-status\");\n\nconst { ApiError } = require(\"../middleware/apiError\");\nimport {\n  getStaffByEmail,\n  createNewStaff,\n} from \"../repository/staffs.repository\";\n\nconst hashPassword = async (password) => {\n  const salt = await bcrypt.genSalt(10);\n  const hashedPass = await bcrypt.hash(password, salt);\n  return hashedPass;\n};\n\nconst createStaff = async (req, res) => {\n  try {\n    const staff = req.body;\n    const staffExisted = await getStaffByEmail(staff.email);\n    if (staffExisted) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Email already taken\");\n    }\n    const hashPass = await hashPassword(staff.password);\n    const newStaff = await createNewStaff({\n      email: staff.email,\n      fullname: staff.fullname,\n      password: hashPass,\n      avatar: null,\n    });\n    console.log(newStaff);\n    if (!newStaff) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Register fail\");\n    }\n    return newStaff;\n  } catch (error) {\n    throw error;\n  }\n};\nconst genAuthToken = async (user) => {\n  const userObj = {\n    sub: user.id,\n    email: user.email,\n    id: user.id,\n  };\n  const token = jwt.sign(userObj, process.env.ACCESS_TOKEN_SECRET, {\n    expiresIn: \"1d\",\n  });\n  return token;\n};\nconst comparePassword = async (candidatePassword, hashPassword) => {\n  // candidate password = hash password\n\n  const match = await bcrypt.compare(candidatePassword, hashPassword);\n  return match;\n};\nconst signInWithEmailPassword = async (email, password) => {\n  try {\n    // check email\n    const staff = await getStaffByEmail(email);\n    if (!staff) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"Sorry Bad Email\");\n    }\n    if (!(await comparePassword(password, staff.password))) {\n      throw new ApiError(\n        httpStatus.UNAUTHORIZED,\n        \"Ti khon hoc mt khu khng chnh xc\"\n      );\n    }\n    return staff;\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  createStaff,\n  genAuthToken,\n  signInWithEmailPassword,\n};\n"],"mappings":"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"}},"mtime":1666279748642},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/jobStatus.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  jobStatus: [\"Hiring\", \"Expired\", \"Hidden\"],\n  jobStatusDefault: \"Hiring\",\n  jobExperienced: [\"Experienced\", \"Intern\", \"Fresher\"],\n  jobExperiencedDefault: \"Experienced\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiam9iU3RhdHVzIiwiam9iU3RhdHVzRGVmYXVsdCIsImpvYkV4cGVyaWVuY2VkIiwiam9iRXhwZXJpZW5jZWREZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL2NvbnN0YW50LyIsInNvdXJjZXMiOlsiam9iU3RhdHVzLmVudW0uanMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XG4gIGpvYlN0YXR1czogW1wiSGlyaW5nXCIsIFwiRXhwaXJlZFwiLCBcIkhpZGRlblwiXSxcbiAgam9iU3RhdHVzRGVmYXVsdDogXCJIaXJpbmdcIixcbiAgam9iRXhwZXJpZW5jZWQ6IFtcIkV4cGVyaWVuY2VkXCIsIFwiSW50ZXJuXCIsIFwiRnJlc2hlclwiXSxcbiAgam9iRXhwZXJpZW5jZWREZWZhdWx0OiBcIkV4cGVyaWVuY2VkXCIsXG59O1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7RUFDZkMsU0FBUyxFQUFFLENBQUMsUUFBRCxFQUFXLFNBQVgsRUFBc0IsUUFBdEIsQ0FESTtFQUVmQyxnQkFBZ0IsRUFBRSxRQUZIO0VBR2ZDLGNBQWMsRUFBRSxDQUFDLGFBQUQsRUFBZ0IsUUFBaEIsRUFBMEIsU0FBMUIsQ0FIRDtFQUlmQyxxQkFBcUIsRUFBRTtBQUpSLENBQWpCIn0=","map":{"version":3,"names":["module","exports","jobStatus","jobStatusDefault","jobExperienced","jobExperiencedDefault"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/","sources":["jobStatus.enum.js"],"sourcesContent":["module.exports = {\n  jobStatus: [\"Hiring\", \"Expired\", \"Hidden\"],\n  jobStatusDefault: \"Hiring\",\n  jobExperienced: [\"Experienced\", \"Intern\", \"Fresher\"],\n  jobExperiencedDefault: \"Experienced\",\n};\n"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACfC,SAAS,EAAE,CAAC,QAAD,EAAW,SAAX,EAAsB,QAAtB,CADI;EAEfC,gBAAgB,EAAE,QAFH;EAGfC,cAAc,EAAE,CAAC,aAAD,EAAgB,QAAhB,EAA0B,SAA1B,CAHD;EAIfC,qBAAqB,EAAE;AAJR,CAAjB"}},"mtime":1666594653407},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/jobStatus.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  jobStatus: [\"Hiring\", \"Expired\", \"Hidden\"],\n  jobStatusDefault: \"Hiring\",\n  jobExperienced: [\"Experienced\", \"Intern\", \"Fresher\"],\n  jobExperiencedDefault: \"Experienced\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiam9iU3RhdHVzIiwiam9iU3RhdHVzRGVmYXVsdCIsImpvYkV4cGVyaWVuY2VkIiwiam9iRXhwZXJpZW5jZWREZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL2NvbnN0YW50LyIsInNvdXJjZXMiOlsiam9iU3RhdHVzLmVudW0uanMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XG4gIGpvYlN0YXR1czogW1wiSGlyaW5nXCIsIFwiRXhwaXJlZFwiLCBcIkhpZGRlblwiXSxcbiAgam9iU3RhdHVzRGVmYXVsdDogXCJIaXJpbmdcIixcbiAgam9iRXhwZXJpZW5jZWQ6IFtcIkV4cGVyaWVuY2VkXCIsIFwiSW50ZXJuXCIsIFwiRnJlc2hlclwiXSxcbiAgam9iRXhwZXJpZW5jZWREZWZhdWx0OiBcIkV4cGVyaWVuY2VkXCIsXG59O1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7RUFDZkMsU0FBUyxFQUFFLENBQUMsUUFBRCxFQUFXLFNBQVgsRUFBc0IsUUFBdEIsQ0FESTtFQUVmQyxnQkFBZ0IsRUFBRSxRQUZIO0VBR2ZDLGNBQWMsRUFBRSxDQUFDLGFBQUQsRUFBZ0IsUUFBaEIsRUFBMEIsU0FBMUIsQ0FIRDtFQUlmQyxxQkFBcUIsRUFBRTtBQUpSLENBQWpCIn0=","map":{"version":3,"names":["module","exports","jobStatus","jobStatusDefault","jobExperienced","jobExperiencedDefault"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/","sources":["jobStatus.enum.js"],"sourcesContent":["module.exports = {\n  jobStatus: [\"Hiring\", \"Expired\", \"Hidden\"],\n  jobStatusDefault: \"Hiring\",\n  jobExperienced: [\"Experienced\", \"Intern\", \"Fresher\"],\n  jobExperiencedDefault: \"Experienced\",\n};\n"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACfC,SAAS,EAAE,CAAC,QAAD,EAAW,SAAX,EAAsB,QAAtB,CADI;EAEfC,gBAAgB,EAAE,QAFH;EAGfC,cAAc,EAAE,CAAC,aAAD,EAAgB,QAAhB,EAA0B,SAA1B,CAHD;EAIfC,qBAAqB,EAAE;AAJR,CAAjB"}},"mtime":1666594653407},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/campaigns.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _campaign = require(\"../controller/campaign.controller\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.get(\"/\", _campaign.handleGetAllCampaign);\nrouter.post(\"/add\", _campaign.handleCreateNewCampaign);\nrouter.patch(\"/update\", _campaign.updateCampaign); //delete nhung ma la update status == 'Finished'\n\nrouter.patch(\"/delete/:id\", _campaign.deleteCampaignV2);\nrouter.get(\"/:id\", _campaign.handleGetCampaignById);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwiaGFuZGxlR2V0QWxsQ2FtcGFpZ24iLCJwb3N0IiwiaGFuZGxlQ3JlYXRlTmV3Q2FtcGFpZ24iLCJwYXRjaCIsInVwZGF0ZUNhbXBhaWduIiwiZGVsZXRlQ2FtcGFpZ25WMiIsImhhbmRsZUdldENhbXBhaWduQnlJZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsiY2FtcGFpZ25zLnJvdXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQge1xuICBoYW5kbGVHZXRBbGxDYW1wYWlnbixcbiAgaGFuZGxlQ3JlYXRlTmV3Q2FtcGFpZ24sXG4gIHVwZGF0ZUNhbXBhaWduLFxuICBkZWxldGVDYW1wYWlnblYyLFxuICBoYW5kbGVHZXRDYW1wYWlnbkJ5SWQsXG59IGZyb20gXCIuLi9jb250cm9sbGVyL2NhbXBhaWduLmNvbnRyb2xsZXJcIjtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLmdldChcIi9cIiwgaGFuZGxlR2V0QWxsQ2FtcGFpZ24pO1xucm91dGVyLnBvc3QoXCIvYWRkXCIsIGhhbmRsZUNyZWF0ZU5ld0NhbXBhaWduKTtcbnJvdXRlci5wYXRjaChcIi91cGRhdGVcIiwgdXBkYXRlQ2FtcGFpZ24pO1xuLy9kZWxldGUgbmh1bmcgbWEgbGEgdXBkYXRlIHN0YXR1cyA9PSAnRmluaXNoZWQnXG5yb3V0ZXIucGF0Y2goXCIvZGVsZXRlLzppZFwiLCBkZWxldGVDYW1wYWlnblYyKTtcbnJvdXRlci5nZXQoXCIvOmlkXCIsIGhhbmRsZUdldENhbXBhaWduQnlJZCk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOzs7O0FBUUEsTUFBTUEsTUFBTSxHQUFHQyxnQkFBQSxDQUFRQyxNQUFSLEVBQWY7O0FBRUFGLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLEdBQVgsRUFBZ0JDLDhCQUFoQjtBQUNBSixNQUFNLENBQUNLLElBQVAsQ0FBWSxNQUFaLEVBQW9CQyxpQ0FBcEI7QUFDQU4sTUFBTSxDQUFDTyxLQUFQLENBQWEsU0FBYixFQUF3QkMsd0JBQXhCLEUsQ0FDQTs7QUFDQVIsTUFBTSxDQUFDTyxLQUFQLENBQWEsYUFBYixFQUE0QkUsMEJBQTVCO0FBQ0FULE1BQU0sQ0FBQ0csR0FBUCxDQUFXLE1BQVgsRUFBbUJPLCtCQUFuQjtBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJaLE1BQWpCIn0=","map":{"version":3,"names":["router","express","Router","get","handleGetAllCampaign","post","handleCreateNewCampaign","patch","updateCampaign","deleteCampaignV2","handleGetCampaignById","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["campaigns.route.js"],"sourcesContent":["import express from \"express\";\nimport {\n  handleGetAllCampaign,\n  handleCreateNewCampaign,\n  updateCampaign,\n  deleteCampaignV2,\n  handleGetCampaignById,\n} from \"../controller/campaign.controller\";\n\nconst router = express.Router();\n\nrouter.get(\"/\", handleGetAllCampaign);\nrouter.post(\"/add\", handleCreateNewCampaign);\nrouter.patch(\"/update\", updateCampaign);\n//delete nhung ma la update status == 'Finished'\nrouter.patch(\"/delete/:id\", deleteCampaignV2);\nrouter.get(\"/:id\", handleGetCampaignById);\n\nmodule.exports = router;\n"],"mappings":";;AAAA;;AACA;;;;AAQA,MAAMA,MAAM,GAAGC,gBAAA,CAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgBC,8BAAhB;AACAJ,MAAM,CAACK,IAAP,CAAY,MAAZ,EAAoBC,iCAApB;AACAN,MAAM,CAACO,KAAP,CAAa,SAAb,EAAwBC,wBAAxB,E,CACA;;AACAR,MAAM,CAACO,KAAP,CAAa,aAAb,EAA4BE,0BAA5B;AACAT,MAAM,CAACG,GAAP,CAAW,MAAX,EAAmBO,+BAAnB;AAEAC,MAAM,CAACC,OAAP,GAAiBZ,MAAjB"}},"mtime":1667231633840},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/campaign.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst campaignService = require(\"../service/campaignService\");\n\nconst campaignRepository = require(\"../repository/campaign.repository\");\n\nconst handleGetAllCampaign = async (req, res) => {\n  let campaigns = await campaignService.getAllCampaign();\n  return res.json({\n    campaigns\n  });\n};\n\nconst handleCreateNewCampaign = async (req, res, next) => {\n  try {\n    let message = await campaignService.createNewCampaign(req.body);\n    return res.status(200).json(message);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst updateCampaign = async (req, res, next) => {\n  try {\n    await campaignService.updateCampaign(req, res);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst deleteCampaignV2 = async (req, res, next) => {\n  try {\n    await campaignService.updateStatus(req, res);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetCampaignById = async (req, res, next) => {\n  try {\n    const id = req.params.id;\n    let campaign = await campaignRepository.getCampaignById(id);\n    return res.json({\n      campaign\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\nmodule.exports = {\n  handleGetAllCampaign,\n  handleCreateNewCampaign,\n  updateCampaign,\n  deleteCampaignV2,\n  handleGetCampaignById\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYW1wYWlnblNlcnZpY2UiLCJyZXF1aXJlIiwiY2FtcGFpZ25SZXBvc2l0b3J5IiwiaGFuZGxlR2V0QWxsQ2FtcGFpZ24iLCJyZXEiLCJyZXMiLCJjYW1wYWlnbnMiLCJnZXRBbGxDYW1wYWlnbiIsImpzb24iLCJoYW5kbGVDcmVhdGVOZXdDYW1wYWlnbiIsIm5leHQiLCJtZXNzYWdlIiwiY3JlYXRlTmV3Q2FtcGFpZ24iLCJib2R5Iiwic3RhdHVzIiwiZXJyb3IiLCJ1cGRhdGVDYW1wYWlnbiIsImRlbGV0ZUNhbXBhaWduVjIiLCJ1cGRhdGVTdGF0dXMiLCJoYW5kbGVHZXRDYW1wYWlnbkJ5SWQiLCJpZCIsInBhcmFtcyIsImNhbXBhaWduIiwiZ2V0Q2FtcGFpZ25CeUlkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9jb250cm9sbGVyLyIsInNvdXJjZXMiOlsiY2FtcGFpZ24uY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjYW1wYWlnblNlcnZpY2UgPSByZXF1aXJlKFwiLi4vc2VydmljZS9jYW1wYWlnblNlcnZpY2VcIik7XG5jb25zdCBjYW1wYWlnblJlcG9zaXRvcnkgPSByZXF1aXJlKFwiLi4vcmVwb3NpdG9yeS9jYW1wYWlnbi5yZXBvc2l0b3J5XCIpO1xuXG5jb25zdCBoYW5kbGVHZXRBbGxDYW1wYWlnbiA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBsZXQgY2FtcGFpZ25zID0gYXdhaXQgY2FtcGFpZ25TZXJ2aWNlLmdldEFsbENhbXBhaWduKCk7XG4gIHJldHVybiByZXMuanNvbih7IGNhbXBhaWducyB9KTtcbn07XG5cbmNvbnN0IGhhbmRsZUNyZWF0ZU5ld0NhbXBhaWduID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHRyeSB7XG4gICAgbGV0IG1lc3NhZ2UgPSBhd2FpdCBjYW1wYWlnblNlcnZpY2UuY3JlYXRlTmV3Q2FtcGFpZ24ocmVxLmJvZHkpO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihtZXNzYWdlKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBuZXh0KGVycm9yKTtcbiAgfVxufTtcblxuY29uc3QgdXBkYXRlQ2FtcGFpZ24gPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBjYW1wYWlnblNlcnZpY2UudXBkYXRlQ2FtcGFpZ24ocmVxLCByZXMpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIG5leHQoZXJyb3IpO1xuICB9XG59O1xuXG5jb25zdCBkZWxldGVDYW1wYWlnblYyID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHRyeSB7XG4gICAgYXdhaXQgY2FtcGFpZ25TZXJ2aWNlLnVwZGF0ZVN0YXR1cyhyZXEsIHJlcyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbmV4dChlcnJvcik7XG4gIH1cbn07XG5cbmNvbnN0IGhhbmRsZUdldENhbXBhaWduQnlJZCA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGlkID0gcmVxLnBhcmFtcy5pZDtcbiAgICBsZXQgY2FtcGFpZ24gPSBhd2FpdCBjYW1wYWlnblJlcG9zaXRvcnkuZ2V0Q2FtcGFpZ25CeUlkKGlkKTtcbiAgICByZXR1cm4gcmVzLmpzb24oeyBjYW1wYWlnbiB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBuZXh0KGVycm9yKTtcbiAgfVxufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBoYW5kbGVHZXRBbGxDYW1wYWlnbixcbiAgaGFuZGxlQ3JlYXRlTmV3Q2FtcGFpZ24sXG4gIHVwZGF0ZUNhbXBhaWduLFxuICBkZWxldGVDYW1wYWlnblYyLFxuICBoYW5kbGVHZXRDYW1wYWlnbkJ5SWQsXG59O1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLGVBQWUsR0FBR0MsT0FBTyxDQUFDLDRCQUFELENBQS9COztBQUNBLE1BQU1DLGtCQUFrQixHQUFHRCxPQUFPLENBQUMsbUNBQUQsQ0FBbEM7O0FBRUEsTUFBTUUsb0JBQW9CLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0VBQy9DLElBQUlDLFNBQVMsR0FBRyxNQUFNTixlQUFlLENBQUNPLGNBQWhCLEVBQXRCO0VBQ0EsT0FBT0YsR0FBRyxDQUFDRyxJQUFKLENBQVM7SUFBRUY7RUFBRixDQUFULENBQVA7QUFDRCxDQUhEOztBQUtBLE1BQU1HLHVCQUF1QixHQUFHLE9BQU9MLEdBQVAsRUFBWUMsR0FBWixFQUFpQkssSUFBakIsS0FBMEI7RUFDeEQsSUFBSTtJQUNGLElBQUlDLE9BQU8sR0FBRyxNQUFNWCxlQUFlLENBQUNZLGlCQUFoQixDQUFrQ1IsR0FBRyxDQUFDUyxJQUF0QyxDQUFwQjtJQUNBLE9BQU9SLEdBQUcsQ0FBQ1MsTUFBSixDQUFXLEdBQVgsRUFBZ0JOLElBQWhCLENBQXFCRyxPQUFyQixDQUFQO0VBQ0QsQ0FIRCxDQUdFLE9BQU9JLEtBQVAsRUFBYztJQUNkTCxJQUFJLENBQUNLLEtBQUQsQ0FBSjtFQUNEO0FBQ0YsQ0FQRDs7QUFTQSxNQUFNQyxjQUFjLEdBQUcsT0FBT1osR0FBUCxFQUFZQyxHQUFaLEVBQWlCSyxJQUFqQixLQUEwQjtFQUMvQyxJQUFJO0lBQ0YsTUFBTVYsZUFBZSxDQUFDZ0IsY0FBaEIsQ0FBK0JaLEdBQS9CLEVBQW9DQyxHQUFwQyxDQUFOO0VBQ0QsQ0FGRCxDQUVFLE9BQU9VLEtBQVAsRUFBYztJQUNkTCxJQUFJLENBQUNLLEtBQUQsQ0FBSjtFQUNEO0FBQ0YsQ0FORDs7QUFRQSxNQUFNRSxnQkFBZ0IsR0FBRyxPQUFPYixHQUFQLEVBQVlDLEdBQVosRUFBaUJLLElBQWpCLEtBQTBCO0VBQ2pELElBQUk7SUFDRixNQUFNVixlQUFlLENBQUNrQixZQUFoQixDQUE2QmQsR0FBN0IsRUFBa0NDLEdBQWxDLENBQU47RUFDRCxDQUZELENBRUUsT0FBT1UsS0FBUCxFQUFjO0lBQ2RMLElBQUksQ0FBQ0ssS0FBRCxDQUFKO0VBQ0Q7QUFDRixDQU5EOztBQVFBLE1BQU1JLHFCQUFxQixHQUFHLE9BQU9mLEdBQVAsRUFBWUMsR0FBWixFQUFpQkssSUFBakIsS0FBMEI7RUFDdEQsSUFBSTtJQUNGLE1BQU1VLEVBQUUsR0FBR2hCLEdBQUcsQ0FBQ2lCLE1BQUosQ0FBV0QsRUFBdEI7SUFDQSxJQUFJRSxRQUFRLEdBQUcsTUFBTXBCLGtCQUFrQixDQUFDcUIsZUFBbkIsQ0FBbUNILEVBQW5DLENBQXJCO0lBQ0EsT0FBT2YsR0FBRyxDQUFDRyxJQUFKLENBQVM7TUFBRWM7SUFBRixDQUFULENBQVA7RUFDRCxDQUpELENBSUUsT0FBT1AsS0FBUCxFQUFjO0lBQ2RMLElBQUksQ0FBQ0ssS0FBRCxDQUFKO0VBQ0Q7QUFDRixDQVJEOztBQVNBUyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7RUFDZnRCLG9CQURlO0VBRWZNLHVCQUZlO0VBR2ZPLGNBSGU7RUFJZkMsZ0JBSmU7RUFLZkU7QUFMZSxDQUFqQiJ9","map":{"version":3,"names":["campaignService","require","campaignRepository","handleGetAllCampaign","req","res","campaigns","getAllCampaign","json","handleCreateNewCampaign","next","message","createNewCampaign","body","status","error","updateCampaign","deleteCampaignV2","updateStatus","handleGetCampaignById","id","params","campaign","getCampaignById","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/","sources":["campaign.controller.js"],"sourcesContent":["const campaignService = require(\"../service/campaignService\");\nconst campaignRepository = require(\"../repository/campaign.repository\");\n\nconst handleGetAllCampaign = async (req, res) => {\n  let campaigns = await campaignService.getAllCampaign();\n  return res.json({ campaigns });\n};\n\nconst handleCreateNewCampaign = async (req, res, next) => {\n  try {\n    let message = await campaignService.createNewCampaign(req.body);\n    return res.status(200).json(message);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst updateCampaign = async (req, res, next) => {\n  try {\n    await campaignService.updateCampaign(req, res);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst deleteCampaignV2 = async (req, res, next) => {\n  try {\n    await campaignService.updateStatus(req, res);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetCampaignById = async (req, res, next) => {\n  try {\n    const id = req.params.id;\n    let campaign = await campaignRepository.getCampaignById(id);\n    return res.json({ campaign });\n  } catch (error) {\n    next(error);\n  }\n};\nmodule.exports = {\n  handleGetAllCampaign,\n  handleCreateNewCampaign,\n  updateCampaign,\n  deleteCampaignV2,\n  handleGetCampaignById,\n};\n"],"mappings":";;AAAA,MAAMA,eAAe,GAAGC,OAAO,CAAC,4BAAD,CAA/B;;AACA,MAAMC,kBAAkB,GAAGD,OAAO,CAAC,mCAAD,CAAlC;;AAEA,MAAME,oBAAoB,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;EAC/C,IAAIC,SAAS,GAAG,MAAMN,eAAe,CAACO,cAAhB,EAAtB;EACA,OAAOF,GAAG,CAACG,IAAJ,CAAS;IAAEF;EAAF,CAAT,CAAP;AACD,CAHD;;AAKA,MAAMG,uBAAuB,GAAG,OAAOL,GAAP,EAAYC,GAAZ,EAAiBK,IAAjB,KAA0B;EACxD,IAAI;IACF,IAAIC,OAAO,GAAG,MAAMX,eAAe,CAACY,iBAAhB,CAAkCR,GAAG,CAACS,IAAtC,CAApB;IACA,OAAOR,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBN,IAAhB,CAAqBG,OAArB,CAAP;EACD,CAHD,CAGE,OAAOI,KAAP,EAAc;IACdL,IAAI,CAACK,KAAD,CAAJ;EACD;AACF,CAPD;;AASA,MAAMC,cAAc,GAAG,OAAOZ,GAAP,EAAYC,GAAZ,EAAiBK,IAAjB,KAA0B;EAC/C,IAAI;IACF,MAAMV,eAAe,CAACgB,cAAhB,CAA+BZ,GAA/B,EAAoCC,GAApC,CAAN;EACD,CAFD,CAEE,OAAOU,KAAP,EAAc;IACdL,IAAI,CAACK,KAAD,CAAJ;EACD;AACF,CAND;;AAQA,MAAME,gBAAgB,GAAG,OAAOb,GAAP,EAAYC,GAAZ,EAAiBK,IAAjB,KAA0B;EACjD,IAAI;IACF,MAAMV,eAAe,CAACkB,YAAhB,CAA6Bd,GAA7B,EAAkCC,GAAlC,CAAN;EACD,CAFD,CAEE,OAAOU,KAAP,EAAc;IACdL,IAAI,CAACK,KAAD,CAAJ;EACD;AACF,CAND;;AAQA,MAAMI,qBAAqB,GAAG,OAAOf,GAAP,EAAYC,GAAZ,EAAiBK,IAAjB,KAA0B;EACtD,IAAI;IACF,MAAMU,EAAE,GAAGhB,GAAG,CAACiB,MAAJ,CAAWD,EAAtB;IACA,IAAIE,QAAQ,GAAG,MAAMpB,kBAAkB,CAACqB,eAAnB,CAAmCH,EAAnC,CAArB;IACA,OAAOf,GAAG,CAACG,IAAJ,CAAS;MAAEc;IAAF,CAAT,CAAP;EACD,CAJD,CAIE,OAAOP,KAAP,EAAc;IACdL,IAAI,CAACK,KAAD,CAAJ;EACD;AACF,CARD;;AASAS,MAAM,CAACC,OAAP,GAAiB;EACftB,oBADe;EAEfM,uBAFe;EAGfO,cAHe;EAIfC,gBAJe;EAKfE;AALe,CAAjB"}},"mtime":1667231633829},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/campaignService.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _httpStatus = _interopRequireDefault(require(\"http-status\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst campaignRepository = require(\"../repository/campaign.repository\");\n\nconst {\n  ApiError\n} = require(\"../middleware/apiError\"); // ly tt c campaign ngoi tr Hidden campaign(DONE)\n\n\nconst getAllCampaign = () => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const where = {\n        status: [\"Not started\", \"Processing\", \"Finished\"]\n      };\n      let campaign = await campaignRepository.findAll(where);\n      resolve(campaign);\n    } catch (error) {\n      reject(error);\n    }\n  });\n}; //===============================================================================\n\n\nconst createNewCampaign = data => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const iStatus = data.status;\n\n      if (!(iStatus === \"Not started\" || iStatus === \"Processing\" || iStatus === \"Finished\")) {\n        reject({\n          errMsg: \"wrong status\"\n        });\n      }\n\n      const campaign = await campaignRepository.createNewCampaign(data, iStatus);\n      resolve(campaign);\n    } catch (error) {\n      reject(error);\n    }\n  });\n}; //===============================================================================\n\n\nconst updateCampaign = async (req, res) => {\n  try {\n    const data = req.body;\n\n    if (!data.id) {\n      throw new ApiError(_httpStatus.default.BAD_REQUEST, \"Missing id\");\n    }\n\n    const campaign = await campaignRepository.getCampaignById(data.id);\n\n    if (campaign) {\n      await campaignRepository.update(data, {\n        id: data.id\n      });\n      return res.send(\"Updated campaign successfully\");\n    }\n  } catch (error) {\n    throw error;\n  }\n}; //===============================================================================\n//update campaign status to Finished = delete it\n//Delete campaign\n\n\nconst updateStatus = async (req, res) => {\n  try {\n    const id = req.params.id;\n    let campaign = await campaignRepository.getCampaignById(id);\n\n    if (!campaign) {\n      throw new ApiError(_httpStatus.default.BAD_REQUEST, \"Campaign not found...\");\n    }\n\n    await campaignRepository.updateStatus({\n      id: id\n    });\n    return res.send(\"delete successfully\");\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getCampaignById = campaignId => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let campaign = await campaignRepository.findOne({\n        where: {\n          id: campaignId\n        }\n      });\n\n      if (!campaign) {\n        resolve({\n          errCode: 2,\n          errMsg: \"Campaign not found\"\n        });\n      }\n\n      resolve(campaign);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nmodule.exports = {\n  getAllCampaign,\n  createNewCampaign,\n  updateCampaign,\n  getCampaignById,\n  updateStatus\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYW1wYWlnblJlcG9zaXRvcnkiLCJyZXF1aXJlIiwiQXBpRXJyb3IiLCJnZXRBbGxDYW1wYWlnbiIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwid2hlcmUiLCJzdGF0dXMiLCJjYW1wYWlnbiIsImZpbmRBbGwiLCJlcnJvciIsImNyZWF0ZU5ld0NhbXBhaWduIiwiZGF0YSIsImlTdGF0dXMiLCJlcnJNc2ciLCJ1cGRhdGVDYW1wYWlnbiIsInJlcSIsInJlcyIsImJvZHkiLCJpZCIsImh0dHBTdGF0dXMiLCJCQURfUkVRVUVTVCIsImdldENhbXBhaWduQnlJZCIsInVwZGF0ZSIsInNlbmQiLCJ1cGRhdGVTdGF0dXMiLCJwYXJhbXMiLCJjYW1wYWlnbklkIiwiZmluZE9uZSIsImVyckNvZGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL3NlcnZpY2UvIiwic291cmNlcyI6WyJjYW1wYWlnblNlcnZpY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGh0dHBTdGF0dXMgZnJvbSBcImh0dHAtc3RhdHVzXCI7XG5jb25zdCBjYW1wYWlnblJlcG9zaXRvcnkgPSByZXF1aXJlKFwiLi4vcmVwb3NpdG9yeS9jYW1wYWlnbi5yZXBvc2l0b3J5XCIpO1xuY29uc3QgeyBBcGlFcnJvciB9ID0gcmVxdWlyZShcIi4uL21pZGRsZXdhcmUvYXBpRXJyb3JcIik7XG5cbi8vIGzhuqV5IHThuqV0IGPhuqMgY2FtcGFpZ24gbmdv4bqhaSB0cuG7qyBIaWRkZW4gY2FtcGFpZ24oRE9ORSlcbmNvbnN0IGdldEFsbENhbXBhaWduID0gKCkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB3aGVyZSA9IHsgc3RhdHVzOiBbXCJOb3Qgc3RhcnRlZFwiLCBcIlByb2Nlc3NpbmdcIiwgXCJGaW5pc2hlZFwiXSB9O1xuICAgICAgbGV0IGNhbXBhaWduID0gYXdhaXQgY2FtcGFpZ25SZXBvc2l0b3J5LmZpbmRBbGwod2hlcmUpO1xuICAgICAgcmVzb2x2ZShjYW1wYWlnbik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlamVjdChlcnJvcik7XG4gICAgfVxuICB9KTtcbn07XG5cbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5jb25zdCBjcmVhdGVOZXdDYW1wYWlnbiA9IChkYXRhKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGlTdGF0dXMgPSBkYXRhLnN0YXR1cztcbiAgICAgIGlmIChcbiAgICAgICAgIShcbiAgICAgICAgICBpU3RhdHVzID09PSBcIk5vdCBzdGFydGVkXCIgfHxcbiAgICAgICAgICBpU3RhdHVzID09PSBcIlByb2Nlc3NpbmdcIiB8fFxuICAgICAgICAgIGlTdGF0dXMgPT09IFwiRmluaXNoZWRcIlxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICBlcnJNc2c6IFwid3Jvbmcgc3RhdHVzXCIsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgY2FtcGFpZ24gPSBhd2FpdCBjYW1wYWlnblJlcG9zaXRvcnkuY3JlYXRlTmV3Q2FtcGFpZ24oXG4gICAgICAgIGRhdGEsXG4gICAgICAgIGlTdGF0dXNcbiAgICAgICk7XG4gICAgICByZXNvbHZlKGNhbXBhaWduKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmNvbnN0IHVwZGF0ZUNhbXBhaWduID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGF0YSA9IHJlcS5ib2R5O1xuICAgIGlmICghZGF0YS5pZCkge1xuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKGh0dHBTdGF0dXMuQkFEX1JFUVVFU1QsIFwiTWlzc2luZyBpZFwiKTtcbiAgICB9XG4gICAgY29uc3QgY2FtcGFpZ24gPSBhd2FpdCBjYW1wYWlnblJlcG9zaXRvcnkuZ2V0Q2FtcGFpZ25CeUlkKGRhdGEuaWQpO1xuXG4gICAgaWYgKGNhbXBhaWduKSB7XG4gICAgICBhd2FpdCBjYW1wYWlnblJlcG9zaXRvcnkudXBkYXRlKGRhdGEsIHsgaWQ6IGRhdGEuaWQgfSk7XG4gICAgICByZXR1cm4gcmVzLnNlbmQoXCJVcGRhdGVkIGNhbXBhaWduIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vL3VwZGF0ZSBjYW1wYWlnbiBzdGF0dXMgdG8gRmluaXNoZWQgPSBkZWxldGUgaXRcbi8vRGVsZXRlIGNhbXBhaWduXG5jb25zdCB1cGRhdGVTdGF0dXMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWQ7XG5cbiAgICBsZXQgY2FtcGFpZ24gPSBhd2FpdCBjYW1wYWlnblJlcG9zaXRvcnkuZ2V0Q2FtcGFpZ25CeUlkKGlkKTtcbiAgICBpZiAoIWNhbXBhaWduKSB7XG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5CQURfUkVRVUVTVCwgXCJDYW1wYWlnbiBub3QgZm91bmQuLi5cIik7XG4gICAgfVxuICAgIGF3YWl0IGNhbXBhaWduUmVwb3NpdG9yeS51cGRhdGVTdGF0dXMoeyBpZDogaWQgfSk7XG4gICAgcmV0dXJuIHJlcy5zZW5kKFwiZGVsZXRlIHN1Y2Nlc3NmdWxseVwiKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuY29uc3QgZ2V0Q2FtcGFpZ25CeUlkID0gKGNhbXBhaWduSWQpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGNhbXBhaWduID0gYXdhaXQgY2FtcGFpZ25SZXBvc2l0b3J5LmZpbmRPbmUoe1xuICAgICAgICB3aGVyZTogeyBpZDogY2FtcGFpZ25JZCB9LFxuICAgICAgfSk7XG4gICAgICBpZiAoIWNhbXBhaWduKSB7XG4gICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgIGVyckNvZGU6IDIsXG4gICAgICAgICAgZXJyTXNnOiBcIkNhbXBhaWduIG5vdCBmb3VuZFwiLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmUoY2FtcGFpZ24pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZWplY3QoZXJyb3IpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0QWxsQ2FtcGFpZ24sXG4gIGNyZWF0ZU5ld0NhbXBhaWduLFxuICB1cGRhdGVDYW1wYWlnbixcbiAgZ2V0Q2FtcGFpZ25CeUlkLFxuICB1cGRhdGVTdGF0dXMsXG59O1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7O0FBQ0EsTUFBTUEsa0JBQWtCLEdBQUdDLE9BQU8sQ0FBQyxtQ0FBRCxDQUFsQzs7QUFDQSxNQUFNO0VBQUVDO0FBQUYsSUFBZUQsT0FBTyxDQUFDLHdCQUFELENBQTVCLEMsQ0FFQTs7O0FBQ0EsTUFBTUUsY0FBYyxHQUFHLE1BQU07RUFDM0IsT0FBTyxJQUFJQyxPQUFKLENBQVksT0FB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","map":{"version":3,"names":["campaignRepository","require","ApiError","getAllCampaign","Promise","resolve","reject","where","status","campaign","findAll","error","createNewCampaign","data","iStatus","errMsg","updateCampaign","req","res","body","id","httpStatus","BAD_REQUEST","getCampaignById","update","send","updateStatus","params","campaignId","findOne","errCode","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/","sources":["campaignService.js"],"sourcesContent":["import httpStatus from \"http-status\";\nconst campaignRepository = require(\"../repository/campaign.repository\");\nconst { ApiError } = require(\"../middleware/apiError\");\n\n// ly tt c campaign ngoi tr Hidden campaign(DONE)\nconst getAllCampaign = () => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const where = { status: [\"Not started\", \"Processing\", \"Finished\"] };\n      let campaign = await campaignRepository.findAll(where);\n      resolve(campaign);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\n//===============================================================================\n\nconst createNewCampaign = (data) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const iStatus = data.status;\n      if (\n        !(\n          iStatus === \"Not started\" ||\n          iStatus === \"Processing\" ||\n          iStatus === \"Finished\"\n        )\n      ) {\n        reject({\n          errMsg: \"wrong status\",\n        });\n      }\n      const campaign = await campaignRepository.createNewCampaign(\n        data,\n        iStatus\n      );\n      resolve(campaign);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\n//===============================================================================\n\nconst updateCampaign = async (req, res) => {\n  try {\n    const data = req.body;\n    if (!data.id) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Missing id\");\n    }\n    const campaign = await campaignRepository.getCampaignById(data.id);\n\n    if (campaign) {\n      await campaignRepository.update(data, { id: data.id });\n      return res.send(\"Updated campaign successfully\");\n    }\n  } catch (error) {\n    throw error;\n  }\n};\n\n//===============================================================================\n\n//update campaign status to Finished = delete it\n//Delete campaign\nconst updateStatus = async (req, res) => {\n  try {\n    const id = req.params.id;\n\n    let campaign = await campaignRepository.getCampaignById(id);\n    if (!campaign) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Campaign not found...\");\n    }\n    await campaignRepository.updateStatus({ id: id });\n    return res.send(\"delete successfully\");\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getCampaignById = (campaignId) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let campaign = await campaignRepository.findOne({\n        where: { id: campaignId },\n      });\n      if (!campaign) {\n        resolve({\n          errCode: 2,\n          errMsg: \"Campaign not found\",\n        });\n      }\n      resolve(campaign);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nmodule.exports = {\n  getAllCampaign,\n  createNewCampaign,\n  updateCampaign,\n  getCampaignById,\n  updateStatus,\n};\n"],"mappings":"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"}},"mtime":1667231633845},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/jobs.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _jobController = require(\"../controller/job.controller.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.get(\"/\", _jobController.handleGetAllJob);\nrouter.post(\"/add\", _jobController.handleCreateNewJob);\nrouter.patch(\"/delete/:id\", _jobController.handleDeleteJob);\nrouter.patch(\"/update\", _jobController.handleUpdateJob);\nrouter.post(\"/by-campaign\", _jobController.handleGetJobsByCampaignId);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwiaGFuZGxlR2V0QWxsSm9iIiwicG9zdCIsImhhbmRsZUNyZWF0ZU5ld0pvYiIsInBhdGNoIiwiaGFuZGxlRGVsZXRlSm9iIiwiaGFuZGxlVXBkYXRlSm9iIiwiaGFuZGxlR2V0Sm9ic0J5Q2FtcGFpZ25JZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsiam9icy5yb3V0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuXG5pbXBvcnQge1xuICBoYW5kbGVHZXRBbGxKb2IsXG4gIGhhbmRsZUNyZWF0ZU5ld0pvYixcbiAgaGFuZGxlRGVsZXRlSm9iLFxuICBoYW5kbGVVcGRhdGVKb2IsXG4gIGhhbmRsZUdldEpvYnNCeUNhbXBhaWduSWQsXG59IGZyb20gXCIuLi9jb250cm9sbGVyL2pvYi5jb250cm9sbGVyLmpzXCI7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnJvdXRlci5nZXQoXCIvXCIsIGhhbmRsZUdldEFsbEpvYik7XG5yb3V0ZXIucG9zdChcIi9hZGRcIiwgaGFuZGxlQ3JlYXRlTmV3Sm9iKTtcbnJvdXRlci5wYXRjaChcIi9kZWxldGUvOmlkXCIsIGhhbmRsZURlbGV0ZUpvYik7XG5yb3V0ZXIucGF0Y2goXCIvdXBkYXRlXCIsIGhhbmRsZVVwZGF0ZUpvYik7XG5yb3V0ZXIucG9zdChcIi9ieS1jYW1wYWlnblwiLCBoYW5kbGVHZXRKb2JzQnlDYW1wYWlnbklkKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBRUE7Ozs7QUFRQSxNQUFNQSxNQUFNLEdBQUdDLGdCQUFBLENBQVFDLE1BQVIsRUFBZjs7QUFFQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsR0FBWCxFQUFnQkMsOEJBQWhCO0FBQ0FKLE1BQU0sQ0FBQ0ssSUFBUCxDQUFZLE1BQVosRUFBb0JDLGlDQUFwQjtBQUNBTixNQUFNLENBQUNPLEtBQVAsQ0FBYSxhQUFiLEVBQTRCQyw4QkFBNUI7QUFDQVIsTUFBTSxDQUFDTyxLQUFQLENBQWEsU0FBYixFQUF3QkUsOEJBQXhCO0FBQ0FULE1BQU0sQ0FBQ0ssSUFBUCxDQUFZLGNBQVosRUFBNEJLLHdDQUE1QjtBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJaLE1BQWpCIn0=","map":{"version":3,"names":["router","express","Router","get","handleGetAllJob","post","handleCreateNewJob","patch","handleDeleteJob","handleUpdateJob","handleGetJobsByCampaignId","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["jobs.route.js"],"sourcesContent":["import express from \"express\";\n\nimport {\n  handleGetAllJob,\n  handleCreateNewJob,\n  handleDeleteJob,\n  handleUpdateJob,\n  handleGetJobsByCampaignId,\n} from \"../controller/job.controller.js\";\n\nconst router = express.Router();\n\nrouter.get(\"/\", handleGetAllJob);\nrouter.post(\"/add\", handleCreateNewJob);\nrouter.patch(\"/delete/:id\", handleDeleteJob);\nrouter.patch(\"/update\", handleUpdateJob);\nrouter.post(\"/by-campaign\", handleGetJobsByCampaignId);\n\nmodule.exports = router;\n"],"mappings":";;AAAA;;AAEA;;;;AAQA,MAAMA,MAAM,GAAGC,gBAAA,CAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgBC,8BAAhB;AACAJ,MAAM,CAACK,IAAP,CAAY,MAAZ,EAAoBC,iCAApB;AACAN,MAAM,CAACO,KAAP,CAAa,aAAb,EAA4BC,8BAA5B;AACAR,MAAM,CAACO,KAAP,CAAa,SAAb,EAAwBE,8BAAxB;AACAT,MAAM,CAACK,IAAP,CAAY,cAAZ,EAA4BK,wCAA5B;AAEAC,MAAM,CAACC,OAAP,GAAiBZ,MAAjB"}},"mtime":1667231633843},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/job.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst jobService = require(\"../service/jobService.js\");\n\nconst handleGetAllJob = async (req, res, next) => {\n  try {\n    let jobs = await jobService.getAllJob();\n    return res.json({\n      jobs\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleCreateNewJob = async (req, res, next) => {\n  try {\n    let job = await jobService.createNewJob(req.body);\n    return res.json({\n      job\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleDeleteJob = async (req, res, next) => {\n  try {\n    const deleJob = await jobService.deleteJob(req.params.id);\n    return res.json({\n      deleJob\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleUpdateJob = async (req, res, next) => {\n  try {\n    const data = req.body;\n    const updateJob = await jobService.updateJob(data);\n    return res.json({\n      msg: \"Job updated\",\n      updateJob\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetJobsByCampaignId = async (req, res, next) => {\n  try {\n    const data = req.body;\n    console.log(data.campaignId);\n    const jobs = await jobService.getJobsByCampaignId(data.campaignId);\n    return res.json({\n      jobs\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\nmodule.exports = {\n  handleGetAllJob,\n  handleCreateNewJob,\n  handleDeleteJob,\n  handleUpdateJob,\n  handleGetJobsByCampaignId\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJqb2JTZXJ2aWNlIiwicmVxdWlyZSIsImhhbmRsZUdldEFsbEpvYiIsInJlcSIsInJlcyIsIm5leHQiLCJqb2JzIiwiZ2V0QWxsSm9iIiwianNvbiIsImVycm9yIiwiaGFuZGxlQ3JlYXRlTmV3Sm9iIiwiam9iIiwiY3JlYXRlTmV3Sm9iIiwiYm9keSIsImhhbmRsZURlbGV0ZUpvYiIsImRlbGVKb2IiLCJkZWxldGVKb2IiLCJwYXJhbXMiLCJpZCIsImhhbmRsZVVwZGF0ZUpvYiIsImRhdGEiLCJ1cGRhdGVKb2IiLCJtc2ciLCJoYW5kbGVHZXRKb2JzQnlDYW1wYWlnbklkIiwiY29uc29sZSIsImxvZyIsImNhbXBhaWduSWQiLCJnZXRKb2JzQnlDYW1wYWlnbklkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9jb250cm9sbGVyLyIsInNvdXJjZXMiOlsiam9iLmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgam9iU2VydmljZSA9IHJlcXVpcmUoXCIuLi9zZXJ2aWNlL2pvYlNlcnZpY2UuanNcIik7XG5cbmNvbnN0IGhhbmRsZUdldEFsbEpvYiA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICB0cnkge1xuICAgIGxldCBqb2JzID0gYXdhaXQgam9iU2VydmljZS5nZXRBbGxKb2IoKTtcbiAgICByZXR1cm4gcmVzLmpzb24oeyBqb2JzIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIG5leHQoZXJyb3IpO1xuICB9XG59O1xuXG5jb25zdCBoYW5kbGVDcmVhdGVOZXdKb2IgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgdHJ5IHtcbiAgICBsZXQgam9iID0gYXdhaXQgam9iU2VydmljZS5jcmVhdGVOZXdKb2IocmVxLmJvZHkpO1xuICAgIHJldHVybiByZXMuanNvbih7IGpvYiB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBuZXh0KGVycm9yKTtcbiAgfVxufTtcblxuY29uc3QgaGFuZGxlRGVsZXRlSm9iID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGVsZUpvYiA9IGF3YWl0IGpvYlNlcnZpY2UuZGVsZXRlSm9iKHJlcS5wYXJhbXMuaWQpO1xuICAgIHJldHVybiByZXMuanNvbih7IGRlbGVKb2IgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbmV4dChlcnJvcik7XG4gIH1cbn07XG5jb25zdCBoYW5kbGVVcGRhdGVKb2IgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkYXRhID0gcmVxLmJvZHk7XG4gICAgY29uc3QgdXBkYXRlSm9iID0gYXdhaXQgam9iU2VydmljZS51cGRhdGVKb2IoZGF0YSk7XG4gICAgcmV0dXJuIHJlcy5qc29uKHtcbiAgICAgIG1zZzogXCJKb2IgdXBkYXRlZFwiLFxuICAgICAgdXBkYXRlSm9iLFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIG5leHQoZXJyb3IpO1xuICB9XG59O1xuXG5jb25zdCBoYW5kbGVHZXRKb2JzQnlDYW1wYWlnbklkID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGF0YSA9IHJlcS5ib2R5O1xuICAgIGNvbnNvbGUubG9nKGRhdGEuY2FtcGFpZ25JZCk7XG4gICAgY29uc3Qgam9icyA9IGF3YWl0IGpvYlNlcnZpY2UuZ2V0Sm9ic0J5Q2FtcGFpZ25JZChkYXRhLmNhbXBhaWduSWQpO1xuICAgIHJldHVybiByZXMuanNvbih7IGpvYnMgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbmV4dChlcnJvcik7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBoYW5kbGVHZXRBbGxKb2IsXG4gIGhhbmRsZUNyZWF0ZU5ld0pvYixcbiAgaGFuZGxlRGVsZXRlSm9iLFxuICBoYW5kbGVVcGRhdGVKb2IsXG4gIGhhbmRsZUdldEpvYnNCeUNhbXBhaWduSWQsXG59O1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLFVBQVUsR0FBR0MsT0FBTyxDQUFDLDBCQUFELENBQTFCOztBQUVBLE1BQU1DLGVBQWUsR0FBRyxPQUFPQyxHQUFQLEVBQVlDLEdBQVosRUFBaUJDLElBQWpCLEtBQTBCO0VBQ2hELElBQUk7SUFDRixJQUFJQyxJQUFJLEdBQUcsTUFBTU4sVUFBVSxDQUFDTyxTQUFYLEVBQWpCO0lBQ0EsT0FBT0gsR0FBRyxDQUFDSSxJQUFKLENBQVM7TUFBRUY7SUFBRixDQUFULENBQVA7RUFDRCxDQUhELENBR0UsT0FBT0csS0FBUCxFQUFjO0lBQ2RKLElBQUksQ0FBQ0ksS0FBRCxDQUFKO0VBQ0Q7QUFDRixDQVBEOztBQVNBLE1BQU1DLGtCQUFrQixHQUFHLE9BQU9QLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDbkQsSUFBSTtJQUNGLElBQUlNLEdBQUcsR0FBRyxNQUFNWCxVQUFVLENBQUNZLFlBQVgsQ0FBd0JULEdBQUcsQ0FBQ1UsSUFBNUIsQ0FBaEI7SUFDQSxPQUFPVCxHQUFHLENBQUNJLElBQUosQ0FBUztNQUFFRztJQUFGLENBQVQsQ0FBUDtFQUNELENBSEQsQ0FHRSxPQUFPRixLQUFQLEVBQWM7SUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7RUFDRDtBQUNGLENBUEQ7O0FBU0EsTUFBTUssZUFBZSxHQUFHLE9BQU9YLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDaEQsSUFBSTtJQUNGLE1BQU1VLE9BQU8sR0FBRyxNQUFNZixVQUFVLENBQUNnQixTQUFYLENBQXFCYixHQUFHLENBQUNjLE1BQUosQ0FBV0MsRUFBaEMsQ0FBdEI7SUFDQSxPQUFPZCxHQUFHLENBQUNJLElBQUosQ0FBUztNQUFFTztJQUFGLENBQVQsQ0FBUDtFQUNELENBSEQsQ0FHRSxPQUFPTixLQUFQLEVBQWM7SUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7RUFDRDtBQUNGLENBUEQ7O0FBUUEsTUFBTVUsZUFBZSxHQUFHLE9BQU9oQixHQUFQLEVBQVlDLEdBQVosRUFBaUJDLElBQWpCLEtBQTBCO0VBQ2hELElBQUk7SUFDRixNQUFNZSxJQUFJLEdBQUdqQixHQUFHLENBQUNVLElBQWpCO0lBQ0EsTUFBTVEsU0FBUyxHQUFHLE1BQU1yQixVQUFVLENBQUNxQixTQUFYLENBQXFCRCxJQUFyQixDQUF4QjtJQUNBLE9BQU9oQixHQUFHLENBQUNJLElBQUosQ0FBUztNQUNkYyxHQUFHLEVBQUUsYUFEUztNQUVkRDtJQUZjLENBQVQsQ0FBUDtFQUlELENBUEQsQ0FPRSxPQUFPWixLQUFQLEVBQWM7SUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7RUFDRDtBQUNGLENBWEQ7O0FBYUEsTUFBTWMseUJBQXlCLEdBQUcsT0FBT3BCLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDMUQsSUFBSTtJQUNGLE1BQU1lLElBQUksR0FBR2pCLEdBQUcsQ0FBQ1UsSUFBakI7SUFDQVcsT0FBTyxDQUFDQyxHQUFSLENBQVlMLElBQUksQ0FBQ00sVUFBakI7SUFDQSxNQUFNcEIsSUFBSSxHQUFHLE1BQU1OLFVBQVUsQ0FBQzJCLG1CQUFYLENBQStCUCxJQUFJLENBQUNNLFVBQXBDLENBQW5CO0lBQ0EsT0FBT3RCLEdBQUcsQ0FBQ0ksSUFBSixDQUFTO01BQUVGO0lBQUYsQ0FBVCxDQUFQO0VBQ0QsQ0FMRCxDQUtFLE9BQU9HLEtBQVAsRUFBYztJQUNkSixJQUFJLENBQUNJLEtBQUQsQ0FBSjtFQUNEO0FBQ0YsQ0FURDs7QUFXQW1CLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmM0IsZUFEZTtFQUVmUSxrQkFGZTtFQUdmSSxlQUhlO0VBSWZLLGVBSmU7RUFLZkk7QUFMZSxDQUFqQiJ9","map":{"version":3,"names":["jobService","require","handleGetAllJob","req","res","next","jobs","getAllJob","json","error","handleCreateNewJob","job","createNewJob","body","handleDeleteJob","deleJob","deleteJob","params","id","handleUpdateJob","data","updateJob","msg","handleGetJobsByCampaignId","console","log","campaignId","getJobsByCampaignId","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/","sources":["job.controller.js"],"sourcesContent":["const jobService = require(\"../service/jobService.js\");\n\nconst handleGetAllJob = async (req, res, next) => {\n  try {\n    let jobs = await jobService.getAllJob();\n    return res.json({ jobs });\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleCreateNewJob = async (req, res, next) => {\n  try {\n    let job = await jobService.createNewJob(req.body);\n    return res.json({ job });\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleDeleteJob = async (req, res, next) => {\n  try {\n    const deleJob = await jobService.deleteJob(req.params.id);\n    return res.json({ deleJob });\n  } catch (error) {\n    next(error);\n  }\n};\nconst handleUpdateJob = async (req, res, next) => {\n  try {\n    const data = req.body;\n    const updateJob = await jobService.updateJob(data);\n    return res.json({\n      msg: \"Job updated\",\n      updateJob,\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetJobsByCampaignId = async (req, res, next) => {\n  try {\n    const data = req.body;\n    console.log(data.campaignId);\n    const jobs = await jobService.getJobsByCampaignId(data.campaignId);\n    return res.json({ jobs });\n  } catch (error) {\n    next(error);\n  }\n};\n\nmodule.exports = {\n  handleGetAllJob,\n  handleCreateNewJob,\n  handleDeleteJob,\n  handleUpdateJob,\n  handleGetJobsByCampaignId,\n};\n"],"mappings":";;AAAA,MAAMA,UAAU,GAAGC,OAAO,CAAC,0BAAD,CAA1B;;AAEA,MAAMC,eAAe,GAAG,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EAChD,IAAI;IACF,IAAIC,IAAI,GAAG,MAAMN,UAAU,CAACO,SAAX,EAAjB;IACA,OAAOH,GAAG,CAACI,IAAJ,CAAS;MAAEF;IAAF,CAAT,CAAP;EACD,CAHD,CAGE,OAAOG,KAAP,EAAc;IACdJ,IAAI,CAACI,KAAD,CAAJ;EACD;AACF,CAPD;;AASA,MAAMC,kBAAkB,GAAG,OAAOP,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EACnD,IAAI;IACF,IAAIM,GAAG,GAAG,MAAMX,UAAU,CAACY,YAAX,CAAwBT,GAAG,CAACU,IAA5B,CAAhB;IACA,OAAOT,GAAG,CAACI,IAAJ,CAAS;MAAEG;IAAF,CAAT,CAAP;EACD,CAHD,CAGE,OAAOF,KAAP,EAAc;IACdJ,IAAI,CAACI,KAAD,CAAJ;EACD;AACF,CAPD;;AASA,MAAMK,eAAe,GAAG,OAAOX,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EAChD,IAAI;IACF,MAAMU,OAAO,GAAG,MAAMf,UAAU,CAACgB,SAAX,CAAqBb,GAAG,CAACc,MAAJ,CAAWC,EAAhC,CAAtB;IACA,OAAOd,GAAG,CAACI,IAAJ,CAAS;MAAEO;IAAF,CAAT,CAAP;EACD,CAHD,CAGE,OAAON,KAAP,EAAc;IACdJ,IAAI,CAACI,KAAD,CAAJ;EACD;AACF,CAPD;;AAQA,MAAMU,eAAe,GAAG,OAAOhB,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EAChD,IAAI;IACF,MAAMe,IAAI,GAAGjB,GAAG,CAACU,IAAjB;IACA,MAAMQ,SAAS,GAAG,MAAMrB,UAAU,CAACqB,SAAX,CAAqBD,IAArB,CAAxB;IACA,OAAOhB,GAAG,CAACI,IAAJ,CAAS;MACdc,GAAG,EAAE,aADS;MAEdD;IAFc,CAAT,CAAP;EAID,CAPD,CAOE,OAAOZ,KAAP,EAAc;IACdJ,IAAI,CAACI,KAAD,CAAJ;EACD;AACF,CAXD;;AAaA,MAAMc,yBAAyB,GAAG,OAAOpB,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EAC1D,IAAI;IACF,MAAMe,IAAI,GAAGjB,GAAG,CAACU,IAAjB;IACAW,OAAO,CAACC,GAAR,CAAYL,IAAI,CAACM,UAAjB;IACA,MAAMpB,IAAI,GAAG,MAAMN,UAAU,CAAC2B,mBAAX,CAA+BP,IAAI,CAACM,UAApC,CAAnB;IACA,OAAOtB,GAAG,CAACI,IAAJ,CAAS;MAAEF;IAAF,CAAT,CAAP;EACD,CALD,CAKE,OAAOG,KAAP,EAAc;IACdJ,IAAI,CAACI,KAAD,CAAJ;EACD;AACF,CATD;;AAWAmB,MAAM,CAACC,OAAP,GAAiB;EACf3B,eADe;EAEfQ,kBAFe;EAGfI,eAHe;EAIfK,eAJe;EAKfI;AALe,CAAjB"}},"mtime":1667231633831},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/jobService.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _sequelize = require(\"sequelize\");\n\nvar _index = _interopRequireWildcard(require(\"../models/index.js\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst Jobs = _index.default.Jobs;\n\nconst jobRepository = require(\"../repository/jobs.repository\");\n\nconst getAllJob = () => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      //jobs without status == hidden\n      const [results, metadata] = await _index.sequelize.query(process.env.GETALLJOB_QUERY);\n      resolve(results);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nconst createNewJob = data => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const job = await jobRepository.createNewJobs(data); // console.log(data.campaign);\n\n      resolve({\n        errCode: 0,\n        message: \"Create job successfully\",\n        job\n      });\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nconst deleteJob = jobID => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let job = await jobRepository.getJobsById(jobID);\n\n      if (!job) {\n        resolve({\n          errMsg: \"Job not found\"\n        });\n      }\n\n      await jobRepository.updateStatus({\n        id: jobID\n      });\n      resolve({\n        errCode: 0,\n        errMsg: \"Job is deleted\"\n      });\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nconst getJobsByCampaignId = async campaignId => {\n  try {\n    const results = await jobRepository.getJobsByCampaignId(campaignId);\n    return results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst updateJob = async data => {\n  try {\n    const job = await jobRepository.getJobsById(data.id);\n    console.log(job);\n\n    if (job) {\n      await jobRepository.update(data, {\n        id: data.id\n      });\n    }\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  getAllJob,\n  createNewJob,\n  deleteJob,\n  getJobsByCampaignId,\n  updateJob\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJKb2JzIiwiZGIiLCJqb2JSZXBvc2l0b3J5IiwicmVxdWlyZSIsImdldEFsbEpvYiIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVzdWx0cyIsIm1ldGFkYXRhIiwic2VxdWVsaXplIiwicXVlcnkiLCJwcm9jZXNzIiwiZW52IiwiR0VUQUxMSk9CX1FVRVJZIiwiZXJyb3IiLCJjcmVhdGVOZXdKb2IiLCJkYXRhIiwiam9iIiwiY3JlYXRlTmV3Sm9icyIsImVyckNvZGUiLCJtZXNzYWdlIiwiZGVsZXRlSm9iIiwiam9iSUQiLCJnZXRKb2JzQnlJZCIsImVyck1zZyIsInVwZGF0ZVN0YXR1cyIsImlkIiwiZ2V0Sm9ic0J5Q2FtcGFpZ25JZCIsImNhbXBhaWduSWQiLCJjb25zb2xlIiwibG9nIiwidXBkYXRlSm9iIiwidXBkYXRlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9zZXJ2aWNlLyIsInNvdXJjZXMiOlsiam9iU2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBRdWVyeVR5cGVzIH0gZnJvbSBcInNlcXVlbGl6ZVwiO1xuaW1wb3J0IGRiLCB7IHNlcXVlbGl6ZSB9IGZyb20gXCIuLi9tb2RlbHMvaW5kZXguanNcIjtcbmNvbnN0IEpvYnMgPSBkYi5Kb2JzO1xuY29uc3Qgam9iUmVwb3NpdG9yeSA9IHJlcXVpcmUoXCIuLi9yZXBvc2l0b3J5L2pvYnMucmVwb3NpdG9yeVwiKTtcbmNvbnN0IGdldEFsbEpvYiA9ICgpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy9qb2JzIHdpdGhvdXQgc3RhdHVzID09IGhpZGRlblxuICAgICAgY29uc3QgW3Jlc3VsdHMsIG1ldGFkYXRhXSA9IGF3YWl0IHNlcXVlbGl6ZS5xdWVyeShcbiAgICAgICAgcHJvY2Vzcy5lbnYuR0VUQUxMSk9CX1FVRVJZXG4gICAgICApO1xuICAgICAgcmVzb2x2ZShyZXN1bHRzKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICB9XG4gIH0pO1xufTtcblxuY29uc3QgY3JlYXRlTmV3Sm9iID0gKGRhdGEpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgam9iID0gYXdhaXQgam9iUmVwb3NpdG9yeS5jcmVhdGVOZXdKb2JzKGRhdGEpO1xuXG4gICAgICAvLyBjb25zb2xlLmxvZyhkYXRhLmNhbXBhaWduKTtcbiAgICAgIHJlc29sdmUoe1xuICAgICAgICBlcnJDb2RlOiAwLFxuICAgICAgICBtZXNzYWdlOiBcIkNyZWF0ZSBqb2Igc3VjY2Vzc2Z1bGx5XCIsXG4gICAgICAgIGpvYixcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZWplY3QoZXJyb3IpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5jb25zdCBkZWxldGVKb2IgPSAoam9iSUQpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGpvYiA9IGF3YWl0IGpvYlJlcG9zaXRvcnkuZ2V0Sm9ic0J5SWQoam9iSUQpO1xuICAgICAgaWYgKCFqb2IpIHtcbiAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgZXJyTXNnOiBcIkpvYiBub3QgZm91bmRcIixcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBhd2FpdCBqb2JSZXBvc2l0b3J5LnVwZGF0ZVN0YXR1cyh7IGlkOiBqb2JJRCB9KTtcblxuICAgICAgcmVzb2x2ZSh7XG4gICAgICAgIGVyckNvZGU6IDAsXG4gICAgICAgIGVyck1zZzogXCJKb2IgaXMgZGVsZXRlZFwiLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlamVjdChlcnJvcik7XG4gICAgfVxuICB9KTtcbn07XG5cbmNvbnN0IGdldEpvYnNCeUNhbXBhaWduSWQgPSBhc3luYyAoY2FtcGFpZ25JZCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBqb2JSZXBvc2l0b3J5LmdldEpvYnNCeUNhbXBhaWduSWQoY2FtcGFpZ25JZCk7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICB9XG59O1xuY29uc3QgdXBkYXRlSm9iID0gYXN5bmMgKGRhdGEpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBqb2IgPSBhd2FpdCBqb2JSZXBvc2l0b3J5LmdldEpvYnNCeUlkKGRhdGEuaWQpO1xuICAgIGNvbnNvbGUubG9nKGpvYik7XG5cbiAgICBpZiAoam9iKSB7XG4gICAgICBhd2FpdCBqb2JSZXBvc2l0b3J5LnVwZGF0ZShkYXRhLCB7IGlkOiBkYXRhLmlkIH0pO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdldEFsbEpvYixcbiAgY3JlYXRlTmV3Sm9iLFxuICBkZWxldGVKb2IsXG4gIGdldEpvYnNCeUNhbXBhaWduSWQsXG4gIHVwZGF0ZUpvYixcbn07XG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7Ozs7OztBQUNBLE1BQU1BLElBQUksR0FBR0MsY0FBQSxDQUFHRCxJQUFoQjs7QUFDQSxNQUFNRSxhQUFhLEdBQUdDLE9BQU8sQ0FBQywrQkFBRCxDQUE3Qjs7QUFDQSxNQUFNQyxTQUFTLEdBQUcsTUFBTTtFQUN0QixPQUFPLElBQUlDLE9BQUosQ0FBWSxPQUFPQyxPQUFQLEVBQWdCQyxNQUFoQixLQUEyQjtJQUM1QyxJQUFJO01BQ0Y7TUFDQSxNQUFNLENBQUNDLE9BQUQsRUFBVUMs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","map":{"version":3,"names":["Jobs","db","jobRepository","require","getAllJob","Promise","resolve","reject","results","metadata","sequelize","query","process","env","GETALLJOB_QUERY","error","createNewJob","data","job","createNewJobs","errCode","message","deleteJob","jobID","getJobsById","errMsg","updateStatus","id","getJobsByCampaignId","campaignId","console","log","updateJob","update","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/","sources":["jobService.js"],"sourcesContent":["import { QueryTypes } from \"sequelize\";\nimport db, { sequelize } from \"../models/index.js\";\nconst Jobs = db.Jobs;\nconst jobRepository = require(\"../repository/jobs.repository\");\nconst getAllJob = () => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      //jobs without status == hidden\n      const [results, metadata] = await sequelize.query(\n        process.env.GETALLJOB_QUERY\n      );\n      resolve(results);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nconst createNewJob = (data) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const job = await jobRepository.createNewJobs(data);\n\n      // console.log(data.campaign);\n      resolve({\n        errCode: 0,\n        message: \"Create job successfully\",\n        job,\n      });\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nconst deleteJob = (jobID) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let job = await jobRepository.getJobsById(jobID);\n      if (!job) {\n        resolve({\n          errMsg: \"Job not found\",\n        });\n      }\n      await jobRepository.updateStatus({ id: jobID });\n\n      resolve({\n        errCode: 0,\n        errMsg: \"Job is deleted\",\n      });\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nconst getJobsByCampaignId = async (campaignId) => {\n  try {\n    const results = await jobRepository.getJobsByCampaignId(campaignId);\n    return results;\n  } catch (error) {\n    console.log(error);\n  }\n};\nconst updateJob = async (data) => {\n  try {\n    const job = await jobRepository.getJobsById(data.id);\n    console.log(job);\n\n    if (job) {\n      await jobRepository.update(data, { id: data.id });\n    }\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  getAllJob,\n  createNewJob,\n  deleteJob,\n  getJobsByCampaignId,\n  updateJob,\n};\n"],"mappings":";;AAAA;;AACA;;;;;;AACA,MAAMA,IAAI,GAAGC,cAAA,CAAGD,IAAhB;;AACA,MAAME,aAAa,GAAGC,OAAO,CAAC,+BAAD,CAA7B;;AACA,MAAMC,SAAS,GAAG,MAAM;EACtB,OAAO,IAAIC,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;IAC5C,IAAI;MACF;MACA,MAAM,CAACC,OAAD,EAAUC,QAAV,IAAsB,MAAMC,gBAAA,CAAUC,KAAV,CAChCC,OAAO,CAACC,GAAR,CAAYC,eADoB,CAAlC;MAGAR,OAAO,CAACE,OAAD,CAAP;IACD,CAND,CAME,OAAOO,KAAP,EAAc;MACdR,MAAM,CAACQ,KAAD,CAAN;IACD;EACF,CAVM,CAAP;AAWD,CAZD;;AAcA,MAAMC,YAAY,GAAIC,IAAD,IAAU;EAC7B,OAAO,IAAIZ,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;IAC5C,IAAI;MACF,MAAMW,GAAG,GAAG,MAAMhB,aAAa,CAACiB,aAAd,CAA4BF,IAA5B,CAAlB,CADE,CAGF;;MACAX,OAAO,CAAC;QACNc,OAAO,EAAE,CADH;QAENC,OAAO,EAAE,yBAFH;QAGNH;MAHM,CAAD,CAAP;IAKD,CATD,CASE,OAAOH,KAAP,EAAc;MACdR,MAAM,CAACQ,KAAD,CAAN;IACD;EACF,CAbM,CAAP;AAcD,CAfD;;AAiBA,MAAMO,SAAS,GAAIC,KAAD,IAAW;EAC3B,OAAO,IAAIlB,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;IAC5C,IAAI;MACF,IAAIW,GAAG,GAAG,MAAMhB,aAAa,CAACsB,WAAd,CAA0BD,KAA1B,CAAhB;;MACA,IAAI,CAACL,GAAL,EAAU;QACRZ,OAAO,CAAC;UACNmB,MAAM,EAAE;QADF,CAAD,CAAP;MAGD;;MACD,MAAMvB,aAAa,CAACwB,YAAd,CAA2B;QAAEC,EAAE,EAAEJ;MAAN,CAA3B,CAAN;MAEAjB,OAAO,CAAC;QACNc,OAAO,EAAE,CADH;QAENK,MAAM,EAAE;MAFF,CAAD,CAAP;IAID,CAbD,CAaE,OAAOV,KAAP,EAAc;MACdR,MAAM,CAACQ,KAAD,CAAN;IACD;EACF,CAjBM,CAAP;AAkBD,CAnBD;;AAqBA,MAAMa,mBAAmB,GAAG,MAAOC,UAAP,IAAsB;EAChD,IAAI;IACF,MAAMrB,OAAO,GAAG,MAAMN,aAAa,CAAC0B,mBAAd,CAAkCC,UAAlC,CAAtB;IACA,OAAOrB,OAAP;EACD,CAHD,CAGE,OAAOO,KAAP,EAAc;IACde,OAAO,CAACC,GAAR,CAAYhB,KAAZ;EACD;AACF,CAPD;;AAQA,MAAMiB,SAAS,GAAG,MAAOf,IAAP,IAAgB;EAChC,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMhB,aAAa,CAACsB,WAAd,CAA0BP,IAAI,CAACU,EAA/B,CAAlB;IACAG,OAAO,CAACC,GAAR,CAAYb,GAAZ;;IAEA,IAAIA,GAAJ,EAAS;MACP,MAAMhB,aAAa,CAAC+B,MAAd,CAAqBhB,IAArB,EAA2B;QAAEU,EAAE,EAAEV,IAAI,CAACU;MAAX,CAA3B,CAAN;IACD;EACF,CAPD,CAOE,OAAOZ,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CAXD;;AAaAmB,MAAM,CAACC,OAAP,GAAiB;EACf/B,SADe;EAEfY,YAFe;EAGfM,SAHe;EAIfM,mBAJe;EAKfI;AALe,CAAjB"}},"mtime":1667231633848},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/dbconnect.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\n// import { createRequire } from \"module\";\n// const require = createRequire(import.meta.url);\nconst {\n  Sequelize\n} = require(\"sequelize\"); // Option 3: Passing parameters separately (other dialects)\n\n\nconst sequelize = new Sequelize(\"hrms\", \"root\", \"12072002\", {\n  host: \"localhost\",\n  dialect: \"mysql\",\n  logging: false\n});\n\nlet connectDB = async () => {\n  try {\n    await sequelize.authenticate();\n    console.log(\"Connection has been established successfully.\");\n  } catch (error) {\n    console.error(\"Unable to connect to the database: \", error);\n  }\n};\n\nmodule.exports = connectDB;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTZXF1ZWxpemUiLCJyZXF1aXJlIiwic2VxdWVsaXplIiwiaG9zdCIsImRpYWxlY3QiLCJsb2dnaW5nIiwiY29ubmVjdERCIiwiYXV0aGVudGljYXRlIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy8iLCJzb3VyY2VzIjpbImRiY29ubmVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgeyBjcmVhdGVSZXF1aXJlIH0gZnJvbSBcIm1vZHVsZVwiO1xuXG4vLyBjb25zdCByZXF1aXJlID0gY3JlYXRlUmVxdWlyZShpbXBvcnQubWV0YS51cmwpO1xuXG5jb25zdCB7IFNlcXVlbGl6ZSB9ID0gcmVxdWlyZShcInNlcXVlbGl6ZVwiKTtcbi8vIE9wdGlvbiAzOiBQYXNzaW5nIHBhcmFtZXRlcnMgc2VwYXJhdGVseSAob3RoZXIgZGlhbGVjdHMpXG5jb25zdCBzZXF1ZWxpemUgPSBuZXcgU2VxdWVsaXplKFwiaHJtc1wiLCBcInJvb3RcIiwgXCIxMjA3MjAwMlwiLCB7XG4gIGhvc3Q6IFwibG9jYWxob3N0XCIsXG4gIGRpYWxlY3Q6IFwibXlzcWxcIixcbiAgbG9nZ2luZzogZmFsc2UsXG59KTtcblxubGV0IGNvbm5lY3REQiA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBzZXF1ZWxpemUuYXV0aGVudGljYXRlKCk7XG4gICAgY29uc29sZS5sb2coXCJDb25uZWN0aW9uIGhhcyBiZWVuIGVzdGFibGlzaGVkIHN1Y2Nlc3NmdWxseS5cIik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIlVuYWJsZSB0byBjb25uZWN0IHRvIHRoZSBkYXRhYmFzZTogXCIsIGVycm9yKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBjb25uZWN0REI7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFFQTtBQUVBLE1BQU07RUFBRUE7QUFBRixJQUFnQkMsT0FBTyxDQUFDLFdBQUQsQ0FBN0IsQyxDQUNBOzs7QUFDQSxNQUFNQyxTQUFTLEdBQUcsSUFBSUYsU0FBSixDQUFjLE1BQWQsRUFBc0IsTUFBdEIsRUFBOEIsVUFBOUIsRUFBMEM7RUFDMURHLElBQUksRUFBRSxXQURvRDtFQUUxREMsT0FBTyxFQUFFLE9BRmlEO0VBRzFEQyxPQUFPLEVBQUU7QUFIaUQsQ0FBMUMsQ0FBbEI7O0FBTUEsSUFBSUMsU0FBUyxHQUFHLFlBQVk7RUFDMUIsSUFBSTtJQUNGLE1BQU1KLFNBQVMsQ0FBQ0ssWUFBVixFQUFOO0lBQ0FDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLCtDQUFaO0VBQ0QsQ0FIRCxDQUdFLE9BQU9DLEtBQVAsRUFBYztJQUNkRixPQUFPLENBQUNFLEtBQVIsQ0FBYyxxQ0FBZCxFQUFxREEsS0FBckQ7RUFDRDtBQUNGLENBUEQ7O0FBU0FDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQk4sU0FBakIifQ==","map":{"version":3,"names":["Sequelize","require","sequelize","host","dialect","logging","connectDB","authenticate","console","log","error","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/","sources":["dbconnect.js"],"sourcesContent":["// import { createRequire } from \"module\";\n\n// const require = createRequire(import.meta.url);\n\nconst { Sequelize } = require(\"sequelize\");\n// Option 3: Passing parameters separately (other dialects)\nconst sequelize = new Sequelize(\"hrms\", \"root\", \"12072002\", {\n  host: \"localhost\",\n  dialect: \"mysql\",\n  logging: false,\n});\n\nlet connectDB = async () => {\n  try {\n    await sequelize.authenticate();\n    console.log(\"Connection has been established successfully.\");\n  } catch (error) {\n    console.error(\"Unable to connect to the database: \", error);\n  }\n};\n\nmodule.exports = connectDB;\n"],"mappings":";;AAAA;AAEA;AAEA,MAAM;EAAEA;AAAF,IAAgBC,OAAO,CAAC,WAAD,CAA7B,C,CACA;;;AACA,MAAMC,SAAS,GAAG,IAAIF,SAAJ,CAAc,MAAd,EAAsB,MAAtB,EAA8B,UAA9B,EAA0C;EAC1DG,IAAI,EAAE,WADoD;EAE1DC,OAAO,EAAE,OAFiD;EAG1DC,OAAO,EAAE;AAHiD,CAA1C,CAAlB;;AAMA,IAAIC,SAAS,GAAG,YAAY;EAC1B,IAAI;IACF,MAAMJ,SAAS,CAACK,YAAV,EAAN;IACAC,OAAO,CAACC,GAAR,CAAY,+CAAZ;EACD,CAHD,CAGE,OAAOC,KAAP,EAAc;IACdF,OAAO,CAACE,KAAR,CAAc,qCAAd,EAAqDA,KAArD;EACD;AACF,CAPD;;AASAC,MAAM,CAACC,OAAP,GAAiBN,SAAjB"}},"mtime":1667231633833},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/candidate.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\n\nconst auth = require(\"../middleware/auth.middleware\");\n\nconst candidateController = require(\"../controller/candidate.controller\");\n\nconst router = express.Router();\nrouter.route(\"/\").post(candidateController.createCandidate).patch(candidateController.changeCandidateStatus);\nrouter.get(\"/all\", candidateController.getAllCandidate);\nrouter.post(\"/memberID\", candidateController.getCandidateByMember);\nrouter.post(\"/staffID\", candidateController.getCandidateByStaff);\nrouter.patch(\"/changeStatus\", candidateController.changeCandidateStatus); //get all candidates detail with job name member name  staff name\n\nrouter.get(\"/allV2\", candidateController.getAllCandidateDetails);\nrouter.patch(\"/profile\", candidateController.handleUpdateCandidateProfile);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImF1dGgiLCJjYW5kaWRhdGVDb250cm9sbGVyIiwicm91dGVyIiwiUm91dGVyIiwicm91dGUiLCJwb3N0IiwiY3JlYXRlQ2FuZGlkYXRlIiwicGF0Y2giLCJjaGFuZ2VDYW5kaWRhdGVTdGF0dXMiLCJnZXQiLCJnZXRBbGxDYW5kaWRhdGUiLCJnZXRDYW5kaWRhdGVCeU1lbWJlciIsImdldENhbmRpZGF0ZUJ5U3RhZmYiLCJnZXRBbGxDYW5kaWRhdGVEZXRhaWxzIiwiaGFuZGxlVXBkYXRlQ2FuZGlkYXRlUHJvZmlsZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsiY2FuZGlkYXRlLnJvdXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IGF1dGggPSByZXF1aXJlKFwiLi4vbWlkZGxld2FyZS9hdXRoLm1pZGRsZXdhcmVcIik7XG5jb25zdCBjYW5kaWRhdGVDb250cm9sbGVyID0gcmVxdWlyZShcIi4uL2NvbnRyb2xsZXIvY2FuZGlkYXRlLmNvbnRyb2xsZXJcIik7XG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xucm91dGVyXG4gIC5yb3V0ZShcIi9cIilcbiAgLnBvc3QoY2FuZGlkYXRlQ29udHJvbGxlci5jcmVhdGVDYW5kaWRhdGUpXG4gIC5wYXRjaChjYW5kaWRhdGVDb250cm9sbGVyLmNoYW5nZUNhbmRpZGF0ZVN0YXR1cyk7XG5yb3V0ZXIuZ2V0KFwiL2FsbFwiLCBjYW5kaWRhdGVDb250cm9sbGVyLmdldEFsbENhbmRpZGF0ZSk7XG5yb3V0ZXIucG9zdChcIi9tZW1iZXJJRFwiLCBjYW5kaWRhdGVDb250cm9sbGVyLmdldENhbmRpZGF0ZUJ5TWVtYmVyKTtcbnJvdXRlci5wb3N0KFwiL3N0YWZmSURcIiwgY2FuZGlkYXRlQ29udHJvbGxlci5nZXRDYW5kaWRhdGVCeVN0YWZmKTtcbnJvdXRlci5wYXRjaChcIi9jaGFuZ2VTdGF0dXNcIiwgY2FuZGlkYXRlQ29udHJvbGxlci5jaGFuZ2VDYW5kaWRhdGVTdGF0dXMpO1xuXG4vL2dldCBhbGwgY2FuZGlkYXRlcyBkZXRhaWwgd2l0aCBqb2IgbmFtZSBtZW1iZXIgbmFtZSAgc3RhZmYgbmFtZVxucm91dGVyLmdldChcIi9hbGxWMlwiLCBjYW5kaWRhdGVDb250cm9sbGVyLmdldEFsbENhbmRpZGF0ZURldGFpbHMpO1xucm91dGVyLnBhdGNoKFwiL3Byb2ZpbGVcIiwgY2FuZGlkYXRlQ29udHJvbGxlci5oYW5kbGVVcGRhdGVDYW5kaWRhdGVQcm9maWxlKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQywrQkFBRCxDQUFwQjs7QUFDQSxNQUFNRSxtQkFBbUIsR0FBR0YsT0FBTyxDQUFDLG9DQUFELENBQW5DOztBQUNBLE1BQU1HLE1BQU0sR0FBR0osT0FBTyxDQUFDSyxNQUFSLEVBQWY7QUFDQUQsTUFBTSxDQUNIRSxLQURILENBQ1MsR0FEVCxFQUVHQyxJQUZILENBRVFKLG1CQUFtQixDQUFDSyxlQUY1QixFQUdHQyxLQUhILENBR1NOLG1CQUFtQixDQUFDTyxxQkFIN0I7QUFJQU4sTUFBTSxDQUFDTyxHQUFQLENBQVcsTUFBWCxFQUFtQlIsbUJBQW1CLENBQUNTLGVBQXZDO0FBQ0FSLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLFdBQVosRUFBeUJKLG1CQUFtQixDQUFDVSxvQkFBN0M7QUFDQVQsTUFBTSxDQUFDRyxJQUFQLENBQVksVUFBWixFQUF3QkosbUJBQW1CLENBQUNXLG1CQUE1QztBQUNBVixNQUFNLENBQUNLLEtBQVAsQ0FBYSxlQUFiLEVBQThCTixtQkFBbUIsQ0FBQ08scUJBQWxELEUsQ0FFQTs7QUFDQU4sTUFBTSxDQUFDTyxHQUFQLENBQVcsUUFBWCxFQUFxQlIsbUJBQW1CLENBQUNZLHNCQUF6QztBQUNBWCxNQUFNLENBQUNLLEtBQVAsQ0FBYSxVQUFiLEVBQXlCTixtQkFBbUIsQ0FBQ2EsNEJBQTdDO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmQsTUFBakIifQ==","map":{"version":3,"names":["express","require","auth","candidateController","router","Router","route","post","createCandidate","patch","changeCandidateStatus","get","getAllCandidate","getCandidateByMember","getCandidateByStaff","getAllCandidateDetails","handleUpdateCandidateProfile","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["candidate.route.js"],"sourcesContent":["const express = require(\"express\");\nconst auth = require(\"../middleware/auth.middleware\");\nconst candidateController = require(\"../controller/candidate.controller\");\nconst router = express.Router();\nrouter\n  .route(\"/\")\n  .post(candidateController.createCandidate)\n  .patch(candidateController.changeCandidateStatus);\nrouter.get(\"/all\", candidateController.getAllCandidate);\nrouter.post(\"/memberID\", candidateController.getCandidateByMember);\nrouter.post(\"/staffID\", candidateController.getCandidateByStaff);\nrouter.patch(\"/changeStatus\", candidateController.changeCandidateStatus);\n\n//get all candidates detail with job name member name  staff name\nrouter.get(\"/allV2\", candidateController.getAllCandidateDetails);\nrouter.patch(\"/profile\", candidateController.handleUpdateCandidateProfile);\n\nmodule.exports = router;\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,+BAAD,CAApB;;AACA,MAAME,mBAAmB,GAAGF,OAAO,CAAC,oCAAD,CAAnC;;AACA,MAAMG,MAAM,GAAGJ,OAAO,CAACK,MAAR,EAAf;AACAD,MAAM,CACHE,KADH,CACS,GADT,EAEGC,IAFH,CAEQJ,mBAAmB,CAACK,eAF5B,EAGGC,KAHH,CAGSN,mBAAmB,CAACO,qBAH7B;AAIAN,MAAM,CAACO,GAAP,CAAW,MAAX,EAAmBR,mBAAmB,CAACS,eAAvC;AACAR,MAAM,CAACG,IAAP,CAAY,WAAZ,EAAyBJ,mBAAmB,CAACU,oBAA7C;AACAT,MAAM,CAACG,IAAP,CAAY,UAAZ,EAAwBJ,mBAAmB,CAACW,mBAA5C;AACAV,MAAM,CAACK,KAAP,CAAa,eAAb,EAA8BN,mBAAmB,CAACO,qBAAlD,E,CAEA;;AACAN,MAAM,CAACO,GAAP,CAAW,QAAX,EAAqBR,mBAAmB,CAACY,sBAAzC;AACAX,MAAM,CAACK,KAAP,CAAa,UAAb,EAAyBN,mBAAmB,CAACa,4BAA7C;AAEAC,MAAM,CAACC,OAAP,GAAiBd,MAAjB"}},"mtime":1667231633841},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/candidate.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\n\nconst auth = require(\"../middleware/auth.middleware\");\n\nconst candidateController = require(\"../controller/candidate.controller\");\n\nconst router = express.Router();\nrouter.route(\"/\").post(candidateController.createCandidate).patch(candidateController.changeCandidateStatus);\nrouter.get(\"/all\", candidateController.getAllCandidate);\nrouter.post(\"/memberID\", candidateController.getCandidateByMember);\nrouter.post(\"/staffID\", candidateController.getCandidateByStaff);\nrouter.patch(\"/changeStatus\", candidateController.changeCandidateStatus); //get all candidates detail with job name member name  staff name\n\nrouter.get(\"/allV2\", candidateController.getAllCandidateDetails);\nrouter.patch(\"/profile\", candidateController.handleUpdateCandidateProfile);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImF1dGgiLCJjYW5kaWRhdGVDb250cm9sbGVyIiwicm91dGVyIiwiUm91dGVyIiwicm91dGUiLCJwb3N0IiwiY3JlYXRlQ2FuZGlkYXRlIiwicGF0Y2giLCJjaGFuZ2VDYW5kaWRhdGVTdGF0dXMiLCJnZXQiLCJnZXRBbGxDYW5kaWRhdGUiLCJnZXRDYW5kaWRhdGVCeU1lbWJlciIsImdldENhbmRpZGF0ZUJ5U3RhZmYiLCJnZXRBbGxDYW5kaWRhdGVEZXRhaWxzIiwiaGFuZGxlVXBkYXRlQ2FuZGlkYXRlUHJvZmlsZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsiY2FuZGlkYXRlLnJvdXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IGF1dGggPSByZXF1aXJlKFwiLi4vbWlkZGxld2FyZS9hdXRoLm1pZGRsZXdhcmVcIik7XG5jb25zdCBjYW5kaWRhdGVDb250cm9sbGVyID0gcmVxdWlyZShcIi4uL2NvbnRyb2xsZXIvY2FuZGlkYXRlLmNvbnRyb2xsZXJcIik7XG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xucm91dGVyXG4gIC5yb3V0ZShcIi9cIilcbiAgLnBvc3QoY2FuZGlkYXRlQ29udHJvbGxlci5jcmVhdGVDYW5kaWRhdGUpXG4gIC5wYXRjaChjYW5kaWRhdGVDb250cm9sbGVyLmNoYW5nZUNhbmRpZGF0ZVN0YXR1cyk7XG5yb3V0ZXIuZ2V0KFwiL2FsbFwiLCBjYW5kaWRhdGVDb250cm9sbGVyLmdldEFsbENhbmRpZGF0ZSk7XG5yb3V0ZXIucG9zdChcIi9tZW1iZXJJRFwiLCBjYW5kaWRhdGVDb250cm9sbGVyLmdldENhbmRpZGF0ZUJ5TWVtYmVyKTtcbnJvdXRlci5wb3N0KFwiL3N0YWZmSURcIiwgY2FuZGlkYXRlQ29udHJvbGxlci5nZXRDYW5kaWRhdGVCeVN0YWZmKTtcbnJvdXRlci5wYXRjaChcIi9jaGFuZ2VTdGF0dXNcIiwgY2FuZGlkYXRlQ29udHJvbGxlci5jaGFuZ2VDYW5kaWRhdGVTdGF0dXMpO1xuXG4vL2dldCBhbGwgY2FuZGlkYXRlcyBkZXRhaWwgd2l0aCBqb2IgbmFtZSBtZW1iZXIgbmFtZSAgc3RhZmYgbmFtZVxucm91dGVyLmdldChcIi9hbGxWMlwiLCBjYW5kaWRhdGVDb250cm9sbGVyLmdldEFsbENhbmRpZGF0ZURldGFpbHMpO1xucm91dGVyLnBhdGNoKFwiL3Byb2ZpbGVcIiwgY2FuZGlkYXRlQ29udHJvbGxlci5oYW5kbGVVcGRhdGVDYW5kaWRhdGVQcm9maWxlKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQywrQkFBRCxDQUFwQjs7QUFDQSxNQUFNRSxtQkFBbUIsR0FBR0YsT0FBTyxDQUFDLG9DQUFELENBQW5DOztBQUNBLE1BQU1HLE1BQU0sR0FBR0osT0FBTyxDQUFDSyxNQUFSLEVBQWY7QUFDQUQsTUFBTSxDQUNIRSxLQURILENBQ1MsR0FEVCxFQUVHQyxJQUZILENBRVFKLG1CQUFtQixDQUFDSyxlQUY1QixFQUdHQyxLQUhILENBR1NOLG1CQUFtQixDQUFDTyxxQkFIN0I7QUFJQU4sTUFBTSxDQUFDTyxHQUFQLENBQVcsTUFBWCxFQUFtQlIsbUJBQW1CLENBQUNTLGVBQXZDO0FBQ0FSLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLFdBQVosRUFBeUJKLG1CQUFtQixDQUFDVSxvQkFBN0M7QUFDQVQsTUFBTSxDQUFDRyxJQUFQLENBQVksVUFBWixFQUF3QkosbUJBQW1CLENBQUNXLG1CQUE1QztBQUNBVixNQUFNLENBQUNLLEtBQVAsQ0FBYSxlQUFiLEVBQThCTixtQkFBbUIsQ0FBQ08scUJBQWxELEUsQ0FFQTs7QUFDQU4sTUFBTSxDQUFDTyxHQUFQLENBQVcsUUFBWCxFQUFxQlIsbUJBQW1CLENBQUNZLHNCQUF6QztBQUNBWCxNQUFNLENBQUNLLEtBQVAsQ0FBYSxVQUFiLEVBQXlCTixtQkFBbUIsQ0FBQ2EsNEJBQTdDO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmQsTUFBakIifQ==","map":{"version":3,"names":["express","require","auth","candidateController","router","Router","route","post","createCandidate","patch","changeCandidateStatus","get","getAllCandidate","getCandidateByMember","getCandidateByStaff","getAllCandidateDetails","handleUpdateCandidateProfile","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["candidate.route.js"],"sourcesContent":["const express = require(\"express\");\nconst auth = require(\"../middleware/auth.middleware\");\nconst candidateController = require(\"../controller/candidate.controller\");\nconst router = express.Router();\nrouter\n  .route(\"/\")\n  .post(candidateController.createCandidate)\n  .patch(candidateController.changeCandidateStatus);\nrouter.get(\"/all\", candidateController.getAllCandidate);\nrouter.post(\"/memberID\", candidateController.getCandidateByMember);\nrouter.post(\"/staffID\", candidateController.getCandidateByStaff);\nrouter.patch(\"/changeStatus\", candidateController.changeCandidateStatus);\n\n//get all candidates detail with job name member name  staff name\nrouter.get(\"/allV2\", candidateController.getAllCandidateDetails);\nrouter.patch(\"/profile\", candidateController.handleUpdateCandidateProfile);\n\nmodule.exports = router;\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,+BAAD,CAApB;;AACA,MAAME,mBAAmB,GAAGF,OAAO,CAAC,oCAAD,CAAnC;;AACA,MAAMG,MAAM,GAAGJ,OAAO,CAACK,MAAR,EAAf;AACAD,MAAM,CACHE,KADH,CACS,GADT,EAEGC,IAFH,CAEQJ,mBAAmB,CAACK,eAF5B,EAGGC,KAHH,CAGSN,mBAAmB,CAACO,qBAH7B;AAIAN,MAAM,CAACO,GAAP,CAAW,MAAX,EAAmBR,mBAAmB,CAACS,eAAvC;AACAR,MAAM,CAACG,IAAP,CAAY,WAAZ,EAAyBJ,mBAAmB,CAACU,oBAA7C;AACAT,MAAM,CAACG,IAAP,CAAY,UAAZ,EAAwBJ,mBAAmB,CAACW,mBAA5C;AACAV,MAAM,CAACK,KAAP,CAAa,eAAb,EAA8BN,mBAAmB,CAACO,qBAAlD,E,CAEA;;AACAN,MAAM,CAACO,GAAP,CAAW,QAAX,EAAqBR,mBAAmB,CAACY,sBAAzC;AACAX,MAAM,CAACK,KAAP,CAAa,UAAb,EAAyBN,mBAAmB,CAACa,4BAA7C;AAEAC,MAAM,CAACC,OAAP,GAAiBd,MAAjB"}},"mtime":1667231633841},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/candidate.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _express = require(\"express\");\n\nvar _candidate = require(\"../service/candidate.service\");\n\n// import { showAllCandidateDetails } from \"../repository/candidates.repository\";\nconst candidateController = {\n  async createCandidate(req, res, next) {\n    try {\n      const candidate = await (0, _candidate.createNewCandidate)(req, res);\n      return res.send(candidate);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async getCandidateByMember(req, res, next) {\n    try {\n      const candidateByMemberID = await (0, _candidate.getListCandidateByMemberID)(req);\n      return res.send(candidateByMemberID);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async getAllCandidate(req, res, next) {\n    try {\n      const candidateList = await (0, _candidate.getListCandidate)();\n      return res.send(candidateList);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async getCandidateByStaff(req, res, next) {\n    try {\n      const candidateList = await (0, _candidate.getAllCandidateByStaffID)(req, res);\n      return res.send(candidateList);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async changeCandidateStatus(req, res, next) {\n    try {\n      const candidateChange = await (0, _candidate.candidateStatusChange)(req);\n      return res.send(candidateChange);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async getAllCandidateDetails(req, res, next) {\n    try {\n      const candidateInformation = await (0, _candidate.getAllCandidateDetailWithStaffIDMemberIDJobID)();\n      return res.send(candidateInformation);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async handleUpdateCandidateProfile(req, res, next) {\n    try {\n      console.log(req.body);\n      const reportId = req.body.reportId;\n      const appliedResult = req.body.result;\n      const result = await (0, _candidate.updateCandidateProfileStatus)(reportId, appliedResult);\n      return res.json(result);\n    } catch (error) {\n      next(error);\n    }\n  }\n\n};\nmodule.exports = candidateController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYW5kaWRhdGVDb250cm9sbGVyIiwiY3JlYXRlQ2FuZGlkYXRlIiwicmVxIiwicmVzIiwibmV4dCIsImNhbmRpZGF0ZSIsImNyZWF0ZU5ld0NhbmRpZGF0ZSIsInNlbmQiLCJlcnJvciIsImdldENhbmRpZGF0ZUJ5TWVtYmVyIiwiY2FuZGlkYXRlQnlNZW1iZXJJRCIsImdldExpc3RDYW5kaWRhdGVCeU1lbWJlcklEIiwiZ2V0QWxsQ2FuZGlkYXRlIiwiY2FuZGlkYXRlTGlzdCIsImdldExpc3RDYW5kaWRhdGUiLCJnZXRDYW5kaWRhdGVCeVN0YWZmIiwiZ2V0QWxsQ2FuZGlkYXRlQnlTdGFmZklEIiwiY2hhbmdlQ2FuZGlkYXRlU3RhdHVzIiwiY2FuZGlkYXRlQ2hhbmdlIiwiY2FuZGlkYXRlU3RhdHVzQ2hhbmdlIiwiZ2V0QWxsQ2FuZGlkYXRlRGV0YWlscyIsImNhbmRpZGF0ZUluZm9ybWF0aW9uIiwiZ2V0QWxsQ2FuZGlkYXRlRGV0YWlsV2l0aFN0YWZmSURNZW1iZXJJREpvYklEIiwiaGFuZGxlVXBkYXRlQ2FuZGlkYXRlUHJvZmlsZSIsImNvbnNvbGUiLCJsb2ciLCJib2R5IiwicmVwb3J0SWQiLCJhcHBsaWVkUmVzdWx0IiwicmVzdWx0IiwidXBkYXRlQ2FuZGlkYXRlUHJvZmlsZVN0YXR1cyIsImpzb24iLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL2NvbnRyb2xsZXIvIiwic291cmNlcyI6WyJjYW5kaWRhdGUuY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgeyBzaG93QWxsQ2FuZGlkYXRlRGV0YWlscyB9IGZyb20gXCIuLi9yZXBvc2l0b3J5L2NhbmRpZGF0ZXMucmVwb3NpdG9yeVwiO1xuaW1wb3J0IHsgcmVxdWVzdCB9IGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQge1xuICBjcmVhdGVOZXdDYW5kaWRhdGUsXG4gIGdldExpc3RDYW5kaWRhdGUsXG4gIGdldExpc3RDYW5kaWRhdGVCeU1lbWJlcklELFxuICBjYW5kaWRhdGVTdGF0dXNDaGFuZ2UsXG4gIGdldEFsbENhbmRpZGF0ZUJ5U3RhZmZJRCxcbiAgZ2V0QWxsQ2FuZGlkYXRlRGV0YWlsV2l0aFN0YWZmSURNZW1iZXJJREpvYklELFxuICB1cGRhdGVDYW5kaWRhdGVQcm9maWxlU3RhdHVzLFxufSBmcm9tIFwiLi4vc2VydmljZS9jYW5kaWRhdGUuc2VydmljZVwiO1xuXG5jb25zdCBjYW5kaWRhdGVDb250cm9sbGVyID0ge1xuICBhc3luYyBjcmVhdGVDYW5kaWRhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY2FuZGlkYXRlID0gYXdhaXQgY3JlYXRlTmV3Q2FuZGlkYXRlKHJlcSwgcmVzKTtcbiAgICAgIHJldHVybiByZXMuc2VuZChjYW5kaWRhdGUpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBuZXh0KGVycm9yKTtcbiAgICB9XG4gIH0sXG4gIGFzeW5jIGdldENhbmRpZGF0ZUJ5TWVtYmVyKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNhbmRpZGF0ZUJ5TWVtYmVySUQgPSBhd2FpdCBnZXRMaXN0Q2FuZGlkYXRlQnlNZW1iZXJJRChyZXEpO1xuICAgICAgcmV0dXJuIHJlcy5zZW5kKGNhbmRpZGF0ZUJ5TWVtYmVySUQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBuZXh0KGVycm9yKTtcbiAgICB9XG4gIH0sXG4gIGFzeW5jIGdldEFsbENhbmRpZGF0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjYW5kaWRhdGVMaXN0ID0gYXdhaXQgZ2V0TGlzdENhbmRpZGF0ZSgpO1xuICAgICAgcmV0dXJuIHJlcy5zZW5kKGNhbmRpZGF0ZUxpc3QpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBuZXh0KGVycm9yKTtcbiAgICB9XG4gIH0sXG4gIGFzeW5jIGdldENhbmRpZGF0ZUJ5U3RhZmYocmVxLCByZXMsIG5leHQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY2FuZGlkYXRlTGlzdCA9IGF3YWl0IGdldEFsbENhbmRpZGF0ZUJ5U3RhZmZJRChyZXEsIHJlcyk7XG4gICAgICByZXR1cm4gcmVzLnNlbmQoY2FuZGlkYXRlTGlzdCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG5leHQoZXJyb3IpO1xuICAgIH1cbiAgfSxcbiAgYXN5bmMgY2hhbmdlQ2FuZGlkYXRlU3RhdHVzKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNhbmRpZGF0ZUNoYW5nZSA9IGF3YWl0IGNhbmRpZGF0ZVN0YXR1c0NoYW5nZShyZXEpO1xuICAgICAgcmV0dXJuIHJlcy5zZW5kKGNhbmRpZGF0ZUNoYW5nZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG5leHQoZXJyb3IpO1xuICAgIH1cbiAgfSxcblxuICBhc3luYyBnZXRBbGxDYW5kaWRhdGVEZXRhaWxzKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNhbmRpZGF0ZUluZm9ybWF0aW9uID1cbiAgICAgICAgYXdhaXQgZ2V0QWxsQ2FuZGlkYXRlRGV0YWlsV2l0aFN0YWZmSURNZW1iZXJJREpvYklEKCk7XG4gICAgICByZXR1cm4gcmVzLnNlbmQoY2FuZGlkYXRlSW5mb3JtYXRpb24pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBuZXh0KGVycm9yKTtcbiAgICB9XG4gIH0sXG5cbiAgYXN5bmMgaGFuZGxlVXBkYXRlQ2FuZGlkYXRlUHJvZmlsZShyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhyZXEuYm9keSk7XG4gICAgICBjb25zdCByZXBvcnRJZCA9IHJlcS5ib2R5LnJlcG9ydElkO1xuICAgICAgY29uc3QgYXBwbGllZFJlc3VsdCA9IHJlcS5ib2R5LnJlc3VsdDtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVwZGF0ZUNhbmRpZGF0ZVByb2ZpbGVTdGF0dXMoXG4gICAgICAgIHJlcG9ydElkLFxuICAgICAgICBhcHBsaWVkUmVzdWx0XG4gICAgICApO1xuICAgICAgcmV0dXJuIHJlcy5qc29uKHJlc3VsdCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG5leHQoZXJyb3IpO1xuICAgIH1cbiAgfSxcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGNhbmRpZGF0ZUNvbnRyb2xsZXI7XG4iXSwibWFwcGluZ3MiOiI7O0FBQ0E7O0FBQ0E7O0FBRkE7QUFZQSxNQUFNQSxtQkFBbUIsR0FBRztFQUMxQixNQUFNQyxlQUFOLENBQXNCQyxHQUF0QixFQUEyQkMsR0FBM0IsRUFBZ0NDLElBQWhDLEVBQXNDO0lBQ3BDLElBQUk7TUFDRixNQUFNQyxTQUFTLEdBQUcsTUFBTSxJQUFBQyw2QkFBQSxFQUFtQkosR0FBbkIsRUFBd0JDLEdBQXhCLENBQXhCO01BQ0EsT0FBT0EsR0FBRyxDQUFDSSxJQUFKLENBQVNGLFNBQVQsQ0FBUDtJQUNELENBSEQsQ0FHRSxPQUFPRyxLQUFQLEVBQWM7TUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7SUFDRDtFQUNGLENBUnlCOztFQVMxQixNQUFNQyxvQkFBTixDQUEyQlAsR0FBM0IsRUFBZ0NDLEdBQWhDLEVBQXFDQyxJQUFyQyxFQUEyQztJQUN6QyxJQUFJO01BQ0YsTUFBTU0sbUJBQW1CLEdBQUcsTUFBTSxJQUFBQyxxQ0FBQSxFQUEyQlQsR0FBM0IsQ0FBbEM7TUFDQSxPQUFPQyxHQUFHLENBQUNJLElBQUosQ0FBU0csbUJBQVQsQ0FBUDtJQUNELENBSEQsQ0FHRSxPQUFPRixLQUFQLEVBQWM7TUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7SUFDRDtFQUNGLENBaEJ5Qjs7RUFpQjFCLE1BQU1JLGVBQU4sQ0FBc0JWLEdBQXRCLEVBQTJCQyxHQUEzQixFQUFnQ0MsSUFBaEMsRUFBc0M7SUFDcEMsSUFBSTtNQUNGLE1BQU1TLGFBQWEsR0FBRyxNQUFNLElBQUFDLDJCQUFBLEdBQTVCO01BQ0EsT0FBT1gsR0FBRyxDQUFDSSxJQUFKLENBQVNNLGFBQVQsQ0FBUDtJQUNELENBSEQsQ0FHRSxPQUFPTCxLQUFQLEVBQWM7TUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7SUFDRDtFQUNGLENBeEJ5Qjs7RUF5QjFCLE1BQU1PLG1CQUFOLENBQTBCYixHQUExQixFQUErQkMsR0FBL0IsRUFBb0NDLElBQXBDLEVBQTBDO0lBQ3hDLElBQUk7TUFDRixNQUFNUyxhQUFhLEdBQUcsTUFBTSxJQUFBRyxtQ0FBQSxFQUF5QmQsR0FBekIsRUFBOEJDLEdBQTlCLENBQTVCO01BQ0EsT0FBT0EsR0FBRyxDQUFDSSxJQUFKLENBQVNNLGFBQVQsQ0FBUDtJQUNELENBSEQsQ0FHRSxPQUFPTCxLQUFQLEVBQWM7TUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7SUFDRDtFQUNGLENBaEN5Qjs7RUFpQzFCLE1BQU1TLHFCQUFOLENBQTRCZixHQUE1QixFQUFpQ0MsR0FBakMsRUFBc0NDLElBQXRDLEVBQTRDO0lBQzFDLElBQUk7TUFDRixNQUFNYyxlQUFlLEdBQUcsTUFBTSxJQUFBQyxnQ0FBQSxFQUFzQmpCLEdBQXRCLENBQTlCO01BQ0EsT0FBT0MsR0FBRyxDQUFDSSxJQUFKLENBQVNXLGVBQVQsQ0FBUDtJQUNELENBSEQsQ0FHRSxPQUFPVixLQUFQLEVBQWM7TUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7SUFDRDtFQUNGLENBeEN5Qjs7RUEwQzFCLE1BQU1ZLHNCQUFOLENBQTZCbEIsR0FBN0IsRUFBa0NDLEdBQWxDLEVBQXVDQyxJQUF2QyxFQUE2QztJQUMzQyxJQUFJO01BQ0YsTUFBTWlCLG9CQUFvQixHQUN4QixNQUFNLElBQUFDLHdEQUFBLEdBRFI7TUFFQSxPQUFPbkIsR0FBRyxDQUFDSSxJQUFKLENBQVNjLG9CQUFULENBQVA7SUFDRCxDQUpELENBSUUsT0FBT2IsS0FBUCxFQUFjO01BQ2RKLElBQUksQ0FBQ0ksS0FBRCxDQUFKO0lBQ0Q7RUFDRixDQWxEeUI7O0VBb0QxQixNQUFNZSw0QkFBTixDQUFtQ3JCLEdBQW5DLEVBQXdDQyxHQUF4QyxFQUE2Q0MsSUFBN0MsRUFBbUQ7SUFDakQsSUFBSTtNQUNGb0IsT0FBTyxDQUFDQyxHQUFSLENBQVl2QixHQUFHLENBQUN3QixJQUFoQjtNQUNBLE1BQU1DLFFBQVEsR0FBR3pCLEdBQUcsQ0FBQ3dCLElBQUosQ0FBU0MsUUFBMUI7TUFDQSxNQUFNQyxhQUFhLEdBQUcxQixHQUFHLENBQUN3QixJQUFKLENBQVNHLE1BQS9CO01BQ0EsTUFBTUEsTUFBTSxHQUFHLE1BQU0sSUFBQUMsdUNBQUEsRUFDbkJILFFBRG1CLEVBRW5CQyxhQUZtQixDQUFyQjtNQUlBLE9BQU96QixHQUFHLENBQUM0QixJQUFKLENBQVNGLE1BQVQsQ0FBUDtJQUNELENBVEQsQ0FTRSxPQUFPckIsS0FBUCxFQUFjO01BQ2RKLElBQUksQ0FBQ0ksS0FBRCxDQUFKO0lBQ0Q7RUFDRjs7QUFqRXlCLENBQTVCO0FBbUVBd0IsTUFBTSxDQUFDQyxPQUFQLEdBQWlCakMsbUJBQWpCIn0=","map":{"version":3,"names":["candidateController","createCandidate","req","res","next","candidate","createNewCandidate","send","error","getCandidateByMember","candidateByMemberID","getListCandidateByMemberID","getAllCandidate","candidateList","getListCandidate","getCandidateByStaff","getAllCandidateByStaffID","changeCandidateStatus","candidateChange","candidateStatusChange","getAllCandidateDetails","candidateInformation","getAllCandidateDetailWithStaffIDMemberIDJobID","handleUpdateCandidateProfile","console","log","body","reportId","appliedResult","result","updateCandidateProfileStatus","json","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/","sources":["candidate.controller.js"],"sourcesContent":["// import { showAllCandidateDetails } from \"../repository/candidates.repository\";\nimport { request } from \"express\";\nimport {\n  createNewCandidate,\n  getListCandidate,\n  getListCandidateByMemberID,\n  candidateStatusChange,\n  getAllCandidateByStaffID,\n  getAllCandidateDetailWithStaffIDMemberIDJobID,\n  updateCandidateProfileStatus,\n} from \"../service/candidate.service\";\n\nconst candidateController = {\n  async createCandidate(req, res, next) {\n    try {\n      const candidate = await createNewCandidate(req, res);\n      return res.send(candidate);\n    } catch (error) {\n      next(error);\n    }\n  },\n  async getCandidateByMember(req, res, next) {\n    try {\n      const candidateByMemberID = await getListCandidateByMemberID(req);\n      return res.send(candidateByMemberID);\n    } catch (error) {\n      next(error);\n    }\n  },\n  async getAllCandidate(req, res, next) {\n    try {\n      const candidateList = await getListCandidate();\n      return res.send(candidateList);\n    } catch (error) {\n      next(error);\n    }\n  },\n  async getCandidateByStaff(req, res, next) {\n    try {\n      const candidateList = await getAllCandidateByStaffID(req, res);\n      return res.send(candidateList);\n    } catch (error) {\n      next(error);\n    }\n  },\n  async changeCandidateStatus(req, res, next) {\n    try {\n      const candidateChange = await candidateStatusChange(req);\n      return res.send(candidateChange);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async getAllCandidateDetails(req, res, next) {\n    try {\n      const candidateInformation =\n        await getAllCandidateDetailWithStaffIDMemberIDJobID();\n      return res.send(candidateInformation);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async handleUpdateCandidateProfile(req, res, next) {\n    try {\n      console.log(req.body);\n      const reportId = req.body.reportId;\n      const appliedResult = req.body.result;\n      const result = await updateCandidateProfileStatus(\n        reportId,\n        appliedResult\n      );\n      return res.json(result);\n    } catch (error) {\n      next(error);\n    }\n  },\n};\nmodule.exports = candidateController;\n"],"mappings":"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"}},"mtime":1667231633829},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/candidate.service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _apiError = require(\"../middleware/apiError\");\n\nvar _staffs = require(\"../repository/staffs.repository\");\n\nvar _candidates = require(\"../repository/candidates.repository\");\n\nvar _httpStatus = _interopRequireDefault(require(\"http-status\"));\n\nvar _index = _interopRequireWildcard(require(\"../models/index\"));\n\nvar _mailSending = require(\"../utils/mailSending\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"dotenv\").config();\n\nconst createNewCandidate = async (req, res) => {\n  try {\n    const staffList = await (0, _staffs.showAllStaff)();\n    const getRandomStaff = staffList[Math.floor(Math.random() * staffList.length)];\n\n    if (!getRandomStaff) {\n      throw new _apiError.ApiError(_httpStatus.default.BAD_REQUEST, \"Dont have any Staff to approve\");\n    }\n\n    const {\n      member,\n      job_id,\n      ...rest\n    } = req.body;\n    let myResumeURL = req.body.my_resume_url;\n    const candidateList = await getListCandidate();\n\n    if (candidateList.length > 0) {\n      candidateList.forEach(candidate => {\n        if (candidate.Job_id === job_id && candidate.Member_id === member.id) {\n          throw new _apiError.ApiError(_httpStatus.default.BAD_REQUEST, \"this Member already apply this job\");\n        }\n      });\n    }\n\n    if (!myResumeURL) {\n      myResumeURL = member.current_resume_url;\n    }\n\n    const candidateDetailData = {\n      resume_url: myResumeURL,\n      phone: member.phone,\n      Job_id: job_id,\n      HRStaff_id: getRandomStaff.id,\n      Member_id: member.id,\n      ...rest\n    };\n    const candidateDetail = await (0, _candidates.createNewCandidateDetails)(candidateDetailData);\n\n    if (!candidateDetail) {\n      throw new _apiError.ApiError(_httpStatus.default.BAD_REQUEST, \"ERROR cant create candidate\");\n    } // console.log(candidateDetail);\n\n\n    return candidateDetail;\n  } catch (error) {\n    // console.log(error);\n    throw error;\n  }\n};\n\nconst getListCandidate = async (req, res) => {\n  try {\n    let candidateList = [];\n    const [results] = await _index.sequelize.query(\"select * from CandidateDetails\");\n    candidateList = results;\n    return candidateList;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getListCandidateByMemberID = async (req, res) => {\n  try {\n    const [results] = await _index.sequelize.query(`select c.id, c.resume_url, c.phone, c.applied_status, j.name as job_name from CandidateDetails c inner join Jobs J on c.Job_id = J.id where c.Member_id = ?`, {\n      replacements: [`${req.body.id}`]\n    }); // const candidateByMember = await getCandidateDetailsByMemberID(memberID);\n    // console.log(results);\n\n    if (results.length === 0) {\n      throw new _apiError.ApiError(_httpStatus.default.BAD_REQUEST, \"This member dont have any request job\");\n    }\n\n    return results; // return candidateByMember;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getAllCandidateByStaffID = async (req, res) => {\n  try {\n    const [results] = await _index.sequelize.query(`select c.id, c.resume_url, c.phone, c.applied_status, j.name as job_name, M.fullname as member_name, M.avatar as member_avatar, M.id as member_id from CandidateDetails c inner join Jobs J on c.Job_id = J.id inner join Staffs S on c.HRStaff_id = S.id inner join Members M on c.Member_id = M.id where S.id = ?`, {\n      replacements: [`${req.body.id}`]\n    });\n\n    if (results.length === 0) {\n      throw new _apiError.ApiError(_httpStatus.default.BAD_REQUEST, \"This staff dont have any request job\");\n    }\n\n    return results;\n  } catch (error) {\n    throw error;\n  }\n}; //\n\n\nconst candidateStatusChange = async (req, res) => {\n  try {\n    const [res] = await _index.sequelize.query(`select * from CandidateDetails where Member_id = ? and applied_status = 'Approve'`, {\n      replacements: [`${req.body.member_id}`]\n    });\n\n    if (res.length > 0 && req.body.status === \"Approve\") {\n      throw new _apiError.ApiError(_httpStatus.default.BAD_REQUEST, \"This Member has already been approved for another job\");\n    }\n\n    const [results] = await _index.sequelize.query(`update CandidateDetails set applied_status = ? where id = ?`, {\n      replacements: [`${req.body.status}`, `${req.body.id}`]\n    });\n\n    if (results.length === 0) {\n      throw new _apiError.ApiError(_httpStatus.default.BAD_REQUEST, \"Error with applied status\");\n    } // sendMail\n\n\n    const candidate = await (0, _candidates.getSpecificCandidateById)(req.body.id);\n    console.log(candidate);\n    const cvResult = req.body.status === \"Approve\" ? \"\\nCongratulations on passing the resume round, HR will contact you as soon as possible to continue for the interview round.\" : \"\\nWe're sorry to inform you that your resume has been rejected, hope to see you next time\";\n    (0, _mailSending.mailSending)(candidate.member_email, `Resume result about ${candidate.job_name}`, `\n        ${cvResult}\n        Best, FCode eCruitment\n      `).then(res => console.log(`send mail successfully`));\n    return results;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getAllCandidateDetailWithStaffIDMemberIDJobID = async () => {\n  const query = `SELECT \n    CD.id, CD.identity_number, CD.resume_url, CD.phone, CD.applied_status, CD.dob, CD.address, J.name as job, S.fullname as hr_staff, M.fullname as member,\n    case \n      when CD.id in (select i.candidatedetail_id from hrms.interviews as i) then 'YES' \n      else 'NO' \n    end as booking_status \n  FROM hrms.candidatedetails CD \n  INNER JOIN hrms.jobs J \n  ON CD.Job_id = J.id \n  INNER JOIN hrms.members M \n  ON CD.Member_id = M.id \n  INNER JOIN hrms.staffs S \n  ON CD.HRStaff_id = S.id \n  WHERE S.role = 'HR Staff'\n      AND CD.applied_status = 'Approve'`;\n\n  try {\n    let candidateList = [];\n    const [results] = await _index.sequelize.query(query);\n    candidateList = results;\n    return candidateList;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst updateCandidateProfileStatus = async (reportId, appliedResult) => {\n  try {\n    const result = await (0, _candidates.updateCandidateProfile)(reportId, appliedResult);\n    return result;\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  createNewCandidate,\n  getListCandidate,\n  getListCandidateByMemberID,\n  candidateStatusChange,\n  getAllCandidateByStaffID,\n  getAllCandidateDetailWithStaffIDMemberIDJobID,\n  updateCandidateProfileStatus\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiY3JlYXRlTmV3Q2FuZGlkYXRlIiwicmVxIiwicmVzIiwic3RhZmZMaXN0Iiwic2hvd0FsbFN0YWZmIiwiZ2V0UmFuZG9tU3RhZmYiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJsZW5ndGgiLCJBcGlFcnJvciIsImh0dHBTdGF0dXMiLCJCQURfUkVRVUVTVCIsIm1lbWJlciIsImpvYl9pZCIsInJlc3QiLCJib2R5IiwibXlSZXN1bWVVUkwiLCJteV9yZXN1bWVfdXJsIiwiY2FuZGlkYXRlTGlzdCIsImdldExpc3RDYW5kaWRhdGUiLCJmb3JFYWNoIiwiY2FuZGlkYXRlIiwiSm9iX2lkIiwiTWVtYmVyX2lkIiwiaWQiLCJjdXJyZW50X3Jlc3VtZV91cmwiLCJjYW5kaWRhdGVEZXRhaWxEYXRhIiwicmVzdW1lX3VybCIsInBob25lIiwiSFJTdGFmZl9pZCIsImNhbmRpZGF0ZURldGFpbCIsImNyZWF0ZU5ld0NhbmRpZGF0ZURldGFpbHMiLCJlcnJvciIsInJlc3VsdHMiLCJzZXF1ZWxpemUiLCJxdWVyeSIsImdldExpc3RDYW5kaWRhdGVCeU1lbWJlcklEIiwicmVwbGFjZW1lbnRzIiwiZ2V0QWxsQ2FuZGlkYXRlQnlTdGFmZklEIiwiY2FuZGlkYXRlU3RhdHVzQ2hhbmdlIiwibWVtYmVyX2lkIiwic3RhdHVzIiwiZ2V0U3BlY2lmaWNDYW5kaWRhdGVCeUlkIiwiY29uc29sZSIsImxvZyIsImN2UmVzdWx0IiwibWFpbFNlbmRpbmciLCJtZW1iZXJfZW1haWwiLCJqb2JfbmFtZSIsInRoZW4iLCJnZXRBbGxDYW5kaWRhdGVEZXRhaWxXaXRoU3RhZmZJRE1lbWJlcklESm9iSUQiLCJ1cGRhdGVDYW5kaWRhdGVQcm9maWxlU3RhdHVzIiwicmVwb3J0SWQiLCJhcHBsaWVkUmVzdWx0IiwicmVzdWx0IiwidXBkYXRlQ2FuZGlkYXRlUHJvZmlsZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvc2VydmljZS8iLCJzb3VyY2VzIjpbImNhbmRpZGF0ZS5zZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwaUVycm9yIH0gZnJvbSBcIi4uL21pZGRsZXdhcmUvYXBpRXJyb3JcIjtcbmltcG9ydCB7IHNob3dBbGxTdGFmZiB9IGZyb20gXCIuLi9yZXBvc2l0b3J5L3N0YWZmcy5yZXBvc2l0b3J5XCI7XG5pbXBvcnQge1xuICBjcmVhdGVOZXdDYW5kaWRhdGVEZXRhaWxzLFxuICAvLyBnZXRDYW5kaWRhdGVEZXRhaWxzQnlNZW1iZXJJRCxcbiAgZ2V0U3BlY2lmaWNDYW5kaWRhdGVCeUlkLFxuICB1cGRhdGVDYW5kaWRhdGVQcm9maWxlLFxufSBmcm9tIFwiLi4vcmVwb3NpdG9yeS9jYW5kaWRhdGVzLnJlcG9zaXRvcnlcIjtcbmltcG9ydCBodHRwU3RhdHVzIGZyb20gXCJodHRwLXN0YXR1c1wiO1xuaW1wb3J0IGRiLCB7IHNlcXVlbGl6ZSB9IGZyb20gXCIuLi9tb2RlbHMvaW5kZXhcIjtcbmltcG9ydCB7IG1haWxTZW5kaW5nIH0gZnJvbSBcIi4uL3V0aWxzL21haWxTZW5kaW5nXCI7XG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xuXG5jb25zdCBjcmVhdGVOZXdDYW5kaWRhdGUgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzdGFmZkxpc3QgPSBhd2FpdCBzaG93QWxsU3RhZmYoKTtcbiAgICBjb25zdCBnZXRSYW5kb21TdGFmZiA9XG4gICAgICBzdGFmZkxpc3RbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogc3RhZmZMaXN0Lmxlbmd0aCldO1xuICAgIGlmICghZ2V0UmFuZG9tU3RhZmYpIHtcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcihcbiAgICAgICAgaHR0cFN0YXR1cy5CQURfUkVRVUVTVCxcbiAgICAgICAgXCJEb250IGhhdmUgYW55IFN0YWZmIHRvIGFwcHJvdmVcIlxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgeyBtZW1iZXIsIGpvYl9pZCwgLi4ucmVzdCB9ID0gcmVxLmJvZHk7XG4gICAgbGV0IG15UmVzdW1lVVJMID0gcmVxLmJvZHkubXlfcmVzdW1lX3VybDtcbiAgICBjb25zdCBjYW5kaWRhdGVMaXN0ID0gYXdhaXQgZ2V0TGlzdENhbmRpZGF0ZSgpO1xuICAgIGlmIChjYW5kaWRhdGVMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgIGNhbmRpZGF0ZUxpc3QuZm9yRWFjaCgoY2FuZGlkYXRlKSA9PiB7XG4gICAgICAgIGlmIChjYW5kaWRhdGUuSm9iX2lkID09PSBqb2JfaWQgJiYgY2FuZGlkYXRlLk1lbWJlcl9pZCA9PT0gbWVtYmVyLmlkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKFxuICAgICAgICAgICAgaHR0cFN0YXR1cy5CQURfUkVRVUVTVCxcbiAgICAgICAgICAgIFwidGhpcyBNZW1iZXIgYWxyZWFkeSBhcHBseSB0aGlzIGpvYlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghbXlSZXN1bWVVUkwpIHtcbiAgICAgIG15UmVzdW1lVVJMID0gbWVtYmVyLmN1cnJlbnRfcmVzdW1lX3VybDtcbiAgICB9XG4gICAgY29uc3QgY2FuZGlkYXRlRGV0YWlsRGF0YSA9IHtcbiAgICAgIHJlc3VtZV91cmw6IG15UmVzdW1lVVJMLFxuICAgICAgcGhvbmU6IG1lbWJlci5waG9uZSxcbiAgICAgIEpvYl9pZDogam9iX2lkLFxuICAgICAgSFJTdGFmZl9pZDogZ2V0UmFuZG9tU3RhZmYuaWQsXG4gICAgICBNZW1iZXJfaWQ6IG1lbWJlci5pZCxcbiAgICAgIC4uLnJlc3QsXG4gICAgfTtcbiAgICBjb25zdCBjYW5kaWRhdGVEZXRhaWwgPSBhd2FpdCBjcmVhdGVOZXdDYW5kaWRhdGVEZXRhaWxzKFxuICAgICAgY2FuZGlkYXRlRGV0YWlsRGF0YVxuICAgICk7XG4gICAgaWYgKCFjYW5kaWRhdGVEZXRhaWwpIHtcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLkJBRF9SRVFVRVNULCBcIkVSUk9SIGNhbnQgY3JlYXRlIGNhbmRpZGF0ZVwiKTtcbiAgICB9XG4gICAgLy8gY29uc29sZS5sb2coY2FuZGlkYXRlRGV0YWlsKTtcbiAgICByZXR1cm4gY2FuZGlkYXRlRGV0YWlsO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIC8vIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcbmNvbnN0IGdldExpc3RDYW5kaWRhdGUgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBsZXQgY2FuZGlkYXRlTGlzdCA9IFtdO1xuICAgIGNvbnN0IFtyZXN1bHRzXSA9IGF3YWl0IHNlcXVlbGl6ZS5xdWVyeShcInNlbGVjdCAqIGZyb20gQ2FuZGlkYXRlRGV0YWlsc1wiKTtcbiAgICBjYW5kaWRhdGVMaXN0ID0gcmVzdWx0cztcbiAgICByZXR1cm4gY2FuZGlkYXRlTGlzdDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcbmNvbnN0IGdldExpc3RDYW5kaWRhdGVCeU1lbWJlcklEID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgW3Jlc3VsdHNdID0gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KFxuICAgICAgYHNlbGVjdCBjLmlkLCBjLnJlc3VtZV91cmwsIGMucGhvbmUsIGMuYXBwbGllZF9zdGF0dXMsIGoubmFtZSBhcyBqb2JfbmFtZSBmcm9tIENhbmRpZGF0ZURldGFpbHMgYyBpbm5lciBqb2luIEpvYnMgSiBvbiBjLkpvYl9pZCA9IEouaWQgd2hlcmUgYy5NZW1iZXJfaWQgPSA/YCxcbiAgICAgIHtcbiAgICAgICAgcmVwbGFjZW1lbnRzOiBbYCR7cmVxLmJvZHkuaWR9YF0sXG4gICAgICB9XG4gICAgKTtcbiAgICAvLyBjb25zdCBjYW5kaWRhdGVCeU1lbWJlciA9IGF3YWl0IGdldENhbmRpZGF0ZURldGFpbHNCeU1lbWJlcklEKG1lbWJlcklEKTtcbiAgICAvLyBjb25zb2xlLmxvZyhyZXN1bHRzKTtcblxuICAgIGlmIChyZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKFxuICAgICAgICBodHRwU3RhdHVzLkJBRF9SRVFVRVNULFxuICAgICAgICBcIlRoaXMgbWVtYmVyIGRvbnQgaGF2ZSBhbnkgcmVxdWVzdCBqb2JcIlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgLy8gcmV0dXJuIGNhbmRpZGF0ZUJ5TWVtYmVyO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuY29uc3QgZ2V0QWxsQ2FuZGlkYXRlQnlTdGFmZklEID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgW3Jlc3VsdHNdID0gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KFxuICAgICAgYHNlbGVjdCBjLmlkLCBjLnJlc3VtZV91cmwsIGMucGhvbmUsIGMuYXBwbGllZF9zdGF0dXMsIGoubmFtZSBhcyBqb2JfbmFtZSwgTS5mdWxsbmFtZSBhcyBtZW1iZXJfbmFtZSwgTS5hdmF0YXIgYXMgbWVtYmVyX2F2YXRhciwgTS5pZCBhcyBtZW1iZXJfaWQgZnJvbSBDYW5kaWRhdGVEZXRhaWxzIGMgaW5uZXIgam9pbiBKb2JzIEogb24gYy5Kb2JfaWQgPSBKLmlkIGlubmVyIGpvaW4gU3RhZmZzIFMgb24gYy5IUlN0YWZmX2lkID0gUy5pZCBpbm5lciBqb2luIE1lbWJlcnMgTSBvbiBjLk1lbWJlcl9pZCA9IE0uaWQgd2hlcmUgUy5pZCA9ID9gLFxuICAgICAge1xuICAgICAgICByZXBsYWNlbWVudHM6IFtgJHtyZXEuYm9keS5pZH1gXSxcbiAgICAgIH1cbiAgICApO1xuICAgIGlmIChyZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKFxuICAgICAgICBodHRwU3RhdHVzLkJBRF9SRVFVRVNULFxuICAgICAgICBcIlRoaXMgc3RhZmYgZG9udCBoYXZlIGFueSByZXF1ZXN0IGpvYlwiXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcbi8vXG5jb25zdCBjYW5kaWRhdGVTdGF0dXNDaGFuZ2UgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBbcmVzXSA9IGF3YWl0IHNlcXVlbGl6ZS5xdWVyeShcbiAgICAgIGBzZWxlY3QgKiBmcm9tIENhbmRpZGF0ZURldGFpbHMgd2hlcmUgTWVtYmVyX2lkID0gPyBhbmQgYXBwbGllZF9zdGF0dXMgPSAnQXBwcm92ZSdgLFxuICAgICAge1xuICAgICAgICByZXBsYWNlbWVudHM6IFtgJHtyZXEuYm9keS5tZW1iZXJfaWR9YF0sXG4gICAgICB9XG4gICAgKTtcbiAgICBpZiAocmVzLmxlbmd0aCA+IDAgJiYgcmVxLmJvZHkuc3RhdHVzID09PSBcIkFwcHJvdmVcIikge1xuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKFxuICAgICAgICBodHRwU3RhdHVzLkJBRF9SRVFVRVNULFxuICAgICAgICBcIlRoaXMgTWVtYmVyIGhhcyBhbHJlYWR5IGJlZW4gYXBwcm92ZWQgZm9yIGFub3RoZXIgam9iXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IFtyZXN1bHRzXSA9IGF3YWl0IHNlcXVlbGl6ZS5xdWVyeShcbiAgICAgIGB1cGRhdGUgQ2FuZGlkYXRlRGV0YWlscyBzZXQgYXBwbGllZF9zdGF0dXMgPSA/IHdoZXJlIGlkID0gP2AsXG4gICAgICB7XG4gICAgICAgIHJlcGxhY2VtZW50czogW2Ake3JlcS5ib2R5LnN0YXR1c31gLCBgJHtyZXEuYm9keS5pZH1gXSxcbiAgICAgIH1cbiAgICApO1xuXG4gICAgaWYgKHJlc3VsdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5CQURfUkVRVUVTVCwgXCJFcnJvciB3aXRoIGFwcGxpZWQgc3RhdHVzXCIpO1xuICAgIH1cbiAgICAvLyBzZW5kTWFpbFxuICAgIGNvbnN0IGNhbmRpZGF0ZSA9IGF3YWl0IGdldFNwZWNpZmljQ2FuZGlkYXRlQnlJZChyZXEuYm9keS5pZCk7XG4gICAgY29uc29sZS5sb2coY2FuZGlkYXRlKTtcblxuICAgIGNvbnN0IGN2UmVzdWx0ID1cbiAgICAgIHJlcS5ib2R5LnN0YXR1cyA9PT0gXCJBcHByb3ZlXCJcbiAgICAgICAgPyBcIlxcbkNvbmdyYXR1bGF0aW9ucyBvbiBwYXNzaW5nIHRoZSByZXN1bWUgcm91bmQsIEhSIHdpbGwgY29udGFjdCB5b3UgYXMgc29vbiBhcyBwb3NzaWJsZSB0byBjb250aW51ZSBmb3IgdGhlIGludGVydmlldyByb3VuZC5cIlxuICAgICAgICA6IFwiXFxuV2UncmUgc29ycnkgdG8gaW5mb3JtIHlvdSB0aGF0IHlvdXIgcmVzdW1lIGhhcyBiZWVuIHJlamVjdGVkLCBob3BlIHRvIHNlZSB5b3UgbmV4dCB0aW1lXCI7XG4gICAgbWFpbFNlbmRpbmcoXG4gICAgICBjYW5kaWRhdGUubWVtYmVyX2VtYWlsLFxuICAgICAgYFJlc3VtZSByZXN1bHQgYWJvdXQgJHtjYW5kaWRhdGUuam9iX25hbWV9YCxcbiAgICAgIGBcbiAgICAgICAgJHtjdlJlc3VsdH1cbiAgICAgICAgQmVzdCwgRkNvZGUgZUNydWl0bWVudFxuICAgICAgYFxuICAgICkudGhlbigocmVzKSA9PiBjb25zb2xlLmxvZyhgc2VuZCBtYWlsIHN1Y2Nlc3NmdWxseWApKTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuY29uc3QgZ2V0QWxsQ2FuZGlkYXRlRGV0YWlsV2l0aFN0YWZmSURNZW1iZXJJREpvYklEID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBxdWVyeSA9IGBTRUxFQ1QgXG4gICAgQ0QuaWQsIENELmlkZW50aXR5X251bWJlciwgQ0QucmVzdW1lX3VybCwgQ0QucGhvbmUsIENELmFwcGxpZWRfc3RhdHVzLCBDRC5kb2IsIENELmFkZHJlc3MsIEoubmFtZSBhcyBqb2IsIFMuZnVsbG5hbWUgYXMgaHJfc3RhZmYsIE0uZnVsbG5hbWUgYXMgbWVtYmVyLFxuICAgIGNhc2UgXG4gICAgICB3aGVuIENELmlkIGluIChzZWxlY3QgaS5jYW5kaWRhdGVkZXRhaWxfaWQgZnJvbSBocm1zLmludGVydmlld3MgYXMgaSkgdGhlbiAnWUVTJyBcbiAgICAgIGVsc2UgJ05PJyBcbiAgICBlbmQgYXMgYm9va2luZ19zdGF0dXMgXG4gIEZST00gaHJtcy5jYW5kaWRhdGVkZXRhaWxzIENEIFxuICBJTk5FUiBKT0lOIGhybXMuam9icyBKIFxuICBPTiBDRC5Kb2JfaWQgPSBKLmlkIFxuICBJTk5FUiBKT0lOIGhybXMubWVtYmVycyBNIFxuICBPTiBDRC5NZW1iZXJfaWQgPSBNLmlkIFxuICBJTk5FUiBKT0lOIGhybXMuc3RhZmZzIFMgXG4gIE9OIENELkhSU3RhZmZfaWQgPSBTLmlkIFxuICBXSEVSRSBTLnJvbGUgPSAnSFIgU3RhZmYnXG4gICAgICBBTkQgQ0QuYXBwbGllZF9zdGF0dXMgPSAnQXBwcm92ZSdgO1xuICB0cnkge1xuICAgIGxldCBjYW5kaWRhdGVMaXN0ID0gW107XG4gICAgY29uc3QgW3Jlc3VsdHNdID0gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KHF1ZXJ5KTtcbiAgICBjYW5kaWRhdGVMaXN0ID0gcmVzdWx0cztcbiAgICByZXR1cm4gY2FuZGlkYXRlTGlzdDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuY29uc3QgdXBkYXRlQ2FuZGlkYXRlUHJvZmlsZVN0YXR1cyA9IGFzeW5jIChyZXBvcnRJZCwgYXBwbGllZFJlc3VsdCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVwZGF0ZUNhbmRpZGF0ZVByb2ZpbGUocmVwb3J0SWQsIGFwcGxpZWRSZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjcmVhdGVOZXdDYW5kaWRhdGUsXG4gIGdldExpc3RDYW5kaWRhdGUsXG4gIGdldExpc3RDYW5kaWRhdGVCeU1lbWJlcklELFxuICBjYW5kaWRhdGVTdGF0dXNDaGFuZ2UsXG4gIGdldEFsbENhbmRpZGF0ZUJ5U3RhZmZJRCxcbiAgZ2V0QWxsQ2FuZGlkYXRlRGV0YWlsV2l0aFN0YWZmSURNZW1iZXJJREpvYklELFxuICB1cGRhdGVDYW5kaWRhdGVQcm9maWxlU3RhdHVzLFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFNQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7QUFDQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEI7O0FBRUEsTUFBTUMsa0JBQWtCLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0VBQzdDLElBQUk7SUFDRixNQUFNQyxTQUFTLEdBQUcsTUFBTSxJQUFBQyxvQkFBQSxHQUF4QjtJQUNBLE1BQU1DLGNBQWMsR0FDbEJGLFNBQVMsQ0FBQ0csSUFBSSxDQUFDQyxLQUFMLENBQVdELElBQUksQ0FBQ0UsTUFBTCxLQUFnQkwsU0FBUyxDQUFDTSxNQUFyQyxDQUFELENBRFg7O0lBRUEsSUFBSSxDQUFDSixjQUFMLEVBQXFCO01BQ25CLE1BQU0sSUFBSUssa0JBQUosQ0FDSkMsbUJBQUEsQ0FBV0MsV0FEUCxFQUVKLGdDQUZJLENBQU47SUFJRDs7SUFDRCxNQUFNO01BQUVDLE1BQUY7TUFBVUMsTUFBVjtNQUFrQixHQUFHQztJQUFyQixJQUE4QmQsR0FBRyxDQUFDZSxJQUF4QztJQUNBLElBQUlDLFdBQVcsR0FBR2hCLEdBQUcsQ0FBQ2UsSUFBSixDQUFTRSxhQUEzQjtJ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","map":{"version":3,"names":["require","config","createNewCandidate","req","res","staffList","showAllStaff","getRandomStaff","Math","floor","random","length","ApiError","httpStatus","BAD_REQUEST","member","job_id","rest","body","myResumeURL","my_resume_url","candidateList","getListCandidate","forEach","candidate","Job_id","Member_id","id","current_resume_url","candidateDetailData","resume_url","phone","HRStaff_id","candidateDetail","createNewCandidateDetails","error","results","sequelize","query","getListCandidateByMemberID","replacements","getAllCandidateByStaffID","candidateStatusChange","member_id","status","getSpecificCandidateById","console","log","cvResult","mailSending","member_email","job_name","then","getAllCandidateDetailWithStaffIDMemberIDJobID","updateCandidateProfileStatus","reportId","appliedResult","result","updateCandidateProfile","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/","sources":["candidate.service.js"],"sourcesContent":["import { ApiError } from \"../middleware/apiError\";\nimport { showAllStaff } from \"../repository/staffs.repository\";\nimport {\n  createNewCandidateDetails,\n  // getCandidateDetailsByMemberID,\n  getSpecificCandidateById,\n  updateCandidateProfile,\n} from \"../repository/candidates.repository\";\nimport httpStatus from \"http-status\";\nimport db, { sequelize } from \"../models/index\";\nimport { mailSending } from \"../utils/mailSending\";\nrequire(\"dotenv\").config();\n\nconst createNewCandidate = async (req, res) => {\n  try {\n    const staffList = await showAllStaff();\n    const getRandomStaff =\n      staffList[Math.floor(Math.random() * staffList.length)];\n    if (!getRandomStaff) {\n      throw new ApiError(\n        httpStatus.BAD_REQUEST,\n        \"Dont have any Staff to approve\"\n      );\n    }\n    const { member, job_id, ...rest } = req.body;\n    let myResumeURL = req.body.my_resume_url;\n    const candidateList = await getListCandidate();\n    if (candidateList.length > 0) {\n      candidateList.forEach((candidate) => {\n        if (candidate.Job_id === job_id && candidate.Member_id === member.id) {\n          throw new ApiError(\n            httpStatus.BAD_REQUEST,\n            \"this Member already apply this job\"\n          );\n        }\n      });\n    }\n    if (!myResumeURL) {\n      myResumeURL = member.current_resume_url;\n    }\n    const candidateDetailData = {\n      resume_url: myResumeURL,\n      phone: member.phone,\n      Job_id: job_id,\n      HRStaff_id: getRandomStaff.id,\n      Member_id: member.id,\n      ...rest,\n    };\n    const candidateDetail = await createNewCandidateDetails(\n      candidateDetailData\n    );\n    if (!candidateDetail) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"ERROR cant create candidate\");\n    }\n    // console.log(candidateDetail);\n    return candidateDetail;\n  } catch (error) {\n    // console.log(error);\n    throw error;\n  }\n};\nconst getListCandidate = async (req, res) => {\n  try {\n    let candidateList = [];\n    const [results] = await sequelize.query(\"select * from CandidateDetails\");\n    candidateList = results;\n    return candidateList;\n  } catch (error) {\n    throw error;\n  }\n};\nconst getListCandidateByMemberID = async (req, res) => {\n  try {\n    const [results] = await sequelize.query(\n      `select c.id, c.resume_url, c.phone, c.applied_status, j.name as job_name from CandidateDetails c inner join Jobs J on c.Job_id = J.id where c.Member_id = ?`,\n      {\n        replacements: [`${req.body.id}`],\n      }\n    );\n    // const candidateByMember = await getCandidateDetailsByMemberID(memberID);\n    // console.log(results);\n\n    if (results.length === 0) {\n      throw new ApiError(\n        httpStatus.BAD_REQUEST,\n        \"This member dont have any request job\"\n      );\n    }\n    return results;\n    // return candidateByMember;\n  } catch (error) {\n    throw error;\n  }\n};\nconst getAllCandidateByStaffID = async (req, res) => {\n  try {\n    const [results] = await sequelize.query(\n      `select c.id, c.resume_url, c.phone, c.applied_status, j.name as job_name, M.fullname as member_name, M.avatar as member_avatar, M.id as member_id from CandidateDetails c inner join Jobs J on c.Job_id = J.id inner join Staffs S on c.HRStaff_id = S.id inner join Members M on c.Member_id = M.id where S.id = ?`,\n      {\n        replacements: [`${req.body.id}`],\n      }\n    );\n    if (results.length === 0) {\n      throw new ApiError(\n        httpStatus.BAD_REQUEST,\n        \"This staff dont have any request job\"\n      );\n    }\n    return results;\n  } catch (error) {\n    throw error;\n  }\n};\n//\nconst candidateStatusChange = async (req, res) => {\n  try {\n    const [res] = await sequelize.query(\n      `select * from CandidateDetails where Member_id = ? and applied_status = 'Approve'`,\n      {\n        replacements: [`${req.body.member_id}`],\n      }\n    );\n    if (res.length > 0 && req.body.status === \"Approve\") {\n      throw new ApiError(\n        httpStatus.BAD_REQUEST,\n        \"This Member has already been approved for another job\"\n      );\n    }\n    const [results] = await sequelize.query(\n      `update CandidateDetails set applied_status = ? where id = ?`,\n      {\n        replacements: [`${req.body.status}`, `${req.body.id}`],\n      }\n    );\n\n    if (results.length === 0) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Error with applied status\");\n    }\n    // sendMail\n    const candidate = await getSpecificCandidateById(req.body.id);\n    console.log(candidate);\n\n    const cvResult =\n      req.body.status === \"Approve\"\n        ? \"\\nCongratulations on passing the resume round, HR will contact you as soon as possible to continue for the interview round.\"\n        : \"\\nWe're sorry to inform you that your resume has been rejected, hope to see you next time\";\n    mailSending(\n      candidate.member_email,\n      `Resume result about ${candidate.job_name}`,\n      `\n        ${cvResult}\n        Best, FCode eCruitment\n      `\n    ).then((res) => console.log(`send mail successfully`));\n    return results;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getAllCandidateDetailWithStaffIDMemberIDJobID = async () => {\n  const query = `SELECT \n    CD.id, CD.identity_number, CD.resume_url, CD.phone, CD.applied_status, CD.dob, CD.address, J.name as job, S.fullname as hr_staff, M.fullname as member,\n    case \n      when CD.id in (select i.candidatedetail_id from hrms.interviews as i) then 'YES' \n      else 'NO' \n    end as booking_status \n  FROM hrms.candidatedetails CD \n  INNER JOIN hrms.jobs J \n  ON CD.Job_id = J.id \n  INNER JOIN hrms.members M \n  ON CD.Member_id = M.id \n  INNER JOIN hrms.staffs S \n  ON CD.HRStaff_id = S.id \n  WHERE S.role = 'HR Staff'\n      AND CD.applied_status = 'Approve'`;\n  try {\n    let candidateList = [];\n    const [results] = await sequelize.query(query);\n    candidateList = results;\n    return candidateList;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst updateCandidateProfileStatus = async (reportId, appliedResult) => {\n  try {\n    const result = await updateCandidateProfile(reportId, appliedResult);\n    return result;\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  createNewCandidate,\n  getListCandidate,\n  getListCandidateByMemberID,\n  candidateStatusChange,\n  getAllCandidateByStaffID,\n  getAllCandidateDetailWithStaffIDMemberIDJobID,\n  updateCandidateProfileStatus,\n};\n"],"mappings":"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"}},"mtime":1667231633846},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/candidate.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _express = require(\"express\");\n\nvar _candidate = require(\"../service/candidate.service\");\n\n// import { showAllCandidateDetails } from \"../repository/candidates.repository\";\nconst candidateController = {\n  async createCandidate(req, res, next) {\n    try {\n      const candidate = await (0, _candidate.createNewCandidate)(req, res);\n      return res.send(candidate);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async getCandidateByMember(req, res, next) {\n    try {\n      const candidateByMemberID = await (0, _candidate.getListCandidateByMemberID)(req);\n      return res.send(candidateByMemberID);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async getAllCandidate(req, res, next) {\n    try {\n      const candidateList = await (0, _candidate.getListCandidate)();\n      return res.send(candidateList);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async getCandidateByStaff(req, res, next) {\n    try {\n      const candidateList = await (0, _candidate.getAllCandidateByStaffID)(req, res);\n      return res.send(candidateList);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async changeCandidateStatus(req, res, next) {\n    try {\n      const candidateChange = await (0, _candidate.candidateStatusChange)(req);\n      return res.send(candidateChange);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async getAllCandidateDetails(req, res, next) {\n    try {\n      const candidateInformation = await (0, _candidate.getAllCandidateDetailWithStaffIDMemberIDJobID)();\n      return res.send(candidateInformation);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async handleUpdateCandidateProfile(req, res, next) {\n    try {\n      console.log(req.body);\n      const reportId = req.body.reportId;\n      const appliedResult = req.body.result;\n      const result = await (0, _candidate.updateCandidateProfileStatus)(reportId, appliedResult);\n      return res.json(result);\n    } catch (error) {\n      next(error);\n    }\n  }\n\n};\nmodule.exports = candidateController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYW5kaWRhdGVDb250cm9sbGVyIiwiY3JlYXRlQ2FuZGlkYXRlIiwicmVxIiwicmVzIiwibmV4dCIsImNhbmRpZGF0ZSIsImNyZWF0ZU5ld0NhbmRpZGF0ZSIsInNlbmQiLCJlcnJvciIsImdldENhbmRpZGF0ZUJ5TWVtYmVyIiwiY2FuZGlkYXRlQnlNZW1iZXJJRCIsImdldExpc3RDYW5kaWRhdGVCeU1lbWJlcklEIiwiZ2V0QWxsQ2FuZGlkYXRlIiwiY2FuZGlkYXRlTGlzdCIsImdldExpc3RDYW5kaWRhdGUiLCJnZXRDYW5kaWRhdGVCeVN0YWZmIiwiZ2V0QWxsQ2FuZGlkYXRlQnlTdGFmZklEIiwiY2hhbmdlQ2FuZGlkYXRlU3RhdHVzIiwiY2FuZGlkYXRlQ2hhbmdlIiwiY2FuZGlkYXRlU3RhdHVzQ2hhbmdlIiwiZ2V0QWxsQ2FuZGlkYXRlRGV0YWlscyIsImNhbmRpZGF0ZUluZm9ybWF0aW9uIiwiZ2V0QWxsQ2FuZGlkYXRlRGV0YWlsV2l0aFN0YWZmSURNZW1iZXJJREpvYklEIiwiaGFuZGxlVXBkYXRlQ2FuZGlkYXRlUHJvZmlsZSIsImNvbnNvbGUiLCJsb2ciLCJib2R5IiwicmVwb3J0SWQiLCJhcHBsaWVkUmVzdWx0IiwicmVzdWx0IiwidXBkYXRlQ2FuZGlkYXRlUHJvZmlsZVN0YXR1cyIsImpzb24iLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL2NvbnRyb2xsZXIvIiwic291cmNlcyI6WyJjYW5kaWRhdGUuY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgeyBzaG93QWxsQ2FuZGlkYXRlRGV0YWlscyB9IGZyb20gXCIuLi9yZXBvc2l0b3J5L2NhbmRpZGF0ZXMucmVwb3NpdG9yeVwiO1xuaW1wb3J0IHsgcmVxdWVzdCB9IGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQge1xuICBjcmVhdGVOZXdDYW5kaWRhdGUsXG4gIGdldExpc3RDYW5kaWRhdGUsXG4gIGdldExpc3RDYW5kaWRhdGVCeU1lbWJlcklELFxuICBjYW5kaWRhdGVTdGF0dXNDaGFuZ2UsXG4gIGdldEFsbENhbmRpZGF0ZUJ5U3RhZmZJRCxcbiAgZ2V0QWxsQ2FuZGlkYXRlRGV0YWlsV2l0aFN0YWZmSURNZW1iZXJJREpvYklELFxuICB1cGRhdGVDYW5kaWRhdGVQcm9maWxlU3RhdHVzLFxufSBmcm9tIFwiLi4vc2VydmljZS9jYW5kaWRhdGUuc2VydmljZVwiO1xuXG5jb25zdCBjYW5kaWRhdGVDb250cm9sbGVyID0ge1xuICBhc3luYyBjcmVhdGVDYW5kaWRhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY2FuZGlkYXRlID0gYXdhaXQgY3JlYXRlTmV3Q2FuZGlkYXRlKHJlcSwgcmVzKTtcbiAgICAgIHJldHVybiByZXMuc2VuZChjYW5kaWRhdGUpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBuZXh0KGVycm9yKTtcbiAgICB9XG4gIH0sXG4gIGFzeW5jIGdldENhbmRpZGF0ZUJ5TWVtYmVyKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNhbmRpZGF0ZUJ5TWVtYmVySUQgPSBhd2FpdCBnZXRMaXN0Q2FuZGlkYXRlQnlNZW1iZXJJRChyZXEpO1xuICAgICAgcmV0dXJuIHJlcy5zZW5kKGNhbmRpZGF0ZUJ5TWVtYmVySUQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBuZXh0KGVycm9yKTtcbiAgICB9XG4gIH0sXG4gIGFzeW5jIGdldEFsbENhbmRpZGF0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjYW5kaWRhdGVMaXN0ID0gYXdhaXQgZ2V0TGlzdENhbmRpZGF0ZSgpO1xuICAgICAgcmV0dXJuIHJlcy5zZW5kKGNhbmRpZGF0ZUxpc3QpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBuZXh0KGVycm9yKTtcbiAgICB9XG4gIH0sXG4gIGFzeW5jIGdldENhbmRpZGF0ZUJ5U3RhZmYocmVxLCByZXMsIG5leHQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY2FuZGlkYXRlTGlzdCA9IGF3YWl0IGdldEFsbENhbmRpZGF0ZUJ5U3RhZmZJRChyZXEsIHJlcyk7XG4gICAgICByZXR1cm4gcmVzLnNlbmQoY2FuZGlkYXRlTGlzdCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG5leHQoZXJyb3IpO1xuICAgIH1cbiAgfSxcbiAgYXN5bmMgY2hhbmdlQ2FuZGlkYXRlU3RhdHVzKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNhbmRpZGF0ZUNoYW5nZSA9IGF3YWl0IGNhbmRpZGF0ZVN0YXR1c0NoYW5nZShyZXEpO1xuICAgICAgcmV0dXJuIHJlcy5zZW5kKGNhbmRpZGF0ZUNoYW5nZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG5leHQoZXJyb3IpO1xuICAgIH1cbiAgfSxcblxuICBhc3luYyBnZXRBbGxDYW5kaWRhdGVEZXRhaWxzKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNhbmRpZGF0ZUluZm9ybWF0aW9uID1cbiAgICAgICAgYXdhaXQgZ2V0QWxsQ2FuZGlkYXRlRGV0YWlsV2l0aFN0YWZmSURNZW1iZXJJREpvYklEKCk7XG4gICAgICByZXR1cm4gcmVzLnNlbmQoY2FuZGlkYXRlSW5mb3JtYXRpb24pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBuZXh0KGVycm9yKTtcbiAgICB9XG4gIH0sXG5cbiAgYXN5bmMgaGFuZGxlVXBkYXRlQ2FuZGlkYXRlUHJvZmlsZShyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhyZXEuYm9keSk7XG4gICAgICBjb25zdCByZXBvcnRJZCA9IHJlcS5ib2R5LnJlcG9ydElkO1xuICAgICAgY29uc3QgYXBwbGllZFJlc3VsdCA9IHJlcS5ib2R5LnJlc3VsdDtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVwZGF0ZUNhbmRpZGF0ZVByb2ZpbGVTdGF0dXMoXG4gICAgICAgIHJlcG9ydElkLFxuICAgICAgICBhcHBsaWVkUmVzdWx0XG4gICAgICApO1xuICAgICAgcmV0dXJuIHJlcy5qc29uKHJlc3VsdCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG5leHQoZXJyb3IpO1xuICAgIH1cbiAgfSxcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGNhbmRpZGF0ZUNvbnRyb2xsZXI7XG4iXSwibWFwcGluZ3MiOiI7O0FBQ0E7O0FBQ0E7O0FBRkE7QUFZQSxNQUFNQSxtQkFBbUIsR0FBRztFQUMxQixNQUFNQyxlQUFOLENBQXNCQyxHQUF0QixFQUEyQkMsR0FBM0IsRUFBZ0NDLElBQWhDLEVBQXNDO0lBQ3BDLElBQUk7TUFDRixNQUFNQyxTQUFTLEdBQUcsTUFBTSxJQUFBQyw2QkFBQSxFQUFtQkosR0FBbkIsRUFBd0JDLEdBQXhCLENBQXhCO01BQ0EsT0FBT0EsR0FBRyxDQUFDSSxJQUFKLENBQVNGLFNBQVQsQ0FBUDtJQUNELENBSEQsQ0FHRSxPQUFPRyxLQUFQLEVBQWM7TUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7SUFDRDtFQUNGLENBUnlCOztFQVMxQixNQUFNQyxvQkFBTixDQUEyQlAsR0FBM0IsRUFBZ0NDLEdBQWhDLEVBQXFDQyxJQUFyQyxFQUEyQztJQUN6QyxJQUFJO01BQ0YsTUFBTU0sbUJBQW1CLEdBQUcsTUFBTSxJQUFBQyxxQ0FBQSxFQUEyQlQsR0FBM0IsQ0FBbEM7TUFDQSxPQUFPQyxHQUFHLENBQUNJLElBQUosQ0FBU0csbUJBQVQsQ0FBUDtJQUNELENBSEQsQ0FHRSxPQUFPRixLQUFQLEVBQWM7TUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7SUFDRDtFQUNGLENBaEJ5Qjs7RUFpQjFCLE1BQU1JLGVBQU4sQ0FBc0JWLEdBQXRCLEVBQTJCQyxHQUEzQixFQUFnQ0MsSUFBaEMsRUFBc0M7SUFDcEMsSUFBSTtNQUNGLE1BQU1TLGFBQWEsR0FBRyxNQUFNLElBQUFDLDJCQUFBLEdBQTVCO01BQ0EsT0FBT1gsR0FBRyxDQUFDSSxJQUFKLENBQVNNLGFBQVQsQ0FBUDtJQUNELENBSEQsQ0FHRSxPQUFPTCxLQUFQLEVBQWM7TUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7SUFDRDtFQUNGLENBeEJ5Qjs7RUF5QjFCLE1BQU1PLG1CQUFOLENBQTBCYixHQUExQixFQUErQkMsR0FBL0IsRUFBb0NDLElBQXBDLEVBQTBDO0lBQ3hDLElBQUk7TUFDRixNQUFNUyxhQUFhLEdBQUcsTUFBTSxJQUFBRyxtQ0FBQSxFQUF5QmQsR0FBekIsRUFBOEJDLEdBQTlCLENBQTVCO01BQ0EsT0FBT0EsR0FBRyxDQUFDSSxJQUFKLENBQVNNLGFBQVQsQ0FBUDtJQUNELENBSEQsQ0FHRSxPQUFPTCxLQUFQLEVBQWM7TUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7SUFDRDtFQUNGLENBaEN5Qjs7RUFpQzFCLE1BQU1TLHFCQUFOLENBQTRCZixHQUE1QixFQUFpQ0MsR0FBakMsRUFBc0NDLElBQXRDLEVBQTRDO0lBQzFDLElBQUk7TUFDRixNQUFNYyxlQUFlLEdBQUcsTUFBTSxJQUFBQyxnQ0FBQSxFQUFzQmpCLEdBQXRCLENBQTlCO01BQ0EsT0FBT0MsR0FBRyxDQUFDSSxJQUFKLENBQVNXLGVBQVQsQ0FBUDtJQUNELENBSEQsQ0FHRSxPQUFPVixLQUFQLEVBQWM7TUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7SUFDRDtFQUNGLENBeEN5Qjs7RUEwQzFCLE1BQU1ZLHNCQUFOLENBQTZCbEIsR0FBN0IsRUFBa0NDLEdBQWxDLEVBQXVDQyxJQUF2QyxFQUE2QztJQUMzQyxJQUFJO01BQ0YsTUFBTWlCLG9CQUFvQixHQUN4QixNQUFNLElBQUFDLHdEQUFBLEdBRFI7TUFFQSxPQUFPbkIsR0FBRyxDQUFDSSxJQUFKLENBQVNjLG9CQUFULENBQVA7SUFDRCxDQUpELENBSUUsT0FBT2IsS0FBUCxFQUFjO01BQ2RKLElBQUksQ0FBQ0ksS0FBRCxDQUFKO0lBQ0Q7RUFDRixDQWxEeUI7O0VBb0QxQixNQUFNZSw0QkFBTixDQUFtQ3JCLEdBQW5DLEVBQXdDQyxHQUF4QyxFQUE2Q0MsSUFBN0MsRUFBbUQ7SUFDakQsSUFBSTtNQUNGb0IsT0FBTyxDQUFDQyxHQUFSLENBQVl2QixHQUFHLENBQUN3QixJQUFoQjtNQUNBLE1BQU1DLFFBQVEsR0FBR3pCLEdBQUcsQ0FBQ3dCLElBQUosQ0FBU0MsUUFBMUI7TUFDQSxNQUFNQyxhQUFhLEdBQUcxQixHQUFHLENBQUN3QixJQUFKLENBQVNHLE1BQS9CO01BQ0EsTUFBTUEsTUFBTSxHQUFHLE1BQU0sSUFBQUMsdUNBQUEsRUFDbkJILFFBRG1CLEVBRW5CQyxhQUZtQixDQUFyQjtNQUlBLE9BQU96QixHQUFHLENBQUM0QixJQUFKLENBQVNGLE1BQVQsQ0FBUDtJQUNELENBVEQsQ0FTRSxPQUFPckIsS0FBUCxFQUFjO01BQ2RKLElBQUksQ0FBQ0ksS0FBRCxDQUFKO0lBQ0Q7RUFDRjs7QUFqRXlCLENBQTVCO0FBbUVBd0IsTUFBTSxDQUFDQyxPQUFQLEdBQWlCakMsbUJBQWpCIn0=","map":{"version":3,"names":["candidateController","createCandidate","req","res","next","candidate","createNewCandidate","send","error","getCandidateByMember","candidateByMemberID","getListCandidateByMemberID","getAllCandidate","candidateList","getListCandidate","getCandidateByStaff","getAllCandidateByStaffID","changeCandidateStatus","candidateChange","candidateStatusChange","getAllCandidateDetails","candidateInformation","getAllCandidateDetailWithStaffIDMemberIDJobID","handleUpdateCandidateProfile","console","log","body","reportId","appliedResult","result","updateCandidateProfileStatus","json","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/","sources":["candidate.controller.js"],"sourcesContent":["// import { showAllCandidateDetails } from \"../repository/candidates.repository\";\nimport { request } from \"express\";\nimport {\n  createNewCandidate,\n  getListCandidate,\n  getListCandidateByMemberID,\n  candidateStatusChange,\n  getAllCandidateByStaffID,\n  getAllCandidateDetailWithStaffIDMemberIDJobID,\n  updateCandidateProfileStatus,\n} from \"../service/candidate.service\";\n\nconst candidateController = {\n  async createCandidate(req, res, next) {\n    try {\n      const candidate = await createNewCandidate(req, res);\n      return res.send(candidate);\n    } catch (error) {\n      next(error);\n    }\n  },\n  async getCandidateByMember(req, res, next) {\n    try {\n      const candidateByMemberID = await getListCandidateByMemberID(req);\n      return res.send(candidateByMemberID);\n    } catch (error) {\n      next(error);\n    }\n  },\n  async getAllCandidate(req, res, next) {\n    try {\n      const candidateList = await getListCandidate();\n      return res.send(candidateList);\n    } catch (error) {\n      next(error);\n    }\n  },\n  async getCandidateByStaff(req, res, next) {\n    try {\n      const candidateList = await getAllCandidateByStaffID(req, res);\n      return res.send(candidateList);\n    } catch (error) {\n      next(error);\n    }\n  },\n  async changeCandidateStatus(req, res, next) {\n    try {\n      const candidateChange = await candidateStatusChange(req);\n      return res.send(candidateChange);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async getAllCandidateDetails(req, res, next) {\n    try {\n      const candidateInformation =\n        await getAllCandidateDetailWithStaffIDMemberIDJobID();\n      return res.send(candidateInformation);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async handleUpdateCandidateProfile(req, res, next) {\n    try {\n      console.log(req.body);\n      const reportId = req.body.reportId;\n      const appliedResult = req.body.result;\n      const result = await updateCandidateProfileStatus(\n        reportId,\n        appliedResult\n      );\n      return res.json(result);\n    } catch (error) {\n      next(error);\n    }\n  },\n};\nmodule.exports = candidateController;\n"],"mappings":";;AACA;;AACA;;AAFA;AAYA,MAAMA,mBAAmB,GAAG;EAC1B,MAAMC,eAAN,CAAsBC,GAAtB,EAA2BC,GAA3B,EAAgCC,IAAhC,EAAsC;IACpC,IAAI;MACF,MAAMC,SAAS,GAAG,MAAM,IAAAC,6BAAA,EAAmBJ,GAAnB,EAAwBC,GAAxB,CAAxB;MACA,OAAOA,GAAG,CAACI,IAAJ,CAASF,SAAT,CAAP;IACD,CAHD,CAGE,OAAOG,KAAP,EAAc;MACdJ,IAAI,CAACI,KAAD,CAAJ;IACD;EACF,CARyB;;EAS1B,MAAMC,oBAAN,CAA2BP,GAA3B,EAAgCC,GAAhC,EAAqCC,IAArC,EAA2C;IACzC,IAAI;MACF,MAAMM,mBAAmB,GAAG,MAAM,IAAAC,qCAAA,EAA2BT,GAA3B,CAAlC;MACA,OAAOC,GAAG,CAACI,IAAJ,CAASG,mBAAT,CAAP;IACD,CAHD,CAGE,OAAOF,KAAP,EAAc;MACdJ,IAAI,CAACI,KAAD,CAAJ;IACD;EACF,CAhByB;;EAiB1B,MAAMI,eAAN,CAAsBV,GAAtB,EAA2BC,GAA3B,EAAgCC,IAAhC,EAAsC;IACpC,IAAI;MACF,MAAMS,aAAa,GAAG,MAAM,IAAAC,2BAAA,GAA5B;MACA,OAAOX,GAAG,CAACI,IAAJ,CAASM,aAAT,CAAP;IACD,CAHD,CAGE,OAAOL,KAAP,EAAc;MACdJ,IAAI,CAACI,KAAD,CAAJ;IACD;EACF,CAxByB;;EAyB1B,MAAMO,mBAAN,CAA0Bb,GAA1B,EAA+BC,GAA/B,EAAoCC,IAApC,EAA0C;IACxC,IAAI;MACF,MAAMS,aAAa,GAAG,MAAM,IAAAG,mCAAA,EAAyBd,GAAzB,EAA8BC,GAA9B,CAA5B;MACA,OAAOA,GAAG,CAACI,IAAJ,CAASM,aAAT,CAAP;IACD,CAHD,CAGE,OAAOL,KAAP,EAAc;MACdJ,IAAI,CAACI,KAAD,CAAJ;IACD;EACF,CAhCyB;;EAiC1B,MAAMS,qBAAN,CAA4Bf,GAA5B,EAAiCC,GAAjC,EAAsCC,IAAtC,EAA4C;IAC1C,IAAI;MACF,MAAMc,eAAe,GAAG,MAAM,IAAAC,gCAAA,EAAsBjB,GAAtB,CAA9B;MACA,OAAOC,GAAG,CAACI,IAAJ,CAASW,eAAT,CAAP;IACD,CAHD,CAGE,OAAOV,KAAP,EAAc;MACdJ,IAAI,CAACI,KAAD,CAAJ;IACD;EACF,CAxCyB;;EA0C1B,MAAMY,sBAAN,CAA6BlB,GAA7B,EAAkCC,GAAlC,EAAuCC,IAAvC,EAA6C;IAC3C,IAAI;MACF,MAAMiB,oBAAoB,GACxB,MAAM,IAAAC,wDAAA,GADR;MAEA,OAAOnB,GAAG,CAACI,IAAJ,CAASc,oBAAT,CAAP;IACD,CAJD,CAIE,OAAOb,KAAP,EAAc;MACdJ,IAAI,CAACI,KAAD,CAAJ;IACD;EACF,CAlDyB;;EAoD1B,MAAMe,4BAAN,CAAmCrB,GAAnC,EAAwCC,GAAxC,EAA6CC,IAA7C,EAAmD;IACjD,IAAI;MACFoB,OAAO,CAACC,GAAR,CAAYvB,GAAG,CAACwB,IAAhB;MACA,MAAMC,QAAQ,GAAGzB,GAAG,CAACwB,IAAJ,CAASC,QAA1B;MACA,MAAMC,aAAa,GAAG1B,GAAG,CAACwB,IAAJ,CAASG,MAA/B;MACA,MAAMA,MAAM,GAAG,MAAM,IAAAC,uCAAA,EACnBH,QADmB,EAEnBC,aAFmB,CAArB;MAIA,OAAOzB,GAAG,CAAC4B,IAAJ,CAASF,MAAT,CAAP;IACD,CATD,CASE,OAAOrB,KAAP,EAAc;MACdJ,IAAI,CAACI,KAAD,CAAJ;IACD;EACF;;AAjEyB,CAA5B;AAmEAwB,MAAM,CAACC,OAAP,GAAiBjC,mBAAjB"}},"mtime":1667231633829},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/candidate.service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _apiError = require(\"../middleware/apiError\");\n\nvar _staffs = require(\"../repository/staffs.repository\");\n\nvar _candidates = require(\"../repository/candidates.repository\");\n\nvar _httpStatus = _interopRequireDefault(require(\"http-status\"));\n\nvar _index = _interopRequireWildcard(require(\"../models/index\"));\n\nvar _mailSending = require(\"../utils/mailSending\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"dotenv\").config();\n\nconst createNewCandidate = async (req, res) => {\n  try {\n    const staffList = await (0, _staffs.showAllStaff)();\n    const getRandomStaff = staffList[Math.floor(Math.random() * staffList.length)];\n\n    if (!getRandomStaff) {\n      throw new _apiError.ApiError(_httpStatus.default.BAD_REQUEST, \"Dont have any Staff to approve\");\n    }\n\n    const {\n      member,\n      job_id,\n      ...rest\n    } = req.body;\n    let myResumeURL = req.body.my_resume_url;\n    const candidateList = await getListCandidate();\n\n    if (candidateList.length > 0) {\n      candidateList.forEach(candidate => {\n        if (candidate.Job_id === job_id && candidate.Member_id === member.id) {\n          throw new _apiError.ApiError(_httpStatus.default.BAD_REQUEST, \"this Member already apply this job\");\n        }\n      });\n    }\n\n    if (!myResumeURL) {\n      myResumeURL = member.current_resume_url;\n    }\n\n    const candidateDetailData = {\n      resume_url: myResumeURL,\n      phone: member.phone,\n      Job_id: job_id,\n      HRStaff_id: getRandomStaff.id,\n      Member_id: member.id,\n      ...rest\n    };\n    const candidateDetail = await (0, _candidates.createNewCandidateDetails)(candidateDetailData);\n\n    if (!candidateDetail) {\n      throw new _apiError.ApiError(_httpStatus.default.BAD_REQUEST, \"ERROR cant create candidate\");\n    } // console.log(candidateDetail);\n\n\n    return candidateDetail;\n  } catch (error) {\n    // console.log(error);\n    throw error;\n  }\n};\n\nconst getListCandidate = async (req, res) => {\n  try {\n    let candidateList = [];\n    const [results] = await _index.sequelize.query(\"select * from CandidateDetails\");\n    candidateList = results;\n    return candidateList;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getListCandidateByMemberID = async (req, res) => {\n  try {\n    const [results] = await _index.sequelize.query(`select c.id, c.resume_url, c.phone, c.applied_status, j.name as job_name from CandidateDetails c inner join Jobs J on c.Job_id = J.id where c.Member_id = ?`, {\n      replacements: [`${req.body.id}`]\n    }); // const candidateByMember = await getCandidateDetailsByMemberID(memberID);\n    // console.log(results);\n\n    if (results.length === 0) {\n      throw new _apiError.ApiError(_httpStatus.default.BAD_REQUEST, \"This member dont have any request job\");\n    }\n\n    return results; // return candidateByMember;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getAllCandidateByStaffID = async (req, res) => {\n  try {\n    const [results] = await _index.sequelize.query(`select c.id, c.resume_url, c.phone, c.applied_status, j.name as job_name, M.fullname as member_name, M.avatar as member_avatar, M.id as member_id from CandidateDetails c inner join Jobs J on c.Job_id = J.id inner join Staffs S on c.HRStaff_id = S.id inner join Members M on c.Member_id = M.id where S.id = ?`, {\n      replacements: [`${req.body.id}`]\n    });\n\n    if (results.length === 0) {\n      throw new _apiError.ApiError(_httpStatus.default.BAD_REQUEST, \"This staff dont have any request job\");\n    }\n\n    return results;\n  } catch (error) {\n    throw error;\n  }\n}; //\n\n\nconst candidateStatusChange = async (req, res) => {\n  try {\n    const [res] = await _index.sequelize.query(`select * from CandidateDetails where Member_id = ? and applied_status = 'Approve'`, {\n      replacements: [`${req.body.member_id}`]\n    });\n\n    if (res.length > 0 && req.body.status === \"Approve\") {\n      throw new _apiError.ApiError(_httpStatus.default.BAD_REQUEST, \"This Member has already been approved for another job\");\n    }\n\n    const [results] = await _index.sequelize.query(`update CandidateDetails set applied_status = ? where id = ?`, {\n      replacements: [`${req.body.status}`, `${req.body.id}`]\n    });\n\n    if (results.length === 0) {\n      throw new _apiError.ApiError(_httpStatus.default.BAD_REQUEST, \"Error with applied status\");\n    } // sendMail\n\n\n    const candidate = await (0, _candidates.getSpecificCandidateById)(req.body.id);\n    console.log(candidate);\n    const cvResult = req.body.status === \"Approve\" ? \"\\nCongratulations on passing the resume round, HR will contact you as soon as possible to continue for the interview round.\" : \"\\nWe're sorry to inform you that your resume has been rejected, hope to see you next time\";\n    (0, _mailSending.mailSending)(candidate.member_email, `Resume result about ${candidate.job_name}`, `\n        ${cvResult}\n        Best, FCode eCruitment\n      `).then(res => console.log(`send mail successfully`));\n    return results;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getAllCandidateDetailWithStaffIDMemberIDJobID = async () => {\n  const query = `SELECT \n    CD.id, CD.identity_number, CD.resume_url, CD.phone, CD.applied_status, CD.dob, CD.address, J.name as job, S.fullname as hr_staff, M.fullname as member,\n    case \n      when CD.id in (select i.candidatedetail_id from hrms.interviews as i) then 'YES' \n      else 'NO' \n    end as booking_status \n  FROM hrms.candidatedetails CD \n  INNER JOIN hrms.jobs J \n  ON CD.Job_id = J.id \n  INNER JOIN hrms.members M \n  ON CD.Member_id = M.id \n  INNER JOIN hrms.staffs S \n  ON CD.HRStaff_id = S.id \n  WHERE S.role = 'HR Staff'\n      AND CD.applied_status = 'Approve'`;\n\n  try {\n    let candidateList = [];\n    const [results] = await _index.sequelize.query(query);\n    candidateList = results;\n    return candidateList;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst updateCandidateProfileStatus = async (reportId, appliedResult) => {\n  try {\n    const result = await (0, _candidates.updateCandidateProfile)(reportId, appliedResult);\n    return result;\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  createNewCandidate,\n  getListCandidate,\n  getListCandidateByMemberID,\n  candidateStatusChange,\n  getAllCandidateByStaffID,\n  getAllCandidateDetailWithStaffIDMemberIDJobID,\n  updateCandidateProfileStatus\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiY3JlYXRlTmV3Q2FuZGlkYXRlIiwicmVxIiwicmVzIiwic3RhZmZMaXN0Iiwic2hvd0FsbFN0YWZmIiwiZ2V0UmFuZG9tU3RhZmYiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJsZW5ndGgiLCJBcGlFcnJvciIsImh0dHBTdGF0dXMiLCJCQURfUkVRVUVTVCIsIm1lbWJlciIsImpvYl9pZCIsInJlc3QiLCJib2R5IiwibXlSZXN1bWVVUkwiLCJteV9yZXN1bWVfdXJsIiwiY2FuZGlkYXRlTGlzdCIsImdldExpc3RDYW5kaWRhdGUiLCJmb3JFYWNoIiwiY2FuZGlkYXRlIiwiSm9iX2lkIiwiTWVtYmVyX2lkIiwiaWQiLCJjdXJyZW50X3Jlc3VtZV91cmwiLCJjYW5kaWRhdGVEZXRhaWxEYXRhIiwicmVzdW1lX3VybCIsInBob25lIiwiSFJTdGFmZl9pZCIsImNhbmRpZGF0ZURldGFpbCIsImNyZWF0ZU5ld0NhbmRpZGF0ZURldGFpbHMiLCJlcnJvciIsInJlc3VsdHMiLCJzZXF1ZWxpemUiLCJxdWVyeSIsImdldExpc3RDYW5kaWRhdGVCeU1lbWJlcklEIiwicmVwbGFjZW1lbnRzIiwiZ2V0QWxsQ2FuZGlkYXRlQnlTdGFmZklEIiwiY2FuZGlkYXRlU3RhdHVzQ2hhbmdlIiwibWVtYmVyX2lkIiwic3RhdHVzIiwiZ2V0U3BlY2lmaWNDYW5kaWRhdGVCeUlkIiwiY29uc29sZSIsImxvZyIsImN2UmVzdWx0IiwibWFpbFNlbmRpbmciLCJtZW1iZXJfZW1haWwiLCJqb2JfbmFtZSIsInRoZW4iLCJnZXRBbGxDYW5kaWRhdGVEZXRhaWxXaXRoU3RhZmZJRE1lbWJlcklESm9iSUQiLCJ1cGRhdGVDYW5kaWRhdGVQcm9maWxlU3RhdHVzIiwicmVwb3J0SWQiLCJhcHBsaWVkUmVzdWx0IiwicmVzdWx0IiwidXBkYXRlQ2FuZGlkYXRlUHJvZmlsZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvc2VydmljZS8iLCJzb3VyY2VzIjpbImNhbmRpZGF0ZS5zZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwaUVycm9yIH0gZnJvbSBcIi4uL21pZGRsZXdhcmUvYXBpRXJyb3JcIjtcbmltcG9ydCB7IHNob3dBbGxTdGFmZiB9IGZyb20gXCIuLi9yZXBvc2l0b3J5L3N0YWZmcy5yZXBvc2l0b3J5XCI7XG5pbXBvcnQge1xuICBjcmVhdGVOZXdDYW5kaWRhdGVEZXRhaWxzLFxuICAvLyBnZXRDYW5kaWRhdGVEZXRhaWxzQnlNZW1iZXJJRCxcbiAgZ2V0U3BlY2lmaWNDYW5kaWRhdGVCeUlkLFxuICB1cGRhdGVDYW5kaWRhdGVQcm9maWxlLFxufSBmcm9tIFwiLi4vcmVwb3NpdG9yeS9jYW5kaWRhdGVzLnJlcG9zaXRvcnlcIjtcbmltcG9ydCBodHRwU3RhdHVzIGZyb20gXCJodHRwLXN0YXR1c1wiO1xuaW1wb3J0IGRiLCB7IHNlcXVlbGl6ZSB9IGZyb20gXCIuLi9tb2RlbHMvaW5kZXhcIjtcbmltcG9ydCB7IG1haWxTZW5kaW5nIH0gZnJvbSBcIi4uL3V0aWxzL21haWxTZW5kaW5nXCI7XG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xuXG5jb25zdCBjcmVhdGVOZXdDYW5kaWRhdGUgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzdGFmZkxpc3QgPSBhd2FpdCBzaG93QWxsU3RhZmYoKTtcbiAgICBjb25zdCBnZXRSYW5kb21TdGFmZiA9XG4gICAgICBzdGFmZkxpc3RbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogc3RhZmZMaXN0Lmxlbmd0aCldO1xuICAgIGlmICghZ2V0UmFuZG9tU3RhZmYpIHtcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcihcbiAgICAgICAgaHR0cFN0YXR1cy5CQURfUkVRVUVTVCxcbiAgICAgICAgXCJEb250IGhhdmUgYW55IFN0YWZmIHRvIGFwcHJvdmVcIlxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgeyBtZW1iZXIsIGpvYl9pZCwgLi4ucmVzdCB9ID0gcmVxLmJvZHk7XG4gICAgbGV0IG15UmVzdW1lVVJMID0gcmVxLmJvZHkubXlfcmVzdW1lX3VybDtcbiAgICBjb25zdCBjYW5kaWRhdGVMaXN0ID0gYXdhaXQgZ2V0TGlzdENhbmRpZGF0ZSgpO1xuICAgIGlmIChjYW5kaWRhdGVMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgIGNhbmRpZGF0ZUxpc3QuZm9yRWFjaCgoY2FuZGlkYXRlKSA9PiB7XG4gICAgICAgIGlmIChjYW5kaWRhdGUuSm9iX2lkID09PSBqb2JfaWQgJiYgY2FuZGlkYXRlLk1lbWJlcl9pZCA9PT0gbWVtYmVyLmlkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKFxuICAgICAgICAgICAgaHR0cFN0YXR1cy5CQURfUkVRVUVTVCxcbiAgICAgICAgICAgIFwidGhpcyBNZW1iZXIgYWxyZWFkeSBhcHBseSB0aGlzIGpvYlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghbXlSZXN1bWVVUkwpIHtcbiAgICAgIG15UmVzdW1lVVJMID0gbWVtYmVyLmN1cnJlbnRfcmVzdW1lX3VybDtcbiAgICB9XG4gICAgY29uc3QgY2FuZGlkYXRlRGV0YWlsRGF0YSA9IHtcbiAgICAgIHJlc3VtZV91cmw6IG15UmVzdW1lVVJMLFxuICAgICAgcGhvbmU6IG1lbWJlci5waG9uZSxcbiAgICAgIEpvYl9pZDogam9iX2lkLFxuICAgICAgSFJTdGFmZl9pZDogZ2V0UmFuZG9tU3RhZmYuaWQsXG4gICAgICBNZW1iZXJfaWQ6IG1lbWJlci5pZCxcbiAgICAgIC4uLnJlc3QsXG4gICAgfTtcbiAgICBjb25zdCBjYW5kaWRhdGVEZXRhaWwgPSBhd2FpdCBjcmVhdGVOZXdDYW5kaWRhdGVEZXRhaWxzKFxuICAgICAgY2FuZGlkYXRlRGV0YWlsRGF0YVxuICAgICk7XG4gICAgaWYgKCFjYW5kaWRhdGVEZXRhaWwpIHtcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLkJBRF9SRVFVRVNULCBcIkVSUk9SIGNhbnQgY3JlYXRlIGNhbmRpZGF0ZVwiKTtcbiAgICB9XG4gICAgLy8gY29uc29sZS5sb2coY2FuZGlkYXRlRGV0YWlsKTtcbiAgICByZXR1cm4gY2FuZGlkYXRlRGV0YWlsO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIC8vIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcbmNvbnN0IGdldExpc3RDYW5kaWRhdGUgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBsZXQgY2FuZGlkYXRlTGlzdCA9IFtdO1xuICAgIGNvbnN0IFtyZXN1bHRzXSA9IGF3YWl0IHNlcXVlbGl6ZS5xdWVyeShcInNlbGVjdCAqIGZyb20gQ2FuZGlkYXRlRGV0YWlsc1wiKTtcbiAgICBjYW5kaWRhdGVMaXN0ID0gcmVzdWx0cztcbiAgICByZXR1cm4gY2FuZGlkYXRlTGlzdDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcbmNvbnN0IGdldExpc3RDYW5kaWRhdGVCeU1lbWJlcklEID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgW3Jlc3VsdHNdID0gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KFxuICAgICAgYHNlbGVjdCBjLmlkLCBjLnJlc3VtZV91cmwsIGMucGhvbmUsIGMuYXBwbGllZF9zdGF0dXMsIGoubmFtZSBhcyBqb2JfbmFtZSBmcm9tIENhbmRpZGF0ZURldGFpbHMgYyBpbm5lciBqb2luIEpvYnMgSiBvbiBjLkpvYl9pZCA9IEouaWQgd2hlcmUgYy5NZW1iZXJfaWQgPSA/YCxcbiAgICAgIHtcbiAgICAgICAgcmVwbGFjZW1lbnRzOiBbYCR7cmVxLmJvZHkuaWR9YF0sXG4gICAgICB9XG4gICAgKTtcbiAgICAvLyBjb25zdCBjYW5kaWRhdGVCeU1lbWJlciA9IGF3YWl0IGdldENhbmRpZGF0ZURldGFpbHNCeU1lbWJlcklEKG1lbWJlcklEKTtcbiAgICAvLyBjb25zb2xlLmxvZyhyZXN1bHRzKTtcblxuICAgIGlmIChyZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKFxuICAgICAgICBodHRwU3RhdHVzLkJBRF9SRVFVRVNULFxuICAgICAgICBcIlRoaXMgbWVtYmVyIGRvbnQgaGF2ZSBhbnkgcmVxdWVzdCBqb2JcIlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgLy8gcmV0dXJuIGNhbmRpZGF0ZUJ5TWVtYmVyO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuY29uc3QgZ2V0QWxsQ2FuZGlkYXRlQnlTdGFmZklEID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgW3Jlc3VsdHNdID0gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KFxuICAgICAgYHNlbGVjdCBjLmlkLCBjLnJlc3VtZV91cmwsIGMucGhvbmUsIGMuYXBwbGllZF9zdGF0dXMsIGoubmFtZSBhcyBqb2JfbmFtZSwgTS5mdWxsbmFtZSBhcyBtZW1iZXJfbmFtZSwgTS5hdmF0YXIgYXMgbWVtYmVyX2F2YXRhciwgTS5pZCBhcyBtZW1iZXJfaWQgZnJvbSBDYW5kaWRhdGVEZXRhaWxzIGMgaW5uZXIgam9pbiBKb2JzIEogb24gYy5Kb2JfaWQgPSBKLmlkIGlubmVyIGpvaW4gU3RhZmZzIFMgb24gYy5IUlN0YWZmX2lkID0gUy5pZCBpbm5lciBqb2luIE1lbWJlcnMgTSBvbiBjLk1lbWJlcl9pZCA9IE0uaWQgd2hlcmUgUy5pZCA9ID9gLFxuICAgICAge1xuICAgICAgICByZXBsYWNlbWVudHM6IFtgJHtyZXEuYm9keS5pZH1gXSxcbiAgICAgIH1cbiAgICApO1xuICAgIGlmIChyZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKFxuICAgICAgICBodHRwU3RhdHVzLkJBRF9SRVFVRVNULFxuICAgICAgICBcIlRoaXMgc3RhZmYgZG9udCBoYXZlIGFueSByZXF1ZXN0IGpvYlwiXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcbi8vXG5jb25zdCBjYW5kaWRhdGVTdGF0dXNDaGFuZ2UgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBbcmVzXSA9IGF3YWl0IHNlcXVlbGl6ZS5xdWVyeShcbiAgICAgIGBzZWxlY3QgKiBmcm9tIENhbmRpZGF0ZURldGFpbHMgd2hlcmUgTWVtYmVyX2lkID0gPyBhbmQgYXBwbGllZF9zdGF0dXMgPSAnQXBwcm92ZSdgLFxuICAgICAge1xuICAgICAgICByZXBsYWNlbWVudHM6IFtgJHtyZXEuYm9keS5tZW1iZXJfaWR9YF0sXG4gICAgICB9XG4gICAgKTtcbiAgICBpZiAocmVzLmxlbmd0aCA+IDAgJiYgcmVxLmJvZHkuc3RhdHVzID09PSBcIkFwcHJvdmVcIikge1xuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKFxuICAgICAgICBodHRwU3RhdHVzLkJBRF9SRVFVRVNULFxuICAgICAgICBcIlRoaXMgTWVtYmVyIGhhcyBhbHJlYWR5IGJlZW4gYXBwcm92ZWQgZm9yIGFub3RoZXIgam9iXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IFtyZXN1bHRzXSA9IGF3YWl0IHNlcXVlbGl6ZS5xdWVyeShcbiAgICAgIGB1cGRhdGUgQ2FuZGlkYXRlRGV0YWlscyBzZXQgYXBwbGllZF9zdGF0dXMgPSA/IHdoZXJlIGlkID0gP2AsXG4gICAgICB7XG4gICAgICAgIHJlcGxhY2VtZW50czogW2Ake3JlcS5ib2R5LnN0YXR1c31gLCBgJHtyZXEuYm9keS5pZH1gXSxcbiAgICAgIH1cbiAgICApO1xuXG4gICAgaWYgKHJlc3VsdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5CQURfUkVRVUVTVCwgXCJFcnJvciB3aXRoIGFwcGxpZWQgc3RhdHVzXCIpO1xuICAgIH1cbiAgICAvLyBzZW5kTWFpbFxuICAgIGNvbnN0IGNhbmRpZGF0ZSA9IGF3YWl0IGdldFNwZWNpZmljQ2FuZGlkYXRlQnlJZChyZXEuYm9keS5pZCk7XG4gICAgY29uc29sZS5sb2coY2FuZGlkYXRlKTtcblxuICAgIGNvbnN0IGN2UmVzdWx0ID1cbiAgICAgIHJlcS5ib2R5LnN0YXR1cyA9PT0gXCJBcHByb3ZlXCJcbiAgICAgICAgPyBcIlxcbkNvbmdyYXR1bGF0aW9ucyBvbiBwYXNzaW5nIHRoZSByZXN1bWUgcm91bmQsIEhSIHdpbGwgY29udGFjdCB5b3UgYXMgc29vbiBhcyBwb3NzaWJsZSB0byBjb250aW51ZSBmb3IgdGhlIGludGVydmlldyByb3VuZC5cIlxuICAgICAgICA6IFwiXFxuV2UncmUgc29ycnkgdG8gaW5mb3JtIHlvdSB0aGF0IHlvdXIgcmVzdW1lIGhhcyBiZWVuIHJlamVjdGVkLCBob3BlIHRvIHNlZSB5b3UgbmV4dCB0aW1lXCI7XG4gICAgbWFpbFNlbmRpbmcoXG4gICAgICBjYW5kaWRhdGUubWVtYmVyX2VtYWlsLFxuICAgICAgYFJlc3VtZSByZXN1bHQgYWJvdXQgJHtjYW5kaWRhdGUuam9iX25hbWV9YCxcbiAgICAgIGBcbiAgICAgICAgJHtjdlJlc3VsdH1cbiAgICAgICAgQmVzdCwgRkNvZGUgZUNydWl0bWVudFxuICAgICAgYFxuICAgICkudGhlbigocmVzKSA9PiBjb25zb2xlLmxvZyhgc2VuZCBtYWlsIHN1Y2Nlc3NmdWxseWApKTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuY29uc3QgZ2V0QWxsQ2FuZGlkYXRlRGV0YWlsV2l0aFN0YWZmSURNZW1iZXJJREpvYklEID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBxdWVyeSA9IGBTRUxFQ1QgXG4gICAgQ0QuaWQsIENELmlkZW50aXR5X251bWJlciwgQ0QucmVzdW1lX3VybCwgQ0QucGhvbmUsIENELmFwcGxpZWRfc3RhdHVzLCBDRC5kb2IsIENELmFkZHJlc3MsIEoubmFtZSBhcyBqb2IsIFMuZnVsbG5hbWUgYXMgaHJfc3RhZmYsIE0uZnVsbG5hbWUgYXMgbWVtYmVyLFxuICAgIGNhc2UgXG4gICAgICB3aGVuIENELmlkIGluIChzZWxlY3QgaS5jYW5kaWRhdGVkZXRhaWxfaWQgZnJvbSBocm1zLmludGVydmlld3MgYXMgaSkgdGhlbiAnWUVTJyBcbiAgICAgIGVsc2UgJ05PJyBcbiAgICBlbmQgYXMgYm9va2luZ19zdGF0dXMgXG4gIEZST00gaHJtcy5jYW5kaWRhdGVkZXRhaWxzIENEIFxuICBJTk5FUiBKT0lOIGhybXMuam9icyBKIFxuICBPTiBDRC5Kb2JfaWQgPSBKLmlkIFxuICBJTk5FUiBKT0lOIGhybXMubWVtYmVycyBNIFxuICBPTiBDRC5NZW1iZXJfaWQgPSBNLmlkIFxuICBJTk5FUiBKT0lOIGhybXMuc3RhZmZzIFMgXG4gIE9OIENELkhSU3RhZmZfaWQgPSBTLmlkIFxuICBXSEVSRSBTLnJvbGUgPSAnSFIgU3RhZmYnXG4gICAgICBBTkQgQ0QuYXBwbGllZF9zdGF0dXMgPSAnQXBwcm92ZSdgO1xuICB0cnkge1xuICAgIGxldCBjYW5kaWRhdGVMaXN0ID0gW107XG4gICAgY29uc3QgW3Jlc3VsdHNdID0gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KHF1ZXJ5KTtcbiAgICBjYW5kaWRhdGVMaXN0ID0gcmVzdWx0cztcbiAgICByZXR1cm4gY2FuZGlkYXRlTGlzdDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuY29uc3QgdXBkYXRlQ2FuZGlkYXRlUHJvZmlsZVN0YXR1cyA9IGFzeW5jIChyZXBvcnRJZCwgYXBwbGllZFJlc3VsdCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVwZGF0ZUNhbmRpZGF0ZVByb2ZpbGUocmVwb3J0SWQsIGFwcGxpZWRSZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjcmVhdGVOZXdDYW5kaWRhdGUsXG4gIGdldExpc3RDYW5kaWRhdGUsXG4gIGdldExpc3RDYW5kaWRhdGVCeU1lbWJlcklELFxuICBjYW5kaWRhdGVTdGF0dXNDaGFuZ2UsXG4gIGdldEFsbENhbmRpZGF0ZUJ5U3RhZmZJRCxcbiAgZ2V0QWxsQ2FuZGlkYXRlRGV0YWlsV2l0aFN0YWZmSURNZW1iZXJJREpvYklELFxuICB1cGRhdGVDYW5kaWRhdGVQcm9maWxlU3RhdHVzLFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFNQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7QUFDQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEI7O0FBRUEsTUFBTUMsa0JBQWtCLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0VBQzdDLElBQUk7SUFDRixNQUFNQyxTQUFTLEdBQUcsTUFBTSxJQUFBQyxvQkFBQSxHQUF4QjtJQUNBLE1BQU1DLGNBQWMsR0FDbEJGLFNBQVMsQ0FBQ0csSUFBSSxDQUFDQyxLQUFMLENBQVdELElBQUksQ0FBQ0UsTUFBTCxLQUFnQkwsU0FBUyxDQUFDTSxNQUFyQyxDQUFELENBRFg7O0lBRUEsSUFBSSxDQUFDSixjQUFMLEVBQXFCO01BQ25CLE1BQU0sSUFBSUssa0JBQUosQ0FDSkMsbUJBQUEsQ0FBV0MsV0FEUCxFQUVKLGdDQUZJLENBQU47SUFJRDs7SUFDRCxNQUFNO01BQUVDLE1BQUY7TUFBVUMsTUFBVjtNQUFrQixHQUFHQztJQUFyQixJQUE4QmQsR0FBRyxDQUFDZSxJQUF4QztJQUNBLElBQUlDLFdBQVcsR0FBR2hCLEdBQUcsQ0FBQ2UsSUFBSixDQUFTRSxhQUEzQjtJ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","map":{"version":3,"names":["require","config","createNewCandidate","req","res","staffList","showAllStaff","getRandomStaff","Math","floor","random","length","ApiError","httpStatus","BAD_REQUEST","member","job_id","rest","body","myResumeURL","my_resume_url","candidateList","getListCandidate","forEach","candidate","Job_id","Member_id","id","current_resume_url","candidateDetailData","resume_url","phone","HRStaff_id","candidateDetail","createNewCandidateDetails","error","results","sequelize","query","getListCandidateByMemberID","replacements","getAllCandidateByStaffID","candidateStatusChange","member_id","status","getSpecificCandidateById","console","log","cvResult","mailSending","member_email","job_name","then","getAllCandidateDetailWithStaffIDMemberIDJobID","updateCandidateProfileStatus","reportId","appliedResult","result","updateCandidateProfile","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/","sources":["candidate.service.js"],"sourcesContent":["import { ApiError } from \"../middleware/apiError\";\nimport { showAllStaff } from \"../repository/staffs.repository\";\nimport {\n  createNewCandidateDetails,\n  // getCandidateDetailsByMemberID,\n  getSpecificCandidateById,\n  updateCandidateProfile,\n} from \"../repository/candidates.repository\";\nimport httpStatus from \"http-status\";\nimport db, { sequelize } from \"../models/index\";\nimport { mailSending } from \"../utils/mailSending\";\nrequire(\"dotenv\").config();\n\nconst createNewCandidate = async (req, res) => {\n  try {\n    const staffList = await showAllStaff();\n    const getRandomStaff =\n      staffList[Math.floor(Math.random() * staffList.length)];\n    if (!getRandomStaff) {\n      throw new ApiError(\n        httpStatus.BAD_REQUEST,\n        \"Dont have any Staff to approve\"\n      );\n    }\n    const { member, job_id, ...rest } = req.body;\n    let myResumeURL = req.body.my_resume_url;\n    const candidateList = await getListCandidate();\n    if (candidateList.length > 0) {\n      candidateList.forEach((candidate) => {\n        if (candidate.Job_id === job_id && candidate.Member_id === member.id) {\n          throw new ApiError(\n            httpStatus.BAD_REQUEST,\n            \"this Member already apply this job\"\n          );\n        }\n      });\n    }\n    if (!myResumeURL) {\n      myResumeURL = member.current_resume_url;\n    }\n    const candidateDetailData = {\n      resume_url: myResumeURL,\n      phone: member.phone,\n      Job_id: job_id,\n      HRStaff_id: getRandomStaff.id,\n      Member_id: member.id,\n      ...rest,\n    };\n    const candidateDetail = await createNewCandidateDetails(\n      candidateDetailData\n    );\n    if (!candidateDetail) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"ERROR cant create candidate\");\n    }\n    // console.log(candidateDetail);\n    return candidateDetail;\n  } catch (error) {\n    // console.log(error);\n    throw error;\n  }\n};\nconst getListCandidate = async (req, res) => {\n  try {\n    let candidateList = [];\n    const [results] = await sequelize.query(\"select * from CandidateDetails\");\n    candidateList = results;\n    return candidateList;\n  } catch (error) {\n    throw error;\n  }\n};\nconst getListCandidateByMemberID = async (req, res) => {\n  try {\n    const [results] = await sequelize.query(\n      `select c.id, c.resume_url, c.phone, c.applied_status, j.name as job_name from CandidateDetails c inner join Jobs J on c.Job_id = J.id where c.Member_id = ?`,\n      {\n        replacements: [`${req.body.id}`],\n      }\n    );\n    // const candidateByMember = await getCandidateDetailsByMemberID(memberID);\n    // console.log(results);\n\n    if (results.length === 0) {\n      throw new ApiError(\n        httpStatus.BAD_REQUEST,\n        \"This member dont have any request job\"\n      );\n    }\n    return results;\n    // return candidateByMember;\n  } catch (error) {\n    throw error;\n  }\n};\nconst getAllCandidateByStaffID = async (req, res) => {\n  try {\n    const [results] = await sequelize.query(\n      `select c.id, c.resume_url, c.phone, c.applied_status, j.name as job_name, M.fullname as member_name, M.avatar as member_avatar, M.id as member_id from CandidateDetails c inner join Jobs J on c.Job_id = J.id inner join Staffs S on c.HRStaff_id = S.id inner join Members M on c.Member_id = M.id where S.id = ?`,\n      {\n        replacements: [`${req.body.id}`],\n      }\n    );\n    if (results.length === 0) {\n      throw new ApiError(\n        httpStatus.BAD_REQUEST,\n        \"This staff dont have any request job\"\n      );\n    }\n    return results;\n  } catch (error) {\n    throw error;\n  }\n};\n//\nconst candidateStatusChange = async (req, res) => {\n  try {\n    const [res] = await sequelize.query(\n      `select * from CandidateDetails where Member_id = ? and applied_status = 'Approve'`,\n      {\n        replacements: [`${req.body.member_id}`],\n      }\n    );\n    if (res.length > 0 && req.body.status === \"Approve\") {\n      throw new ApiError(\n        httpStatus.BAD_REQUEST,\n        \"This Member has already been approved for another job\"\n      );\n    }\n    const [results] = await sequelize.query(\n      `update CandidateDetails set applied_status = ? where id = ?`,\n      {\n        replacements: [`${req.body.status}`, `${req.body.id}`],\n      }\n    );\n\n    if (results.length === 0) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Error with applied status\");\n    }\n    // sendMail\n    const candidate = await getSpecificCandidateById(req.body.id);\n    console.log(candidate);\n\n    const cvResult =\n      req.body.status === \"Approve\"\n        ? \"\\nCongratulations on passing the resume round, HR will contact you as soon as possible to continue for the interview round.\"\n        : \"\\nWe're sorry to inform you that your resume has been rejected, hope to see you next time\";\n    mailSending(\n      candidate.member_email,\n      `Resume result about ${candidate.job_name}`,\n      `\n        ${cvResult}\n        Best, FCode eCruitment\n      `\n    ).then((res) => console.log(`send mail successfully`));\n    return results;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getAllCandidateDetailWithStaffIDMemberIDJobID = async () => {\n  const query = `SELECT \n    CD.id, CD.identity_number, CD.resume_url, CD.phone, CD.applied_status, CD.dob, CD.address, J.name as job, S.fullname as hr_staff, M.fullname as member,\n    case \n      when CD.id in (select i.candidatedetail_id from hrms.interviews as i) then 'YES' \n      else 'NO' \n    end as booking_status \n  FROM hrms.candidatedetails CD \n  INNER JOIN hrms.jobs J \n  ON CD.Job_id = J.id \n  INNER JOIN hrms.members M \n  ON CD.Member_id = M.id \n  INNER JOIN hrms.staffs S \n  ON CD.HRStaff_id = S.id \n  WHERE S.role = 'HR Staff'\n      AND CD.applied_status = 'Approve'`;\n  try {\n    let candidateList = [];\n    const [results] = await sequelize.query(query);\n    candidateList = results;\n    return candidateList;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst updateCandidateProfileStatus = async (reportId, appliedResult) => {\n  try {\n    const result = await updateCandidateProfile(reportId, appliedResult);\n    return result;\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  createNewCandidate,\n  getListCandidate,\n  getListCandidateByMemberID,\n  candidateStatusChange,\n  getAllCandidateByStaffID,\n  getAllCandidateDetailWithStaffIDMemberIDJobID,\n  updateCandidateProfileStatus,\n};\n"],"mappings":";;AAAA;;AACA;;AACA;;AAMA;;AACA;;AACA;;;;;;;;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEA,MAAMC,kBAAkB,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;EAC7C,IAAI;IACF,MAAMC,SAAS,GAAG,MAAM,IAAAC,oBAAA,GAAxB;IACA,MAAMC,cAAc,GAClBF,SAAS,CAACG,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBL,SAAS,CAACM,MAArC,CAAD,CADX;;IAEA,IAAI,CAACJ,cAAL,EAAqB;MACnB,MAAM,IAAIK,kBAAJ,CACJC,mBAAA,CAAWC,WADP,EAEJ,gCAFI,CAAN;IAID;;IACD,MAAM;MAAEC,MAAF;MAAUC,MAAV;MAAkB,GAAGC;IAArB,IAA8Bd,GAAG,CAACe,IAAxC;IACA,IAAIC,WAAW,GAAGhB,GAAG,CAACe,IAAJ,CAASE,aAA3B;IACA,MAAMC,aAAa,GAAG,MAAMC,gBAAgB,EAA5C;;IACA,IAAID,aAAa,CAACV,MAAd,GAAuB,CAA3B,EAA8B;MAC5BU,aAAa,CAACE,OAAd,CAAuBC,SAAD,IAAe;QACnC,IAAIA,SAAS,CAACC,MAAV,KAAqBT,MAArB,IAA+BQ,SAAS,CAACE,SAAV,KAAwBX,MAAM,CAACY,EAAlE,EAAsE;UACpE,MAAM,IAAIf,kBAAJ,CACJC,mBAAA,CAAWC,WADP,EAEJ,oCAFI,CAAN;QAID;MACF,CAPD;IAQD;;IACD,IAAI,CAACK,WAAL,EAAkB;MAChBA,WAAW,GAAGJ,MAAM,CAACa,kBAArB;IACD;;IACD,MAAMC,mBAAmB,GAAG;MAC1BC,UAAU,EAAEX,WADc;MAE1BY,KAAK,EAAEhB,MAAM,CAACgB,KAFY;MAG1BN,MAAM,EAAET,MAHkB;MAI1BgB,UAAU,EAAEzB,cAAc,CAACoB,EAJD;MAK1BD,SAAS,EAAEX,MAAM,CAACY,EALQ;MAM1B,GAAGV;IANuB,CAA5B;IAQA,MAAMgB,eAAe,GAAG,MAAM,IAAAC,qCAAA,EAC5BL,mBAD4B,CAA9B;;IAGA,IAAI,CAACI,eAAL,EAAsB;MACpB,MAAM,IAAIrB,kBAAJ,CAAaC,mBAAA,CAAWC,WAAxB,EAAqC,6BAArC,CAAN;IACD,CAvCC,CAwCF;;;IACA,OAAOmB,eAAP;EACD,CA1CD,CA0CE,OAAOE,KAAP,EAAc;IACd;IACA,MAAMA,KAAN;EACD;AACF,CA/CD;;AAgDA,MAAMb,gBAAgB,GAAG,OAAOnB,GAAP,EAAYC,GAAZ,KAAoB;EAC3C,IAAI;IACF,IAAIiB,aAAa,GAAG,EAApB;IACA,MAAM,CAACe,OAAD,IAAY,MAAMC,gBAAA,CAAUC,KAAV,CAAgB,gCAAhB,CAAxB;IACAjB,aAAa,GAAGe,OAAhB;IACA,OAAOf,aAAP;EACD,CALD,CAKE,OAAOc,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CATD;;AAUA,MAAMI,0BAA0B,GAAG,OAAOpC,GAAP,EAAYC,GAAZ,KAAoB;EACrD,IAAI;IACF,MAAM,CAACgC,OAAD,IAAY,MAAMC,gBAAA,CAAUC,KAAV,CACrB,6JADqB,EAEtB;MACEE,YAAY,EAAE,CAAE,GAAErC,GAAG,CAACe,IAAJ,CAASS,EAAG,EAAhB;IADhB,CAFsB,CAAxB,CADE,CAOF;IACA;;IAEA,IAAIS,OAAO,CAACzB,MAAR,KAAmB,CAAvB,EAA0B;MACxB,MAAM,IAAIC,kBAAJ,CACJC,mBAAA,CAAWC,WADP,EAEJ,uCAFI,CAAN;IAID;;IACD,OAAOsB,OAAP,CAhBE,CAiBF;EACD,CAlBD,CAkBE,OAAOD,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CAtBD;;AAuBA,MAAMM,wBAAwB,GAAG,OAAOtC,GAAP,EAAYC,GAAZ,KAAoB;EACnD,IAAI;IACF,MAAM,CAACgC,OAAD,IAAY,MAAMC,gBAAA,CAAUC,KAAV,CACrB,qTADqB,EAEtB;MACEE,YAAY,EAAE,CAAE,GAAErC,GAAG,CAACe,IAAJ,CAASS,EAAG,EAAhB;IADhB,CAFsB,CAAxB;;IAMA,IAAIS,OAAO,CAACzB,MAAR,KAAmB,CAAvB,EAA0B;MACxB,MAAM,IAAIC,kBAAJ,CACJC,mBAAA,CAAWC,WADP,EAEJ,sCAFI,CAAN;IAID;;IACD,OAAOsB,OAAP;EACD,CAdD,CAcE,OAAOD,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CAlBD,C,CAmBA;;;AACA,MAAMO,qBAAqB,GAAG,OAAOvC,GAAP,EAAYC,GAAZ,KAAoB;EAChD,IAAI;IACF,MAAM,CAACA,GAAD,IAAQ,MAAMiC,gBAAA,CAAUC,KAAV,CACjB,mFADiB,EAElB;MACEE,YAAY,EAAE,CAAE,GAAErC,GAAG,CAACe,IAAJ,CAASyB,SAAU,EAAvB;IADhB,CAFkB,CAApB;;IAMA,IAAIvC,GAAG,CAACO,MAAJ,GAAa,CAAb,IAAkBR,GAAG,CAACe,IAAJ,CAAS0B,MAAT,KAAoB,SAA1C,EAAqD;MACnD,MAAM,IAAIhC,kBAAJ,CACJC,mBAAA,CAAWC,WADP,EAEJ,uDAFI,CAAN;IAID;;IACD,MAAM,CAACsB,OAAD,IAAY,MAAMC,gBAAA,CAAUC,KAAV,CACrB,6DADqB,EAEtB;MACEE,YAAY,EAAE,CAAE,GAAErC,GAAG,CAACe,IAAJ,CAAS0B,MAAO,EAApB,EAAwB,GAAEzC,GAAG,CAACe,IAAJ,CAASS,EAAG,EAAtC;IADhB,CAFsB,CAAxB;;IAOA,IAAIS,OAAO,CAACzB,MAAR,KAAmB,CAAvB,EAA0B;MACxB,MAAM,IAAIC,kBAAJ,CAAaC,mBAAA,CAAWC,WAAxB,EAAqC,2BAArC,CAAN;IACD,CAtBC,CAuBF;;;IACA,MAAMU,SAAS,GAAG,MAAM,IAAAqB,oCAAA,EAAyB1C,GAAG,CAACe,IAAJ,CAASS,EAAlC,CAAxB;IACAmB,OAAO,CAACC,GAAR,CAAYvB,SAAZ;IAEA,MAAMwB,QAAQ,GACZ7C,GAAG,CAACe,IAAJ,CAAS0B,MAAT,KAAoB,SAApB,GACI,6HADJ,GAEI,2FAHN;IAIA,IAAAK,wBAAA,EACEzB,SAAS,CAAC0B,YADZ,EAEG,uBAAsB1B,SAAS,CAAC2B,QAAS,EAF5C,EAGG;AACP,UAAUH,QAAS;AACnB;AACA,OANI,EAOEI,IAPF,CAOQhD,GAAD,IAAS0C,OAAO,CAACC,GAAR,CAAa,wBAAb,CAPhB;IAQA,OAAOX,OAAP;EACD,CAxCD,CAwCE,OAAOD,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CA5CD;;AA8CA,MAAMkB,6CAA6C,GAAG,YAAY;EAChE,MAAMf,KAAK,GAAI;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAdE;;EAeA,IAAI;IACF,IAAIjB,aAAa,GAAG,EAApB;IACA,MAAM,CAACe,OAAD,IAAY,MAAMC,gBAAA,CAAUC,KAAV,CAAgBA,KAAhB,CAAxB;IACAjB,aAAa,GAAGe,OAAhB;IACA,OAAOf,aAAP;EACD,CALD,CAKE,OAAOc,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CAxBD;;AA0BA,MAAMmB,4BAA4B,GAAG,OAAOC,QAAP,EAAiBC,aAAjB,KAAmC;EACtE,IAAI;IACF,MAAMC,MAAM,GAAG,MAAM,IAAAC,kCAAA,EAAuBH,QAAvB,EAAiCC,aAAjC,CAArB;IACA,OAAOC,MAAP;EACD,CAHD,CAGE,OAAOtB,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CAPD;;AASAwB,MAAM,CAACC,OAAP,GAAiB;EACf1D,kBADe;EAEfoB,gBAFe;EAGfiB,0BAHe;EAIfG,qBAJe;EAKfD,wBALe;EAMfY,6CANe;EAOfC;AAPe,CAAjB"}},"mtime":1667231633846},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/candidates.repository.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  QueryTypes\n} = require(\"sequelize\");\n\nconst {\n  sequelize\n} = require(\"../models\");\n\nconst db = require(\"../models\"); // db column name = CandidateDetails\n\n\nconst findOne = async where => {\n  var _await$db$CandidateDe;\n\n  return (_await$db$CandidateDe = await db.CandidateDetails.findOne({\n    where: where\n  })) === null || _await$db$CandidateDe === void 0 ? void 0 : _await$db$CandidateDe.dataValues;\n};\n\nconst createNewCandidateDetails = async obj => {\n  // const testObj = {\n  //   id: \"b32c8efc-381c-4ff8-b82e-ea3b38a50298\",\n  //   ...obj,\n  // };\n  // console.log(obj)\n  const candidate = await db.CandidateDetails.create({ ...obj\n  });\n  return candidate === null || candidate === void 0 ? void 0 : candidate.dataValues;\n};\n\nconst getCandidateDetailsByMemberID = async memberID => {\n  var _await$db$CandidateDe2;\n\n  console.log({ ...db.CandidateDetails\n  });\n  return (_await$db$CandidateDe2 = await db.CandidateDetails.findAll({\n    where: {\n      Member_id: memberID\n    }\n  })) === null || _await$db$CandidateDe2 === void 0 ? void 0 : _await$db$CandidateDe2.dataValues;\n};\n\nconst getCandidateDetailsByStaffID = async staffID => {\n  var _await$db$CandidateDe3;\n\n  return (_await$db$CandidateDe3 = await db.CandidateDetails.findOne({\n    where: {\n      HRStaff_id: staffID\n    }\n  })) === null || _await$db$CandidateDe3 === void 0 ? void 0 : _await$db$CandidateDe3.dataValues;\n};\n\nconst getCandidateDetailsById = async candidateDetailsID => {\n  var _await$db$CandidateDe4;\n\n  return (_await$db$CandidateDe4 = await db.CandidateDetails.findOne({\n    where: {\n      id: candidateDetailsID\n    }\n  })) === null || _await$db$CandidateDe4 === void 0 ? void 0 : _await$db$CandidateDe4.dataValues;\n};\n\nconst update = async (newObj, where) => {\n  await db.CandidateDetails.update(newObj, {\n    where: where\n  });\n};\n\nconst showAllCandidateDetails = async () => {\n  let candidateDetailList = [];\n  candidateDetailList = await db.CandidateDetails.findAll({\n    raw: true\n  });\n  return candidateDetailList;\n};\n\nconst getSpecificCandidateById = async candidateID => {\n  const [result] = await sequelize.query(`select \n        C.id, C.identity_number, C.resume_url, C.phone, C.applied_status, C.dob, C.address, C.Job_id, C.HRStaff_id, C.Member_id, M.email as member_email, M.fullname as member_fullname, J.name as job_name\n    from CandidateDetails AS C\n    inner join Members M \n    on C.Member_id = M.id \n    inner join Jobs J \n    on J.id = C.Job_id \n    where C.id = ?`, {\n    replacements: [`${candidateID}`]\n  });\n  return result[0];\n};\n\nconst updateCandidateProfile = async (reportId, appliedResult) => {\n  const query = `UPDATE hrms.reports as R\n  INNER JOIN hrms.interviews as I\n  ON R.interview_id = I.id\n  INNER JOIN hrms.candidatedetails as C\n  ON C.id = I.CandidateDetail_id\n  INNER JOIN hrms.members as M\n  ON C.Member_id = M.id\n  SET M.is_employee = ?  \n  WHERE R.id = ?`;\n  const result = await sequelize.query(query, {\n    type: QueryTypes.UPDATE,\n    replacements: [appliedResult, reportId]\n  });\n  return result;\n};\n\nmodule.exports = {\n  findOne,\n  createNewCandidateDetails,\n  getCandidateDetailsByMemberID,\n  getCandidateDetailsByStaffID,\n  getCandidateDetailsById,\n  update,\n  showAllCandidateDetails,\n  getSpecificCandidateById,\n  updateCandidateProfile\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJRdWVyeVR5cGVzIiwicmVxdWlyZSIsInNlcXVlbGl6ZSIsImRiIiwiZmluZE9uZSIsIndoZXJlIiwiQ2FuZGlkYXRlRGV0YWlscyIsImRhdGFWYWx1ZXMiLCJjcmVhdGVOZXdDYW5kaWRhdGVEZXRhaWxzIiwib2JqIiwiY2FuZGlkYXRlIiwiY3JlYXRlIiwiZ2V0Q2FuZGlkYXRlRGV0YWlsc0J5TWVtYmVySUQiLCJtZW1iZXJJRCIsImNvbnNvbGUiLCJsb2ciLCJmaW5kQWxsIiwiTWVtYmVyX2lkIiwiZ2V0Q2FuZGlkYXRlRGV0YWlsc0J5U3RhZmZJRCIsInN0YWZmSUQiLCJIUlN0YWZmX2lkIiwiZ2V0Q2FuZGlkYXRlRGV0YWlsc0J5SWQiLCJjYW5kaWRhdGVEZXRhaWxzSUQiLCJpZCIsInVwZGF0ZSIsIm5ld09iaiIsInNob3dBbGxDYW5kaWRhdGVEZXRhaWxzIiwiY2FuZGlkYXRlRGV0YWlsTGlzdCIsInJhdyIsImdldFNwZWNpZmljQ2FuZGlkYXRlQnlJZCIsImNhbmRpZGF0ZUlEIiwicmVzdWx0IiwicXVlcnkiLCJyZXBsYWNlbWVudHMiLCJ1cGRhdGVDYW5kaWRhdGVQcm9maWxlIiwicmVwb3J0SWQiLCJhcHBsaWVkUmVzdWx0IiwidHlwZSIsIlVQREFURSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvcmVwb3NpdG9yeS8iLCJzb3VyY2VzIjpbImNhbmRpZGF0ZXMucmVwb3NpdG9yeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IFF1ZXJ5VHlwZXMgfSA9IHJlcXVpcmUoXCJzZXF1ZWxpemVcIik7XG5jb25zdCB7IHNlcXVlbGl6ZSB9ID0gcmVxdWlyZShcIi4uL21vZGVsc1wiKTtcbmNvbnN0IGRiID0gcmVxdWlyZShcIi4uL21vZGVsc1wiKTtcbi8vIGRiIGNvbHVtbiBuYW1lID0gQ2FuZGlkYXRlRGV0YWlsc1xuY29uc3QgZmluZE9uZSA9IGFzeW5jICh3aGVyZSkgPT4ge1xuICByZXR1cm4gKGF3YWl0IGRiLkNhbmRpZGF0ZURldGFpbHMuZmluZE9uZSh7IHdoZXJlOiB3aGVyZSB9KSk/LmRhdGFWYWx1ZXM7XG59O1xuY29uc3QgY3JlYXRlTmV3Q2FuZGlkYXRlRGV0YWlscyA9IGFzeW5jIChvYmopID0+IHtcbiAgLy8gY29uc3QgdGVzdE9iaiA9IHtcbiAgLy8gICBpZDogXCJiMzJjOGVmYy0zODFjLTRmZjgtYjgyZS1lYTNiMzhhNTAyOThcIixcbiAgLy8gICAuLi5vYmosXG4gIC8vIH07XG4gIC8vIGNvbnNvbGUubG9nKG9iailcbiAgY29uc3QgY2FuZGlkYXRlID0gYXdhaXQgZGIuQ2FuZGlkYXRlRGV0YWlscy5jcmVhdGUoe1xuICAgIC4uLm9iaixcbiAgfSk7XG4gIHJldHVybiBjYW5kaWRhdGU/LmRhdGFWYWx1ZXM7XG59O1xuXG5jb25zdCBnZXRDYW5kaWRhdGVEZXRhaWxzQnlNZW1iZXJJRCA9IGFzeW5jIChtZW1iZXJJRCkgPT4ge1xuICBjb25zb2xlLmxvZyh7IC4uLmRiLkNhbmRpZGF0ZURldGFpbHMgfSk7XG4gIHJldHVybiAoXG4gICAgYXdhaXQgZGIuQ2FuZGlkYXRlRGV0YWlscy5maW5kQWxsKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIE1lbWJlcl9pZDogbWVtYmVySUQsXG4gICAgICB9LFxuICAgIH0pXG4gICk/LmRhdGFWYWx1ZXM7XG59O1xuY29uc3QgZ2V0Q2FuZGlkYXRlRGV0YWlsc0J5U3RhZmZJRCA9IGFzeW5jIChzdGFmZklEKSA9PiB7XG4gIHJldHVybiAoXG4gICAgYXdhaXQgZGIuQ2FuZGlkYXRlRGV0YWlscy5maW5kT25lKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIEhSU3RhZmZfaWQ6IHN0YWZmSUQsXG4gICAgICB9LFxuICAgIH0pXG4gICk/LmRhdGFWYWx1ZXM7XG59O1xuY29uc3QgZ2V0Q2FuZGlkYXRlRGV0YWlsc0J5SWQgPSBhc3luYyAoY2FuZGlkYXRlRGV0YWlsc0lEKSA9PiB7XG4gIHJldHVybiAoXG4gICAgYXdhaXQgZGIuQ2FuZGlkYXRlRGV0YWlscy5maW5kT25lKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGlkOiBjYW5kaWRhdGVEZXRhaWxzSUQsXG4gICAgICB9LFxuICAgIH0pXG4gICk/LmRhdGFWYWx1ZXM7XG59O1xuY29uc3QgdXBkYXRlID0gYXN5bmMgKG5ld09iaiwgd2hlcmUpID0+IHtcbiAgYXdhaXQgZGIuQ2FuZGlkYXRlRGV0YWlscy51cGRhdGUobmV3T2JqLCB7XG4gICAgd2hlcmU6IHdoZXJlLFxuICB9KTtcbn07XG5jb25zdCBzaG93QWxsQ2FuZGlkYXRlRGV0YWlscyA9IGFzeW5jICgpID0+IHtcbiAgbGV0IGNhbmRpZGF0ZURldGFpbExpc3QgPSBbXTtcbiAgY2FuZGlkYXRlRGV0YWlsTGlzdCA9IGF3YWl0IGRiLkNhbmRpZGF0ZURldGFpbHMuZmluZEFsbCh7IHJhdzogdHJ1ZSB9KTtcbiAgcmV0dXJuIGNhbmRpZGF0ZURldGFpbExpc3Q7XG59O1xuY29uc3QgZ2V0U3BlY2lmaWNDYW5kaWRhdGVCeUlkID0gYXN5bmMgKGNhbmRpZGF0ZUlEKSA9PiB7XG4gIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KFxuICAgIGBzZWxlY3QgXG4gICAgICAgIEMuaWQsIEMuaWRlbnRpdHlfbnVtYmVyLCBDLnJlc3VtZV91cmwsIEMucGhvbmUsIEMuYXBwbGllZF9zdGF0dXMsIEMuZG9iLCBDLmFkZHJlc3MsIEMuSm9iX2lkLCBDLkhSU3RhZmZfaWQsIEMuTWVtYmVyX2lkLCBNLmVtYWlsIGFzIG1lbWJlcl9lbWFpbCwgTS5mdWxsbmFtZSBhcyBtZW1iZXJfZnVsbG5hbWUsIEoubmFtZSBhcyBqb2JfbmFtZVxuICAgIGZyb20gQ2FuZGlkYXRlRGV0YWlscyBBUyBDXG4gICAgaW5uZXIgam9pbiBNZW1iZXJzIE0gXG4gICAgb24gQy5NZW1iZXJfaWQgPSBNLmlkIFxuICAgIGlubmVyIGpvaW4gSm9icyBKIFxuICAgIG9uIEouaWQgPSBDLkpvYl9pZCBcbiAgICB3aGVyZSBDLmlkID0gP2AsXG4gICAge1xuICAgICAgcmVwbGFjZW1lbnRzOiBbYCR7Y2FuZGlkYXRlSUR9YF0sXG4gICAgfVxuICApO1xuICByZXR1cm4gcmVzdWx0WzBdO1xufTtcblxuY29uc3QgdXBkYXRlQ2FuZGlkYXRlUHJvZmlsZSA9IGFzeW5jIChyZXBvcnRJZCwgYXBwbGllZFJlc3VsdCkgPT4ge1xuICBjb25zdCBxdWVyeSA9IGBVUERBVEUgaHJtcy5yZXBvcnRzIGFzIFJcbiAgSU5ORVIgSk9JTiBocm1zLmludGVydmlld3MgYXMgSVxuICBPTiBSLmludGVydmlld19pZCA9IEkuaWRcbiAgSU5ORVIgSk9JTiBocm1zLmNhbmRpZGF0ZWRldGFpbHMgYXMgQ1xuICBPTiBDLmlkID0gSS5DYW5kaWRhdGVEZXRhaWxfaWRcbiAgSU5ORVIgSk9JTiBocm1zLm1lbWJlcnMgYXMgTVxuICBPTiBDLk1lbWJlcl9pZCA9IE0uaWRcbiAgU0VUIE0uaXNfZW1wbG95ZWUgPSA/ICBcbiAgV0hFUkUgUi5pZCA9ID9gO1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXF1ZWxpemUucXVlcnkocXVlcnksIHtcbiAgICB0eXBlOiBRdWVyeVR5cGVzLlVQREFURSxcbiAgICByZXBsYWNlbWVudHM6IFthcHBsaWVkUmVzdWx0LCByZXBvcnRJZF0sXG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGZpbmRPbmUsXG4gIGNyZWF0ZU5ld0NhbmRpZGF0ZURldGFpbHMsXG4gIGdldENhbmRpZGF0ZURldGFpbHNCeU1lbWJlcklELFxuICBnZXRDYW5kaWRhdGVEZXRhaWxzQnlTdGFmZklELFxuICBnZXRDYW5kaWRhdGVEZXRhaWxzQnlJZCxcbiAgdXBkYXRlLFxuICBzaG93QWxsQ2FuZGlkYXRlRGV0YWlscyxcbiAgZ2V0U3BlY2lmaWNDYW5kaWRhdGVCeUlkLFxuICB1cGRhdGVDYW5kaWRhdGVQcm9maWxlLFxu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","map":{"version":3,"names":["QueryTypes","require","sequelize","db","findOne","where","CandidateDetails","dataValues","createNewCandidateDetails","obj","candidate","create","getCandidateDetailsByMemberID","memberID","console","log","findAll","Member_id","getCandidateDetailsByStaffID","staffID","HRStaff_id","getCandidateDetailsById","candidateDetailsID","id","update","newObj","showAllCandidateDetails","candidateDetailList","raw","getSpecificCandidateById","candidateID","result","query","replacements","updateCandidateProfile","reportId","appliedResult","type","UPDATE","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/","sources":["candidates.repository.js"],"sourcesContent":["const { QueryTypes } = require(\"sequelize\");\nconst { sequelize } = require(\"../models\");\nconst db = require(\"../models\");\n// db column name = CandidateDetails\nconst findOne = async (where) => {\n  return (await db.CandidateDetails.findOne({ where: where }))?.dataValues;\n};\nconst createNewCandidateDetails = async (obj) => {\n  // const testObj = {\n  //   id: \"b32c8efc-381c-4ff8-b82e-ea3b38a50298\",\n  //   ...obj,\n  // };\n  // console.log(obj)\n  const candidate = await db.CandidateDetails.create({\n    ...obj,\n  });\n  return candidate?.dataValues;\n};\n\nconst getCandidateDetailsByMemberID = async (memberID) => {\n  console.log({ ...db.CandidateDetails });\n  return (\n    await db.CandidateDetails.findAll({\n      where: {\n        Member_id: memberID,\n      },\n    })\n  )?.dataValues;\n};\nconst getCandidateDetailsByStaffID = async (staffID) => {\n  return (\n    await db.CandidateDetails.findOne({\n      where: {\n        HRStaff_id: staffID,\n      },\n    })\n  )?.dataValues;\n};\nconst getCandidateDetailsById = async (candidateDetailsID) => {\n  return (\n    await db.CandidateDetails.findOne({\n      where: {\n        id: candidateDetailsID,\n      },\n    })\n  )?.dataValues;\n};\nconst update = async (newObj, where) => {\n  await db.CandidateDetails.update(newObj, {\n    where: where,\n  });\n};\nconst showAllCandidateDetails = async () => {\n  let candidateDetailList = [];\n  candidateDetailList = await db.CandidateDetails.findAll({ raw: true });\n  return candidateDetailList;\n};\nconst getSpecificCandidateById = async (candidateID) => {\n  const [result] = await sequelize.query(\n    `select \n        C.id, C.identity_number, C.resume_url, C.phone, C.applied_status, C.dob, C.address, C.Job_id, C.HRStaff_id, C.Member_id, M.email as member_email, M.fullname as member_fullname, J.name as job_name\n    from CandidateDetails AS C\n    inner join Members M \n    on C.Member_id = M.id \n    inner join Jobs J \n    on J.id = C.Job_id \n    where C.id = ?`,\n    {\n      replacements: [`${candidateID}`],\n    }\n  );\n  return result[0];\n};\n\nconst updateCandidateProfile = async (reportId, appliedResult) => {\n  const query = `UPDATE hrms.reports as R\n  INNER JOIN hrms.interviews as I\n  ON R.interview_id = I.id\n  INNER JOIN hrms.candidatedetails as C\n  ON C.id = I.CandidateDetail_id\n  INNER JOIN hrms.members as M\n  ON C.Member_id = M.id\n  SET M.is_employee = ?  \n  WHERE R.id = ?`;\n  const result = await sequelize.query(query, {\n    type: QueryTypes.UPDATE,\n    replacements: [appliedResult, reportId],\n  });\n  return result;\n};\n\nmodule.exports = {\n  findOne,\n  createNewCandidateDetails,\n  getCandidateDetailsByMemberID,\n  getCandidateDetailsByStaffID,\n  getCandidateDetailsById,\n  update,\n  showAllCandidateDetails,\n  getSpecificCandidateById,\n  updateCandidateProfile,\n};\n"],"mappings":"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"}},"mtime":1667231633836},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/candidates.repository.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  QueryTypes\n} = require(\"sequelize\");\n\nconst {\n  sequelize\n} = require(\"../models\");\n\nconst db = require(\"../models\"); // db column name = CandidateDetails\n\n\nconst findOne = async where => {\n  var _await$db$CandidateDe;\n\n  return (_await$db$CandidateDe = await db.CandidateDetails.findOne({\n    where: where\n  })) === null || _await$db$CandidateDe === void 0 ? void 0 : _await$db$CandidateDe.dataValues;\n};\n\nconst createNewCandidateDetails = async obj => {\n  // const testObj = {\n  //   id: \"b32c8efc-381c-4ff8-b82e-ea3b38a50298\",\n  //   ...obj,\n  // };\n  // console.log(obj)\n  const candidate = await db.CandidateDetails.create({ ...obj\n  });\n  return candidate === null || candidate === void 0 ? void 0 : candidate.dataValues;\n};\n\nconst getCandidateDetailsByMemberID = async memberID => {\n  var _await$db$CandidateDe2;\n\n  console.log({ ...db.CandidateDetails\n  });\n  return (_await$db$CandidateDe2 = await db.CandidateDetails.findAll({\n    where: {\n      Member_id: memberID\n    }\n  })) === null || _await$db$CandidateDe2 === void 0 ? void 0 : _await$db$CandidateDe2.dataValues;\n};\n\nconst getCandidateDetailsByStaffID = async staffID => {\n  var _await$db$CandidateDe3;\n\n  return (_await$db$CandidateDe3 = await db.CandidateDetails.findOne({\n    where: {\n      HRStaff_id: staffID\n    }\n  })) === null || _await$db$CandidateDe3 === void 0 ? void 0 : _await$db$CandidateDe3.dataValues;\n};\n\nconst getCandidateDetailsById = async candidateDetailsID => {\n  var _await$db$CandidateDe4;\n\n  return (_await$db$CandidateDe4 = await db.CandidateDetails.findOne({\n    where: {\n      id: candidateDetailsID\n    }\n  })) === null || _await$db$CandidateDe4 === void 0 ? void 0 : _await$db$CandidateDe4.dataValues;\n};\n\nconst update = async (newObj, where) => {\n  await db.CandidateDetails.update(newObj, {\n    where: where\n  });\n};\n\nconst showAllCandidateDetails = async () => {\n  let candidateDetailList = [];\n  candidateDetailList = await db.CandidateDetails.findAll({\n    raw: true\n  });\n  return candidateDetailList;\n};\n\nconst getSpecificCandidateById = async candidateID => {\n  const [result] = await sequelize.query(`select \n        C.id, C.identity_number, C.resume_url, C.phone, C.applied_status, C.dob, C.address, C.Job_id, C.HRStaff_id, C.Member_id, M.email as member_email, M.fullname as member_fullname, J.name as job_name\n    from CandidateDetails AS C\n    inner join Members M \n    on C.Member_id = M.id \n    inner join Jobs J \n    on J.id = C.Job_id \n    where C.id = ?`, {\n    replacements: [`${candidateID}`]\n  });\n  return result[0];\n};\n\nconst updateCandidateProfile = async (reportId, appliedResult) => {\n  const query = `UPDATE hrms.reports as R\n  INNER JOIN hrms.interviews as I\n  ON R.interview_id = I.id\n  INNER JOIN hrms.candidatedetails as C\n  ON C.id = I.CandidateDetail_id\n  INNER JOIN hrms.members as M\n  ON C.Member_id = M.id\n  SET M.is_employee = ?  \n  WHERE R.id = ?`;\n  const result = await sequelize.query(query, {\n    type: QueryTypes.UPDATE,\n    replacements: [appliedResult, reportId]\n  });\n  return result;\n};\n\nmodule.exports = {\n  findOne,\n  createNewCandidateDetails,\n  getCandidateDetailsByMemberID,\n  getCandidateDetailsByStaffID,\n  getCandidateDetailsById,\n  update,\n  showAllCandidateDetails,\n  getSpecificCandidateById,\n  updateCandidateProfile\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJRdWVyeVR5cGVzIiwicmVxdWlyZSIsInNlcXVlbGl6ZSIsImRiIiwiZmluZE9uZSIsIndoZXJlIiwiQ2FuZGlkYXRlRGV0YWlscyIsImRhdGFWYWx1ZXMiLCJjcmVhdGVOZXdDYW5kaWRhdGVEZXRhaWxzIiwib2JqIiwiY2FuZGlkYXRlIiwiY3JlYXRlIiwiZ2V0Q2FuZGlkYXRlRGV0YWlsc0J5TWVtYmVySUQiLCJtZW1iZXJJRCIsImNvbnNvbGUiLCJsb2ciLCJmaW5kQWxsIiwiTWVtYmVyX2lkIiwiZ2V0Q2FuZGlkYXRlRGV0YWlsc0J5U3RhZmZJRCIsInN0YWZmSUQiLCJIUlN0YWZmX2lkIiwiZ2V0Q2FuZGlkYXRlRGV0YWlsc0J5SWQiLCJjYW5kaWRhdGVEZXRhaWxzSUQiLCJpZCIsInVwZGF0ZSIsIm5ld09iaiIsInNob3dBbGxDYW5kaWRhdGVEZXRhaWxzIiwiY2FuZGlkYXRlRGV0YWlsTGlzdCIsInJhdyIsImdldFNwZWNpZmljQ2FuZGlkYXRlQnlJZCIsImNhbmRpZGF0ZUlEIiwicmVzdWx0IiwicXVlcnkiLCJyZXBsYWNlbWVudHMiLCJ1cGRhdGVDYW5kaWRhdGVQcm9maWxlIiwicmVwb3J0SWQiLCJhcHBsaWVkUmVzdWx0IiwidHlwZSIsIlVQREFURSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvcmVwb3NpdG9yeS8iLCJzb3VyY2VzIjpbImNhbmRpZGF0ZXMucmVwb3NpdG9yeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IFF1ZXJ5VHlwZXMgfSA9IHJlcXVpcmUoXCJzZXF1ZWxpemVcIik7XG5jb25zdCB7IHNlcXVlbGl6ZSB9ID0gcmVxdWlyZShcIi4uL21vZGVsc1wiKTtcbmNvbnN0IGRiID0gcmVxdWlyZShcIi4uL21vZGVsc1wiKTtcbi8vIGRiIGNvbHVtbiBuYW1lID0gQ2FuZGlkYXRlRGV0YWlsc1xuY29uc3QgZmluZE9uZSA9IGFzeW5jICh3aGVyZSkgPT4ge1xuICByZXR1cm4gKGF3YWl0IGRiLkNhbmRpZGF0ZURldGFpbHMuZmluZE9uZSh7IHdoZXJlOiB3aGVyZSB9KSk/LmRhdGFWYWx1ZXM7XG59O1xuY29uc3QgY3JlYXRlTmV3Q2FuZGlkYXRlRGV0YWlscyA9IGFzeW5jIChvYmopID0+IHtcbiAgLy8gY29uc3QgdGVzdE9iaiA9IHtcbiAgLy8gICBpZDogXCJiMzJjOGVmYy0zODFjLTRmZjgtYjgyZS1lYTNiMzhhNTAyOThcIixcbiAgLy8gICAuLi5vYmosXG4gIC8vIH07XG4gIC8vIGNvbnNvbGUubG9nKG9iailcbiAgY29uc3QgY2FuZGlkYXRlID0gYXdhaXQgZGIuQ2FuZGlkYXRlRGV0YWlscy5jcmVhdGUoe1xuICAgIC4uLm9iaixcbiAgfSk7XG4gIHJldHVybiBjYW5kaWRhdGU/LmRhdGFWYWx1ZXM7XG59O1xuXG5jb25zdCBnZXRDYW5kaWRhdGVEZXRhaWxzQnlNZW1iZXJJRCA9IGFzeW5jIChtZW1iZXJJRCkgPT4ge1xuICBjb25zb2xlLmxvZyh7IC4uLmRiLkNhbmRpZGF0ZURldGFpbHMgfSk7XG4gIHJldHVybiAoXG4gICAgYXdhaXQgZGIuQ2FuZGlkYXRlRGV0YWlscy5maW5kQWxsKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIE1lbWJlcl9pZDogbWVtYmVySUQsXG4gICAgICB9LFxuICAgIH0pXG4gICk/LmRhdGFWYWx1ZXM7XG59O1xuY29uc3QgZ2V0Q2FuZGlkYXRlRGV0YWlsc0J5U3RhZmZJRCA9IGFzeW5jIChzdGFmZklEKSA9PiB7XG4gIHJldHVybiAoXG4gICAgYXdhaXQgZGIuQ2FuZGlkYXRlRGV0YWlscy5maW5kT25lKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIEhSU3RhZmZfaWQ6IHN0YWZmSUQsXG4gICAgICB9LFxuICAgIH0pXG4gICk/LmRhdGFWYWx1ZXM7XG59O1xuY29uc3QgZ2V0Q2FuZGlkYXRlRGV0YWlsc0J5SWQgPSBhc3luYyAoY2FuZGlkYXRlRGV0YWlsc0lEKSA9PiB7XG4gIHJldHVybiAoXG4gICAgYXdhaXQgZGIuQ2FuZGlkYXRlRGV0YWlscy5maW5kT25lKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGlkOiBjYW5kaWRhdGVEZXRhaWxzSUQsXG4gICAgICB9LFxuICAgIH0pXG4gICk/LmRhdGFWYWx1ZXM7XG59O1xuY29uc3QgdXBkYXRlID0gYXN5bmMgKG5ld09iaiwgd2hlcmUpID0+IHtcbiAgYXdhaXQgZGIuQ2FuZGlkYXRlRGV0YWlscy51cGRhdGUobmV3T2JqLCB7XG4gICAgd2hlcmU6IHdoZXJlLFxuICB9KTtcbn07XG5jb25zdCBzaG93QWxsQ2FuZGlkYXRlRGV0YWlscyA9IGFzeW5jICgpID0+IHtcbiAgbGV0IGNhbmRpZGF0ZURldGFpbExpc3QgPSBbXTtcbiAgY2FuZGlkYXRlRGV0YWlsTGlzdCA9IGF3YWl0IGRiLkNhbmRpZGF0ZURldGFpbHMuZmluZEFsbCh7IHJhdzogdHJ1ZSB9KTtcbiAgcmV0dXJuIGNhbmRpZGF0ZURldGFpbExpc3Q7XG59O1xuY29uc3QgZ2V0U3BlY2lmaWNDYW5kaWRhdGVCeUlkID0gYXN5bmMgKGNhbmRpZGF0ZUlEKSA9PiB7XG4gIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KFxuICAgIGBzZWxlY3QgXG4gICAgICAgIEMuaWQsIEMuaWRlbnRpdHlfbnVtYmVyLCBDLnJlc3VtZV91cmwsIEMucGhvbmUsIEMuYXBwbGllZF9zdGF0dXMsIEMuZG9iLCBDLmFkZHJlc3MsIEMuSm9iX2lkLCBDLkhSU3RhZmZfaWQsIEMuTWVtYmVyX2lkLCBNLmVtYWlsIGFzIG1lbWJlcl9lbWFpbCwgTS5mdWxsbmFtZSBhcyBtZW1iZXJfZnVsbG5hbWUsIEoubmFtZSBhcyBqb2JfbmFtZVxuICAgIGZyb20gQ2FuZGlkYXRlRGV0YWlscyBBUyBDXG4gICAgaW5uZXIgam9pbiBNZW1iZXJzIE0gXG4gICAgb24gQy5NZW1iZXJfaWQgPSBNLmlkIFxuICAgIGlubmVyIGpvaW4gSm9icyBKIFxuICAgIG9uIEouaWQgPSBDLkpvYl9pZCBcbiAgICB3aGVyZSBDLmlkID0gP2AsXG4gICAge1xuICAgICAgcmVwbGFjZW1lbnRzOiBbYCR7Y2FuZGlkYXRlSUR9YF0sXG4gICAgfVxuICApO1xuICByZXR1cm4gcmVzdWx0WzBdO1xufTtcblxuY29uc3QgdXBkYXRlQ2FuZGlkYXRlUHJvZmlsZSA9IGFzeW5jIChyZXBvcnRJZCwgYXBwbGllZFJlc3VsdCkgPT4ge1xuICBjb25zdCBxdWVyeSA9IGBVUERBVEUgaHJtcy5yZXBvcnRzIGFzIFJcbiAgSU5ORVIgSk9JTiBocm1zLmludGVydmlld3MgYXMgSVxuICBPTiBSLmludGVydmlld19pZCA9IEkuaWRcbiAgSU5ORVIgSk9JTiBocm1zLmNhbmRpZGF0ZWRldGFpbHMgYXMgQ1xuICBPTiBDLmlkID0gSS5DYW5kaWRhdGVEZXRhaWxfaWRcbiAgSU5ORVIgSk9JTiBocm1zLm1lbWJlcnMgYXMgTVxuICBPTiBDLk1lbWJlcl9pZCA9IE0uaWRcbiAgU0VUIE0uaXNfZW1wbG95ZWUgPSA/ICBcbiAgV0hFUkUgUi5pZCA9ID9gO1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXF1ZWxpemUucXVlcnkocXVlcnksIHtcbiAgICB0eXBlOiBRdWVyeVR5cGVzLlVQREFURSxcbiAgICByZXBsYWNlbWVudHM6IFthcHBsaWVkUmVzdWx0LCByZXBvcnRJZF0sXG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGZpbmRPbmUsXG4gIGNyZWF0ZU5ld0NhbmRpZGF0ZURldGFpbHMsXG4gIGdldENhbmRpZGF0ZURldGFpbHNCeU1lbWJlcklELFxuICBnZXRDYW5kaWRhdGVEZXRhaWxzQnlTdGFmZklELFxuICBnZXRDYW5kaWRhdGVEZXRhaWxzQnlJZCxcbiAgdXBkYXRlLFxuICBzaG93QWxsQ2FuZGlkYXRlRGV0YWlscyxcbiAgZ2V0U3BlY2lmaWNDYW5kaWRhdGVCeUlkLFxuICB1cGRhdGVDYW5kaWRhdGVQcm9maWxlLFxu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","map":{"version":3,"names":["QueryTypes","require","sequelize","db","findOne","where","CandidateDetails","dataValues","createNewCandidateDetails","obj","candidate","create","getCandidateDetailsByMemberID","memberID","console","log","findAll","Member_id","getCandidateDetailsByStaffID","staffID","HRStaff_id","getCandidateDetailsById","candidateDetailsID","id","update","newObj","showAllCandidateDetails","candidateDetailList","raw","getSpecificCandidateById","candidateID","result","query","replacements","updateCandidateProfile","reportId","appliedResult","type","UPDATE","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/","sources":["candidates.repository.js"],"sourcesContent":["const { QueryTypes } = require(\"sequelize\");\nconst { sequelize } = require(\"../models\");\nconst db = require(\"../models\");\n// db column name = CandidateDetails\nconst findOne = async (where) => {\n  return (await db.CandidateDetails.findOne({ where: where }))?.dataValues;\n};\nconst createNewCandidateDetails = async (obj) => {\n  // const testObj = {\n  //   id: \"b32c8efc-381c-4ff8-b82e-ea3b38a50298\",\n  //   ...obj,\n  // };\n  // console.log(obj)\n  const candidate = await db.CandidateDetails.create({\n    ...obj,\n  });\n  return candidate?.dataValues;\n};\n\nconst getCandidateDetailsByMemberID = async (memberID) => {\n  console.log({ ...db.CandidateDetails });\n  return (\n    await db.CandidateDetails.findAll({\n      where: {\n        Member_id: memberID,\n      },\n    })\n  )?.dataValues;\n};\nconst getCandidateDetailsByStaffID = async (staffID) => {\n  return (\n    await db.CandidateDetails.findOne({\n      where: {\n        HRStaff_id: staffID,\n      },\n    })\n  )?.dataValues;\n};\nconst getCandidateDetailsById = async (candidateDetailsID) => {\n  return (\n    await db.CandidateDetails.findOne({\n      where: {\n        id: candidateDetailsID,\n      },\n    })\n  )?.dataValues;\n};\nconst update = async (newObj, where) => {\n  await db.CandidateDetails.update(newObj, {\n    where: where,\n  });\n};\nconst showAllCandidateDetails = async () => {\n  let candidateDetailList = [];\n  candidateDetailList = await db.CandidateDetails.findAll({ raw: true });\n  return candidateDetailList;\n};\nconst getSpecificCandidateById = async (candidateID) => {\n  const [result] = await sequelize.query(\n    `select \n        C.id, C.identity_number, C.resume_url, C.phone, C.applied_status, C.dob, C.address, C.Job_id, C.HRStaff_id, C.Member_id, M.email as member_email, M.fullname as member_fullname, J.name as job_name\n    from CandidateDetails AS C\n    inner join Members M \n    on C.Member_id = M.id \n    inner join Jobs J \n    on J.id = C.Job_id \n    where C.id = ?`,\n    {\n      replacements: [`${candidateID}`],\n    }\n  );\n  return result[0];\n};\n\nconst updateCandidateProfile = async (reportId, appliedResult) => {\n  const query = `UPDATE hrms.reports as R\n  INNER JOIN hrms.interviews as I\n  ON R.interview_id = I.id\n  INNER JOIN hrms.candidatedetails as C\n  ON C.id = I.CandidateDetail_id\n  INNER JOIN hrms.members as M\n  ON C.Member_id = M.id\n  SET M.is_employee = ?  \n  WHERE R.id = ?`;\n  const result = await sequelize.query(query, {\n    type: QueryTypes.UPDATE,\n    replacements: [appliedResult, reportId],\n  });\n  return result;\n};\n\nmodule.exports = {\n  findOne,\n  createNewCandidateDetails,\n  getCandidateDetailsByMemberID,\n  getCandidateDetailsByStaffID,\n  getCandidateDetailsById,\n  update,\n  showAllCandidateDetails,\n  getSpecificCandidateById,\n  updateCandidateProfile,\n};\n"],"mappings":";;AAAA,MAAM;EAAEA;AAAF,IAAiBC,OAAO,CAAC,WAAD,CAA9B;;AACA,MAAM;EAAEC;AAAF,IAAgBD,OAAO,CAAC,WAAD,CAA7B;;AACA,MAAME,EAAE,GAAGF,OAAO,CAAC,WAAD,CAAlB,C,CACA;;;AACA,MAAMG,OAAO,GAAG,MAAOC,KAAP,IAAiB;EAAA;;EAC/B,gCAAQ,MAAMF,EAAE,CAACG,gBAAH,CAAoBF,OAApB,CAA4B;IAAEC,KAAK,EAAEA;EAAT,CAA5B,CAAd,0DAAO,sBAAuDE,UAA9D;AACD,CAFD;;AAGA,MAAMC,yBAAyB,GAAG,MAAOC,GAAP,IAAe;EAC/C;EACA;EACA;EACA;EACA;EACA,MAAMC,SAAS,GAAG,MAAMP,EAAE,CAACG,gBAAH,CAAoBK,MAApB,CAA2B,EACjD,GAAGF;EAD8C,CAA3B,CAAxB;EAGA,OAAOC,SAAP,aAAOA,SAAP,uBAAOA,SAAS,CAAEH,UAAlB;AACD,CAVD;;AAYA,MAAMK,6BAA6B,GAAG,MAAOC,QAAP,IAAoB;EAAA;;EACxDC,OAAO,CAACC,GAAR,CAAY,EAAE,GAAGZ,EAAE,CAACG;EAAR,CAAZ;EACA,iCACE,MAAMH,EAAE,CAACG,gBAAH,CAAoBU,OAApB,CAA4B;IAChCX,KAAK,EAAE;MACLY,SAAS,EAAEJ;IADN;EADyB,CAA5B,CADR,2DAAO,uBAMJN,UANH;AAOD,CATD;;AAUA,MAAMW,4BAA4B,GAAG,MAAOC,OAAP,IAAmB;EAAA;;EACtD,iCACE,MAAMhB,EAAE,CAACG,gBAAH,CAAoBF,OAApB,CAA4B;IAChCC,KAAK,EAAE;MACLe,UAAU,EAAED;IADP;EADyB,CAA5B,CADR,2DAAO,uBAMJZ,UANH;AAOD,CARD;;AASA,MAAMc,uBAAuB,GAAG,MAAOC,kBAAP,IAA8B;EAAA;;EAC5D,iCACE,MAAMnB,EAAE,CAACG,gBAAH,CAAoBF,OAApB,CAA4B;IAChCC,KAAK,EAAE;MACLkB,EAAE,EAAED;IADC;EADyB,CAA5B,CADR,2DAAO,uBAMJf,UANH;AAOD,CARD;;AASA,MAAMiB,MAAM,GAAG,OAAOC,MAAP,EAAepB,KAAf,KAAyB;EACtC,MAAMF,EAAE,CAACG,gBAAH,CAAoBkB,MAApB,CAA2BC,MAA3B,EAAmC;IACvCpB,KAAK,EAAEA;EADgC,CAAnC,CAAN;AAGD,CAJD;;AAKA,MAAMqB,uBAAuB,GAAG,YAAY;EAC1C,IAAIC,mBAAmB,GAAG,EAA1B;EACAA,mBAAmB,GAAG,MAAMxB,EAAE,CAACG,gBAAH,CAAoBU,OAApB,CAA4B;IAAEY,GAAG,EAAE;EAAP,CAA5B,CAA5B;EACA,OAAOD,mBAAP;AACD,CAJD;;AAKA,MAAME,wBAAwB,GAAG,MAAOC,WAAP,IAAuB;EACtD,MAAM,CAACC,MAAD,IAAW,MAAM7B,SAAS,CAAC8B,KAAV,CACpB;AACL;AACA;AACA;AACA;AACA;AACA;AACA,mBARyB,EASrB;IACEC,YAAY,EAAE,CAAE,GAAEH,WAAY,EAAhB;EADhB,CATqB,CAAvB;EAaA,OAAOC,MAAM,CAAC,CAAD,CAAb;AACD,CAfD;;AAiBA,MAAMG,sBAAsB,GAAG,OAAOC,QAAP,EAAiBC,aAAjB,KAAmC;EAChE,MAAMJ,KAAK,GAAI;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBARE;EASA,MAAMD,MAAM,GAAG,MAAM7B,SAAS,CAAC8B,KAAV,CAAgBA,KAAhB,EAAuB;IAC1CK,IAAI,EAAErC,UAAU,CAACsC,MADyB;IAE1CL,YAAY,EAAE,CAACG,aAAD,EAAgBD,QAAhB;EAF4B,CAAvB,CAArB;EAIA,OAAOJ,MAAP;AACD,CAfD;;AAiBAQ,MAAM,CAACC,OAAP,GAAiB;EACfpC,OADe;EAEfI,yBAFe;EAGfI,6BAHe;EAIfM,4BAJe;EAKfG,uBALe;EAMfG,MANe;EAOfE,uBAPe;EAQfG,wBARe;EASfK;AATe,CAAjB"}},"mtime":1667231633836},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/categoryStatus.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  categoryStatus: [\"Active\", \"Inactive\", \"Hidden\"],\n  categoryStatusDefault: \"Active\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiY2F0ZWdvcnlTdGF0dXMiLCJjYXRlZ29yeVN0YXR1c0RlZmF1bHQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvY29uc3RhbnQvIiwic291cmNlcyI6WyJjYXRlZ29yeVN0YXR1cy5lbnVtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGNhdGVnb3J5U3RhdHVzOiBbXCJBY3RpdmVcIiwgXCJJbmFjdGl2ZVwiLCBcIkhpZGRlblwiXSxcbiAgICBjYXRlZ29yeVN0YXR1c0RlZmF1bHQ6IFwiQWN0aXZlXCIsXG59Il0sIm1hcHBpbmdzIjoiOztBQUFBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7RUFDYkMsY0FBYyxFQUFFLENBQUMsUUFBRCxFQUFXLFVBQVgsRUFBdUIsUUFBdkIsQ0FESDtFQUViQyxxQkFBcUIsRUFBRTtBQUZWLENBQWpCIn0=","map":{"version":3,"names":["module","exports","categoryStatus","categoryStatusDefault"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/","sources":["categoryStatus.enum.js"],"sourcesContent":["module.exports = {\n    categoryStatus: [\"Active\", \"Inactive\", \"Hidden\"],\n    categoryStatusDefault: \"Active\",\n}"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACbC,cAAc,EAAE,CAAC,QAAD,EAAW,UAAX,EAAuB,QAAvB,CADH;EAEbC,qBAAqB,EAAE;AAFV,CAAjB"}},"mtime":1666594653406},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/categories.repository.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _sequelize = require(\"sequelize\");\n\nvar _index = require(\"../models/index.js\");\n\nconst db = require(\"../models\");\n\nconst Categories = db.Categories;\n\nconst findOne = async id => {\n  return await Categories.findOne({\n    where: {\n      id: id\n    }\n  });\n};\n\nconst findAllCate = async where => {\n  // console.log()\n  return await Categories.findAll({\n    where: where\n  });\n};\n\nconst update = async (newObj, where) => {\n  await Categories.update(newObj, {\n    where: where\n  });\n};\n\nconst updateStatus = async where => {\n  return await Categories.update({\n    status: \"Hidden\"\n  }, {\n    where: where\n  });\n};\n\nconst createCategory = async data => {\n  return await Categories.create({\n    name: data.name,\n    description: data.description\n  });\n};\n\nmodule.exports = {\n  update,\n  updateStatus,\n  findAllCate,\n  findOne,\n  createCategory\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYiIsInJlcXVpcmUiLCJDYXRlZ29yaWVzIiwiZmluZE9uZSIsImlkIiwid2hlcmUiLCJmaW5kQWxsQ2F0ZSIsImZpbmRBbGwiLCJ1cGRhdGUiLCJuZXdPYmoiLCJ1cGRhdGVTdGF0dXMiLCJzdGF0dXMiLCJjcmVhdGVDYXRlZ29yeSIsImRhdGEiLCJjcmVhdGUiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL3JlcG9zaXRvcnkvIiwic291cmNlcyI6WyJjYXRlZ29yaWVzLnJlcG9zaXRvcnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGIgPSByZXF1aXJlKFwiLi4vbW9kZWxzXCIpO1xuaW1wb3J0IHsgT3AsIHdoZXJlIH0gZnJvbSBcInNlcXVlbGl6ZVwiO1xuLy8gaW1wb3J0IHsgd2hlcmUgfSBmcm9tIFwic2VxdWVsaXplXCI7XG5pbXBvcnQgeyBzZXF1ZWxpemUgfSBmcm9tIFwiLi4vbW9kZWxzL2luZGV4LmpzXCI7XG5jb25zdCBDYXRlZ29yaWVzID0gZGIuQ2F0ZWdvcmllcztcblxuY29uc3QgZmluZE9uZSA9IGFzeW5jIChpZCkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICAgIGF3YWl0IENhdGVnb3JpZXMuZmluZE9uZSh7XG4gICAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICApXG59XG5cbmNvbnN0IGZpbmRBbGxDYXRlID0gYXN5bmMgKHdoZXJlKSA9PiB7XG4gICAgLy8gY29uc29sZS5sb2coKVxuICAgIHJldHVybiAoXG4gICAgICAgIGF3YWl0IENhdGVnb3JpZXMuZmluZEFsbCh7XG4gICAgICAgICAgICB3aGVyZTogd2hlcmVcbiAgICAgICAgfSlcbiAgICApXG5cbn1cblxuY29uc3QgdXBkYXRlID0gYXN5bmMgKG5ld09iaiwgd2hlcmUpID0+IHtcbiAgICBhd2FpdCBDYXRlZ29yaWVzLnVwZGF0ZShuZXdPYmosIHtcbiAgICAgICAgd2hlcmU6IHdoZXJlLFxuICAgIH0pO1xufTtcblxuY29uc3QgdXBkYXRlU3RhdHVzID0gYXN5bmMgKHdoZXJlKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgYXdhaXQgQ2F0ZWdvcmllcy51cGRhdGUoeyBzdGF0dXM6IFwiSGlkZGVuXCIgfSwge1xuICAgICAgICAgICAgd2hlcmU6IHdoZXJlLFxuICAgICAgICB9XG4gICAgICAgIClcbiAgICApXG59O1xuXG5jb25zdCBjcmVhdGVDYXRlZ29yeSA9IGFzeW5jIChkYXRhKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgYXdhaXQgQ2F0ZWdvcmllcy5jcmVhdGUoe1xuICAgICAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGRhdGEuZGVzY3JpcHRpb24sXG4gICAgICAgIH0pXG4gICAgKVxufVxubW9kdWxlLmV4cG9ydHMgPSB7IHVwZGF0ZSwgdXBkYXRlU3RhdHVzLCBmaW5kQWxsQ2F0ZSwgZmluZE9uZSwgY3JlYXRlQ2F0ZWdvcnkgfTsiXSwibWFwcGluZ3MiOiI7O0FBQ0E7O0FBRUE7O0FBSEEsTUFBTUEsRUFBRSxHQUFHQyxPQUFPLENBQUMsV0FBRCxDQUFsQjs7QUFJQSxNQUFNQyxVQUFVLEdBQUdGLEVBQUUsQ0FBQ0UsVUFBdEI7O0FBRUEsTUFBTUMsT0FBTyxHQUFHLE1BQU9DLEVBQVAsSUFBYztFQUMxQixPQUNJLE1BQU1GLFVBQVUsQ0FBQ0MsT0FBWCxDQUFtQjtJQUNyQkUsS0FBSyxFQUFFO01BQ0hELEVBQUUsRUFBRUE7SUFERDtFQURjLENBQW5CLENBRFY7QUFPSCxDQVJEOztBQVVBLE1BQU1FLFdBQVcsR0FBRyxNQUFPRCxLQUFQLElBQWlCO0VBQ2pDO0VBQ0EsT0FDSSxNQUFNSCxVQUFVLENBQUNLLE9BQVgsQ0FBbUI7SUFDckJGLEtBQUssRUFBRUE7RUFEYyxDQUFuQixDQURWO0FBTUgsQ0FSRDs7QUFVQSxNQUFNRyxNQUFNLEdBQUcsT0FBT0MsTUFBUCxFQUFlSixLQUFmLEtBQXlCO0VBQ3BDLE1BQU1ILFVBQVUsQ0FBQ00sTUFBWCxDQUFrQkMsTUFBbEIsRUFBMEI7SUFDNUJKLEtBQUssRUFBRUE7RUFEcUIsQ0FBMUIsQ0FBTjtBQUdILENBSkQ7O0FBTUEsTUFBTUssWUFBWSxHQUFHLE1BQU9MLEtBQVAsSUFBaUI7RUFDbEMsT0FDSSxNQUFNSCxVQUFVLENBQUNNLE1BQVgsQ0FBa0I7SUFBRUcsTUFBTSxFQUFFO0VBQVYsQ0FBbEIsRUFBd0M7SUFDMUNOLEtBQUssRUFBRUE7RUFEbUMsQ0FBeEMsQ0FEVjtBQU1ILENBUEQ7O0FBU0EsTUFBTU8sY0FBYyxHQUFHLE1BQU9DLElBQVAsSUFBZ0I7RUFDbkMsT0FDSSxNQUFNWCxVQUFVLENBQUNZLE1BQVgsQ0FBa0I7SUFDcEJDLElBQUksRUFBRUYsSUFBSSxDQUFDRSxJQURTO0lBRXBCQyxXQUFXLEVBQUVILElBQUksQ0FBQ0c7RUFGRSxDQUFsQixDQURWO0FBTUgsQ0FQRDs7QUFRQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQUVWLE1BQUY7RUFBVUUsWUFBVjtFQUF3QkosV0FBeEI7RUFBcUNILE9BQXJDO0VBQThDUztBQUE5QyxDQUFqQiJ9","map":{"version":3,"names":["db","require","Categories","findOne","id","where","findAllCate","findAll","update","newObj","updateStatus","status","createCategory","data","create","name","description","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/","sources":["categories.repository.js"],"sourcesContent":["const db = require(\"../models\");\nimport { Op, where } from \"sequelize\";\n// import { where } from \"sequelize\";\nimport { sequelize } from \"../models/index.js\";\nconst Categories = db.Categories;\n\nconst findOne = async (id) => {\n    return (\n        await Categories.findOne({\n            where: {\n                id: id,\n            }\n        })\n    )\n}\n\nconst findAllCate = async (where) => {\n    // console.log()\n    return (\n        await Categories.findAll({\n            where: where\n        })\n    )\n\n}\n\nconst update = async (newObj, where) => {\n    await Categories.update(newObj, {\n        where: where,\n    });\n};\n\nconst updateStatus = async (where) => {\n    return (\n        await Categories.update({ status: \"Hidden\" }, {\n            where: where,\n        }\n        )\n    )\n};\n\nconst createCategory = async (data) => {\n    return (\n        await Categories.create({\n            name: data.name,\n            description: data.description,\n        })\n    )\n}\nmodule.exports = { update, updateStatus, findAllCate, findOne, createCategory };"],"mappings":";;AACA;;AAEA;;AAHA,MAAMA,EAAE,GAAGC,OAAO,CAAC,WAAD,CAAlB;;AAIA,MAAMC,UAAU,GAAGF,EAAE,CAACE,UAAtB;;AAEA,MAAMC,OAAO,GAAG,MAAOC,EAAP,IAAc;EAC1B,OACI,MAAMF,UAAU,CAACC,OAAX,CAAmB;IACrBE,KAAK,EAAE;MACHD,EAAE,EAAEA;IADD;EADc,CAAnB,CADV;AAOH,CARD;;AAUA,MAAME,WAAW,GAAG,MAAOD,KAAP,IAAiB;EACjC;EACA,OACI,MAAMH,UAAU,CAACK,OAAX,CAAmB;IACrBF,KAAK,EAAEA;EADc,CAAnB,CADV;AAMH,CARD;;AAUA,MAAMG,MAAM,GAAG,OAAOC,MAAP,EAAeJ,KAAf,KAAyB;EACpC,MAAMH,UAAU,CAACM,MAAX,CAAkBC,MAAlB,EAA0B;IAC5BJ,KAAK,EAAEA;EADqB,CAA1B,CAAN;AAGH,CAJD;;AAMA,MAAMK,YAAY,GAAG,MAAOL,KAAP,IAAiB;EAClC,OACI,MAAMH,UAAU,CAACM,MAAX,CAAkB;IAAEG,MAAM,EAAE;EAAV,CAAlB,EAAwC;IAC1CN,KAAK,EAAEA;EADmC,CAAxC,CADV;AAMH,CAPD;;AASA,MAAMO,cAAc,GAAG,MAAOC,IAAP,IAAgB;EACnC,OACI,MAAMX,UAAU,CAACY,MAAX,CAAkB;IACpBC,IAAI,EAAEF,IAAI,CAACE,IADS;IAEpBC,WAAW,EAAEH,IAAI,CAACG;EAFE,CAAlB,CADV;AAMH,CAPD;;AAQAC,MAAM,CAACC,OAAP,GAAiB;EAAEV,MAAF;EAAUE,YAAV;EAAwBJ,WAAxB;EAAqCH,OAArC;EAA8CS;AAA9C,CAAjB"}},"mtime":1666594653413},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/campaign.repository.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _sequelize = require(\"sequelize\");\n\nvar _index = require(\"../models/index.js\");\n\nconst db = require(\"../models\");\n\nconst findAll = async where => {\n  return await db.Campaigns.findAll({\n    where: where\n  });\n};\n\nconst createNewCampaign = async (data, iStatus) => {\n  return await db.Campaigns.create({\n    title: data.title,\n    description: data.description,\n    start_date: data.start_date,\n    end_date: data.end_date,\n    status: iStatus\n  });\n};\n\nconst getCampaignById = async id => {\n  var _await$db$Campaigns$f;\n\n  return (_await$db$Campaigns$f = await db.Campaigns.findOne({\n    where: {\n      id: id\n    }\n  })) === null || _await$db$Campaigns$f === void 0 ? void 0 : _await$db$Campaigns$f.dataValues;\n};\n\nconst update = async (newObj, where) => {\n  await db.Campaigns.update(newObj, {\n    where: where\n  });\n};\n\nconst updateStatus = async where => {\n  return await db.Campaigns.update({\n    status: \"Hidden\"\n  }, {\n    where: where\n  });\n};\n\nmodule.exports = {\n  findAll,\n  createNewCampaign,\n  update,\n  updateStatus,\n  getCampaignById\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYiIsInJlcXVpcmUiLCJmaW5kQWxsIiwid2hlcmUiLCJDYW1wYWlnbnMiLCJjcmVhdGVOZXdDYW1wYWlnbiIsImRhdGEiLCJpU3RhdHVzIiwiY3JlYXRlIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInN0YXJ0X2RhdGUiLCJlbmRfZGF0ZSIsInN0YXR1cyIsImdldENhbXBhaWduQnlJZCIsImlkIiwiZmluZE9uZSIsImRhdGFWYWx1ZXMiLCJ1cGRhdGUiLCJuZXdPYmoiLCJ1cGRhdGVTdGF0dXMiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL3JlcG9zaXRvcnkvIiwic291cmNlcyI6WyJjYW1wYWlnbi5yZXBvc2l0b3J5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGRiID0gcmVxdWlyZShcIi4uL21vZGVsc1wiKTtcbmltcG9ydCB7IHdoZXJlIH0gZnJvbSBcInNlcXVlbGl6ZVwiO1xuaW1wb3J0IHsgc2VxdWVsaXplIH0gZnJvbSBcIi4uL21vZGVscy9pbmRleC5qc1wiO1xuXG5jb25zdCBmaW5kQWxsID0gYXN5bmMgKHdoZXJlKSA9PiB7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICBhd2FpdCBkYi5DYW1wYWlnbnMuZmluZEFsbCh7XG4gICAgICAgICAgICB3aGVyZTogd2hlcmVcbiAgICAgICAgfSlcbiAgICApXG59XG5jb25zdCBjcmVhdGVOZXdDYW1wYWlnbiA9IGFzeW5jIChkYXRhLCBpU3RhdHVzKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgYXdhaXQgZGIuQ2FtcGFpZ25zLmNyZWF0ZSh7XG4gICAgICAgICAgICB0aXRsZTogZGF0YS50aXRsZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkYXRhLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgc3RhcnRfZGF0ZTogZGF0YS5zdGFydF9kYXRlLFxuICAgICAgICAgICAgZW5kX2RhdGU6IGRhdGEuZW5kX2RhdGUsXG4gICAgICAgICAgICBzdGF0dXM6IGlTdGF0dXMsXG4gICAgICAgIH0pXG4gICAgKVxuXG59XG5jb25zdCBnZXRDYW1wYWlnbkJ5SWQgPSBhc3luYyAoaWQpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgICBhd2FpdCBkYi5DYW1wYWlnbnMuZmluZE9uZSh7XG4gICAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgKT8uZGF0YVZhbHVlcztcbn07XG5cbmNvbnN0IHVwZGF0ZSA9IGFzeW5jIChuZXdPYmosIHdoZXJlKSA9PiB7XG4gICAgYXdhaXQgZGIuQ2FtcGFpZ25zLnVwZGF0ZShuZXdPYmosIHtcbiAgICAgICAgd2hlcmU6IHdoZXJlLFxuICAgIH0pO1xufTtcbmNvbnN0IHVwZGF0ZVN0YXR1cyA9IGFzeW5jICh3aGVyZSkgPT4ge1xuICAgIHJldHVybiAoXG5cbiAgICAgICAgYXdhaXQgZGIuQ2FtcGFpZ25zLnVwZGF0ZSh7IHN0YXR1czogXCJIaWRkZW5cIiB9LCB7XG4gICAgICAgICAgICB3aGVyZTogd2hlcmUsXG4gICAgICAgIH1cbiAgICAgICAgKVxuICAgIClcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGZpbmRBbGwsXG4gICAgY3JlYXRlTmV3Q2FtcGFpZ24sXG4gICAgdXBkYXRlLFxuICAgIHVwZGF0ZVN0YXR1cyxcbiAgICBnZXRDYW1wYWlnbkJ5SWQsXG59Il0sIm1hcHBpbmdzIjoiOztBQUNBOztBQUNBOztBQUZBLE1BQU1BLEVBQUUsR0FBR0MsT0FBTyxDQUFDLFdBQUQsQ0FBbEI7O0FBSUEsTUFBTUMsT0FBTyxHQUFHLE1BQU9DLEtBQVAsSUFBaUI7RUFFN0IsT0FDSSxNQUFNSCxFQUFFLENBQUNJLFNBQUgsQ0FBYUYsT0FBYixDQUFxQjtJQUN2QkMsS0FBSyxFQUFFQTtFQURnQixDQUFyQixDQURWO0FBS0gsQ0FQRDs7QUFRQSxNQUFNRSxpQkFBaUIsR0FBRyxPQUFPQyxJQUFQLEVBQWFDLE9BQWIsS0FBeUI7RUFDL0MsT0FDSSxNQUFNUCxFQUFFLENBQUNJLFNBQUgsQ0FBYUksTUFBYixDQUFvQjtJQUN0QkMsS0FBSyxFQUFFSCxJQUFJLENBQUNHLEtBRFU7SUFFdEJDLFdBQVcsRUFBRUosSUFBSSxDQUFDSSxXQUZJO0lBR3RCQyxVQUFVLEVBQUVMLElBQUksQ0FBQ0ssVUFISztJQUl0QkMsUUFBUSxFQUFFTixJQUFJLENBQUNNLFFBSk87SUFLdEJDLE1BQU0sRUFBRU47RUFMYyxDQUFwQixDQURWO0FBVUgsQ0FYRDs7QUFZQSxNQUFNTyxlQUFlLEdBQUcsTUFBT0MsRUFBUCxJQUFjO0VBQUE7O0VBQ2xDLGdDQUNJLE1BQU1mLEVBQUUsQ0FBQ0ksU0FBSCxDQUFhWSxPQUFiLENBQXFCO0lBQ3ZCYixLQUFLLEVBQUU7TUFDSFksRUFBRSxFQUFFQTtJQUREO0VBRGdCLENBQXJCLENBRFYsMERBQU8sc0JBTUpFLFVBTkg7QUFPSCxDQVJEOztBQVVBLE1BQU1DLE1BQU0sR0FBRyxPQUFPQyxNQUFQLEVBQWVoQixLQUFmLEtBQXlCO0VBQ3BDLE1BQU1ILEVBQUUsQ0FBQ0ksU0FBSCxDQUFhYyxNQUFiLENBQW9CQyxNQUFwQixFQUE0QjtJQUM5QmhCLEtBQUssRUFBRUE7RUFEdUIsQ0FBNUIsQ0FBTjtBQUdILENBSkQ7O0FBS0EsTUFBTWlCLFlBQVksR0FBRyxNQUFPakIsS0FBUCxJQUFpQjtFQUNsQyxPQUVJLE1BQU1ILEVBQUUsQ0FBQ0ksU0FBSCxDQUFhYyxNQUFiLENBQW9CO0lBQUVMLE1BQU0sRUFBRTtFQUFWLENBQXBCLEVBQTBDO0lBQzVDVixLQUFLLEVBQUVBO0VBRHFDLENBQTFDLENBRlY7QUFPSCxDQVJEOztBQVVBa0IsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2JwQixPQURhO0VBRWJHLGlCQUZhO0VBR2JhLE1BSGE7RUFJYkUsWUFKYTtFQUtiTjtBQUxhLENBQWpCIn0=","map":{"version":3,"names":["db","require","findAll","where","Campaigns","createNewCampaign","data","iStatus","create","title","description","start_date","end_date","status","getCampaignById","id","findOne","dataValues","update","newObj","updateStatus","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/","sources":["campaign.repository.js"],"sourcesContent":["const db = require(\"../models\");\nimport { where } from \"sequelize\";\nimport { sequelize } from \"../models/index.js\";\n\nconst findAll = async (where) => {\n\n    return (\n        await db.Campaigns.findAll({\n            where: where\n        })\n    )\n}\nconst createNewCampaign = async (data, iStatus) => {\n    return (\n        await db.Campaigns.create({\n            title: data.title,\n            description: data.description,\n            start_date: data.start_date,\n            end_date: data.end_date,\n            status: iStatus,\n        })\n    )\n\n}\nconst getCampaignById = async (id) => {\n    return (\n        await db.Campaigns.findOne({\n            where: {\n                id: id,\n            },\n        })\n    )?.dataValues;\n};\n\nconst update = async (newObj, where) => {\n    await db.Campaigns.update(newObj, {\n        where: where,\n    });\n};\nconst updateStatus = async (where) => {\n    return (\n\n        await db.Campaigns.update({ status: \"Hidden\" }, {\n            where: where,\n        }\n        )\n    )\n};\n\nmodule.exports = {\n    findAll,\n    createNewCampaign,\n    update,\n    updateStatus,\n    getCampaignById,\n}"],"mappings":";;AACA;;AACA;;AAFA,MAAMA,EAAE,GAAGC,OAAO,CAAC,WAAD,CAAlB;;AAIA,MAAMC,OAAO,GAAG,MAAOC,KAAP,IAAiB;EAE7B,OACI,MAAMH,EAAE,CAACI,SAAH,CAAaF,OAAb,CAAqB;IACvBC,KAAK,EAAEA;EADgB,CAArB,CADV;AAKH,CAPD;;AAQA,MAAME,iBAAiB,GAAG,OAAOC,IAAP,EAAaC,OAAb,KAAyB;EAC/C,OACI,MAAMP,EAAE,CAACI,SAAH,CAAaI,MAAb,CAAoB;IACtBC,KAAK,EAAEH,IAAI,CAACG,KADU;IAEtBC,WAAW,EAAEJ,IAAI,CAACI,WAFI;IAGtBC,UAAU,EAAEL,IAAI,CAACK,UAHK;IAItBC,QAAQ,EAAEN,IAAI,CAACM,QAJO;IAKtBC,MAAM,EAAEN;EALc,CAApB,CADV;AAUH,CAXD;;AAYA,MAAMO,eAAe,GAAG,MAAOC,EAAP,IAAc;EAAA;;EAClC,gCACI,MAAMf,EAAE,CAACI,SAAH,CAAaY,OAAb,CAAqB;IACvBb,KAAK,EAAE;MACHY,EAAE,EAAEA;IADD;EADgB,CAArB,CADV,0DAAO,sBAMJE,UANH;AAOH,CARD;;AAUA,MAAMC,MAAM,GAAG,OAAOC,MAAP,EAAehB,KAAf,KAAyB;EACpC,MAAMH,EAAE,CAACI,SAAH,CAAac,MAAb,CAAoBC,MAApB,EAA4B;IAC9BhB,KAAK,EAAEA;EADuB,CAA5B,CAAN;AAGH,CAJD;;AAKA,MAAMiB,YAAY,GAAG,MAAOjB,KAAP,IAAiB;EAClC,OAEI,MAAMH,EAAE,CAACI,SAAH,CAAac,MAAb,CAAoB;IAAEL,MAAM,EAAE;EAAV,CAApB,EAA0C;IAC5CV,KAAK,EAAEA;EADqC,CAA1C,CAFV;AAOH,CARD;;AAUAkB,MAAM,CAACC,OAAP,GAAiB;EACbpB,OADa;EAEbG,iBAFa;EAGba,MAHa;EAIbE,YAJa;EAKbN;AALa,CAAjB"}},"mtime":1666594653412},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/jobs.repository.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _sequelize = require(\"sequelize\");\n\nvar _index = _interopRequireWildcard(require(\"../models/index.js\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst Jobs = _index.default.Jobs;\n\nconst getJobsById = async id => {\n  var _await$Jobs$findOne;\n\n  return (_await$Jobs$findOne = await Jobs.findOne({\n    where: {\n      id: id\n    }\n  })) === null || _await$Jobs$findOne === void 0 ? void 0 : _await$Jobs$findOne.dataValues;\n};\n\nconst createNewJobs = async data => {\n  return await Jobs.create({\n    name: data.name,\n    description: data.description,\n    salary: data.salary,\n    quantity: data.quantity,\n    start_date: data.start_date,\n    end_date: data.end_date,\n    status: data.status,\n    experience: data.experience,\n    Category_id: data.categoryId,\n    Campaign_id: data.campaignId\n  });\n};\n\nconst updateStatus = async where => {\n  return await Jobs.update({\n    status: \"Hidden\"\n  }, {\n    where: where\n  });\n};\n\nconst update = async (newObj, where) => {\n  await Jobs.update(newObj, {\n    where: where\n  });\n};\n\nconst getJobsByCampaignId = async campaignId => {\n  const getJobsByCampaignIdQuery = \"SELECT J.id, J.name, J.description, J.salary, J.quantity, J.experience, J.isRemote, J.start_date, J.end_date FROM hrms.jobs AS J WHERE J.Campaign_id = ?\";\n  const data = await _index.sequelize.query(getJobsByCampaignIdQuery, {\n    replacements: [campaignId],\n    type: _sequelize.QueryTypes.SELECT,\n    plain: false\n  });\n  return data;\n};\n\nmodule.exports = {\n  getJobsById,\n  createNewJobs,\n  updateStatus,\n  update,\n  getJobsByCampaignId\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJKb2JzIiwiZGIiLCJnZXRKb2JzQnlJZCIsImlkIiwiZmluZE9uZSIsIndoZXJlIiwiZGF0YVZhbHVlcyIsImNyZWF0ZU5ld0pvYnMiLCJkYXRhIiwiY3JlYXRlIiwibmFtZSIsImRlc2NyaXB0aW9uIiwic2FsYXJ5IiwicXVhbnRpdHkiLCJzdGFydF9kYXRlIiwiZW5kX2RhdGUiLCJzdGF0dXMiLCJleHBlcmllbmNlIiwiQ2F0ZWdvcnlfaWQiLCJjYXRlZ29yeUlkIiwiQ2FtcGFpZ25faWQiLCJjYW1wYWlnbklkIiwidXBkYXRlU3RhdHVzIiwidXBkYXRlIiwibmV3T2JqIiwiZ2V0Sm9ic0J5Q2FtcGFpZ25JZCIsImdldEpvYnNCeUNhbXBhaWduSWRRdWVyeSIsInNlcXVlbGl6ZSIsInF1ZXJ5IiwicmVwbGFjZW1lbnRzIiwidHlwZSIsIlF1ZXJ5VHlwZXMiLCJTRUxFQ1QiLCJwbGFpbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvcmVwb3NpdG9yeS8iLCJzb3VyY2VzIjpbImpvYnMucmVwb3NpdG9yeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBRdWVyeVR5cGVzIH0gZnJvbSBcInNlcXVlbGl6ZVwiO1xuaW1wb3J0IGRiLCB7IHNlcXVlbGl6ZSB9IGZyb20gXCIuLi9tb2RlbHMvaW5kZXguanNcIjtcbmNvbnN0IEpvYnMgPSBkYi5Kb2JzO1xuXG5jb25zdCBnZXRKb2JzQnlJZCA9IGFzeW5jIChpZCkgPT4ge1xuICByZXR1cm4gKFxuICAgIGF3YWl0IEpvYnMuZmluZE9uZSh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBpZDogaWQsXG4gICAgICB9LFxuICAgIH0pXG4gICk/LmRhdGFWYWx1ZXM7XG59O1xuXG5jb25zdCBjcmVhdGVOZXdKb2JzID0gYXN5bmMgKGRhdGEpID0+IHtcbiAgcmV0dXJuIGF3YWl0IEpvYnMuY3JlYXRlKHtcbiAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgZGVzY3JpcHRpb246IGRhdGEuZGVzY3JpcHRpb24sXG4gICAgc2FsYXJ5OiBkYXRhLnNhbGFyeSxcbiAgICBxdWFudGl0eTogZGF0YS5xdWFudGl0eSxcbiAgICBzdGFydF9kYXRlOiBkYXRhLnN0YXJ0X2RhdGUsXG4gICAgZW5kX2RhdGU6IGRhdGEuZW5kX2RhdGUsXG4gICAgc3RhdHVzOiBkYXRhLnN0YXR1cyxcbiAgICBleHBlcmllbmNlOiBkYXRhLmV4cGVyaWVuY2UsXG4gICAgQ2F0ZWdvcnlfaWQ6IGRhdGEuY2F0ZWdvcnlJZCxcbiAgICBDYW1wYWlnbl9pZDogZGF0YS5jYW1wYWlnbklkLFxuICB9KTtcbn07XG5jb25zdCB1cGRhdGVTdGF0dXMgPSBhc3luYyAod2hlcmUpID0+IHtcbiAgcmV0dXJuIGF3YWl0IEpvYnMudXBkYXRlKFxuICAgIHsgc3RhdHVzOiBcIkhpZGRlblwiIH0sXG4gICAge1xuICAgICAgd2hlcmU6IHdoZXJlLFxuICAgIH1cbiAgKTtcbn07XG5cbmNvbnN0IHVwZGF0ZSA9IGFzeW5jIChuZXdPYmosIHdoZXJlKSA9PiB7XG4gIGF3YWl0IEpvYnMudXBkYXRlKG5ld09iaiwge1xuICAgIHdoZXJlOiB3aGVyZSxcbiAgfSk7XG59O1xuXG5jb25zdCBnZXRKb2JzQnlDYW1wYWlnbklkID0gYXN5bmMgKGNhbXBhaWduSWQpID0+IHtcbiAgY29uc3QgZ2V0Sm9ic0J5Q2FtcGFpZ25JZFF1ZXJ5ID1cbiAgICBcIlNFTEVDVCBKLmlkLCBKLm5hbWUsIEouZGVzY3JpcHRpb24sIEouc2FsYXJ5LCBKLnF1YW50aXR5LCBKLmV4cGVyaWVuY2UsIEouaXNSZW1vdGUsIEouc3RhcnRfZGF0ZSwgSi5lbmRfZGF0ZSBGUk9NIGhybXMuam9icyBBUyBKIFdIRVJFIEouQ2FtcGFpZ25faWQgPSA/XCI7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBzZXF1ZWxpemUucXVlcnkoZ2V0Sm9ic0J5Q2FtcGFpZ25JZFF1ZXJ5LCB7XG4gICAgcmVwbGFjZW1lbnRzOiBbY2FtcGFpZ25JZF0sXG4gICAgdHlwZTogUXVlcnlUeXBlcy5TRUxFQ1QsXG4gICAgcGxhaW46IGZhbHNlLFxuICB9KTtcbiAgcmV0dXJuIGRhdGE7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0Sm9ic0J5SWQsXG4gIGNyZWF0ZU5ld0pvYnMsXG4gIHVwZGF0ZVN0YXR1cyxcbiAgdXBkYXRlLFxuICBnZXRKb2JzQnlDYW1wYWlnbklkLFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7Ozs7O0FBQ0EsTUFBTUEsSUFBSSxHQUFHQyxjQUFBLENBQUdELElBQWhCOztBQUVBLE1BQU1FLFdBQVcsR0FBRyxNQUFPQyxFQUFQLElBQWM7RUFBQTs7RUFDaEMsOEJBQ0UsTUFBTUgsSUFBSSxDQUFDSSxPQUFMLENBQWE7SUFDakJDLEtBQUssRUFBRTtNQUNMRixFQUFFLEVBQUVBO0lBREM7RUFEVSxDQUFiLENBRFIsd0RBQU8sb0JBTUpHLFVBTkg7QUFPRCxDQVJEOztBQVVBLE1BQU1DLGFBQWEsR0FBRyxNQUFPQyxJQUFQLElBQWdCO0VBQ3BDLE9BQU8sTUFBTVIsSUFBSSxDQUFDUyxNQUFMLENBQVk7SUFDdkJDLElBQUksRUFBRUYsSUFBSSxDQUFDRSxJQURZO0lBRXZCQyxXQUFXLEVBQUVILElBQUksQ0FBQ0csV0FGSztJQUd2QkMsTUFBTSxFQUFFSixJQUFJLENBQUNJLE1BSFU7SUFJdkJDLFFBQVEsRUFBRUwsSUFBSSxDQUFDSyxRQUpRO0lBS3ZCQyxVQUFVLEVBQUVOLElBQUksQ0FBQ00sVUFMTTtJQU12QkMsUUFBUSxFQUFFUCxJQUFJLENBQUNPLFFBTlE7SUFPdkJDLE1BQU0sRUFBRVIsSUFBSSxDQUFDUSxNQVBVO0lBUXZCQyxVQUFVLEVBQUVULElBQUksQ0FBQ1MsVUFSTTtJQVN2QkMsV0FBVyxFQUFFVixJQUFJLENBQUNXLFVBVEs7SUFVdkJDLFdBQVcsRUFBRVosSUFBSSxDQUFDYTtFQVZLLENBQVosQ0FBYjtBQVlELENBYkQ7O0FBY0EsTUFBTUMsWUFBWSxHQUFHLE1BQU9qQixLQUFQLElBQWlCO0VBQ3BDLE9BQU8sTUFBTUwsSUFBSSxDQUFDdUIsTUFBTCxDQUNYO0lBQUVQLE1BQU0sRUFBRTtFQUFWLENBRFcsRUFFWDtJQUNFWCxLQUFLLEVBQUVBO0VBRFQsQ0FGVyxDQUFiO0FBTUQsQ0FQRDs7QUFTQSxNQUFNa0IsTUFBTSxHQUFHLE9BQU9DLE1BQVAsRUFBZW5CLEtBQWYsS0FBeUI7RUFDdEMsTUFBTUwsSUFBSSxDQUFDdUIsTUFBTCxDQUFZQyxNQUFaLEVBQW9CO0lBQ3hCbkIsS0FBSyxFQUFFQTtFQURpQixDQUFwQixDQUFOO0FBR0QsQ0FKRDs7QUFNQSxNQUFNb0IsbUJBQW1CLEdBQUcsTUFBT0osVUFBUCxJQUFzQjtFQUNoRCxNQUFNSyx3QkFBd0IsR0FDNUIsMEpBREY7RUFFQSxNQUFNbEIsSUFBSSxHQUFHLE1BQU1tQixnQkFBQSxDQUFVQyxLQUFWLENBQWdCRix3QkFBaEIsRUFBMEM7SUFDM0RHLFlBQVksRUFBRSxDQUFDUixVQUFELENBRDZDO0lBRTNEUyxJQUFJLEVBQUVDLHFCQUFBLENBQVdDLE1BRjBDO0lBRzNEQyxLQUFLLEVBQUU7RUFIb0QsQ0FBMUMsQ0FBbkI7RUFLQSxPQUFPekIsSUFBUDtBQUNELENBVEQ7O0FBV0EwQixNQUFNLENBQUNDLE9BQVAsR0FBaUI7RUFDZmpDLFdBRGU7RUFFZkssYUFGZTtFQUdmZSxZQUhlO0VBSWZDLE1BSmU7RUFLZkU7QUFMZSxDQUFqQiJ9","map":{"version":3,"names":["Jobs","db","getJobsById","id","findOne","where","dataValues","createNewJobs","data","create","name","description","salary","quantity","start_date","end_date","status","experience","Category_id","categoryId","Campaign_id","campaignId","updateStatus","update","newObj","getJobsByCampaignId","getJobsByCampaignIdQuery","sequelize","query","replacements","type","QueryTypes","SELECT","plain","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/","sources":["jobs.repository.js"],"sourcesContent":["import { QueryTypes } from \"sequelize\";\nimport db, { sequelize } from \"../models/index.js\";\nconst Jobs = db.Jobs;\n\nconst getJobsById = async (id) => {\n  return (\n    await Jobs.findOne({\n      where: {\n        id: id,\n      },\n    })\n  )?.dataValues;\n};\n\nconst createNewJobs = async (data) => {\n  return await Jobs.create({\n    name: data.name,\n    description: data.description,\n    salary: data.salary,\n    quantity: data.quantity,\n    start_date: data.start_date,\n    end_date: data.end_date,\n    status: data.status,\n    experience: data.experience,\n    Category_id: data.categoryId,\n    Campaign_id: data.campaignId,\n  });\n};\nconst updateStatus = async (where) => {\n  return await Jobs.update(\n    { status: \"Hidden\" },\n    {\n      where: where,\n    }\n  );\n};\n\nconst update = async (newObj, where) => {\n  await Jobs.update(newObj, {\n    where: where,\n  });\n};\n\nconst getJobsByCampaignId = async (campaignId) => {\n  const getJobsByCampaignIdQuery =\n    \"SELECT J.id, J.name, J.description, J.salary, J.quantity, J.experience, J.isRemote, J.start_date, J.end_date FROM hrms.jobs AS J WHERE J.Campaign_id = ?\";\n  const data = await sequelize.query(getJobsByCampaignIdQuery, {\n    replacements: [campaignId],\n    type: QueryTypes.SELECT,\n    plain: false,\n  });\n  return data;\n};\n\nmodule.exports = {\n  getJobsById,\n  createNewJobs,\n  updateStatus,\n  update,\n  getJobsByCampaignId,\n};\n"],"mappings":";;AAAA;;AACA;;;;;;AACA,MAAMA,IAAI,GAAGC,cAAA,CAAGD,IAAhB;;AAEA,MAAME,WAAW,GAAG,MAAOC,EAAP,IAAc;EAAA;;EAChC,8BACE,MAAMH,IAAI,CAACI,OAAL,CAAa;IACjBC,KAAK,EAAE;MACLF,EAAE,EAAEA;IADC;EADU,CAAb,CADR,wDAAO,oBAMJG,UANH;AAOD,CARD;;AAUA,MAAMC,aAAa,GAAG,MAAOC,IAAP,IAAgB;EACpC,OAAO,MAAMR,IAAI,CAACS,MAAL,CAAY;IACvBC,IAAI,EAAEF,IAAI,CAACE,IADY;IAEvBC,WAAW,EAAEH,IAAI,CAACG,WAFK;IAGvBC,MAAM,EAAEJ,IAAI,CAACI,MAHU;IAIvBC,QAAQ,EAAEL,IAAI,CAACK,QAJQ;IAKvBC,UAAU,EAAEN,IAAI,CAACM,UALM;IAMvBC,QAAQ,EAAEP,IAAI,CAACO,QANQ;IAOvBC,MAAM,EAAER,IAAI,CAACQ,MAPU;IAQvBC,UAAU,EAAET,IAAI,CAACS,UARM;IASvBC,WAAW,EAAEV,IAAI,CAACW,UATK;IAUvBC,WAAW,EAAEZ,IAAI,CAACa;EAVK,CAAZ,CAAb;AAYD,CAbD;;AAcA,MAAMC,YAAY,GAAG,MAAOjB,KAAP,IAAiB;EACpC,OAAO,MAAML,IAAI,CAACuB,MAAL,CACX;IAAEP,MAAM,EAAE;EAAV,CADW,EAEX;IACEX,KAAK,EAAEA;EADT,CAFW,CAAb;AAMD,CAPD;;AASA,MAAMkB,MAAM,GAAG,OAAOC,MAAP,EAAenB,KAAf,KAAyB;EACtC,MAAML,IAAI,CAACuB,MAAL,CAAYC,MAAZ,EAAoB;IACxBnB,KAAK,EAAEA;EADiB,CAApB,CAAN;AAGD,CAJD;;AAMA,MAAMoB,mBAAmB,GAAG,MAAOJ,UAAP,IAAsB;EAChD,MAAMK,wBAAwB,GAC5B,0JADF;EAEA,MAAMlB,IAAI,GAAG,MAAMmB,gBAAA,CAAUC,KAAV,CAAgBF,wBAAhB,EAA0C;IAC3DG,YAAY,EAAE,CAACR,UAAD,CAD6C;IAE3DS,IAAI,EAAEC,qBAAA,CAAWC,MAF0C;IAG3DC,KAAK,EAAE;EAHoD,CAA1C,CAAnB;EAKA,OAAOzB,IAAP;AACD,CATD;;AAWA0B,MAAM,CAACC,OAAP,GAAiB;EACfjC,WADe;EAEfK,aAFe;EAGfe,YAHe;EAIfC,MAJe;EAKfE;AALe,CAAjB"}},"mtime":1667231633838},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/interview.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\n\nconst router = express.Router();\n\nconst {\n  handleGetAllInterview,\n  handleGetAllRooms,\n  handleGetCandidatesNotInterview,\n  handleGetNumCandidatesByRoomWeek,\n  handleGetAllCandidates,\n  handleCreateNewInterview,\n  handleGetListCandidatesBySlot,\n  handleGetInterviewByCandidateId,\n  handleUpdateInterviewByCampaignId\n} = require(\"../controller/interview.controller\");\n\nrouter.get(\"/\", handleGetAllInterview);\nrouter.get(\"/room\", handleGetAllRooms);\nrouter.get(\"/not-interview\", handleGetCandidatesNotInterview);\nrouter.post(\"/by-room-week\", handleGetNumCandidatesByRoomWeek); // router.patch(\"/update\");\n\nrouter.get(\"/all-candidates\", handleGetAllCandidates);\nrouter.post(\"/\", handleCreateNewInterview);\nrouter.post(\"/candidates-by-slot\", handleGetListCandidatesBySlot);\nrouter.post(\"/by-candidate-id\", handleGetInterviewByCandidateId);\nrouter.patch(\"/update-interview\", handleUpdateInterviewByCampaignId);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImhhbmRsZUdldEFsbEludGVydmlldyIsImhhbmRsZUdldEFsbFJvb21zIiwiaGFuZGxlR2V0Q2FuZGlkYXRlc05vdEludGVydmlldyIsImhhbmRsZUdldE51bUNhbmRpZGF0ZXNCeVJvb21XZWVrIiwiaGFuZGxlR2V0QWxsQ2FuZGlkYXRlcyIsImhhbmRsZUNyZWF0ZU5ld0ludGVydmlldyIsImhhbmRsZUdldExpc3RDYW5kaWRhdGVzQnlTbG90IiwiaGFuZGxlR2V0SW50ZXJ2aWV3QnlDYW5kaWRhdGVJZCIsImhhbmRsZVVwZGF0ZUludGVydmlld0J5Q2FtcGFpZ25JZCIsImdldCIsInBvc3QiLCJwYXRjaCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsiaW50ZXJ2aWV3LnJvdXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbmNvbnN0IHtcbiAgaGFuZGxlR2V0QWxsSW50ZXJ2aWV3LFxuICBoYW5kbGVHZXRBbGxSb29tcyxcbiAgaGFuZGxlR2V0Q2FuZGlkYXRlc05vdEludGVydmlldyxcbiAgaGFuZGxlR2V0TnVtQ2FuZGlkYXRlc0J5Um9vbVdlZWssXG4gIGhhbmRsZUdldEFsbENhbmRpZGF0ZXMsXG4gIGhhbmRsZUNyZWF0ZU5ld0ludGVydmlldyxcbiAgaGFuZGxlR2V0TGlzdENhbmRpZGF0ZXNCeVNsb3QsXG4gIGhhbmRsZUdldEludGVydmlld0J5Q2FuZGlkYXRlSWQsXG4gIGhhbmRsZVVwZGF0ZUludGVydmlld0J5Q2FtcGFpZ25JZCxcbn0gPSByZXF1aXJlKFwiLi4vY29udHJvbGxlci9pbnRlcnZpZXcuY29udHJvbGxlclwiKTtcblxucm91dGVyLmdldChcIi9cIiwgaGFuZGxlR2V0QWxsSW50ZXJ2aWV3KTtcbnJvdXRlci5nZXQoXCIvcm9vbVwiLCBoYW5kbGVHZXRBbGxSb29tcyk7XG5yb3V0ZXIuZ2V0KFwiL25vdC1pbnRlcnZpZXdcIiwgaGFuZGxlR2V0Q2FuZGlkYXRlc05vdEludGVydmlldyk7XG5yb3V0ZXIucG9zdChcIi9ieS1yb29tLXdlZWtcIiwgaGFuZGxlR2V0TnVtQ2FuZGlkYXRlc0J5Um9vbVdlZWspO1xuLy8gcm91dGVyLnBhdGNoKFwiL3VwZGF0ZVwiKTtcbnJvdXRlci5nZXQoXCIvYWxsLWNhbmRpZGF0ZXNcIiwgaGFuZGxlR2V0QWxsQ2FuZGlkYXRlcyk7XG5yb3V0ZXIucG9zdChcIi9cIiwgaGFuZGxlQ3JlYXRlTmV3SW50ZXJ2aWV3KTtcbnJvdXRlci5wb3N0KFwiL2NhbmRpZGF0ZXMtYnktc2xvdFwiLCBoYW5kbGVHZXRMaXN0Q2FuZGlkYXRlc0J5U2xvdCk7XG5yb3V0ZXIucG9zdChcIi9ieS1jYW5kaWRhdGUtaWRcIiwgaGFuZGxlR2V0SW50ZXJ2aWV3QnlDYW5kaWRhdGVJZCk7XG5yb3V0ZXIucGF0Y2goXCIvdXBkYXRlLWludGVydmlld1wiLCBoYW5kbGVVcGRhdGVJbnRlcnZpZXdCeUNhbXBhaWduSWQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUVBLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQWY7O0FBQ0EsTUFBTTtFQUNKQyxxQkFESTtFQUVKQyxpQkFGSTtFQUdKQywrQkFISTtFQUlKQyxnQ0FKSTtFQUtKQyxzQkFMSTtFQU1KQyx3QkFOSTtFQU9KQyw2QkFQSTtFQVFKQywrQkFSSTtFQVNKQztBQVRJLElBVUZYLE9BQU8sQ0FBQyxvQ0FBRCxDQVZYOztBQVlBQyxNQUFNLENBQUNXLEdBQVAsQ0FBVyxHQUFYLEVBQWdCVCxxQkFBaEI7QUFDQUYsTUFBTSxDQUFDVyxHQUFQLENBQVcsT0FBWCxFQUFvQlIsaUJBQXBCO0FBQ0FILE1BQU0sQ0FBQ1csR0FBUCxDQUFXLGdCQUFYLEVBQTZCUCwrQkFBN0I7QUFDQUosTUFBTSxDQUFDWSxJQUFQLENBQVksZUFBWixFQUE2QlAsZ0NBQTdCLEUsQ0FDQTs7QUFDQUwsTUFBTSxDQUFDVyxHQUFQLENBQVcsaUJBQVgsRUFBOEJMLHNCQUE5QjtBQUNBTixNQUFNLENBQUNZLElBQVAsQ0FBWSxHQUFaLEVBQWlCTCx3QkFBakI7QUFDQVAsTUFBTSxDQUFDWSxJQUFQLENBQVkscUJBQVosRUFBbUNKLDZCQUFuQztBQUNBUixNQUFNLENBQUNZLElBQVAsQ0FBWSxrQkFBWixFQUFnQ0gsK0JBQWhDO0FBQ0FULE1BQU0sQ0FBQ2EsS0FBUCxDQUFhLG1CQUFiLEVBQWtDSCxpQ0FBbEM7QUFFQUksTUFBTSxDQUFDQyxPQUFQLEdBQWlCZixNQUFqQiJ9","map":{"version":3,"names":["express","require","router","Router","handleGetAllInterview","handleGetAllRooms","handleGetCandidatesNotInterview","handleGetNumCandidatesByRoomWeek","handleGetAllCandidates","handleCreateNewInterview","handleGetListCandidatesBySlot","handleGetInterviewByCandidateId","handleUpdateInterviewByCampaignId","get","post","patch","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["interview.route.js"],"sourcesContent":["const express = require(\"express\");\n\nconst router = express.Router();\nconst {\n  handleGetAllInterview,\n  handleGetAllRooms,\n  handleGetCandidatesNotInterview,\n  handleGetNumCandidatesByRoomWeek,\n  handleGetAllCandidates,\n  handleCreateNewInterview,\n  handleGetListCandidatesBySlot,\n  handleGetInterviewByCandidateId,\n  handleUpdateInterviewByCampaignId,\n} = require(\"../controller/interview.controller\");\n\nrouter.get(\"/\", handleGetAllInterview);\nrouter.get(\"/room\", handleGetAllRooms);\nrouter.get(\"/not-interview\", handleGetCandidatesNotInterview);\nrouter.post(\"/by-room-week\", handleGetNumCandidatesByRoomWeek);\n// router.patch(\"/update\");\nrouter.get(\"/all-candidates\", handleGetAllCandidates);\nrouter.post(\"/\", handleCreateNewInterview);\nrouter.post(\"/candidates-by-slot\", handleGetListCandidatesBySlot);\nrouter.post(\"/by-candidate-id\", handleGetInterviewByCandidateId);\nrouter.patch(\"/update-interview\", handleUpdateInterviewByCampaignId);\n\nmodule.exports = router;\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AAEA,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;AACA,MAAM;EACJC,qBADI;EAEJC,iBAFI;EAGJC,+BAHI;EAIJC,gCAJI;EAKJC,sBALI;EAMJC,wBANI;EAOJC,6BAPI;EAQJC,+BARI;EASJC;AATI,IAUFX,OAAO,CAAC,oCAAD,CAVX;;AAYAC,MAAM,CAACW,GAAP,CAAW,GAAX,EAAgBT,qBAAhB;AACAF,MAAM,CAACW,GAAP,CAAW,OAAX,EAAoBR,iBAApB;AACAH,MAAM,CAACW,GAAP,CAAW,gBAAX,EAA6BP,+BAA7B;AACAJ,MAAM,CAACY,IAAP,CAAY,eAAZ,EAA6BP,gCAA7B,E,CACA;;AACAL,MAAM,CAACW,GAAP,CAAW,iBAAX,EAA8BL,sBAA9B;AACAN,MAAM,CAACY,IAAP,CAAY,GAAZ,EAAiBL,wBAAjB;AACAP,MAAM,CAACY,IAAP,CAAY,qBAAZ,EAAmCJ,6BAAnC;AACAR,MAAM,CAACY,IAAP,CAAY,kBAAZ,EAAgCH,+BAAhC;AACAT,MAAM,CAACa,KAAP,CAAa,mBAAb,EAAkCH,iCAAlC;AAEAI,MAAM,CAACC,OAAP,GAAiBf,MAAjB"}},"mtime":1667231633842},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/interview.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst interviewService = require(\"../service/interviewService\");\n\nconst handleGetAllInterview = async (req, res, next) => {\n  try {\n    const getInterview = await interviewService.getAllInterviews();\n    res.json(getInterview);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetAllRooms = async (req, res, next) => {\n  try {\n    const getAllRooms = await interviewService.getAllRooms();\n    res.json(getAllRooms);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetCandidatesNotInterview = async (req, res, next) => {\n  try {\n    const getCandidatesNotInterview = await interviewService.getCandidatesNotInterview();\n    res.json(getCandidatesNotInterview);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetNumCandidatesByRoomWeek = async (req, res, next) => {\n  try {\n    const week = req.body.week;\n    const getNumCandidatesByRoomWeek = await interviewService.getNumCandidatesByRoomWeek(week);\n    res.json(getNumCandidatesByRoomWeek);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst updateInterview = async (req, res, next) => {\n  try {\n    // interviewService.updateInterviewByID()\n    console.log(req.body);\n  } catch (error) {}\n};\n\nconst handleGetAllCandidates = async (req, res, next) => {\n  try {\n    const getAllCandidates = await interviewService.getAllCandidates();\n    res.json(getAllCandidates);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleCreateNewInterview = async (req, res, next) => {\n  try {\n    const data = req.body;\n    console.log(data);\n    const createNewInterview = await interviewService.createNewInterview(data);\n    res.json(createNewInterview);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetListCandidatesBySlot = async (req, res, next) => {\n  try {\n    const slot = req.body.slot;\n    const room = req.body.room;\n    const week = req.body.week;\n    const candidateList = await interviewService.getListCandidatesBySlot(week, room, slot);\n    res.json(candidateList);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetInterviewByCandidateId = async (req, res, next) => {\n  try {\n    const candidateId = req.body.candidateId;\n    const result = await interviewService.getInterviewByCandidateId(candidateId);\n    res.json(result);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleUpdateInterviewByCampaignId = async (req, res, next) => {\n  try {\n    const week = req.body.week;\n    const room = req.body.room;\n    const slot = req.body.slot;\n    const candidateId = req.body.candidateId;\n    const result = interviewService.updateInterviewByID(candidateId, week, room, slot);\n    res.json(result);\n  } catch (error) {\n    next(error);\n  }\n};\n\nmodule.exports = {\n  handleGetAllInterview,\n  handleGetAllRooms,\n  handleGetCandidatesNotInterview,\n  handleGetNumCandidatesByRoomWeek,\n  updateInterview,\n  handleGetAllCandidates,\n  handleCreateNewInterview,\n  handleGetListCandidatesBySlot,\n  handleGetInterviewByCandidateId,\n  handleUpdateInterviewByCampaignId\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpbnRlcnZpZXdTZXJ2aWNlIiwicmVxdWlyZSIsImhhbmRsZUdldEFsbEludGVydmlldyIsInJlcSIsInJlcyIsIm5leHQiLCJnZXRJbnRlcnZpZXciLCJnZXRBbGxJbnRlcnZpZXdzIiwianNvbiIsImVycm9yIiwiaGFuZGxlR2V0QWxsUm9vbXMiLCJnZXRBbGxSb29tcyIsImhhbmRsZUdldENhbmRpZGF0ZXNOb3RJbnRlcnZpZXciLCJnZXRDYW5kaWRhdGVzTm90SW50ZXJ2aWV3IiwiaGFuZGxlR2V0TnVtQ2FuZGlkYXRlc0J5Um9vbVdlZWsiLCJ3ZWVrIiwiYm9keSIsImdldE51bUNhbmRpZGF0ZXNCeVJvb21XZWVrIiwidXBkYXRlSW50ZXJ2aWV3IiwiY29uc29sZSIsImxvZyIsImhhbmRsZUdldEFsbENhbmRpZGF0ZXMiLCJnZXRBbGxDYW5kaWRhdGVzIiwiaGFuZGxlQ3JlYXRlTmV3SW50ZXJ2aWV3IiwiZGF0YSIsImNyZWF0ZU5ld0ludGVydmlldyIsImhhbmRsZUdldExpc3RDYW5kaWRhdGVzQnlTbG90Iiwic2xvdCIsInJvb20iLCJjYW5kaWRhdGVMaXN0IiwiZ2V0TGlzdENhbmRpZGF0ZXNCeVNsb3QiLCJoYW5kbGVHZXRJbnRlcnZpZXdCeUNhbmRpZGF0ZUlkIiwiY2FuZGlkYXRlSWQiLCJyZXN1bHQiLCJnZXRJbnRlcnZpZXdCeUNhbmRpZGF0ZUlkIiwiaGFuZGxlVXBkYXRlSW50ZXJ2aWV3QnlDYW1wYWlnbklkIiwidXBkYXRlSW50ZXJ2aWV3QnlJRCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvY29udHJvbGxlci8iLCJzb3VyY2VzIjpbImludGVydmlldy5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGludGVydmlld1NlcnZpY2UgPSByZXF1aXJlKFwiLi4vc2VydmljZS9pbnRlcnZpZXdTZXJ2aWNlXCIpO1xuXG5jb25zdCBoYW5kbGVHZXRBbGxJbnRlcnZpZXcgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBnZXRJbnRlcnZpZXcgPSBhd2FpdCBpbnRlcnZpZXdTZXJ2aWNlLmdldEFsbEludGVydmlld3MoKTtcbiAgICByZXMuanNvbihnZXRJbnRlcnZpZXcpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIG5leHQoZXJyb3IpO1xuICB9XG59O1xuXG5jb25zdCBoYW5kbGVHZXRBbGxSb29tcyA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGdldEFsbFJvb21zID0gYXdhaXQgaW50ZXJ2aWV3U2VydmljZS5nZXRBbGxSb29tcygpO1xuICAgIHJlcy5qc29uKGdldEFsbFJvb21zKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBuZXh0KGVycm9yKTtcbiAgfVxufTtcblxuY29uc3QgaGFuZGxlR2V0Q2FuZGlkYXRlc05vdEludGVydmlldyA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGdldENhbmRpZGF0ZXNOb3RJbnRlcnZpZXcgPVxuICAgICAgYXdhaXQgaW50ZXJ2aWV3U2VydmljZS5nZXRDYW5kaWRhdGVzTm90SW50ZXJ2aWV3KCk7XG4gICAgcmVzLmpzb24oZ2V0Q2FuZGlkYXRlc05vdEludGVydmlldyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbmV4dChlcnJvcik7XG4gIH1cbn07XG5cbmNvbnN0IGhhbmRsZUdldE51bUNhbmRpZGF0ZXNCeVJvb21XZWVrID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3Qgd2VlayA9IHJlcS5ib2R5LndlZWs7XG4gICAgY29uc3QgZ2V0TnVtQ2FuZGlkYXRlc0J5Um9vbVdlZWsgPVxuICAgICAgYXdhaXQgaW50ZXJ2aWV3U2VydmljZS5nZXROdW1DYW5kaWRhdGVzQnlSb29tV2Vlayh3ZWVrKTtcbiAgICByZXMuanNvbihnZXROdW1DYW5kaWRhdGVzQnlSb29tV2Vlayk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbmV4dChlcnJvcik7XG4gIH1cbn07XG5jb25zdCB1cGRhdGVJbnRlcnZpZXcgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgdHJ5IHtcbiAgICAvLyBpbnRlcnZpZXdTZXJ2aWNlLnVwZGF0ZUludGVydmlld0J5SUQoKVxuICAgIGNvbnNvbGUubG9nKHJlcS5ib2R5KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHt9XG59O1xuXG5jb25zdCBoYW5kbGVHZXRBbGxDYW5kaWRhdGVzID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZ2V0QWxsQ2FuZGlkYXRlcyA9IGF3YWl0IGludGVydmlld1NlcnZpY2UuZ2V0QWxsQ2FuZGlkYXRlcygpO1xuICAgIHJlcy5qc29uKGdldEFsbENhbmRpZGF0ZXMpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIG5leHQoZXJyb3IpO1xuICB9XG59O1xuXG5jb25zdCBoYW5kbGVDcmVhdGVOZXdJbnRlcnZpZXcgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkYXRhID0gcmVxLmJvZHk7XG4gICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgY29uc3QgY3JlYXRlTmV3SW50ZXJ2aWV3ID0gYXdhaXQgaW50ZXJ2aWV3U2VydmljZS5jcmVhdGVOZXdJbnRlcnZpZXcoZGF0YSk7XG4gICAgcmVzLmpzb24oY3JlYXRlTmV3SW50ZXJ2aWV3KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBuZXh0KGVycm9yKTtcbiAgfVxufTtcblxuY29uc3QgaGFuZGxlR2V0TGlzdENhbmRpZGF0ZXNCeVNsb3QgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzbG90ID0gcmVxLmJvZHkuc2xvdDtcbiAgICBjb25zdCByb29tID0gcmVxLmJvZHkucm9vbTtcbiAgICBjb25zdCB3ZWVrID0gcmVxLmJvZHkud2VlaztcbiAgICBjb25zdCBjYW5kaWRhdGVMaXN0ID0gYXdhaXQgaW50ZXJ2aWV3U2VydmljZS5nZXRMaXN0Q2FuZGlkYXRlc0J5U2xvdChcbiAgICAgIHdlZWssXG4gICAgICByb29tLFxuICAgICAgc2xvdFxuICAgICk7XG4gICAgcmVzLmpzb24oY2FuZGlkYXRlTGlzdCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbmV4dChlcnJvcik7XG4gIH1cbn07XG5cbmNvbnN0IGhhbmRsZUdldEludGVydmlld0J5Q2FuZGlkYXRlSWQgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjYW5kaWRhdGVJZCA9IHJlcS5ib2R5LmNhbmRpZGF0ZUlkO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGludGVydmlld1NlcnZpY2UuZ2V0SW50ZXJ2aWV3QnlDYW5kaWRhdGVJZChcbiAgICAgIGNhbmRpZGF0ZUlkXG4gICAgKTtcbiAgICByZXMuanNvbihyZXN1bHQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIG5leHQoZXJyb3IpO1xuICB9XG59O1xuXG5jb25zdCBoYW5kbGVVcGRhdGVJbnRlcnZpZXdCeUNhbXBhaWduSWQgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB3ZWVrID0gcmVxLmJvZHkud2VlaztcbiAgICBjb25zdCByb29tID0gcmVxLmJvZHkucm9vbTtcbiAgICBjb25zdCBzbG90ID0gcmVxLmJvZHkuc2xvdDtcbiAgICBjb25zdCBjYW5kaWRhdGVJZCA9IHJlcS5ib2R5LmNhbmRpZGF0ZUlkO1xuICAgIGNvbnN0IHJlc3VsdCA9IGludGVydmlld1NlcnZpY2UudXBkYXRlSW50ZXJ2aWV3QnlJRChcbiAgICAgIGNhbmRpZGF0ZUlkLFxuICAgICAgd2VlayxcbiAgICAgIHJvb20sXG4gICAgICBzbG90XG4gICAgKTtcbiAgICByZXMuanNvbihyZXN1bHQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIG5leHQoZXJyb3IpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaGFuZGxlR2V0QWxsSW50ZXJ2aWV3LFxuICBoYW5kbGVHZXRBbGxSb29tcyxcbiAgaGFuZGxlR2V0Q2FuZGlkYXRlc05vdEludGVydmlldyxcbiAgaGFuZGxlR2V0TnVtQ2FuZGlkYXRlc0J5Um9vbVdlZWssXG4gIHVwZGF0ZUludGVydmlldyxcbiAgaGFuZGxlR2V0QWxsQ2FuZGlkYXRlcyxcbiAgaGFuZGxlQ3JlYXRlTmV3SW50ZXJ2aWV3LFxuICBoYW5kbGVHZXRMaXN0Q2FuZGlkYXRlc0J5U2xvdCxcbiAgaGFuZGxlR2V0SW50ZXJ2aWV3QnlDYW5kaWRhdGVJZCxcbiAgaGFuZGxlVXBkYXRlSW50ZXJ2aWV3QnlDYW1wYWlnbklkLFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxnQkFBZ0IsR0FBR0MsT0FBTyxDQUFDLDZCQUFELENBQWhDOztBQUVBLE1BQU1DLHFCQUFxQixHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDdEQsSUFBSTtJQUNGLE1BQU1DLFlBQVksR0FBRyxNQUFNTixnQkFBZ0IsQ0FBQ08sZ0JBQWpCLEVBQTNCO0lBQ0FILEdBQUcsQ0FBQ0ksSUFBSixDQUFTRixZQUFUO0VBQ0QsQ0FIRCxDQUdFLE9BQU9HLEtBQVAsRUFBYztJQUNkSixJQUFJLENBQUNJLEtBQUQsQ0FBSjtFQUNEO0FBQ0YsQ0FQRDs7QUFTQSxNQUFNQyxpQkFBaUIsR0FBRyxPQUFPUCxHQUFQLEVBQVlDLEdBQVosRUFBaUJDLElBQWpCLEtBQTBCO0VBQ2xELElBQUk7SUFDRixNQUFNTSxXQUFXLEdBQUcsTUFBTVgsZ0JBQWdCLENBQUNXLFdBQWpCLEVBQTFCO0lBQ0FQLEdBQUcsQ0FBQ0ksSUFBSixDQUFTRyxXQUFUO0VBQ0QsQ0FIRCxDQUdFLE9BQU9GLEtBQVAs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","map":{"version":3,"names":["interviewService","require","handleGetAllInterview","req","res","next","getInterview","getAllInterviews","json","error","handleGetAllRooms","getAllRooms","handleGetCandidatesNotInterview","getCandidatesNotInterview","handleGetNumCandidatesByRoomWeek","week","body","getNumCandidatesByRoomWeek","updateInterview","console","log","handleGetAllCandidates","getAllCandidates","handleCreateNewInterview","data","createNewInterview","handleGetListCandidatesBySlot","slot","room","candidateList","getListCandidatesBySlot","handleGetInterviewByCandidateId","candidateId","result","getInterviewByCandidateId","handleUpdateInterviewByCampaignId","updateInterviewByID","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/","sources":["interview.controller.js"],"sourcesContent":["const interviewService = require(\"../service/interviewService\");\n\nconst handleGetAllInterview = async (req, res, next) => {\n  try {\n    const getInterview = await interviewService.getAllInterviews();\n    res.json(getInterview);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetAllRooms = async (req, res, next) => {\n  try {\n    const getAllRooms = await interviewService.getAllRooms();\n    res.json(getAllRooms);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetCandidatesNotInterview = async (req, res, next) => {\n  try {\n    const getCandidatesNotInterview =\n      await interviewService.getCandidatesNotInterview();\n    res.json(getCandidatesNotInterview);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetNumCandidatesByRoomWeek = async (req, res, next) => {\n  try {\n    const week = req.body.week;\n    const getNumCandidatesByRoomWeek =\n      await interviewService.getNumCandidatesByRoomWeek(week);\n    res.json(getNumCandidatesByRoomWeek);\n  } catch (error) {\n    next(error);\n  }\n};\nconst updateInterview = async (req, res, next) => {\n  try {\n    // interviewService.updateInterviewByID()\n    console.log(req.body);\n  } catch (error) {}\n};\n\nconst handleGetAllCandidates = async (req, res, next) => {\n  try {\n    const getAllCandidates = await interviewService.getAllCandidates();\n    res.json(getAllCandidates);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleCreateNewInterview = async (req, res, next) => {\n  try {\n    const data = req.body;\n    console.log(data);\n    const createNewInterview = await interviewService.createNewInterview(data);\n    res.json(createNewInterview);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetListCandidatesBySlot = async (req, res, next) => {\n  try {\n    const slot = req.body.slot;\n    const room = req.body.room;\n    const week = req.body.week;\n    const candidateList = await interviewService.getListCandidatesBySlot(\n      week,\n      room,\n      slot\n    );\n    res.json(candidateList);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetInterviewByCandidateId = async (req, res, next) => {\n  try {\n    const candidateId = req.body.candidateId;\n    const result = await interviewService.getInterviewByCandidateId(\n      candidateId\n    );\n    res.json(result);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleUpdateInterviewByCampaignId = async (req, res, next) => {\n  try {\n    const week = req.body.week;\n    const room = req.body.room;\n    const slot = req.body.slot;\n    const candidateId = req.body.candidateId;\n    const result = interviewService.updateInterviewByID(\n      candidateId,\n      week,\n      room,\n      slot\n    );\n    res.json(result);\n  } catch (error) {\n    next(error);\n  }\n};\n\nmodule.exports = {\n  handleGetAllInterview,\n  handleGetAllRooms,\n  handleGetCandidatesNotInterview,\n  handleGetNumCandidatesByRoomWeek,\n  updateInterview,\n  handleGetAllCandidates,\n  handleCreateNewInterview,\n  handleGetListCandidatesBySlot,\n  handleGetInterviewByCandidateId,\n  handleUpdateInterviewByCampaignId,\n};\n"],"mappings":"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"}},"mtime":1667231633830},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/interviewService.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst interviewRepository = require(\"../repository/interview.repository\");\n\nconst getAllInterviews = async () => {\n  try {\n    const where = {\n      status: [\"Processing\", \"Waiting\", \"Done\", \"Cancelled\"]\n    };\n    const interview = await interviewRepository.getInterviews(where);\n    console.log(interview);\n    return interview;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getAllRooms = async () => {\n  try {\n    const rooms = await interviewRepository.getAllRooms();\n    return rooms;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getCandidatesNotInterview = async () => {\n  try {\n    const candidates = await interviewRepository.getCandidatesNotInterview();\n    return candidates;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getNumCandidatesByRoomWeek = async week => {\n  try {\n    const data = await interviewRepository.getNumCandidatesByRoomWeek(week);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst createNewInterview = async data => {\n  try {\n    const newInterview = await interviewRepository.createNewInterview(data);\n    return newInterview;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getAllCandidates = async () => {\n  try {\n    const candidates = await interviewRepository.getAllCandidates();\n    return candidates;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getListCandidatesBySlot = async (week, room, slot) => {\n  try {\n    const candidates = await interviewRepository.getListCandidatesBySlot(week, room, slot);\n    return candidates;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getInterviewByCandidateId = async candidateId => {\n  try {\n    const result = await interviewRepository.getInterviewByCandidateId(candidateId);\n    return result;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst updateInterviewByID = async (candidateId, week, room, slot) => {\n  try {\n    const result = await interviewRepository.updateInterviewByID(candidateId, week, room, slot);\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  getAllInterviews,\n  getAllRooms,\n  getCandidatesNotInterview,\n  getNumCandidatesByRoomWeek,\n  updateInterviewByID,\n  getAllCandidates,\n  createNewInterview,\n  getListCandidatesBySlot,\n  getInterviewByCandidateId,\n  updateInterviewByID\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpbnRlcnZpZXdSZXBvc2l0b3J5IiwicmVxdWlyZSIsImdldEFsbEludGVydmlld3MiLCJ3aGVyZSIsInN0YXR1cyIsImludGVydmlldyIsImdldEludGVydmlld3MiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJnZXRBbGxSb29tcyIsInJvb21zIiwiZ2V0Q2FuZGlkYXRlc05vdEludGVydmlldyIsImNhbmRpZGF0ZXMiLCJnZXROdW1DYW5kaWRhdGVzQnlSb29tV2VlayIsIndlZWsiLCJkYXRhIiwiY3JlYXRlTmV3SW50ZXJ2aWV3IiwibmV3SW50ZXJ2aWV3IiwiZ2V0QWxsQ2FuZGlkYXRlcyIsImdldExpc3RDYW5kaWRhdGVzQnlTbG90Iiwicm9vbSIsInNsb3QiLCJnZXRJbnRlcnZpZXdCeUNhbmRpZGF0ZUlkIiwiY2FuZGlkYXRlSWQiLCJyZXN1bHQiLCJ1cGRhdGVJbnRlcnZpZXdCeUlEIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9zZXJ2aWNlLyIsInNvdXJjZXMiOlsiaW50ZXJ2aWV3U2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBpbnRlcnZpZXdSZXBvc2l0b3J5ID0gcmVxdWlyZShcIi4uL3JlcG9zaXRvcnkvaW50ZXJ2aWV3LnJlcG9zaXRvcnlcIik7XG5cbmNvbnN0IGdldEFsbEludGVydmlld3MgPSBhc3luYyAoKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3Qgd2hlcmUgPSB7IHN0YXR1czogW1wiUHJvY2Vzc2luZ1wiLCBcIldhaXRpbmdcIiwgXCJEb25lXCIsIFwiQ2FuY2VsbGVkXCJdIH07XG4gICAgY29uc3QgaW50ZXJ2aWV3ID0gYXdhaXQgaW50ZXJ2aWV3UmVwb3NpdG9yeS5nZXRJbnRlcnZpZXdzKHdoZXJlKTtcbiAgICBjb25zb2xlLmxvZyhpbnRlcnZpZXcpO1xuICAgIHJldHVybiBpbnRlcnZpZXc7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbmNvbnN0IGdldEFsbFJvb21zID0gYXN5bmMgKCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJvb21zID0gYXdhaXQgaW50ZXJ2aWV3UmVwb3NpdG9yeS5nZXRBbGxSb29tcygpO1xuICAgIHJldHVybiByb29tcztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuY29uc3QgZ2V0Q2FuZGlkYXRlc05vdEludGVydmlldyA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjYW5kaWRhdGVzID0gYXdhaXQgaW50ZXJ2aWV3UmVwb3NpdG9yeS5nZXRDYW5kaWRhdGVzTm90SW50ZXJ2aWV3KCk7XG4gICAgcmV0dXJuIGNhbmRpZGF0ZXM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbmNvbnN0IGdldE51bUNhbmRpZGF0ZXNCeVJvb21XZWVrID0gYXN5bmMgKHdlZWspID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgaW50ZXJ2aWV3UmVwb3NpdG9yeS5nZXROdW1DYW5kaWRhdGVzQnlSb29tV2Vlayh3ZWVrKTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuY29uc3QgY3JlYXRlTmV3SW50ZXJ2aWV3ID0gYXN5bmMgKGRhdGEpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBuZXdJbnRlcnZpZXcgPSBhd2FpdCBpbnRlcnZpZXdSZXBvc2l0b3J5LmNyZWF0ZU5ld0ludGVydmlldyhkYXRhKTtcbiAgICByZXR1cm4gbmV3SW50ZXJ2aWV3O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5jb25zdCBnZXRBbGxDYW5kaWRhdGVzID0gYXN5bmMgKCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGNhbmRpZGF0ZXMgPSBhd2FpdCBpbnRlcnZpZXdSZXBvc2l0b3J5LmdldEFsbENhbmRpZGF0ZXMoKTtcbiAgICByZXR1cm4gY2FuZGlkYXRlcztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuY29uc3QgZ2V0TGlzdENhbmRpZGF0ZXNCeVNsb3QgPSBhc3luYyAod2Vlaywgcm9vbSwgc2xvdCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGNhbmRpZGF0ZXMgPSBhd2FpdCBpbnRlcnZpZXdSZXBvc2l0b3J5LmdldExpc3RDYW5kaWRhdGVzQnlTbG90KFxuICAgICAgd2VlayxcbiAgICAgIHJvb20sXG4gICAgICBzbG90XG4gICAgKTtcbiAgICByZXR1cm4gY2FuZGlkYXRlcztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuY29uc3QgZ2V0SW50ZXJ2aWV3QnlDYW5kaWRhdGVJZCA9IGFzeW5jIChjYW5kaWRhdGVJZCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGludGVydmlld1JlcG9zaXRvcnkuZ2V0SW50ZXJ2aWV3QnlDYW5kaWRhdGVJZChcbiAgICAgIGNhbmRpZGF0ZUlkXG4gICAgKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5jb25zdCB1cGRhdGVJbnRlcnZpZXdCeUlEID0gYXN5bmMgKGNhbmRpZGF0ZUlkLCB3ZWVrLCByb29tLCBzbG90KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaW50ZXJ2aWV3UmVwb3NpdG9yeS51cGRhdGVJbnRlcnZpZXdCeUlEKFxuICAgICAgY2FuZGlkYXRlSWQsXG4gICAgICB3ZWVrLFxuICAgICAgcm9vbSxcbiAgICAgIHNsb3RcbiAgICApO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0QWxsSW50ZXJ2aWV3cyxcbiAgZ2V0QWxsUm9vbXMsXG4gIGdldENhbmRpZGF0ZXNOb3RJbnRlcnZpZXcsXG4gIGdldE51bUNhbmRpZGF0ZXNCeVJvb21XZWVrLFxuICB1cGRhdGVJbnRlcnZpZXdCeUlELFxuICBnZXRBbGxDYW5kaWRhdGVzLFxuICBjcmVhdGVOZXdJbnRlcnZpZXcsXG4gIGdldExpc3RDYW5kaWRhdGVzQnlTbG90LFxuICBnZXRJbnRlcnZpZXdCeUNhbmRpZGF0ZUlkLFxuICB1cGRhdGVJbnRlcnZpZXdCeUlELFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxtQkFBbUIsR0FBR0MsT0FBTyxDQUFDLG9DQUFELENBQW5DOztBQUVBLE1BQU1DLGdCQUFnQixHQUFHLFlBQVk7RUFDbkMsSUFBSTtJQUNGLE1BQU1DLEtBQUssR0FBRztNQUFFQyxNQUFNLEVBQUUsQ0FBQyxZQUFELEVBQWUsU0FBZixFQUEwQixNQUExQixFQUFrQyxXQUFsQztJQUFWLENBQWQ7SUFDQSxNQUFNQyxTQUFTLEdBQUcsTUFBTUwsbUJBQW1CLENBQUNNLGFBQXBCLENBQWtDSCxLQUFsQyxDQUF4QjtJQUNBSSxPQUFPLENBQUNDLEdBQVIsQ0FBWUgsU0FBWjtJQUNBLE9BQU9BLFNBQVA7RUFDRCxDQUxELENBS0UsT0FBT0ksS0FBUCxFQUFjO0lBQ2QsTUFBTUEsS0FBTjtFQUNEO0FBQ0YsQ0FURDs7QUFXQSxNQUFNQyxXQUFXLEdBQUcsWUFBWTtFQUM5QixJQUFJO0lBQ0YsTUFBTUMsS0FBSyxHQUFHLE1BQU1YLG1CQUFtQixDQUFDVSxXQUFwQixFQUFwQjtJQUNBLE9BQU9DLEtBQVA7RUFDRCxDQUhELENBR0UsT0FBT0YsS0FBUCxFQUFjO0lBQ2QsTUFBTUEsS0FBTjtFQUNEO0FBQ0YsQ0FQRDs7QUFTQSxNQUFNRyx5QkFBeUIsR0FBRyxZQUFZO0VBQzVDLElBQUk7SUFDRixNQUFNQyxVQUFVLEdBQUcs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","map":{"version":3,"names":["interviewRepository","require","getAllInterviews","where","status","interview","getInterviews","console","log","error","getAllRooms","rooms","getCandidatesNotInterview","candidates","getNumCandidatesByRoomWeek","week","data","createNewInterview","newInterview","getAllCandidates","getListCandidatesBySlot","room","slot","getInterviewByCandidateId","candidateId","result","updateInterviewByID","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/","sources":["interviewService.js"],"sourcesContent":["const interviewRepository = require(\"../repository/interview.repository\");\n\nconst getAllInterviews = async () => {\n  try {\n    const where = { status: [\"Processing\", \"Waiting\", \"Done\", \"Cancelled\"] };\n    const interview = await interviewRepository.getInterviews(where);\n    console.log(interview);\n    return interview;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getAllRooms = async () => {\n  try {\n    const rooms = await interviewRepository.getAllRooms();\n    return rooms;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getCandidatesNotInterview = async () => {\n  try {\n    const candidates = await interviewRepository.getCandidatesNotInterview();\n    return candidates;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getNumCandidatesByRoomWeek = async (week) => {\n  try {\n    const data = await interviewRepository.getNumCandidatesByRoomWeek(week);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst createNewInterview = async (data) => {\n  try {\n    const newInterview = await interviewRepository.createNewInterview(data);\n    return newInterview;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getAllCandidates = async () => {\n  try {\n    const candidates = await interviewRepository.getAllCandidates();\n    return candidates;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getListCandidatesBySlot = async (week, room, slot) => {\n  try {\n    const candidates = await interviewRepository.getListCandidatesBySlot(\n      week,\n      room,\n      slot\n    );\n    return candidates;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getInterviewByCandidateId = async (candidateId) => {\n  try {\n    const result = await interviewRepository.getInterviewByCandidateId(\n      candidateId\n    );\n    return result;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst updateInterviewByID = async (candidateId, week, room, slot) => {\n  try {\n    const result = await interviewRepository.updateInterviewByID(\n      candidateId,\n      week,\n      room,\n      slot\n    );\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  getAllInterviews,\n  getAllRooms,\n  getCandidatesNotInterview,\n  getNumCandidatesByRoomWeek,\n  updateInterviewByID,\n  getAllCandidates,\n  createNewInterview,\n  getListCandidatesBySlot,\n  getInterviewByCandidateId,\n  updateInterviewByID,\n};\n"],"mappings":"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"}},"mtime":1667231633848},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/interview.repository.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _sequelize = require(\"sequelize\");\n\nvar _index = require(\"../models/index.js\");\n\nconst db = require(\"../models\");\n\nconst Interviews = db.Interviews;\n\nconst updateInterviews = async (newObj, where) => {\n  return await Interviews.update(newObj, {\n    where: where\n  });\n};\n\nconst getInterviews = async where => {\n  console.log(\"aaaa\");\n  return await Interviews.findAll({\n    where: where,\n    raw: true\n  });\n};\n\nconst getAllRooms = async () => {\n  return await _index.sequelize.query(\"SELECT DISTINCT room FROM hrms.interviews\", {\n    type: _sequelize.QueryTypes.SELECT\n  });\n};\n\nconst getCandidatesNotInterview = async () => {\n  const query = 'SELECT * FROM hrms.candidatedetails where id not in (select candidateDetail_id from hrms.interviews) and applied_status = \"Approve\"';\n  return await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.SELECT\n  });\n};\n\nconst getNumCandidatesByRoomWeek = async week => {\n  const query = \"SELECT i.slot,  count(*) as num_candidates FROM hrms.interviews as i WHERE i.room = ? AND i.week = ? GROUP BY i.slot\"; // gererate result\n\n  const result = [];\n\n  for (let room = 1; room <= 9; room++) {\n    const data = await _index.sequelize.query(query, {\n      replacements: [room, week],\n      type: _sequelize.QueryTypes.SELECT\n    }); // create 24 slots\n\n    const roomArr = Array(24).fill(0); // use slot + 1 because slot in interview table started from 1 to 24\n\n    const newArr = roomArr.map((value, slot) => updateRoom(data, slot + 1));\n    const resultData = {\n      name: `room ${room}`,\n      data: newArr\n    };\n    result.push(resultData);\n  }\n\n  function updateRoom(data, slot) {\n    for (let i = 0; i < data.length; i++) {\n      if (data[i].slot === slot) {\n        return data[i].num_candidates;\n      }\n    }\n\n    return 0;\n  }\n\n  return result;\n};\n\nconst getAllCandidates = async () => {\n  const query = `SELECT \n          c.id, c.resume_url, c.phone, c.address, \n          case \n            when c.id in (select i.candidatedetail_id from hrms.interviews as i) then 'YES' \n            else 'NO' \n          end as booking_status \n    FROM hrms.candidatedetails as c \n    WHERE applied_status = 'Approve'`;\n  return await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.SELECT\n  });\n};\n\nconst createNewInterview = async data => {\n  console.log(data);\n  return await Interviews.create({\n    CandidateDetail_id: data.candidateId,\n    room: data.room,\n    slot: data.slot,\n    week: data.week\n  }); // const query =\n  //   \"INSERT INTO hrms.interviews (id, room, slot, week, status, CandidateDetail_id) VALUES (DEFAULT, ?, ?, ?, DEFAULT, ?)\";\n  // return await sequelize.query(query, {\n  //   type: QueryTypes.INSERT,\n  //   replacements: [data.room, data.slot, data.week, data.candidateId],\n  // });\n};\n\nconst getListCandidatesBySlot = async (week, room, slot) => {\n  const query = `SELECT M.fullname, J.name, M.email, M.address, M.phone\nFROM hrms.interviews as I\nINNER JOIN hrms.candidatedetails as C\nON I.candidatedetail_id = C.id\nINNER JOIN hrms.members as M\nON C.member_id = M.id\nINNER JOIN hrms.jobs as J\nON C.Job_id = J.id\nWHERE I.week = ? AND I.room = ? AND I.slot = ?`;\n  return await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.SELECT,\n    replacements: [week, room, slot]\n  });\n};\n\nconst getInterviewByCandidateId = async candidateId => {\n  const query = `SELECT * \n  FROM hrms.interviews as I \n  WHERE I.candidatedetail_id = ?`;\n  const data = await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.SELECT,\n    replacements: [candidateId]\n  });\n  return data;\n};\n\nconst updateInterviewByID = async (candidateId, week, room, slot) => {\n  const query = `update hrms.interviews \n  set week = ?, room = ?, slot = ? \n  where candidatedetail_id = ?`;\n  const data = await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.UPDATE,\n    replacements: [week, room, slot, candidateId]\n  });\n  return data;\n};\n\nmodule.exports = {\n  getInterviews,\n  getAllRooms,\n  getCandidatesNotInterview,\n  getNumCandidatesByRoomWeek,\n  updateInterviews,\n  getAllCandidates,\n  createNewInterview,\n  getListCandidatesBySlot,\n  getInterviewByCandidateId,\n  updateInterviewByID\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYiIsInJlcXVpcmUiLCJJbnRlcnZpZXdzIiwidXBkYXRlSW50ZXJ2aWV3cyIsIm5ld09iaiIsIndoZXJlIiwidXBkYXRlIiwiZ2V0SW50ZXJ2aWV3cyIsImNvbnNvbGUiLCJsb2ciLCJmaW5kQWxsIiwicmF3IiwiZ2V0QWxsUm9vbXMiLCJzZXF1ZWxpemUiLCJxdWVyeSIsInR5cGUiLCJRdWVyeVR5cGVzIiwiU0VMRUNUIiwiZ2V0Q2FuZGlkYXRlc05vdEludGVydmlldyIsImdldE51bUNhbmRpZGF0ZXNCeVJvb21XZWVrIiwid2VlayIsInJlc3VsdCIsInJvb20iLCJkYXRhIiwicmVwbGFjZW1lbnRzIiwicm9vbUFyciIsIkFycmF5IiwiZmlsbCIsIm5ld0FyciIsIm1hcCIsInZhbHVlIiwic2xvdCIsInVwZGF0ZVJvb20iLCJyZXN1bHREYXRhIiwibmFtZSIsInB1c2giLCJpIiwibGVuZ3RoIiwibnVtX2NhbmRpZGF0ZXMiLCJnZXRBbGxDYW5kaWRhdGVzIiwiY3JlYXRlTmV3SW50ZXJ2aWV3IiwiY3JlYXRlIiwiQ2FuZGlkYXRlRGV0YWlsX2lkIiwiY2FuZGlkYXRlSWQiLCJnZXRMaXN0Q2FuZGlkYXRlc0J5U2xvdCIsImdldEludGVydmlld0J5Q2FuZGlkYXRlSWQiLCJ1cGRhdGVJbnRlcnZpZXdCeUlEIiwiVVBEQVRFIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9yZXBvc2l0b3J5LyIsInNvdXJjZXMiOlsiaW50ZXJ2aWV3LnJlcG9zaXRvcnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGIgPSByZXF1aXJlKFwiLi4vbW9kZWxzXCIpO1xuaW1wb3J0IHsgUXVlcnlUeXBlcyB9IGZyb20gXCJzZXF1ZWxpemVcIjtcbmltcG9ydCB7IHNlcXVlbGl6ZSB9IGZyb20gXCIuLi9tb2RlbHMvaW5kZXguanNcIjtcblxuY29uc3QgSW50ZXJ2aWV3cyA9IGRiLkludGVydmlld3M7XG5cbmNvbnN0IHVwZGF0ZUludGVydmlld3MgPSBhc3luYyAobmV3T2JqLCB3aGVyZSkgPT4ge1xuICByZXR1cm4gYXdhaXQgSW50ZXJ2aWV3cy51cGRhdGUobmV3T2JqLCB7XG4gICAgd2hlcmU6IHdoZXJlLFxuICB9KTtcbn07XG5cbmNvbnN0IGdldEludGVydmlld3MgPSBhc3luYyAod2hlcmUpID0+IHtcbiAgY29uc29sZS5sb2coXCJhYWFhXCIpO1xuICByZXR1cm4gYXdhaXQgSW50ZXJ2aWV3cy5maW5kQWxsKHtcbiAgICB3aGVyZTogd2hlcmUsXG4gICAgcmF3OiB0cnVlLFxuICB9KTtcbn07XG5cbmNvbnN0IGdldEFsbFJvb21zID0gYXN5bmMgKCkgPT4ge1xuICByZXR1cm4gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KFwiU0VMRUNUIERJU1RJTkNUIHJvb20gRlJPTSBocm1zLmludGVydmlld3NcIiwge1xuICAgIHR5cGU6IFF1ZXJ5VHlwZXMuU0VMRUNULFxuICB9KTtcbn07XG5cbmNvbnN0IGdldENhbmRpZGF0ZXNOb3RJbnRlcnZpZXcgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHF1ZXJ5ID1cbiAgICAnU0VMRUNUICogRlJPTSBocm1zLmNhbmRpZGF0ZWRldGFpbHMgd2hlcmUgaWQgbm90IGluIChzZWxlY3QgY2FuZGlkYXRlRGV0YWlsX2lkIGZyb20gaHJtcy5pbnRlcnZpZXdzKSBhbmQgYXBwbGllZF9zdGF0dXMgPSBcIkFwcHJvdmVcIic7XG4gIHJldHVybiBhd2FpdCBzZXF1ZWxpemUucXVlcnkocXVlcnksIHtcbiAgICB0eXBlOiBRdWVyeVR5cGVzLlNFTEVDVCxcbiAgfSk7XG59O1xuXG5jb25zdCBnZXROdW1DYW5kaWRhdGVzQnlSb29tV2VlayA9IGFzeW5jICh3ZWVrKSA9PiB7XG4gIGNvbnN0IHF1ZXJ5ID1cbiAgICBcIlNFTEVDVCBpLnNsb3QsICBjb3VudCgqKSBhcyBudW1fY2FuZGlkYXRlcyBGUk9NIGhybXMuaW50ZXJ2aWV3cyBhcyBpIFdIRVJFIGkucm9vbSA9ID8gQU5EIGkud2VlayA9ID8gR1JPVVAgQlkgaS5zbG90XCI7XG5cbiAgLy8gZ2VyZXJhdGUgcmVzdWx0XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuXG4gIGZvciAobGV0IHJvb20gPSAxOyByb29tIDw9IDk7IHJvb20rKykge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBzZXF1ZWxpemUucXVlcnkocXVlcnksIHtcbiAgICAgIHJlcGxhY2VtZW50czogW3Jvb20sIHdlZWtdLFxuICAgICAgdHlwZTogUXVlcnlUeXBlcy5TRUxFQ1QsXG4gICAgfSk7XG4gICAgLy8gY3JlYXRlIDI0IHNsb3RzXG4gICAgY29uc3Qgcm9vbUFyciA9IEFycmF5KDI0KS5maWxsKDApO1xuICAgIC8vIHVzZSBzbG90ICsgMSBiZWNhdXNlIHNsb3QgaW4gaW50ZXJ2aWV3IHRhYmxlIHN0YXJ0ZWQgZnJvbSAxIHRvIDI0XG4gICAgY29uc3QgbmV3QXJyID0gcm9vbUFyci5tYXAoKHZhbHVlLCBzbG90KSA9PiB1cGRhdGVSb29tKGRhdGEsIHNsb3QgKyAxKSk7XG5cbiAgICBjb25zdCByZXN1bHREYXRhID0ge1xuICAgICAgbmFtZTogYHJvb20gJHtyb29tfWAsXG4gICAgICBkYXRhOiBuZXdBcnIsXG4gICAgfTtcbiAgICByZXN1bHQucHVzaChyZXN1bHREYXRhKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVJvb20oZGF0YSwgc2xvdCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGRhdGFbaV0uc2xvdCA9PT0gc2xvdCkge1xuICAgICAgICByZXR1cm4gZGF0YVtpXS5udW1fY2FuZGlkYXRlcztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuY29uc3QgZ2V0QWxsQ2FuZGlkYXRlcyA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgcXVlcnkgPSBgU0VMRUNUIFxuICAgICAgICAgIGMuaWQsIGMucmVzdW1lX3VybCwgYy5waG9uZSwgYy5hZGRyZXNzLCBcbiAgICAgICAgICBjYXNlIFxuICAgICAgICAgICAgd2hlbiBjLmlkIGluIChzZWxlY3QgaS5jYW5kaWRhdGVkZXRhaWxfaWQgZnJvbSBocm1zLmludGVydmlld3MgYXMgaSkgdGhlbiAnWUVTJyBcbiAgICAgICAgICAgIGVsc2UgJ05PJyBcbiAgICAgICAgICBlbmQgYXMgYm9va2luZ19zdGF0dXMgXG4gICAgRlJPTSBocm1zLmNhbmRpZGF0ZWRldGFpbHMgYXMgYyBcbiAgICBXSEVSRSBhcHBsaWVkX3N0YXR1cyA9ICdBcHByb3ZlJ2A7XG4gIHJldHVybiBhd2FpdCBzZXF1ZWxpemUucXVlcnkocXVlcnksIHtcbiAgICB0eXBlOiBRdWVyeVR5cGVzLlNFTEVDVCxcbiAgfSk7XG59O1xuXG5jb25zdCBjcmVhdGVOZXdJbnRlcnZpZXcgPSBhc3luYyAoZGF0YSkgPT4ge1xuICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgcmV0dXJuIGF3YWl0IEludGVydmlld3MuY3JlYXRlKHtcbiAgICBDYW5kaWRhdGVEZXRhaWxfaWQ6IGRhdGEuY2FuZGlkYXRlSWQsXG4gICAgcm9vbTogZGF0YS5yb29tLFxuICAgIHNsb3Q6IGRhdGEuc2xvdCxcbiAgICB3ZWVrOiBkYXRhLndlZWssXG4gIH0pO1xuICAvLyBjb25zdCBxdWVyeSA9XG4gIC8vICAgXCJJTlNFUlQgSU5UTyBocm1zLmludGVydmlld3MgKGlkLCByb29tLCBzbG90LCB3ZWVrLCBzdGF0dXMsIENhbmRpZGF0ZURldGFpbF9pZCkgVkFMVUVTIChERUZBVUxULCA/LCA/LCA/LCBERUZBVUxULCA/KVwiO1xuICAvLyByZXR1cm4gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KHF1ZXJ5LCB7XG4gIC8vICAgdHlwZTogUXVlcnlUeXBlcy5JTlNFUlQsXG4gIC8vICAgcmVwbGFjZW1lbnRzOiBbZGF0YS5yb29tLCBkYXRhLnNsb3QsIGRhdGEud2VlaywgZGF0YS5jYW5kaWRhdGVJZF0sXG4gIC8vIH0pO1xufTtcblxuY29uc3QgZ2V0TGlzdENhbmRpZGF0ZXNCeVNsb3QgPSBhc3luYyAod2Vlaywgcm9vbSwgc2xvdCkgPT4ge1xuICBjb25zdCBxdWVyeSA9IGBTRUxFQ1QgTS5mdWxsbmFtZSwgSi5uYW1lLCBNLmVtYWlsLCBNLmFkZHJlc3MsIE0ucGhvbmVcbkZST00gaHJtcy5pbnRlcnZpZXdzIGFzIElcbklOTkVSIEpPSU4gaHJtcy5jYW5kaWRhdGVkZXRhaWxzIGFzIENcbk9OIEkuY2FuZGlkYXRlZGV0YWlsX2lkID0gQy5pZFxuSU5ORVIgSk9JTiBocm1zLm1lbWJlcnMgYXMgTVxuT04gQy5tZW1iZXJfaWQgPSBNLmlkXG5JTk5FUiBKT0lOIGhybXMuam9icyBhcyBKXG5PTiBDLkpvYl9pZCA9IEouaWRcbldIRVJFIEkud2VlayA9ID8gQU5EIEkucm9vbSA9ID8gQU5EIEkuc2xvdCA9ID9gO1xuICByZXR1cm4gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KHF1ZXJ5LCB7XG4gICAgdHlwZTogUXVlcnlUeXBlcy5TRUxFQ1QsXG4gICAgcmVwbGFjZW1lbnRzOiBbd2Vlaywgcm9vbSwgc2xvdF0sXG4gIH0pO1xufTtcblxuY29uc3QgZ2V0SW50ZXJ2aWV3QnlDYW5kaWRhdGVJZCA9IGFzeW5jIChjYW5kaWRhdGVJZCkgPT4ge1xuICBjb25zdCBxdWVyeSA9IGBTRUxFQ1QgKiBcbiAgRlJPTSBocm1zLmludGVydmlld3MgYXMgSSBcbiAgV0hFUkUgSS5jYW5kaWRhdGVkZXRhaWxfaWQgPSA/YDtcbiAgY29uc3QgZGF0YSA9IGF3YWl0IHNlcXVlbGl6ZS5xdWVyeShxdWVyeSwge1xuICAgIHR5cGU6IFF1ZXJ5VHlwZXMuU0VMRUNULFxuICAgIHJlcGxhY2VtZW50czogW2NhbmRpZGF0ZUlkXSxcbiAgfSk7XG4gIHJldHVybiBkYXRhO1xufTtcblxuY29uc3QgdXBkYXRlSW50ZXJ2aWV3QnlJRCA9IGFzeW5jIChjYW5kaWRhdGVJZCwgd2Vlaywgcm9vbSwgc2xvdCkgPT4ge1xuICBjb25zdCBxdWVyeSA9IGB1cGRhdGUgaHJtcy5pbnRlcnZpZXdzIFxuICBzZXQgd2VlayA9ID8sIHJvb20gPSA/LCBzbG90ID0gPyBcbiAgd2hlcmUgY2FuZGlkYXRlZGV0YWlsX2lkID0gP2A7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBzZXF1ZWxpemUucXVlcnkocXVlcnksIHtcbiAgICB0eXBlOiBRdWVyeVR5cGVzLlVQREFURSxcbiAgICByZXBsYWNlbWVudHM6IFt3ZWVrLCByb29tLCBzbG90LCBjYW5kaWRhdGVJZF0sXG4gIH0pO1xuICByZXR1cm4gZGF0YTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBnZXRJbnRlcnZpZXdzLFxuICBnZXRBbGxSb29tcyxcbiAgZ2V0Q2FuZGlkYXRlc05vdEludGVydmlldyxcbiAgZ2V0TnVtQ2FuZGlkYXRlc0J5Um9vbVdlZWssXG4gIHVwZGF0ZUludGVydmlld3MsXG4gIGdldEFsbENhbmRpZGF0ZXMsXG4gIGNyZWF0ZU5ld0ludGVydmlldyxcbiAgZ2V0TGlzdENhbmRpZGF0ZXNCeVNsb3QsXG4gIGdldEludGVydmlld0J5Q2FuZGlkYXRlSWQsXG4gIHVwZGF0ZUludGVydmlld0J5SUQsXG59O1xuIl0sIm1hcHBpbmdzIjoiOztBQUNBOztBQUNBOztBQUZBLE1BQU1BLEVBQUUsR0FBR0MsT0FBTyxDQUFDLFdBQUQsQ0FBbEI7O0FBSUEsTUFBTUMsVUFBVSxHQUFHRixFQUFFLENBQUNFLFVBQXRCOztBQUVBLE1BQU1DLGdCQUFnQixHQUFHLE9BQU9DLE1BQVAsRUFBZUMsS0FBZixLQUF5QjtFQUNoRCxPQUFPLE1BQU1ILFVBQVUsQ0FBQ0ksTUFBWCxDQUFrQkYsTUFBbEIsRUFBMEI7SUFDckNDLEtBQUssRUFBRUE7RUFEOEIsQ0FBMUIsQ0FBYjtBQUdELENBSkQ7O0FBTUEsTUFBTUUsYUFBYSxHQUFHLE1BQU9GLEtBQVAsSUFBaUI7RUFDckNHLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLE1BQVo7RUFDQSxPQUFPLE1BQU1QLFVBQVUsQ0FBQ1Es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","map":{"version":3,"names":["db","require","Interviews","updateInterviews","newObj","where","update","getInterviews","console","log","findAll","raw","getAllRooms","sequelize","query","type","QueryTypes","SELECT","getCandidatesNotInterview","getNumCandidatesByRoomWeek","week","result","room","data","replacements","roomArr","Array","fill","newArr","map","value","slot","updateRoom","resultData","name","push","i","length","num_candidates","getAllCandidates","createNewInterview","create","CandidateDetail_id","candidateId","getListCandidatesBySlot","getInterviewByCandidateId","updateInterviewByID","UPDATE","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/","sources":["interview.repository.js"],"sourcesContent":["const db = require(\"../models\");\nimport { QueryTypes } from \"sequelize\";\nimport { sequelize } from \"../models/index.js\";\n\nconst Interviews = db.Interviews;\n\nconst updateInterviews = async (newObj, where) => {\n  return await Interviews.update(newObj, {\n    where: where,\n  });\n};\n\nconst getInterviews = async (where) => {\n  console.log(\"aaaa\");\n  return await Interviews.findAll({\n    where: where,\n    raw: true,\n  });\n};\n\nconst getAllRooms = async () => {\n  return await sequelize.query(\"SELECT DISTINCT room FROM hrms.interviews\", {\n    type: QueryTypes.SELECT,\n  });\n};\n\nconst getCandidatesNotInterview = async () => {\n  const query =\n    'SELECT * FROM hrms.candidatedetails where id not in (select candidateDetail_id from hrms.interviews) and applied_status = \"Approve\"';\n  return await sequelize.query(query, {\n    type: QueryTypes.SELECT,\n  });\n};\n\nconst getNumCandidatesByRoomWeek = async (week) => {\n  const query =\n    \"SELECT i.slot,  count(*) as num_candidates FROM hrms.interviews as i WHERE i.room = ? AND i.week = ? GROUP BY i.slot\";\n\n  // gererate result\n  const result = [];\n\n  for (let room = 1; room <= 9; room++) {\n    const data = await sequelize.query(query, {\n      replacements: [room, week],\n      type: QueryTypes.SELECT,\n    });\n    // create 24 slots\n    const roomArr = Array(24).fill(0);\n    // use slot + 1 because slot in interview table started from 1 to 24\n    const newArr = roomArr.map((value, slot) => updateRoom(data, slot + 1));\n\n    const resultData = {\n      name: `room ${room}`,\n      data: newArr,\n    };\n    result.push(resultData);\n  }\n\n  function updateRoom(data, slot) {\n    for (let i = 0; i < data.length; i++) {\n      if (data[i].slot === slot) {\n        return data[i].num_candidates;\n      }\n    }\n    return 0;\n  }\n\n  return result;\n};\n\nconst getAllCandidates = async () => {\n  const query = `SELECT \n          c.id, c.resume_url, c.phone, c.address, \n          case \n            when c.id in (select i.candidatedetail_id from hrms.interviews as i) then 'YES' \n            else 'NO' \n          end as booking_status \n    FROM hrms.candidatedetails as c \n    WHERE applied_status = 'Approve'`;\n  return await sequelize.query(query, {\n    type: QueryTypes.SELECT,\n  });\n};\n\nconst createNewInterview = async (data) => {\n  console.log(data);\n  return await Interviews.create({\n    CandidateDetail_id: data.candidateId,\n    room: data.room,\n    slot: data.slot,\n    week: data.week,\n  });\n  // const query =\n  //   \"INSERT INTO hrms.interviews (id, room, slot, week, status, CandidateDetail_id) VALUES (DEFAULT, ?, ?, ?, DEFAULT, ?)\";\n  // return await sequelize.query(query, {\n  //   type: QueryTypes.INSERT,\n  //   replacements: [data.room, data.slot, data.week, data.candidateId],\n  // });\n};\n\nconst getListCandidatesBySlot = async (week, room, slot) => {\n  const query = `SELECT M.fullname, J.name, M.email, M.address, M.phone\nFROM hrms.interviews as I\nINNER JOIN hrms.candidatedetails as C\nON I.candidatedetail_id = C.id\nINNER JOIN hrms.members as M\nON C.member_id = M.id\nINNER JOIN hrms.jobs as J\nON C.Job_id = J.id\nWHERE I.week = ? AND I.room = ? AND I.slot = ?`;\n  return await sequelize.query(query, {\n    type: QueryTypes.SELECT,\n    replacements: [week, room, slot],\n  });\n};\n\nconst getInterviewByCandidateId = async (candidateId) => {\n  const query = `SELECT * \n  FROM hrms.interviews as I \n  WHERE I.candidatedetail_id = ?`;\n  const data = await sequelize.query(query, {\n    type: QueryTypes.SELECT,\n    replacements: [candidateId],\n  });\n  return data;\n};\n\nconst updateInterviewByID = async (candidateId, week, room, slot) => {\n  const query = `update hrms.interviews \n  set week = ?, room = ?, slot = ? \n  where candidatedetail_id = ?`;\n  const data = await sequelize.query(query, {\n    type: QueryTypes.UPDATE,\n    replacements: [week, room, slot, candidateId],\n  });\n  return data;\n};\n\nmodule.exports = {\n  getInterviews,\n  getAllRooms,\n  getCandidatesNotInterview,\n  getNumCandidatesByRoomWeek,\n  updateInterviews,\n  getAllCandidates,\n  createNewInterview,\n  getListCandidatesBySlot,\n  getInterviewByCandidateId,\n  updateInterviewByID,\n};\n"],"mappings":"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"}},"mtime":1667231633837},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/categoryStatus.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  categoryStatus: [\"Active\", \"Inactive\", \"Hidden\"],\n  categoryStatusDefault: \"Active\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiY2F0ZWdvcnlTdGF0dXMiLCJjYXRlZ29yeVN0YXR1c0RlZmF1bHQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvY29uc3RhbnQvIiwic291cmNlcyI6WyJjYXRlZ29yeVN0YXR1cy5lbnVtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGNhdGVnb3J5U3RhdHVzOiBbXCJBY3RpdmVcIiwgXCJJbmFjdGl2ZVwiLCBcIkhpZGRlblwiXSxcbiAgICBjYXRlZ29yeVN0YXR1c0RlZmF1bHQ6IFwiQWN0aXZlXCIsXG59Il0sIm1hcHBpbmdzIjoiOztBQUFBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7RUFDYkMsY0FBYyxFQUFFLENBQUMsUUFBRCxFQUFXLFVBQVgsRUFBdUIsUUFBdkIsQ0FESDtFQUViQyxxQkFBcUIsRUFBRTtBQUZWLENBQWpCIn0=","map":{"version":3,"names":["module","exports","categoryStatus","categoryStatusDefault"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/","sources":["categoryStatus.enum.js"],"sourcesContent":["module.exports = {\n    categoryStatus: [\"Active\", \"Inactive\", \"Hidden\"],\n    categoryStatusDefault: \"Active\",\n}"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACbC,cAAc,EAAE,CAAC,QAAD,EAAW,UAAX,EAAuB,QAAvB,CADH;EAEbC,qBAAqB,EAAE;AAFV,CAAjB"}},"mtime":1666594653406},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/categories.repository.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _sequelize = require(\"sequelize\");\n\nvar _index = require(\"../models/index.js\");\n\nconst db = require(\"../models\");\n\nconst Categories = db.Categories;\n\nconst findOne = async id => {\n  return await Categories.findOne({\n    where: {\n      id: id\n    }\n  });\n};\n\nconst findAllCate = async where => {\n  // console.log()\n  return await Categories.findAll({\n    where: where\n  });\n};\n\nconst update = async (newObj, where) => {\n  await Categories.update(newObj, {\n    where: where\n  });\n};\n\nconst updateStatus = async where => {\n  return await Categories.update({\n    status: \"Hidden\"\n  }, {\n    where: where\n  });\n};\n\nconst createCategory = async data => {\n  return await Categories.create({\n    name: data.name,\n    description: data.description\n  });\n};\n\nmodule.exports = {\n  update,\n  updateStatus,\n  findAllCate,\n  findOne,\n  createCategory\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYiIsInJlcXVpcmUiLCJDYXRlZ29yaWVzIiwiZmluZE9uZSIsImlkIiwid2hlcmUiLCJmaW5kQWxsQ2F0ZSIsImZpbmRBbGwiLCJ1cGRhdGUiLCJuZXdPYmoiLCJ1cGRhdGVTdGF0dXMiLCJzdGF0dXMiLCJjcmVhdGVDYXRlZ29yeSIsImRhdGEiLCJjcmVhdGUiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL3JlcG9zaXRvcnkvIiwic291cmNlcyI6WyJjYXRlZ29yaWVzLnJlcG9zaXRvcnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGIgPSByZXF1aXJlKFwiLi4vbW9kZWxzXCIpO1xuaW1wb3J0IHsgT3AsIHdoZXJlIH0gZnJvbSBcInNlcXVlbGl6ZVwiO1xuLy8gaW1wb3J0IHsgd2hlcmUgfSBmcm9tIFwic2VxdWVsaXplXCI7XG5pbXBvcnQgeyBzZXF1ZWxpemUgfSBmcm9tIFwiLi4vbW9kZWxzL2luZGV4LmpzXCI7XG5jb25zdCBDYXRlZ29yaWVzID0gZGIuQ2F0ZWdvcmllcztcblxuY29uc3QgZmluZE9uZSA9IGFzeW5jIChpZCkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICAgIGF3YWl0IENhdGVnb3JpZXMuZmluZE9uZSh7XG4gICAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICApXG59XG5cbmNvbnN0IGZpbmRBbGxDYXRlID0gYXN5bmMgKHdoZXJlKSA9PiB7XG4gICAgLy8gY29uc29sZS5sb2coKVxuICAgIHJldHVybiAoXG4gICAgICAgIGF3YWl0IENhdGVnb3JpZXMuZmluZEFsbCh7XG4gICAgICAgICAgICB3aGVyZTogd2hlcmVcbiAgICAgICAgfSlcbiAgICApXG5cbn1cblxuY29uc3QgdXBkYXRlID0gYXN5bmMgKG5ld09iaiwgd2hlcmUpID0+IHtcbiAgICBhd2FpdCBDYXRlZ29yaWVzLnVwZGF0ZShuZXdPYmosIHtcbiAgICAgICAgd2hlcmU6IHdoZXJlLFxuICAgIH0pO1xufTtcblxuY29uc3QgdXBkYXRlU3RhdHVzID0gYXN5bmMgKHdoZXJlKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgYXdhaXQgQ2F0ZWdvcmllcy51cGRhdGUoeyBzdGF0dXM6IFwiSGlkZGVuXCIgfSwge1xuICAgICAgICAgICAgd2hlcmU6IHdoZXJlLFxuICAgICAgICB9XG4gICAgICAgIClcbiAgICApXG59O1xuXG5jb25zdCBjcmVhdGVDYXRlZ29yeSA9IGFzeW5jIChkYXRhKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgYXdhaXQgQ2F0ZWdvcmllcy5jcmVhdGUoe1xuICAgICAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGRhdGEuZGVzY3JpcHRpb24sXG4gICAgICAgIH0pXG4gICAgKVxufVxubW9kdWxlLmV4cG9ydHMgPSB7IHVwZGF0ZSwgdXBkYXRlU3RhdHVzLCBmaW5kQWxsQ2F0ZSwgZmluZE9uZSwgY3JlYXRlQ2F0ZWdvcnkgfTsiXSwibWFwcGluZ3MiOiI7O0FBQ0E7O0FBRUE7O0FBSEEsTUFBTUEsRUFBRSxHQUFHQyxPQUFPLENBQUMsV0FBRCxDQUFsQjs7QUFJQSxNQUFNQyxVQUFVLEdBQUdGLEVBQUUsQ0FBQ0UsVUFBdEI7O0FBRUEsTUFBTUMsT0FBTyxHQUFHLE1BQU9DLEVBQVAsSUFBYztFQUMxQixPQUNJLE1BQU1GLFVBQVUsQ0FBQ0MsT0FBWCxDQUFtQjtJQUNyQkUsS0FBSyxFQUFFO01BQ0hELEVBQUUsRUFBRUE7SUFERDtFQURjLENBQW5CLENBRFY7QUFPSCxDQVJEOztBQVVBLE1BQU1FLFdBQVcsR0FBRyxNQUFPRCxLQUFQLElBQWlCO0VBQ2pDO0VBQ0EsT0FDSSxNQUFNSCxVQUFVLENBQUNLLE9BQVgsQ0FBbUI7SUFDckJGLEtBQUssRUFBRUE7RUFEYyxDQUFuQixDQURWO0FBTUgsQ0FSRDs7QUFVQSxNQUFNRyxNQUFNLEdBQUcsT0FBT0MsTUFBUCxFQUFlSixLQUFmLEtBQXlCO0VBQ3BDLE1BQU1ILFVBQVUsQ0FBQ00sTUFBWCxDQUFrQkMsTUFBbEIsRUFBMEI7SUFDNUJKLEtBQUssRUFBRUE7RUFEcUIsQ0FBMUIsQ0FBTjtBQUdILENBSkQ7O0FBTUEsTUFBTUssWUFBWSxHQUFHLE1BQU9MLEtBQVAsSUFBaUI7RUFDbEMsT0FDSSxNQUFNSCxVQUFVLENBQUNNLE1BQVgsQ0FBa0I7SUFBRUcsTUFBTSxFQUFFO0VBQVYsQ0FBbEIsRUFBd0M7SUFDMUNOLEtBQUssRUFBRUE7RUFEbUMsQ0FBeEMsQ0FEVjtBQU1ILENBUEQ7O0FBU0EsTUFBTU8sY0FBYyxHQUFHLE1BQU9DLElBQVAsSUFBZ0I7RUFDbkMsT0FDSSxNQUFNWCxVQUFVLENBQUNZLE1BQVgsQ0FBa0I7SUFDcEJDLElBQUksRUFBRUYsSUFBSSxDQUFDRSxJQURTO0lBRXBCQyxXQUFXLEVBQUVILElBQUksQ0FBQ0c7RUFGRSxDQUFsQixDQURWO0FBTUgsQ0FQRDs7QUFRQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQUVWLE1BQUY7RUFBVUUsWUFBVjtFQUF3QkosV0FBeEI7RUFBcUNILE9BQXJDO0VBQThDUztBQUE5QyxDQUFqQiJ9","map":{"version":3,"names":["db","require","Categories","findOne","id","where","findAllCate","findAll","update","newObj","updateStatus","status","createCategory","data","create","name","description","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/","sources":["categories.repository.js"],"sourcesContent":["const db = require(\"../models\");\nimport { Op, where } from \"sequelize\";\n// import { where } from \"sequelize\";\nimport { sequelize } from \"../models/index.js\";\nconst Categories = db.Categories;\n\nconst findOne = async (id) => {\n    return (\n        await Categories.findOne({\n            where: {\n                id: id,\n            }\n        })\n    )\n}\n\nconst findAllCate = async (where) => {\n    // console.log()\n    return (\n        await Categories.findAll({\n            where: where\n        })\n    )\n\n}\n\nconst update = async (newObj, where) => {\n    await Categories.update(newObj, {\n        where: where,\n    });\n};\n\nconst updateStatus = async (where) => {\n    return (\n        await Categories.update({ status: \"Hidden\" }, {\n            where: where,\n        }\n        )\n    )\n};\n\nconst createCategory = async (data) => {\n    return (\n        await Categories.create({\n            name: data.name,\n            description: data.description,\n        })\n    )\n}\nmodule.exports = { update, updateStatus, findAllCate, findOne, createCategory };"],"mappings":";;AACA;;AAEA;;AAHA,MAAMA,EAAE,GAAGC,OAAO,CAAC,WAAD,CAAlB;;AAIA,MAAMC,UAAU,GAAGF,EAAE,CAACE,UAAtB;;AAEA,MAAMC,OAAO,GAAG,MAAOC,EAAP,IAAc;EAC1B,OACI,MAAMF,UAAU,CAACC,OAAX,CAAmB;IACrBE,KAAK,EAAE;MACHD,EAAE,EAAEA;IADD;EADc,CAAnB,CADV;AAOH,CARD;;AAUA,MAAME,WAAW,GAAG,MAAOD,KAAP,IAAiB;EACjC;EACA,OACI,MAAMH,UAAU,CAACK,OAAX,CAAmB;IACrBF,KAAK,EAAEA;EADc,CAAnB,CADV;AAMH,CARD;;AAUA,MAAMG,MAAM,GAAG,OAAOC,MAAP,EAAeJ,KAAf,KAAyB;EACpC,MAAMH,UAAU,CAACM,MAAX,CAAkBC,MAAlB,EAA0B;IAC5BJ,KAAK,EAAEA;EADqB,CAA1B,CAAN;AAGH,CAJD;;AAMA,MAAMK,YAAY,GAAG,MAAOL,KAAP,IAAiB;EAClC,OACI,MAAMH,UAAU,CAACM,MAAX,CAAkB;IAAEG,MAAM,EAAE;EAAV,CAAlB,EAAwC;IAC1CN,KAAK,EAAEA;EADmC,CAAxC,CADV;AAMH,CAPD;;AASA,MAAMO,cAAc,GAAG,MAAOC,IAAP,IAAgB;EACnC,OACI,MAAMX,UAAU,CAACY,MAAX,CAAkB;IACpBC,IAAI,EAAEF,IAAI,CAACE,IADS;IAEpBC,WAAW,EAAEH,IAAI,CAACG;EAFE,CAAlB,CADV;AAMH,CAPD;;AAQAC,MAAM,CAACC,OAAP,GAAiB;EAAEV,MAAF;EAAUE,YAAV;EAAwBJ,WAAxB;EAAqCH,OAArC;EAA8CS;AAA9C,CAAjB"}},"mtime":1666594653413},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/campaign.repository.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _sequelize = require(\"sequelize\");\n\nvar _index = require(\"../models/index.js\");\n\nconst db = require(\"../models\");\n\nconst findAll = async where => {\n  return await db.Campaigns.findAll({\n    where: where\n  });\n};\n\nconst createNewCampaign = async (data, iStatus) => {\n  return await db.Campaigns.create({\n    title: data.title,\n    description: data.description,\n    start_date: data.start_date,\n    end_date: data.end_date,\n    status: iStatus\n  });\n};\n\nconst getCampaignById = async id => {\n  var _await$db$Campaigns$f;\n\n  return (_await$db$Campaigns$f = await db.Campaigns.findOne({\n    where: {\n      id: id\n    }\n  })) === null || _await$db$Campaigns$f === void 0 ? void 0 : _await$db$Campaigns$f.dataValues;\n};\n\nconst update = async (newObj, where) => {\n  await db.Campaigns.update(newObj, {\n    where: where\n  });\n};\n\nconst updateStatus = async where => {\n  return await db.Campaigns.update({\n    status: \"Hidden\"\n  }, {\n    where: where\n  });\n};\n\nmodule.exports = {\n  findAll,\n  createNewCampaign,\n  update,\n  updateStatus,\n  getCampaignById\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYiIsInJlcXVpcmUiLCJmaW5kQWxsIiwid2hlcmUiLCJDYW1wYWlnbnMiLCJjcmVhdGVOZXdDYW1wYWlnbiIsImRhdGEiLCJpU3RhdHVzIiwiY3JlYXRlIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInN0YXJ0X2RhdGUiLCJlbmRfZGF0ZSIsInN0YXR1cyIsImdldENhbXBhaWduQnlJZCIsImlkIiwiZmluZE9uZSIsImRhdGFWYWx1ZXMiLCJ1cGRhdGUiLCJuZXdPYmoiLCJ1cGRhdGVTdGF0dXMiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL3JlcG9zaXRvcnkvIiwic291cmNlcyI6WyJjYW1wYWlnbi5yZXBvc2l0b3J5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGRiID0gcmVxdWlyZShcIi4uL21vZGVsc1wiKTtcbmltcG9ydCB7IHdoZXJlIH0gZnJvbSBcInNlcXVlbGl6ZVwiO1xuaW1wb3J0IHsgc2VxdWVsaXplIH0gZnJvbSBcIi4uL21vZGVscy9pbmRleC5qc1wiO1xuXG5jb25zdCBmaW5kQWxsID0gYXN5bmMgKHdoZXJlKSA9PiB7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICBhd2FpdCBkYi5DYW1wYWlnbnMuZmluZEFsbCh7XG4gICAgICAgICAgICB3aGVyZTogd2hlcmVcbiAgICAgICAgfSlcbiAgICApXG59XG5jb25zdCBjcmVhdGVOZXdDYW1wYWlnbiA9IGFzeW5jIChkYXRhLCBpU3RhdHVzKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgYXdhaXQgZGIuQ2FtcGFpZ25zLmNyZWF0ZSh7XG4gICAgICAgICAgICB0aXRsZTogZGF0YS50aXRsZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkYXRhLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgc3RhcnRfZGF0ZTogZGF0YS5zdGFydF9kYXRlLFxuICAgICAgICAgICAgZW5kX2RhdGU6IGRhdGEuZW5kX2RhdGUsXG4gICAgICAgICAgICBzdGF0dXM6IGlTdGF0dXMsXG4gICAgICAgIH0pXG4gICAgKVxuXG59XG5jb25zdCBnZXRDYW1wYWlnbkJ5SWQgPSBhc3luYyAoaWQpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgICBhd2FpdCBkYi5DYW1wYWlnbnMuZmluZE9uZSh7XG4gICAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgKT8uZGF0YVZhbHVlcztcbn07XG5cbmNvbnN0IHVwZGF0ZSA9IGFzeW5jIChuZXdPYmosIHdoZXJlKSA9PiB7XG4gICAgYXdhaXQgZGIuQ2FtcGFpZ25zLnVwZGF0ZShuZXdPYmosIHtcbiAgICAgICAgd2hlcmU6IHdoZXJlLFxuICAgIH0pO1xufTtcbmNvbnN0IHVwZGF0ZVN0YXR1cyA9IGFzeW5jICh3aGVyZSkgPT4ge1xuICAgIHJldHVybiAoXG5cbiAgICAgICAgYXdhaXQgZGIuQ2FtcGFpZ25zLnVwZGF0ZSh7IHN0YXR1czogXCJIaWRkZW5cIiB9LCB7XG4gICAgICAgICAgICB3aGVyZTogd2hlcmUsXG4gICAgICAgIH1cbiAgICAgICAgKVxuICAgIClcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGZpbmRBbGwsXG4gICAgY3JlYXRlTmV3Q2FtcGFpZ24sXG4gICAgdXBkYXRlLFxuICAgIHVwZGF0ZVN0YXR1cyxcbiAgICBnZXRDYW1wYWlnbkJ5SWQsXG59Il0sIm1hcHBpbmdzIjoiOztBQUNBOztBQUNBOztBQUZBLE1BQU1BLEVBQUUsR0FBR0MsT0FBTyxDQUFDLFdBQUQsQ0FBbEI7O0FBSUEsTUFBTUMsT0FBTyxHQUFHLE1BQU9DLEtBQVAsSUFBaUI7RUFFN0IsT0FDSSxNQUFNSCxFQUFFLENBQUNJLFNBQUgsQ0FBYUYsT0FBYixDQUFxQjtJQUN2QkMsS0FBSyxFQUFFQTtFQURnQixDQUFyQixDQURWO0FBS0gsQ0FQRDs7QUFRQSxNQUFNRSxpQkFBaUIsR0FBRyxPQUFPQyxJQUFQLEVBQWFDLE9BQWIsS0FBeUI7RUFDL0MsT0FDSSxNQUFNUCxFQUFFLENBQUNJLFNBQUgsQ0FBYUksTUFBYixDQUFvQjtJQUN0QkMsS0FBSyxFQUFFSCxJQUFJLENBQUNHLEtBRFU7SUFFdEJDLFdBQVcsRUFBRUosSUFBSSxDQUFDSSxXQUZJO0lBR3RCQyxVQUFVLEVBQUVMLElBQUksQ0FBQ0ssVUFISztJQUl0QkMsUUFBUSxFQUFFTixJQUFJLENBQUNNLFFBSk87SUFLdEJDLE1BQU0sRUFBRU47RUFMYyxDQUFwQixDQURWO0FBVUgsQ0FYRDs7QUFZQSxNQUFNTyxlQUFlLEdBQUcsTUFBT0MsRUFBUCxJQUFjO0VBQUE7O0VBQ2xDLGdDQUNJLE1BQU1mLEVBQUUsQ0FBQ0ksU0FBSCxDQUFhWSxPQUFiLENBQXFCO0lBQ3ZCYixLQUFLLEVBQUU7TUFDSFksRUFBRSxFQUFFQTtJQUREO0VBRGdCLENBQXJCLENBRFYsMERBQU8sc0JBTUpFLFVBTkg7QUFPSCxDQVJEOztBQVVBLE1BQU1DLE1BQU0sR0FBRyxPQUFPQyxNQUFQLEVBQWVoQixLQUFmLEtBQXlCO0VBQ3BDLE1BQU1ILEVBQUUsQ0FBQ0ksU0FBSCxDQUFhYyxNQUFiLENBQW9CQyxNQUFwQixFQUE0QjtJQUM5QmhCLEtBQUssRUFBRUE7RUFEdUIsQ0FBNUIsQ0FBTjtBQUdILENBSkQ7O0FBS0EsTUFBTWlCLFlBQVksR0FBRyxNQUFPakIsS0FBUCxJQUFpQjtFQUNsQyxPQUVJLE1BQU1ILEVBQUUsQ0FBQ0ksU0FBSCxDQUFhYyxNQUFiLENBQW9CO0lBQUVMLE1BQU0sRUFBRTtFQUFWLENBQXBCLEVBQTBDO0lBQzVDVixLQUFLLEVBQUVBO0VBRHFDLENBQTFDLENBRlY7QUFPSCxDQVJEOztBQVVBa0IsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2JwQixPQURhO0VBRWJHLGlCQUZhO0VBR2JhLE1BSGE7RUFJYkUsWUFKYTtFQUtiTjtBQUxhLENBQWpCIn0=","map":{"version":3,"names":["db","require","findAll","where","Campaigns","createNewCampaign","data","iStatus","create","title","description","start_date","end_date","status","getCampaignById","id","findOne","dataValues","update","newObj","updateStatus","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/","sources":["campaign.repository.js"],"sourcesContent":["const db = require(\"../models\");\nimport { where } from \"sequelize\";\nimport { sequelize } from \"../models/index.js\";\n\nconst findAll = async (where) => {\n\n    return (\n        await db.Campaigns.findAll({\n            where: where\n        })\n    )\n}\nconst createNewCampaign = async (data, iStatus) => {\n    return (\n        await db.Campaigns.create({\n            title: data.title,\n            description: data.description,\n            start_date: data.start_date,\n            end_date: data.end_date,\n            status: iStatus,\n        })\n    )\n\n}\nconst getCampaignById = async (id) => {\n    return (\n        await db.Campaigns.findOne({\n            where: {\n                id: id,\n            },\n        })\n    )?.dataValues;\n};\n\nconst update = async (newObj, where) => {\n    await db.Campaigns.update(newObj, {\n        where: where,\n    });\n};\nconst updateStatus = async (where) => {\n    return (\n\n        await db.Campaigns.update({ status: \"Hidden\" }, {\n            where: where,\n        }\n        )\n    )\n};\n\nmodule.exports = {\n    findAll,\n    createNewCampaign,\n    update,\n    updateStatus,\n    getCampaignById,\n}"],"mappings":";;AACA;;AACA;;AAFA,MAAMA,EAAE,GAAGC,OAAO,CAAC,WAAD,CAAlB;;AAIA,MAAMC,OAAO,GAAG,MAAOC,KAAP,IAAiB;EAE7B,OACI,MAAMH,EAAE,CAACI,SAAH,CAAaF,OAAb,CAAqB;IACvBC,KAAK,EAAEA;EADgB,CAArB,CADV;AAKH,CAPD;;AAQA,MAAME,iBAAiB,GAAG,OAAOC,IAAP,EAAaC,OAAb,KAAyB;EAC/C,OACI,MAAMP,EAAE,CAACI,SAAH,CAAaI,MAAb,CAAoB;IACtBC,KAAK,EAAEH,IAAI,CAACG,KADU;IAEtBC,WAAW,EAAEJ,IAAI,CAACI,WAFI;IAGtBC,UAAU,EAAEL,IAAI,CAACK,UAHK;IAItBC,QAAQ,EAAEN,IAAI,CAACM,QAJO;IAKtBC,MAAM,EAAEN;EALc,CAApB,CADV;AAUH,CAXD;;AAYA,MAAMO,eAAe,GAAG,MAAOC,EAAP,IAAc;EAAA;;EAClC,gCACI,MAAMf,EAAE,CAACI,SAAH,CAAaY,OAAb,CAAqB;IACvBb,KAAK,EAAE;MACHY,EAAE,EAAEA;IADD;EADgB,CAArB,CADV,0DAAO,sBAMJE,UANH;AAOH,CARD;;AAUA,MAAMC,MAAM,GAAG,OAAOC,MAAP,EAAehB,KAAf,KAAyB;EACpC,MAAMH,EAAE,CAACI,SAAH,CAAac,MAAb,CAAoBC,MAApB,EAA4B;IAC9BhB,KAAK,EAAEA;EADuB,CAA5B,CAAN;AAGH,CAJD;;AAKA,MAAMiB,YAAY,GAAG,MAAOjB,KAAP,IAAiB;EAClC,OAEI,MAAMH,EAAE,CAACI,SAAH,CAAac,MAAb,CAAoB;IAAEL,MAAM,EAAE;EAAV,CAApB,EAA0C;IAC5CV,KAAK,EAAEA;EADqC,CAA1C,CAFV;AAOH,CARD;;AAUAkB,MAAM,CAACC,OAAP,GAAiB;EACbpB,OADa;EAEbG,iBAFa;EAGba,MAHa;EAIbE,YAJa;EAKbN;AALa,CAAjB"}},"mtime":1666594653412},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/jobs.repository.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _sequelize = require(\"sequelize\");\n\nvar _index = _interopRequireWildcard(require(\"../models/index.js\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst Jobs = _index.default.Jobs;\n\nconst getJobsById = async id => {\n  var _await$Jobs$findOne;\n\n  return (_await$Jobs$findOne = await Jobs.findOne({\n    where: {\n      id: id\n    }\n  })) === null || _await$Jobs$findOne === void 0 ? void 0 : _await$Jobs$findOne.dataValues;\n};\n\nconst createNewJobs = async data => {\n  return await Jobs.create({\n    name: data.name,\n    description: data.description,\n    salary: data.salary,\n    quantity: data.quantity,\n    start_date: data.start_date,\n    end_date: data.end_date,\n    status: data.status,\n    experience: data.experience,\n    Category_id: data.categoryId,\n    Campaign_id: data.campaignId\n  });\n};\n\nconst updateStatus = async where => {\n  return await Jobs.update({\n    status: \"Hidden\"\n  }, {\n    where: where\n  });\n};\n\nconst update = async (newObj, where) => {\n  await Jobs.update(newObj, {\n    where: where\n  });\n};\n\nconst getJobsByCampaignId = async campaignId => {\n  const getJobsByCampaignIdQuery = \"SELECT J.id, J.name, J.description, J.salary, J.quantity, J.experience, J.isRemote, J.start_date, J.end_date FROM hrms.jobs AS J WHERE J.Campaign_id = ?\";\n  const data = await _index.sequelize.query(getJobsByCampaignIdQuery, {\n    replacements: [campaignId],\n    type: _sequelize.QueryTypes.SELECT,\n    plain: false\n  });\n  return data;\n};\n\nmodule.exports = {\n  getJobsById,\n  createNewJobs,\n  updateStatus,\n  update,\n  getJobsByCampaignId\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJKb2JzIiwiZGIiLCJnZXRKb2JzQnlJZCIsImlkIiwiZmluZE9uZSIsIndoZXJlIiwiZGF0YVZhbHVlcyIsImNyZWF0ZU5ld0pvYnMiLCJkYXRhIiwiY3JlYXRlIiwibmFtZSIsImRlc2NyaXB0aW9uIiwic2FsYXJ5IiwicXVhbnRpdHkiLCJzdGFydF9kYXRlIiwiZW5kX2RhdGUiLCJzdGF0dXMiLCJleHBlcmllbmNlIiwiQ2F0ZWdvcnlfaWQiLCJjYXRlZ29yeUlkIiwiQ2FtcGFpZ25faWQiLCJjYW1wYWlnbklkIiwidXBkYXRlU3RhdHVzIiwidXBkYXRlIiwibmV3T2JqIiwiZ2V0Sm9ic0J5Q2FtcGFpZ25JZCIsImdldEpvYnNCeUNhbXBhaWduSWRRdWVyeSIsInNlcXVlbGl6ZSIsInF1ZXJ5IiwicmVwbGFjZW1lbnRzIiwidHlwZSIsIlF1ZXJ5VHlwZXMiLCJTRUxFQ1QiLCJwbGFpbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvcmVwb3NpdG9yeS8iLCJzb3VyY2VzIjpbImpvYnMucmVwb3NpdG9yeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBRdWVyeVR5cGVzIH0gZnJvbSBcInNlcXVlbGl6ZVwiO1xuaW1wb3J0IGRiLCB7IHNlcXVlbGl6ZSB9IGZyb20gXCIuLi9tb2RlbHMvaW5kZXguanNcIjtcbmNvbnN0IEpvYnMgPSBkYi5Kb2JzO1xuXG5jb25zdCBnZXRKb2JzQnlJZCA9IGFzeW5jIChpZCkgPT4ge1xuICByZXR1cm4gKFxuICAgIGF3YWl0IEpvYnMuZmluZE9uZSh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBpZDogaWQsXG4gICAgICB9LFxuICAgIH0pXG4gICk/LmRhdGFWYWx1ZXM7XG59O1xuXG5jb25zdCBjcmVhdGVOZXdKb2JzID0gYXN5bmMgKGRhdGEpID0+IHtcbiAgcmV0dXJuIGF3YWl0IEpvYnMuY3JlYXRlKHtcbiAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgZGVzY3JpcHRpb246IGRhdGEuZGVzY3JpcHRpb24sXG4gICAgc2FsYXJ5OiBkYXRhLnNhbGFyeSxcbiAgICBxdWFudGl0eTogZGF0YS5xdWFudGl0eSxcbiAgICBzdGFydF9kYXRlOiBkYXRhLnN0YXJ0X2RhdGUsXG4gICAgZW5kX2RhdGU6IGRhdGEuZW5kX2RhdGUsXG4gICAgc3RhdHVzOiBkYXRhLnN0YXR1cyxcbiAgICBleHBlcmllbmNlOiBkYXRhLmV4cGVyaWVuY2UsXG4gICAgQ2F0ZWdvcnlfaWQ6IGRhdGEuY2F0ZWdvcnlJZCxcbiAgICBDYW1wYWlnbl9pZDogZGF0YS5jYW1wYWlnbklkLFxuICB9KTtcbn07XG5jb25zdCB1cGRhdGVTdGF0dXMgPSBhc3luYyAod2hlcmUpID0+IHtcbiAgcmV0dXJuIGF3YWl0IEpvYnMudXBkYXRlKFxuICAgIHsgc3RhdHVzOiBcIkhpZGRlblwiIH0sXG4gICAge1xuICAgICAgd2hlcmU6IHdoZXJlLFxuICAgIH1cbiAgKTtcbn07XG5cbmNvbnN0IHVwZGF0ZSA9IGFzeW5jIChuZXdPYmosIHdoZXJlKSA9PiB7XG4gIGF3YWl0IEpvYnMudXBkYXRlKG5ld09iaiwge1xuICAgIHdoZXJlOiB3aGVyZSxcbiAgfSk7XG59O1xuXG5jb25zdCBnZXRKb2JzQnlDYW1wYWlnbklkID0gYXN5bmMgKGNhbXBhaWduSWQpID0+IHtcbiAgY29uc3QgZ2V0Sm9ic0J5Q2FtcGFpZ25JZFF1ZXJ5ID1cbiAgICBcIlNFTEVDVCBKLmlkLCBKLm5hbWUsIEouZGVzY3JpcHRpb24sIEouc2FsYXJ5LCBKLnF1YW50aXR5LCBKLmV4cGVyaWVuY2UsIEouaXNSZW1vdGUsIEouc3RhcnRfZGF0ZSwgSi5lbmRfZGF0ZSBGUk9NIGhybXMuam9icyBBUyBKIFdIRVJFIEouQ2FtcGFpZ25faWQgPSA/XCI7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBzZXF1ZWxpemUucXVlcnkoZ2V0Sm9ic0J5Q2FtcGFpZ25JZFF1ZXJ5LCB7XG4gICAgcmVwbGFjZW1lbnRzOiBbY2FtcGFpZ25JZF0sXG4gICAgdHlwZTogUXVlcnlUeXBlcy5TRUxFQ1QsXG4gICAgcGxhaW46IGZhbHNlLFxuICB9KTtcbiAgcmV0dXJuIGRhdGE7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0Sm9ic0J5SWQsXG4gIGNyZWF0ZU5ld0pvYnMsXG4gIHVwZGF0ZVN0YXR1cyxcbiAgdXBkYXRlLFxuICBnZXRKb2JzQnlDYW1wYWlnbklkLFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7Ozs7O0FBQ0EsTUFBTUEsSUFBSSxHQUFHQyxjQUFBLENBQUdELElBQWhCOztBQUVBLE1BQU1FLFdBQVcsR0FBRyxNQUFPQyxFQUFQLElBQWM7RUFBQTs7RUFDaEMsOEJBQ0UsTUFBTUgsSUFBSSxDQUFDSSxPQUFMLENBQWE7SUFDakJDLEtBQUssRUFBRTtNQUNMRixFQUFFLEVBQUVBO0lBREM7RUFEVSxDQUFiLENBRFIsd0RBQU8sb0JBTUpHLFVBTkg7QUFPRCxDQVJEOztBQVVBLE1BQU1DLGFBQWEsR0FBRyxNQUFPQyxJQUFQLElBQWdCO0VBQ3BDLE9BQU8sTUFBTVIsSUFBSSxDQUFDUyxNQUFMLENBQVk7SUFDdkJDLElBQUksRUFBRUYsSUFBSSxDQUFDRSxJQURZO0lBRXZCQyxXQUFXLEVBQUVILElBQUksQ0FBQ0csV0FGSztJQUd2QkMsTUFBTSxFQUFFSixJQUFJLENBQUNJLE1BSFU7SUFJdkJDLFFBQVEsRUFBRUwsSUFBSSxDQUFDSyxRQUpRO0lBS3ZCQyxVQUFVLEVBQUVOLElBQUksQ0FBQ00sVUFMTTtJQU12QkMsUUFBUSxFQUFFUCxJQUFJLENBQUNPLFFBTlE7SUFPdkJDLE1BQU0sRUFBRVIsSUFBSSxDQUFDUSxNQVBVO0lBUXZCQyxVQUFVLEVBQUVULElBQUksQ0FBQ1MsVUFSTTtJQVN2QkMsV0FBVyxFQUFFVixJQUFJLENBQUNXLFVBVEs7SUFVdkJDLFdBQVcsRUFBRVosSUFBSSxDQUFDYTtFQVZLLENBQVosQ0FBYjtBQVlELENBYkQ7O0FBY0EsTUFBTUMsWUFBWSxHQUFHLE1BQU9qQixLQUFQLElBQWlCO0VBQ3BDLE9BQU8sTUFBTUwsSUFBSSxDQUFDdUIsTUFBTCxDQUNYO0lBQUVQLE1BQU0sRUFBRTtFQUFWLENBRFcsRUFFWDtJQUNFWCxLQUFLLEVBQUVBO0VBRFQsQ0FGVyxDQUFiO0FBTUQsQ0FQRDs7QUFTQSxNQUFNa0IsTUFBTSxHQUFHLE9BQU9DLE1BQVAsRUFBZW5CLEtBQWYsS0FBeUI7RUFDdEMsTUFBTUwsSUFBSSxDQUFDdUIsTUFBTCxDQUFZQyxNQUFaLEVBQW9CO0lBQ3hCbkIsS0FBSyxFQUFFQTtFQURpQixDQUFwQixDQUFOO0FBR0QsQ0FKRDs7QUFNQSxNQUFNb0IsbUJBQW1CLEdBQUcsTUFBT0osVUFBUCxJQUFzQjtFQUNoRCxNQUFNSyx3QkFBd0IsR0FDNUIsMEpBREY7RUFFQSxNQUFNbEIsSUFBSSxHQUFHLE1BQU1tQixnQkFBQSxDQUFVQyxLQUFWLENBQWdCRix3QkFBaEIsRUFBMEM7SUFDM0RHLFlBQVksRUFBRSxDQUFDUixVQUFELENBRDZDO0lBRTNEUyxJQUFJLEVBQUVDLHFCQUFBLENBQVdDLE1BRjBDO0lBRzNEQyxLQUFLLEVBQUU7RUFIb0QsQ0FBMUMsQ0FBbkI7RUFLQSxPQUFPekIsSUFBUDtBQUNELENBVEQ7O0FBV0EwQixNQUFNLENBQUNDLE9BQVAsR0FBaUI7RUFDZmpDLFdBRGU7RUFFZkssYUFGZTtFQUdmZSxZQUhlO0VBSWZDLE1BSmU7RUFLZkU7QUFMZSxDQUFqQiJ9","map":{"version":3,"names":["Jobs","db","getJobsById","id","findOne","where","dataValues","createNewJobs","data","create","name","description","salary","quantity","start_date","end_date","status","experience","Category_id","categoryId","Campaign_id","campaignId","updateStatus","update","newObj","getJobsByCampaignId","getJobsByCampaignIdQuery","sequelize","query","replacements","type","QueryTypes","SELECT","plain","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/","sources":["jobs.repository.js"],"sourcesContent":["import { QueryTypes } from \"sequelize\";\nimport db, { sequelize } from \"../models/index.js\";\nconst Jobs = db.Jobs;\n\nconst getJobsById = async (id) => {\n  return (\n    await Jobs.findOne({\n      where: {\n        id: id,\n      },\n    })\n  )?.dataValues;\n};\n\nconst createNewJobs = async (data) => {\n  return await Jobs.create({\n    name: data.name,\n    description: data.description,\n    salary: data.salary,\n    quantity: data.quantity,\n    start_date: data.start_date,\n    end_date: data.end_date,\n    status: data.status,\n    experience: data.experience,\n    Category_id: data.categoryId,\n    Campaign_id: data.campaignId,\n  });\n};\nconst updateStatus = async (where) => {\n  return await Jobs.update(\n    { status: \"Hidden\" },\n    {\n      where: where,\n    }\n  );\n};\n\nconst update = async (newObj, where) => {\n  await Jobs.update(newObj, {\n    where: where,\n  });\n};\n\nconst getJobsByCampaignId = async (campaignId) => {\n  const getJobsByCampaignIdQuery =\n    \"SELECT J.id, J.name, J.description, J.salary, J.quantity, J.experience, J.isRemote, J.start_date, J.end_date FROM hrms.jobs AS J WHERE J.Campaign_id = ?\";\n  const data = await sequelize.query(getJobsByCampaignIdQuery, {\n    replacements: [campaignId],\n    type: QueryTypes.SELECT,\n    plain: false,\n  });\n  return data;\n};\n\nmodule.exports = {\n  getJobsById,\n  createNewJobs,\n  updateStatus,\n  update,\n  getJobsByCampaignId,\n};\n"],"mappings":";;AAAA;;AACA;;;;;;AACA,MAAMA,IAAI,GAAGC,cAAA,CAAGD,IAAhB;;AAEA,MAAME,WAAW,GAAG,MAAOC,EAAP,IAAc;EAAA;;EAChC,8BACE,MAAMH,IAAI,CAACI,OAAL,CAAa;IACjBC,KAAK,EAAE;MACLF,EAAE,EAAEA;IADC;EADU,CAAb,CADR,wDAAO,oBAMJG,UANH;AAOD,CARD;;AAUA,MAAMC,aAAa,GAAG,MAAOC,IAAP,IAAgB;EACpC,OAAO,MAAMR,IAAI,CAACS,MAAL,CAAY;IACvBC,IAAI,EAAEF,IAAI,CAACE,IADY;IAEvBC,WAAW,EAAEH,IAAI,CAACG,WAFK;IAGvBC,MAAM,EAAEJ,IAAI,CAACI,MAHU;IAIvBC,QAAQ,EAAEL,IAAI,CAACK,QAJQ;IAKvBC,UAAU,EAAEN,IAAI,CAACM,UALM;IAMvBC,QAAQ,EAAEP,IAAI,CAACO,QANQ;IAOvBC,MAAM,EAAER,IAAI,CAACQ,MAPU;IAQvBC,UAAU,EAAET,IAAI,CAACS,UARM;IASvBC,WAAW,EAAEV,IAAI,CAACW,UATK;IAUvBC,WAAW,EAAEZ,IAAI,CAACa;EAVK,CAAZ,CAAb;AAYD,CAbD;;AAcA,MAAMC,YAAY,GAAG,MAAOjB,KAAP,IAAiB;EACpC,OAAO,MAAML,IAAI,CAACuB,MAAL,CACX;IAAEP,MAAM,EAAE;EAAV,CADW,EAEX;IACEX,KAAK,EAAEA;EADT,CAFW,CAAb;AAMD,CAPD;;AASA,MAAMkB,MAAM,GAAG,OAAOC,MAAP,EAAenB,KAAf,KAAyB;EACtC,MAAML,IAAI,CAACuB,MAAL,CAAYC,MAAZ,EAAoB;IACxBnB,KAAK,EAAEA;EADiB,CAApB,CAAN;AAGD,CAJD;;AAMA,MAAMoB,mBAAmB,GAAG,MAAOJ,UAAP,IAAsB;EAChD,MAAMK,wBAAwB,GAC5B,0JADF;EAEA,MAAMlB,IAAI,GAAG,MAAMmB,gBAAA,CAAUC,KAAV,CAAgBF,wBAAhB,EAA0C;IAC3DG,YAAY,EAAE,CAACR,UAAD,CAD6C;IAE3DS,IAAI,EAAEC,qBAAA,CAAWC,MAF0C;IAG3DC,KAAK,EAAE;EAHoD,CAA1C,CAAnB;EAKA,OAAOzB,IAAP;AACD,CATD;;AAWA0B,MAAM,CAACC,OAAP,GAAiB;EACfjC,WADe;EAEfK,aAFe;EAGfe,YAHe;EAIfC,MAJe;EAKfE;AALe,CAAjB"}},"mtime":1667231633838},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/interview.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\n\nconst router = express.Router();\n\nconst {\n  handleGetAllInterview,\n  handleGetAllRooms,\n  handleGetCandidatesNotInterview,\n  handleGetNumCandidatesByRoomWeek,\n  handleGetAllCandidates,\n  handleCreateNewInterview,\n  handleGetListCandidatesBySlot,\n  handleGetInterviewByCandidateId,\n  handleUpdateInterviewByCampaignId\n} = require(\"../controller/interview.controller\");\n\nrouter.get(\"/\", handleGetAllInterview);\nrouter.get(\"/room\", handleGetAllRooms);\nrouter.get(\"/not-interview\", handleGetCandidatesNotInterview);\nrouter.post(\"/by-room-week\", handleGetNumCandidatesByRoomWeek); // router.patch(\"/update\");\n\nrouter.get(\"/all-candidates\", handleGetAllCandidates);\nrouter.post(\"/\", handleCreateNewInterview);\nrouter.post(\"/candidates-by-slot\", handleGetListCandidatesBySlot);\nrouter.post(\"/by-candidate-id\", handleGetInterviewByCandidateId);\nrouter.patch(\"/update-interview\", handleUpdateInterviewByCampaignId);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImhhbmRsZUdldEFsbEludGVydmlldyIsImhhbmRsZUdldEFsbFJvb21zIiwiaGFuZGxlR2V0Q2FuZGlkYXRlc05vdEludGVydmlldyIsImhhbmRsZUdldE51bUNhbmRpZGF0ZXNCeVJvb21XZWVrIiwiaGFuZGxlR2V0QWxsQ2FuZGlkYXRlcyIsImhhbmRsZUNyZWF0ZU5ld0ludGVydmlldyIsImhhbmRsZUdldExpc3RDYW5kaWRhdGVzQnlTbG90IiwiaGFuZGxlR2V0SW50ZXJ2aWV3QnlDYW5kaWRhdGVJZCIsImhhbmRsZVVwZGF0ZUludGVydmlld0J5Q2FtcGFpZ25JZCIsImdldCIsInBvc3QiLCJwYXRjaCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsiaW50ZXJ2aWV3LnJvdXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbmNvbnN0IHtcbiAgaGFuZGxlR2V0QWxsSW50ZXJ2aWV3LFxuICBoYW5kbGVHZXRBbGxSb29tcyxcbiAgaGFuZGxlR2V0Q2FuZGlkYXRlc05vdEludGVydmlldyxcbiAgaGFuZGxlR2V0TnVtQ2FuZGlkYXRlc0J5Um9vbVdlZWssXG4gIGhhbmRsZUdldEFsbENhbmRpZGF0ZXMsXG4gIGhhbmRsZUNyZWF0ZU5ld0ludGVydmlldyxcbiAgaGFuZGxlR2V0TGlzdENhbmRpZGF0ZXNCeVNsb3QsXG4gIGhhbmRsZUdldEludGVydmlld0J5Q2FuZGlkYXRlSWQsXG4gIGhhbmRsZVVwZGF0ZUludGVydmlld0J5Q2FtcGFpZ25JZCxcbn0gPSByZXF1aXJlKFwiLi4vY29udHJvbGxlci9pbnRlcnZpZXcuY29udHJvbGxlclwiKTtcblxucm91dGVyLmdldChcIi9cIiwgaGFuZGxlR2V0QWxsSW50ZXJ2aWV3KTtcbnJvdXRlci5nZXQoXCIvcm9vbVwiLCBoYW5kbGVHZXRBbGxSb29tcyk7XG5yb3V0ZXIuZ2V0KFwiL25vdC1pbnRlcnZpZXdcIiwgaGFuZGxlR2V0Q2FuZGlkYXRlc05vdEludGVydmlldyk7XG5yb3V0ZXIucG9zdChcIi9ieS1yb29tLXdlZWtcIiwgaGFuZGxlR2V0TnVtQ2FuZGlkYXRlc0J5Um9vbVdlZWspO1xuLy8gcm91dGVyLnBhdGNoKFwiL3VwZGF0ZVwiKTtcbnJvdXRlci5nZXQoXCIvYWxsLWNhbmRpZGF0ZXNcIiwgaGFuZGxlR2V0QWxsQ2FuZGlkYXRlcyk7XG5yb3V0ZXIucG9zdChcIi9cIiwgaGFuZGxlQ3JlYXRlTmV3SW50ZXJ2aWV3KTtcbnJvdXRlci5wb3N0KFwiL2NhbmRpZGF0ZXMtYnktc2xvdFwiLCBoYW5kbGVHZXRMaXN0Q2FuZGlkYXRlc0J5U2xvdCk7XG5yb3V0ZXIucG9zdChcIi9ieS1jYW5kaWRhdGUtaWRcIiwgaGFuZGxlR2V0SW50ZXJ2aWV3QnlDYW5kaWRhdGVJZCk7XG5yb3V0ZXIucGF0Y2goXCIvdXBkYXRlLWludGVydmlld1wiLCBoYW5kbGVVcGRhdGVJbnRlcnZpZXdCeUNhbXBhaWduSWQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUVBLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQWY7O0FBQ0EsTUFBTTtFQUNKQyxxQkFESTtFQUVKQyxpQkFGSTtFQUdKQywrQkFISTtFQUlKQyxnQ0FKSTtFQUtKQyxzQkFMSTtFQU1KQyx3QkFOSTtFQU9KQyw2QkFQSTtFQVFKQywrQkFSSTtFQVNKQztBQVRJLElBVUZYLE9BQU8sQ0FBQyxvQ0FBRCxDQVZYOztBQVlBQyxNQUFNLENBQUNXLEdBQVAsQ0FBVyxHQUFYLEVBQWdCVCxxQkFBaEI7QUFDQUYsTUFBTSxDQUFDVyxHQUFQLENBQVcsT0FBWCxFQUFvQlIsaUJBQXBCO0FBQ0FILE1BQU0sQ0FBQ1csR0FBUCxDQUFXLGdCQUFYLEVBQTZCUCwrQkFBN0I7QUFDQUosTUFBTSxDQUFDWSxJQUFQLENBQVksZUFBWixFQUE2QlAsZ0NBQTdCLEUsQ0FDQTs7QUFDQUwsTUFBTSxDQUFDVyxHQUFQLENBQVcsaUJBQVgsRUFBOEJMLHNCQUE5QjtBQUNBTixNQUFNLENBQUNZLElBQVAsQ0FBWSxHQUFaLEVBQWlCTCx3QkFBakI7QUFDQVAsTUFBTSxDQUFDWSxJQUFQLENBQVkscUJBQVosRUFBbUNKLDZCQUFuQztBQUNBUixNQUFNLENBQUNZLElBQVAsQ0FBWSxrQkFBWixFQUFnQ0gsK0JBQWhDO0FBQ0FULE1BQU0sQ0FBQ2EsS0FBUCxDQUFhLG1CQUFiLEVBQWtDSCxpQ0FBbEM7QUFFQUksTUFBTSxDQUFDQyxPQUFQLEdBQWlCZixNQUFqQiJ9","map":{"version":3,"names":["express","require","router","Router","handleGetAllInterview","handleGetAllRooms","handleGetCandidatesNotInterview","handleGetNumCandidatesByRoomWeek","handleGetAllCandidates","handleCreateNewInterview","handleGetListCandidatesBySlot","handleGetInterviewByCandidateId","handleUpdateInterviewByCampaignId","get","post","patch","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["interview.route.js"],"sourcesContent":["const express = require(\"express\");\n\nconst router = express.Router();\nconst {\n  handleGetAllInterview,\n  handleGetAllRooms,\n  handleGetCandidatesNotInterview,\n  handleGetNumCandidatesByRoomWeek,\n  handleGetAllCandidates,\n  handleCreateNewInterview,\n  handleGetListCandidatesBySlot,\n  handleGetInterviewByCandidateId,\n  handleUpdateInterviewByCampaignId,\n} = require(\"../controller/interview.controller\");\n\nrouter.get(\"/\", handleGetAllInterview);\nrouter.get(\"/room\", handleGetAllRooms);\nrouter.get(\"/not-interview\", handleGetCandidatesNotInterview);\nrouter.post(\"/by-room-week\", handleGetNumCandidatesByRoomWeek);\n// router.patch(\"/update\");\nrouter.get(\"/all-candidates\", handleGetAllCandidates);\nrouter.post(\"/\", handleCreateNewInterview);\nrouter.post(\"/candidates-by-slot\", handleGetListCandidatesBySlot);\nrouter.post(\"/by-candidate-id\", handleGetInterviewByCandidateId);\nrouter.patch(\"/update-interview\", handleUpdateInterviewByCampaignId);\n\nmodule.exports = router;\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AAEA,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;AACA,MAAM;EACJC,qBADI;EAEJC,iBAFI;EAGJC,+BAHI;EAIJC,gCAJI;EAKJC,sBALI;EAMJC,wBANI;EAOJC,6BAPI;EAQJC,+BARI;EASJC;AATI,IAUFX,OAAO,CAAC,oCAAD,CAVX;;AAYAC,MAAM,CAACW,GAAP,CAAW,GAAX,EAAgBT,qBAAhB;AACAF,MAAM,CAACW,GAAP,CAAW,OAAX,EAAoBR,iBAApB;AACAH,MAAM,CAACW,GAAP,CAAW,gBAAX,EAA6BP,+BAA7B;AACAJ,MAAM,CAACY,IAAP,CAAY,eAAZ,EAA6BP,gCAA7B,E,CACA;;AACAL,MAAM,CAACW,GAAP,CAAW,iBAAX,EAA8BL,sBAA9B;AACAN,MAAM,CAACY,IAAP,CAAY,GAAZ,EAAiBL,wBAAjB;AACAP,MAAM,CAACY,IAAP,CAAY,qBAAZ,EAAmCJ,6BAAnC;AACAR,MAAM,CAACY,IAAP,CAAY,kBAAZ,EAAgCH,+BAAhC;AACAT,MAAM,CAACa,KAAP,CAAa,mBAAb,EAAkCH,iCAAlC;AAEAI,MAAM,CAACC,OAAP,GAAiBf,MAAjB"}},"mtime":1667231633842},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/interview.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst interviewService = require(\"../service/interviewService\");\n\nconst handleGetAllInterview = async (req, res, next) => {\n  try {\n    const getInterview = await interviewService.getAllInterviews();\n    res.json(getInterview);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetAllRooms = async (req, res, next) => {\n  try {\n    const getAllRooms = await interviewService.getAllRooms();\n    res.json(getAllRooms);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetCandidatesNotInterview = async (req, res, next) => {\n  try {\n    const getCandidatesNotInterview = await interviewService.getCandidatesNotInterview();\n    res.json(getCandidatesNotInterview);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetNumCandidatesByRoomWeek = async (req, res, next) => {\n  try {\n    const week = req.body.week;\n    const getNumCandidatesByRoomWeek = await interviewService.getNumCandidatesByRoomWeek(week);\n    res.json(getNumCandidatesByRoomWeek);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst updateInterview = async (req, res, next) => {\n  try {\n    // interviewService.updateInterviewByID()\n    console.log(req.body);\n  } catch (error) {}\n};\n\nconst handleGetAllCandidates = async (req, res, next) => {\n  try {\n    const getAllCandidates = await interviewService.getAllCandidates();\n    res.json(getAllCandidates);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleCreateNewInterview = async (req, res, next) => {\n  try {\n    const data = req.body;\n    console.log(data);\n    const createNewInterview = await interviewService.createNewInterview(data);\n    res.json(createNewInterview);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetListCandidatesBySlot = async (req, res, next) => {\n  try {\n    const slot = req.body.slot;\n    const room = req.body.room;\n    const week = req.body.week;\n    const candidateList = await interviewService.getListCandidatesBySlot(week, room, slot);\n    res.json(candidateList);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetInterviewByCandidateId = async (req, res, next) => {\n  try {\n    const candidateId = req.body.candidateId;\n    const result = await interviewService.getInterviewByCandidateId(candidateId);\n    res.json(result);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleUpdateInterviewByCampaignId = async (req, res, next) => {\n  try {\n    const week = req.body.week;\n    const room = req.body.room;\n    const slot = req.body.slot;\n    const candidateId = req.body.candidateId;\n    const result = interviewService.updateInterviewByID(candidateId, week, room, slot);\n    res.json(result);\n  } catch (error) {\n    next(error);\n  }\n};\n\nmodule.exports = {\n  handleGetAllInterview,\n  handleGetAllRooms,\n  handleGetCandidatesNotInterview,\n  handleGetNumCandidatesByRoomWeek,\n  updateInterview,\n  handleGetAllCandidates,\n  handleCreateNewInterview,\n  handleGetListCandidatesBySlot,\n  handleGetInterviewByCandidateId,\n  handleUpdateInterviewByCampaignId\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpbnRlcnZpZXdTZXJ2aWNlIiwicmVxdWlyZSIsImhhbmRsZUdldEFsbEludGVydmlldyIsInJlcSIsInJlcyIsIm5leHQiLCJnZXRJbnRlcnZpZXciLCJnZXRBbGxJbnRlcnZpZXdzIiwianNvbiIsImVycm9yIiwiaGFuZGxlR2V0QWxsUm9vbXMiLCJnZXRBbGxSb29tcyIsImhhbmRsZUdldENhbmRpZGF0ZXNOb3RJbnRlcnZpZXciLCJnZXRDYW5kaWRhdGVzTm90SW50ZXJ2aWV3IiwiaGFuZGxlR2V0TnVtQ2FuZGlkYXRlc0J5Um9vbVdlZWsiLCJ3ZWVrIiwiYm9keSIsImdldE51bUNhbmRpZGF0ZXNCeVJvb21XZWVrIiwidXBkYXRlSW50ZXJ2aWV3IiwiY29uc29sZSIsImxvZyIsImhhbmRsZUdldEFsbENhbmRpZGF0ZXMiLCJnZXRBbGxDYW5kaWRhdGVzIiwiaGFuZGxlQ3JlYXRlTmV3SW50ZXJ2aWV3IiwiZGF0YSIsImNyZWF0ZU5ld0ludGVydmlldyIsImhhbmRsZUdldExpc3RDYW5kaWRhdGVzQnlTbG90Iiwic2xvdCIsInJvb20iLCJjYW5kaWRhdGVMaXN0IiwiZ2V0TGlzdENhbmRpZGF0ZXNCeVNsb3QiLCJoYW5kbGVHZXRJbnRlcnZpZXdCeUNhbmRpZGF0ZUlkIiwiY2FuZGlkYXRlSWQiLCJyZXN1bHQiLCJnZXRJbnRlcnZpZXdCeUNhbmRpZGF0ZUlkIiwiaGFuZGxlVXBkYXRlSW50ZXJ2aWV3QnlDYW1wYWlnbklkIiwidXBkYXRlSW50ZXJ2aWV3QnlJRCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvY29udHJvbGxlci8iLCJzb3VyY2VzIjpbImludGVydmlldy5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGludGVydmlld1NlcnZpY2UgPSByZXF1aXJlKFwiLi4vc2VydmljZS9pbnRlcnZpZXdTZXJ2aWNlXCIpO1xuXG5jb25zdCBoYW5kbGVHZXRBbGxJbnRlcnZpZXcgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBnZXRJbnRlcnZpZXcgPSBhd2FpdCBpbnRlcnZpZXdTZXJ2aWNlLmdldEFsbEludGVydmlld3MoKTtcbiAgICByZXMuanNvbihnZXRJbnRlcnZpZXcpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIG5leHQoZXJyb3IpO1xuICB9XG59O1xuXG5jb25zdCBoYW5kbGVHZXRBbGxSb29tcyA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGdldEFsbFJvb21zID0gYXdhaXQgaW50ZXJ2aWV3U2VydmljZS5nZXRBbGxSb29tcygpO1xuICAgIHJlcy5qc29uKGdldEFsbFJvb21zKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBuZXh0KGVycm9yKTtcbiAgfVxufTtcblxuY29uc3QgaGFuZGxlR2V0Q2FuZGlkYXRlc05vdEludGVydmlldyA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGdldENhbmRpZGF0ZXNOb3RJbnRlcnZpZXcgPVxuICAgICAgYXdhaXQgaW50ZXJ2aWV3U2VydmljZS5nZXRDYW5kaWRhdGVzTm90SW50ZXJ2aWV3KCk7XG4gICAgcmVzLmpzb24oZ2V0Q2FuZGlkYXRlc05vdEludGVydmlldyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbmV4dChlcnJvcik7XG4gIH1cbn07XG5cbmNvbnN0IGhhbmRsZUdldE51bUNhbmRpZGF0ZXNCeVJvb21XZWVrID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3Qgd2VlayA9IHJlcS5ib2R5LndlZWs7XG4gICAgY29uc3QgZ2V0TnVtQ2FuZGlkYXRlc0J5Um9vbVdlZWsgPVxuICAgICAgYXdhaXQgaW50ZXJ2aWV3U2VydmljZS5nZXROdW1DYW5kaWRhdGVzQnlSb29tV2Vlayh3ZWVrKTtcbiAgICByZXMuanNvbihnZXROdW1DYW5kaWRhdGVzQnlSb29tV2Vlayk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbmV4dChlcnJvcik7XG4gIH1cbn07XG5jb25zdCB1cGRhdGVJbnRlcnZpZXcgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgdHJ5IHtcbiAgICAvLyBpbnRlcnZpZXdTZXJ2aWNlLnVwZGF0ZUludGVydmlld0J5SUQoKVxuICAgIGNvbnNvbGUubG9nKHJlcS5ib2R5KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHt9XG59O1xuXG5jb25zdCBoYW5kbGVHZXRBbGxDYW5kaWRhdGVzID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZ2V0QWxsQ2FuZGlkYXRlcyA9IGF3YWl0IGludGVydmlld1NlcnZpY2UuZ2V0QWxsQ2FuZGlkYXRlcygpO1xuICAgIHJlcy5qc29uKGdldEFsbENhbmRpZGF0ZXMpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIG5leHQoZXJyb3IpO1xuICB9XG59O1xuXG5jb25zdCBoYW5kbGVDcmVhdGVOZXdJbnRlcnZpZXcgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkYXRhID0gcmVxLmJvZHk7XG4gICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgY29uc3QgY3JlYXRlTmV3SW50ZXJ2aWV3ID0gYXdhaXQgaW50ZXJ2aWV3U2VydmljZS5jcmVhdGVOZXdJbnRlcnZpZXcoZGF0YSk7XG4gICAgcmVzLmpzb24oY3JlYXRlTmV3SW50ZXJ2aWV3KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBuZXh0KGVycm9yKTtcbiAgfVxufTtcblxuY29uc3QgaGFuZGxlR2V0TGlzdENhbmRpZGF0ZXNCeVNsb3QgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzbG90ID0gcmVxLmJvZHkuc2xvdDtcbiAgICBjb25zdCByb29tID0gcmVxLmJvZHkucm9vbTtcbiAgICBjb25zdCB3ZWVrID0gcmVxLmJvZHkud2VlaztcbiAgICBjb25zdCBjYW5kaWRhdGVMaXN0ID0gYXdhaXQgaW50ZXJ2aWV3U2VydmljZS5nZXRMaXN0Q2FuZGlkYXRlc0J5U2xvdChcbiAgICAgIHdlZWssXG4gICAgICByb29tLFxuICAgICAgc2xvdFxuICAgICk7XG4gICAgcmVzLmpzb24oY2FuZGlkYXRlTGlzdCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbmV4dChlcnJvcik7XG4gIH1cbn07XG5cbmNvbnN0IGhhbmRsZUdldEludGVydmlld0J5Q2FuZGlkYXRlSWQgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjYW5kaWRhdGVJZCA9IHJlcS5ib2R5LmNhbmRpZGF0ZUlkO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGludGVydmlld1NlcnZpY2UuZ2V0SW50ZXJ2aWV3QnlDYW5kaWRhdGVJZChcbiAgICAgIGNhbmRpZGF0ZUlkXG4gICAgKTtcbiAgICByZXMuanNvbihyZXN1bHQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIG5leHQoZXJyb3IpO1xuICB9XG59O1xuXG5jb25zdCBoYW5kbGVVcGRhdGVJbnRlcnZpZXdCeUNhbXBhaWduSWQgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB3ZWVrID0gcmVxLmJvZHkud2VlaztcbiAgICBjb25zdCByb29tID0gcmVxLmJvZHkucm9vbTtcbiAgICBjb25zdCBzbG90ID0gcmVxLmJvZHkuc2xvdDtcbiAgICBjb25zdCBjYW5kaWRhdGVJZCA9IHJlcS5ib2R5LmNhbmRpZGF0ZUlkO1xuICAgIGNvbnN0IHJlc3VsdCA9IGludGVydmlld1NlcnZpY2UudXBkYXRlSW50ZXJ2aWV3QnlJRChcbiAgICAgIGNhbmRpZGF0ZUlkLFxuICAgICAgd2VlayxcbiAgICAgIHJvb20sXG4gICAgICBzbG90XG4gICAgKTtcbiAgICByZXMuanNvbihyZXN1bHQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIG5leHQoZXJyb3IpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaGFuZGxlR2V0QWxsSW50ZXJ2aWV3LFxuICBoYW5kbGVHZXRBbGxSb29tcyxcbiAgaGFuZGxlR2V0Q2FuZGlkYXRlc05vdEludGVydmlldyxcbiAgaGFuZGxlR2V0TnVtQ2FuZGlkYXRlc0J5Um9vbVdlZWssXG4gIHVwZGF0ZUludGVydmlldyxcbiAgaGFuZGxlR2V0QWxsQ2FuZGlkYXRlcyxcbiAgaGFuZGxlQ3JlYXRlTmV3SW50ZXJ2aWV3LFxuICBoYW5kbGVHZXRMaXN0Q2FuZGlkYXRlc0J5U2xvdCxcbiAgaGFuZGxlR2V0SW50ZXJ2aWV3QnlDYW5kaWRhdGVJZCxcbiAgaGFuZGxlVXBkYXRlSW50ZXJ2aWV3QnlDYW1wYWlnbklkLFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxnQkFBZ0IsR0FBR0MsT0FBTyxDQUFDLDZCQUFELENBQWhDOztBQUVBLE1BQU1DLHFCQUFxQixHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDdEQsSUFBSTtJQUNGLE1BQU1DLFlBQVksR0FBRyxNQUFNTixnQkFBZ0IsQ0FBQ08sZ0JBQWpCLEVBQTNCO0lBQ0FILEdBQUcsQ0FBQ0ksSUFBSixDQUFTRixZQUFUO0VBQ0QsQ0FIRCxDQUdFLE9BQU9HLEtBQVAsRUFBYztJQUNkSixJQUFJLENBQUNJLEtBQUQsQ0FBSjtFQUNEO0FBQ0YsQ0FQRDs7QUFTQSxNQUFNQyxpQkFBaUIsR0FBRyxPQUFPUCxHQUFQLEVBQVlDLEdBQVosRUFBaUJDLElBQWpCLEtBQTBCO0VBQ2xELElBQUk7SUFDRixNQUFNTSxXQUFXLEdBQUcsTUFBTVgsZ0JBQWdCLENBQUNXLFdBQWpCLEVBQTFCO0lBQ0FQLEdBQUcsQ0FBQ0ksSUFBSixDQUFTRyxXQUFUO0VBQ0QsQ0FIRCxDQUdFLE9BQU9GLEtBQVAsRUFBYztJQUNkSixJQUFJLENBQUNJLEtBQUQsQ0FBSjtFQUNEO0FBQ0YsQ0FQRDs7QUFTQSxNQUFNRywrQkFBK0IsR0FBRyxPQUFPVCxHQUFQLEVBQVlDLEdBQVosRUFBaUJDLElBQWpCLEtBQTBCO0VBQ2hFLElBQUk7SUFDRixNQUFNUSx5QkFBeUIsR0FDN0IsTUFBTWIsZ0JBQWdCLENBQUNhLHlCQUFqQixFQURSO0lBRUFULEdBQUcsQ0FBQ0ksSUFBSixDQUFTSyx5QkFBVDtFQUNELENBSkQsQ0FJRSxPQUFPSixLQUFQLEVBQWM7SUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7RUFDRDtBQUNGLENBUkQ7O0FBVUEsTUFBTUssZ0NBQWdDLEdBQUcsT0FBT1gsR0FBUCxFQUFZQyxHQUFaLEVBQWlCQyxJQUFqQixLQUEwQjtFQUNqRSxJQUFJO0lBQ0YsTUFBTVUsSUFBSSxHQUFHWixHQUFHLENBQUNhLElBQUosQ0FBU0QsSUFBdEI7SUFDQSxNQUFNRSwwQkFBMEIsR0FDOUIsTUFBTWpCLGdCQUFnQixDQUFDaUIsMEJBQWpCLENBQTRDRixJQUE1QyxDQURSO0lBRUFYLEdBQUcsQ0FBQ0ksSUFBSixDQUFTUywwQkFBVDtFQUNELENBTEQsQ0FLRSxPQUFPUixLQUFQLEVBQWM7SUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7RUFDRDtBQUNGLENBVEQ7O0FBVUEsTUFBTVMsZUFBZSxHQUFHLE9BQU9mLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDaEQsSUFBSTtJQUNGO0lBQ0FjLE9BQU8sQ0FBQ0MsR0FBUixDQUFZakIsR0FBRyxDQUFDYSxJQUFoQjtFQUNELENBSEQsQ0FHRSxPQUFPUCxLQUFQLEVBQWMsQ0FBRTtBQUNuQixDQUxEOztBQU9BLE1BQU1ZLHNCQUFzQixHQUFHLE9BQU9sQixHQUFQLEVBQVlDLEdBQVosRUFBaUJDLElBQWpCLEtBQTBCO0VBQ3ZELElBQUk7SUFDRixNQUFNaUIsZ0JBQWdCLEdBQUcsTUFBTXRCLGdCQUFnQixDQUFDc0IsZ0JBQWpCLEVBQS9CO0lBQ0FsQixHQUFHLENBQUNJLElBQUosQ0FBU2MsZ0JBQVQ7RUFDRCxDQUhELENBR0UsT0FBT2IsS0FBUCxFQUFjO0lBQ2RKLElBQUksQ0FBQ0ksS0FBRCxDQUFKO0VBQ0Q7QUFDRixDQVBEOztBQVNBLE1BQU1jLHdCQUF3QixHQUFHLE9BQU9wQixHQUFQLEVBQVlDLEdBQVosRUFBaUJDLElBQWpCLEtBQTBCO0VBQ3pELElBQUk7SUFDRixNQUFNbUIsSUFBSSxHQUFHckIsR0FBRyxDQUFDYSxJQUFqQjtJQUNBRyxPQUFPLENBQUNDLEdBQVIsQ0FBWUksSUFBWjtJQUNBLE1BQU1DLGtCQUFrQixHQUFHLE1BQU16QixnQkFBZ0IsQ0FBQ3lCLGtCQUFqQixDQUFvQ0QsSUFBcEMsQ0FBakM7SUFDQXBCLEdBQUcsQ0FBQ0ksSUFBSixDQUFTaUIsa0JBQVQ7RUFDRCxDQUxELENBS0UsT0FBT2hCLEtBQVAsRUFBYztJQUNkSixJQUFJLENBQUNJLEtBQUQsQ0FBSjtFQUNEO0FBQ0YsQ0FURDs7QUFXQSxNQUFNaUIsNkJBQTZCLEdBQUcsT0FBT3ZCLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDOUQsSUFBSTtJQUNGLE1BQU1zQixJQUFJLEdBQUd4QixHQUFHLENBQUNhLElBQUosQ0FBU1csSUFBdEI7SUFDQSxNQUFNQyxJQUFJLEdBQUd6QixHQUFHLENBQUNhLElBQUosQ0FBU1ksSUFBdEI7SUFDQSxNQUFNYixJQUFJLEdBQUdaLEdBQUcsQ0FBQ2EsSUFBSixDQUFTRCxJQUF0QjtJQUNBLE1BQU1jLGFBQWEsR0FBRyxNQUFNN0IsZ0JBQWdCLENBQUM4Qix1QkFBakIsQ0FDMUJmLElBRDBCLEVBRTFCYSxJQUYwQixFQUcxQkQsSUFIMEIsQ0FBNUI7SUFLQXZCLEdBQUcsQ0FBQ0ksSUFBSixDQUFTcUIsYUFBVDtFQUNELENBVkQsQ0FVRSxPQUFPcEIsS0FBUCxFQUFjO0lBQ2RKLElBQUksQ0FBQ0ksS0FBRCxDQUFKO0VBQ0Q7QUFDRixDQWREOztBQWdCQSxNQUFNc0IsK0JBQStCLEdBQUcsT0FBTzVCLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDaEUsSUFBSTtJQUNGLE1BQU0yQixXQUFXLEdBQUc3QixHQUFHLENBQUNhLElBQUosQ0FBU2dCLFdBQTdCO0lBQ0EsTUFBTUMsTUFBTSxHQUFHLE1BQU1qQyxnQkFBZ0IsQ0FBQ2tDLHlCQUFqQixDQUNuQkYsV0FEbUIsQ0FBckI7SUFHQTVCLEdBQUcsQ0FBQ0ksSUFBSixDQUFTeUIsTUFBVDtFQUNELENBTkQsQ0FNRSxPQUFPeEIsS0FBUCxFQUFjO0lBQ2RKLElBQUksQ0FBQ0ksS0FBRCxDQUFKO0VBQ0Q7QUFDRixDQVZEOztBQVlBLE1BQU0wQixpQ0FBaUMsR0FBRyxPQUFPaEMsR0FBUCxFQUFZQyxHQUFaLEVBQWlCQyxJQUFqQixLQUEwQjtFQUNsRSxJQUFJO0lBQ0YsTUFBTVUsSUFBSSxHQUFHWixHQUFHLENBQUNhLElBQUosQ0FBU0QsSUFBdEI7SUFDQSxNQUFNYSxJQUFJLEdBQUd6QixHQUFHLENBQUNhLElBQUosQ0FBU1ksSUFBdEI7SUFDQSxNQUFNRCxJQUFJLEdBQUd4QixHQUFHLENBQUNhLElBQUosQ0FBU1csSUFBdEI7SUFDQSxNQUFNSyxXQUFXLEdBQUc3QixHQUFHLENBQUNhLElBQUosQ0FBU2dCLFdBQTdCO0lBQ0EsTUFBTUMsTUFBTSxHQUFHakMsZ0JBQWdCLENBQUNvQyxtQkFBakIsQ0FDYkosV0FEYSxFQUViakIsSUFGYSxFQUdiYSxJQUhhLEVBSWJELElBSmEsQ0FBZjtJQU1BdkIsR0FBRyxDQUFDSSxJQUFKLENBQVN5QixNQUFUO0VBQ0QsQ0FaRCxDQVlFLE9BQU94QixLQUFQLEVBQWM7SUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7RUFDRDtBQUNGLENBaEJEOztBQWtCQTRCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmcEMscUJBRGU7RUFFZlEsaUJBRmU7RUFHZkUsK0JBSGU7RUFJZkUsZ0NBSmU7RUFLZkksZUFMZTtFQU1mRyxzQkFOZTtFQU9mRSx3QkFQZTtFQVFmRyw2QkFSZTtFQVNmSywrQkFUZTtFQVVmSTtBQVZlLENBQWpCIn0=","map":{"version":3,"names":["interviewService","require","handleGetAllInterview","req","res","next","getInterview","getAllInterviews","json","error","handleGetAllRooms","getAllRooms","handleGetCandidatesNotInterview","getCandidatesNotInterview","handleGetNumCandidatesByRoomWeek","week","body","getNumCandidatesByRoomWeek","updateInterview","console","log","handleGetAllCandidates","getAllCandidates","handleCreateNewInterview","data","createNewInterview","handleGetListCandidatesBySlot","slot","room","candidateList","getListCandidatesBySlot","handleGetInterviewByCandidateId","candidateId","result","getInterviewByCandidateId","handleUpdateInterviewByCampaignId","updateInterviewByID","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/","sources":["interview.controller.js"],"sourcesContent":["const interviewService = require(\"../service/interviewService\");\n\nconst handleGetAllInterview = async (req, res, next) => {\n  try {\n    const getInterview = await interviewService.getAllInterviews();\n    res.json(getInterview);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetAllRooms = async (req, res, next) => {\n  try {\n    const getAllRooms = await interviewService.getAllRooms();\n    res.json(getAllRooms);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetCandidatesNotInterview = async (req, res, next) => {\n  try {\n    const getCandidatesNotInterview =\n      await interviewService.getCandidatesNotInterview();\n    res.json(getCandidatesNotInterview);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetNumCandidatesByRoomWeek = async (req, res, next) => {\n  try {\n    const week = req.body.week;\n    const getNumCandidatesByRoomWeek =\n      await interviewService.getNumCandidatesByRoomWeek(week);\n    res.json(getNumCandidatesByRoomWeek);\n  } catch (error) {\n    next(error);\n  }\n};\nconst updateInterview = async (req, res, next) => {\n  try {\n    // interviewService.updateInterviewByID()\n    console.log(req.body);\n  } catch (error) {}\n};\n\nconst handleGetAllCandidates = async (req, res, next) => {\n  try {\n    const getAllCandidates = await interviewService.getAllCandidates();\n    res.json(getAllCandidates);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleCreateNewInterview = async (req, res, next) => {\n  try {\n    const data = req.body;\n    console.log(data);\n    const createNewInterview = await interviewService.createNewInterview(data);\n    res.json(createNewInterview);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetListCandidatesBySlot = async (req, res, next) => {\n  try {\n    const slot = req.body.slot;\n    const room = req.body.room;\n    const week = req.body.week;\n    const candidateList = await interviewService.getListCandidatesBySlot(\n      week,\n      room,\n      slot\n    );\n    res.json(candidateList);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetInterviewByCandidateId = async (req, res, next) => {\n  try {\n    const candidateId = req.body.candidateId;\n    const result = await interviewService.getInterviewByCandidateId(\n      candidateId\n    );\n    res.json(result);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleUpdateInterviewByCampaignId = async (req, res, next) => {\n  try {\n    const week = req.body.week;\n    const room = req.body.room;\n    const slot = req.body.slot;\n    const candidateId = req.body.candidateId;\n    const result = interviewService.updateInterviewByID(\n      candidateId,\n      week,\n      room,\n      slot\n    );\n    res.json(result);\n  } catch (error) {\n    next(error);\n  }\n};\n\nmodule.exports = {\n  handleGetAllInterview,\n  handleGetAllRooms,\n  handleGetCandidatesNotInterview,\n  handleGetNumCandidatesByRoomWeek,\n  updateInterview,\n  handleGetAllCandidates,\n  handleCreateNewInterview,\n  handleGetListCandidatesBySlot,\n  handleGetInterviewByCandidateId,\n  handleUpdateInterviewByCampaignId,\n};\n"],"mappings":"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"}},"mtime":1667231633830},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/interviewService.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst interviewRepository = require(\"../repository/interview.repository\");\n\nconst getAllInterviews = async () => {\n  try {\n    const where = {\n      status: [\"Processing\", \"Waiting\", \"Done\", \"Cancelled\"]\n    };\n    const interview = await interviewRepository.getInterviews(where);\n    console.log(interview);\n    return interview;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getAllRooms = async () => {\n  try {\n    const rooms = await interviewRepository.getAllRooms();\n    return rooms;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getCandidatesNotInterview = async () => {\n  try {\n    const candidates = await interviewRepository.getCandidatesNotInterview();\n    return candidates;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getNumCandidatesByRoomWeek = async week => {\n  try {\n    const data = await interviewRepository.getNumCandidatesByRoomWeek(week);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst createNewInterview = async data => {\n  try {\n    const newInterview = await interviewRepository.createNewInterview(data);\n    return newInterview;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getAllCandidates = async () => {\n  try {\n    const candidates = await interviewRepository.getAllCandidates();\n    return candidates;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getListCandidatesBySlot = async (week, room, slot) => {\n  try {\n    const candidates = await interviewRepository.getListCandidatesBySlot(week, room, slot);\n    return candidates;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getInterviewByCandidateId = async candidateId => {\n  try {\n    const result = await interviewRepository.getInterviewByCandidateId(candidateId);\n    return result;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst updateInterviewByID = async (candidateId, week, room, slot) => {\n  try {\n    const result = await interviewRepository.updateInterviewByID(candidateId, week, room, slot);\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  getAllInterviews,\n  getAllRooms,\n  getCandidatesNotInterview,\n  getNumCandidatesByRoomWeek,\n  updateInterviewByID,\n  getAllCandidates,\n  createNewInterview,\n  getListCandidatesBySlot,\n  getInterviewByCandidateId,\n  updateInterviewByID\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpbnRlcnZpZXdSZXBvc2l0b3J5IiwicmVxdWlyZSIsImdldEFsbEludGVydmlld3MiLCJ3aGVyZSIsInN0YXR1cyIsImludGVydmlldyIsImdldEludGVydmlld3MiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJnZXRBbGxSb29tcyIsInJvb21zIiwiZ2V0Q2FuZGlkYXRlc05vdEludGVydmlldyIsImNhbmRpZGF0ZXMiLCJnZXROdW1DYW5kaWRhdGVzQnlSb29tV2VlayIsIndlZWsiLCJkYXRhIiwiY3JlYXRlTmV3SW50ZXJ2aWV3IiwibmV3SW50ZXJ2aWV3IiwiZ2V0QWxsQ2FuZGlkYXRlcyIsImdldExpc3RDYW5kaWRhdGVzQnlTbG90Iiwicm9vbSIsInNsb3QiLCJnZXRJbnRlcnZpZXdCeUNhbmRpZGF0ZUlkIiwiY2FuZGlkYXRlSWQiLCJyZXN1bHQiLCJ1cGRhdGVJbnRlcnZpZXdCeUlEIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9zZXJ2aWNlLyIsInNvdXJjZXMiOlsiaW50ZXJ2aWV3U2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBpbnRlcnZpZXdSZXBvc2l0b3J5ID0gcmVxdWlyZShcIi4uL3JlcG9zaXRvcnkvaW50ZXJ2aWV3LnJlcG9zaXRvcnlcIik7XG5cbmNvbnN0IGdldEFsbEludGVydmlld3MgPSBhc3luYyAoKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3Qgd2hlcmUgPSB7IHN0YXR1czogW1wiUHJvY2Vzc2luZ1wiLCBcIldhaXRpbmdcIiwgXCJEb25lXCIsIFwiQ2FuY2VsbGVkXCJdIH07XG4gICAgY29uc3QgaW50ZXJ2aWV3ID0gYXdhaXQgaW50ZXJ2aWV3UmVwb3NpdG9yeS5nZXRJbnRlcnZpZXdzKHdoZXJlKTtcbiAgICBjb25zb2xlLmxvZyhpbnRlcnZpZXcpO1xuICAgIHJldHVybiBpbnRlcnZpZXc7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbmNvbnN0IGdldEFsbFJvb21zID0gYXN5bmMgKCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJvb21zID0gYXdhaXQgaW50ZXJ2aWV3UmVwb3NpdG9yeS5nZXRBbGxSb29tcygpO1xuICAgIHJldHVybiByb29tcztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuY29uc3QgZ2V0Q2FuZGlkYXRlc05vdEludGVydmlldyA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjYW5kaWRhdGVzID0gYXdhaXQgaW50ZXJ2aWV3UmVwb3NpdG9yeS5nZXRDYW5kaWRhdGVzTm90SW50ZXJ2aWV3KCk7XG4gICAgcmV0dXJuIGNhbmRpZGF0ZXM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbmNvbnN0IGdldE51bUNhbmRpZGF0ZXNCeVJvb21XZWVrID0gYXN5bmMgKHdlZWspID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgaW50ZXJ2aWV3UmVwb3NpdG9yeS5nZXROdW1DYW5kaWRhdGVzQnlSb29tV2Vlayh3ZWVrKTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuY29uc3QgY3JlYXRlTmV3SW50ZXJ2aWV3ID0gYXN5bmMgKGRhdGEpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBuZXdJbnRlcnZpZXcgPSBhd2FpdCBpbnRlcnZpZXdSZXBvc2l0b3J5LmNyZWF0ZU5ld0ludGVydmlldyhkYXRhKTtcbiAgICByZXR1cm4gbmV3SW50ZXJ2aWV3O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5jb25zdCBnZXRBbGxDYW5kaWRhdGVzID0gYXN5bmMgKCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGNhbmRpZGF0ZXMgPSBhd2FpdCBpbnRlcnZpZXdSZXBvc2l0b3J5LmdldEFsbENhbmRpZGF0ZXMoKTtcbiAgICByZXR1cm4gY2FuZGlkYXRlcztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuY29uc3QgZ2V0TGlzdENhbmRpZGF0ZXNCeVNsb3QgPSBhc3luYyAod2Vlaywgcm9vbSwgc2xvdCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGNhbmRpZGF0ZXMgPSBhd2FpdCBpbnRlcnZpZXdSZXBvc2l0b3J5LmdldExpc3RDYW5kaWRhdGVzQnlTbG90KFxuICAgICAgd2VlayxcbiAgICAgIHJvb20sXG4gICAgICBzbG90XG4gICAgKTtcbiAgICByZXR1cm4gY2FuZGlkYXRlcztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuY29uc3QgZ2V0SW50ZXJ2aWV3QnlDYW5kaWRhdGVJZCA9IGFzeW5jIChjYW5kaWRhdGVJZCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGludGVydmlld1JlcG9zaXRvcnkuZ2V0SW50ZXJ2aWV3QnlDYW5kaWRhdGVJZChcbiAgICAgIGNhbmRpZGF0ZUlkXG4gICAgKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5jb25zdCB1cGRhdGVJbnRlcnZpZXdCeUlEID0gYXN5bmMgKGNhbmRpZGF0ZUlkLCB3ZWVrLCByb29tLCBzbG90KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaW50ZXJ2aWV3UmVwb3NpdG9yeS51cGRhdGVJbnRlcnZpZXdCeUlEKFxuICAgICAgY2FuZGlkYXRlSWQsXG4gICAgICB3ZWVrLFxuICAgICAgcm9vbSxcbiAgICAgIHNsb3RcbiAgICApO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0QWxsSW50ZXJ2aWV3cyxcbiAgZ2V0QWxsUm9vbXMsXG4gIGdldENhbmRpZGF0ZXNOb3RJbnRlcnZpZXcsXG4gIGdldE51bUNhbmRpZGF0ZXNCeVJvb21XZWVrLFxuICB1cGRhdGVJbnRlcnZpZXdCeUlELFxuICBnZXRBbGxDYW5kaWRhdGVzLFxuICBjcmVhdGVOZXdJbnRlcnZpZXcsXG4gIGdldExpc3RDYW5kaWRhdGVzQnlTbG90LFxuICBnZXRJbnRlcnZpZXdCeUNhbmRpZGF0ZUlkLFxuICB1cGRhdGVJbnRlcnZpZXdCeUlELFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxtQkFBbUIsR0FBR0MsT0FBTyxDQUFDLG9DQUFELENBQW5DOztBQUVBLE1BQU1DLGdCQUFnQixHQUFHLFlBQVk7RUFDbkMsSUFBSTtJQUNGLE1BQU1DLEtBQUssR0FBRztNQUFFQyxNQUFNLEVBQUUsQ0FBQyxZQUFELEVBQWUsU0FBZixFQUEwQixNQUExQixFQUFrQyxXQUFsQztJQUFWLENBQWQ7SUFDQSxNQUFNQyxTQUFTLEdBQUcsTUFBTUwsbUJBQW1CLENBQUNNLGFBQXBCLENBQWtDSCxLQUFsQyxDQUF4QjtJQUNBSSxPQUFPLENBQUNDLEdBQVIsQ0FBWUgsU0FBWjtJQUNBLE9BQU9BLFNBQVA7RUFDRCxDQUxELENBS0UsT0FBT0ksS0FBUCxFQUFjO0lBQ2QsTUFBTUEsS0FBTjtFQUNEO0FBQ0YsQ0FURDs7QUFXQSxNQUFNQyxXQUFXLEdBQUcsWUFBWTtFQUM5QixJQUFJO0lBQ0YsTUFBTUMsS0FBSyxHQUFHLE1BQU1YLG1CQUFtQixDQUFDVSxXQUFwQixFQUFwQjtJQUNBLE9BQU9DLEtBQVA7RUFDRCxDQUhELENBR0UsT0FBT0YsS0FBUCxFQUFjO0lBQ2QsTUFBTUEsS0FBTjtFQUNEO0FBQ0YsQ0FQRDs7QUFTQSxNQUFNRyx5QkFBeUIsR0FBRyxZQUFZO0VBQzVDLElBQUk7SUFDRixNQUFNQyxVQUFVLEdBQUcs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","map":{"version":3,"names":["interviewRepository","require","getAllInterviews","where","status","interview","getInterviews","console","log","error","getAllRooms","rooms","getCandidatesNotInterview","candidates","getNumCandidatesByRoomWeek","week","data","createNewInterview","newInterview","getAllCandidates","getListCandidatesBySlot","room","slot","getInterviewByCandidateId","candidateId","result","updateInterviewByID","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/","sources":["interviewService.js"],"sourcesContent":["const interviewRepository = require(\"../repository/interview.repository\");\n\nconst getAllInterviews = async () => {\n  try {\n    const where = { status: [\"Processing\", \"Waiting\", \"Done\", \"Cancelled\"] };\n    const interview = await interviewRepository.getInterviews(where);\n    console.log(interview);\n    return interview;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getAllRooms = async () => {\n  try {\n    const rooms = await interviewRepository.getAllRooms();\n    return rooms;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getCandidatesNotInterview = async () => {\n  try {\n    const candidates = await interviewRepository.getCandidatesNotInterview();\n    return candidates;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getNumCandidatesByRoomWeek = async (week) => {\n  try {\n    const data = await interviewRepository.getNumCandidatesByRoomWeek(week);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst createNewInterview = async (data) => {\n  try {\n    const newInterview = await interviewRepository.createNewInterview(data);\n    return newInterview;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getAllCandidates = async () => {\n  try {\n    const candidates = await interviewRepository.getAllCandidates();\n    return candidates;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getListCandidatesBySlot = async (week, room, slot) => {\n  try {\n    const candidates = await interviewRepository.getListCandidatesBySlot(\n      week,\n      room,\n      slot\n    );\n    return candidates;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getInterviewByCandidateId = async (candidateId) => {\n  try {\n    const result = await interviewRepository.getInterviewByCandidateId(\n      candidateId\n    );\n    return result;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst updateInterviewByID = async (candidateId, week, room, slot) => {\n  try {\n    const result = await interviewRepository.updateInterviewByID(\n      candidateId,\n      week,\n      room,\n      slot\n    );\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  getAllInterviews,\n  getAllRooms,\n  getCandidatesNotInterview,\n  getNumCandidatesByRoomWeek,\n  updateInterviewByID,\n  getAllCandidates,\n  createNewInterview,\n  getListCandidatesBySlot,\n  getInterviewByCandidateId,\n  updateInterviewByID,\n};\n"],"mappings":"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"}},"mtime":1667231633848},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/interview.repository.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _sequelize = require(\"sequelize\");\n\nvar _index = require(\"../models/index.js\");\n\nconst db = require(\"../models\");\n\nconst Interviews = db.Interviews;\n\nconst updateInterviews = async (newObj, where) => {\n  return await Interviews.update(newObj, {\n    where: where\n  });\n};\n\nconst getInterviews = async where => {\n  console.log(\"aaaa\");\n  return await Interviews.findAll({\n    where: where,\n    raw: true\n  });\n};\n\nconst getAllRooms = async () => {\n  return await _index.sequelize.query(\"SELECT DISTINCT room FROM hrms.interviews\", {\n    type: _sequelize.QueryTypes.SELECT\n  });\n};\n\nconst getCandidatesNotInterview = async () => {\n  const query = 'SELECT * FROM hrms.candidatedetails where id not in (select candidateDetail_id from hrms.interviews) and applied_status = \"Approve\"';\n  return await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.SELECT\n  });\n};\n\nconst getNumCandidatesByRoomWeek = async week => {\n  const query = \"SELECT i.slot,  count(*) as num_candidates FROM hrms.interviews as i WHERE i.room = ? AND i.week = ? GROUP BY i.slot\"; // gererate result\n\n  const result = [];\n\n  for (let room = 1; room <= 9; room++) {\n    const data = await _index.sequelize.query(query, {\n      replacements: [room, week],\n      type: _sequelize.QueryTypes.SELECT\n    }); // create 24 slots\n\n    const roomArr = Array(24).fill(0); // use slot + 1 because slot in interview table started from 1 to 24\n\n    const newArr = roomArr.map((value, slot) => updateRoom(data, slot + 1));\n    const resultData = {\n      name: `room ${room}`,\n      data: newArr\n    };\n    result.push(resultData);\n  }\n\n  function updateRoom(data, slot) {\n    for (let i = 0; i < data.length; i++) {\n      if (data[i].slot === slot) {\n        return data[i].num_candidates;\n      }\n    }\n\n    return 0;\n  }\n\n  return result;\n};\n\nconst getAllCandidates = async () => {\n  const query = `SELECT \n          c.id, c.resume_url, c.phone, c.address, \n          case \n            when c.id in (select i.candidatedetail_id from hrms.interviews as i) then 'YES' \n            else 'NO' \n          end as booking_status \n    FROM hrms.candidatedetails as c \n    WHERE applied_status = 'Approve'`;\n  return await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.SELECT\n  });\n};\n\nconst createNewInterview = async data => {\n  console.log(data);\n  return await Interviews.create({\n    CandidateDetail_id: data.candidateId,\n    room: data.room,\n    slot: data.slot,\n    week: data.week\n  }); // const query =\n  //   \"INSERT INTO hrms.interviews (id, room, slot, week, status, CandidateDetail_id) VALUES (DEFAULT, ?, ?, ?, DEFAULT, ?)\";\n  // return await sequelize.query(query, {\n  //   type: QueryTypes.INSERT,\n  //   replacements: [data.room, data.slot, data.week, data.candidateId],\n  // });\n};\n\nconst getListCandidatesBySlot = async (week, room, slot) => {\n  const query = `SELECT M.fullname, J.name, M.email, M.address, M.phone\nFROM hrms.interviews as I\nINNER JOIN hrms.candidatedetails as C\nON I.candidatedetail_id = C.id\nINNER JOIN hrms.members as M\nON C.member_id = M.id\nINNER JOIN hrms.jobs as J\nON C.Job_id = J.id\nWHERE I.week = ? AND I.room = ? AND I.slot = ?`;\n  return await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.SELECT,\n    replacements: [week, room, slot]\n  });\n};\n\nconst getInterviewByCandidateId = async candidateId => {\n  const query = `SELECT * \n  FROM hrms.interviews as I \n  WHERE I.candidatedetail_id = ?`;\n  const data = await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.SELECT,\n    replacements: [candidateId]\n  });\n  return data;\n};\n\nconst updateInterviewByID = async (candidateId, week, room, slot) => {\n  const query = `update hrms.interviews \n  set week = ?, room = ?, slot = ? \n  where candidatedetail_id = ?`;\n  const data = await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.UPDATE,\n    replacements: [week, room, slot, candidateId]\n  });\n  return data;\n};\n\nmodule.exports = {\n  getInterviews,\n  getAllRooms,\n  getCandidatesNotInterview,\n  getNumCandidatesByRoomWeek,\n  updateInterviews,\n  getAllCandidates,\n  createNewInterview,\n  getListCandidatesBySlot,\n  getInterviewByCandidateId,\n  updateInterviewByID\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYiIsInJlcXVpcmUiLCJJbnRlcnZpZXdzIiwidXBkYXRlSW50ZXJ2aWV3cyIsIm5ld09iaiIsIndoZXJlIiwidXBkYXRlIiwiZ2V0SW50ZXJ2aWV3cyIsImNvbnNvbGUiLCJsb2ciLCJmaW5kQWxsIiwicmF3IiwiZ2V0QWxsUm9vbXMiLCJzZXF1ZWxpemUiLCJxdWVyeSIsInR5cGUiLCJRdWVyeVR5cGVzIiwiU0VMRUNUIiwiZ2V0Q2FuZGlkYXRlc05vdEludGVydmlldyIsImdldE51bUNhbmRpZGF0ZXNCeVJvb21XZWVrIiwid2VlayIsInJlc3VsdCIsInJvb20iLCJkYXRhIiwicmVwbGFjZW1lbnRzIiwicm9vbUFyciIsIkFycmF5IiwiZmlsbCIsIm5ld0FyciIsIm1hcCIsInZhbHVlIiwic2xvdCIsInVwZGF0ZVJvb20iLCJyZXN1bHREYXRhIiwibmFtZSIsInB1c2giLCJpIiwibGVuZ3RoIiwibnVtX2NhbmRpZGF0ZXMiLCJnZXRBbGxDYW5kaWRhdGVzIiwiY3JlYXRlTmV3SW50ZXJ2aWV3IiwiY3JlYXRlIiwiQ2FuZGlkYXRlRGV0YWlsX2lkIiwiY2FuZGlkYXRlSWQiLCJnZXRMaXN0Q2FuZGlkYXRlc0J5U2xvdCIsImdldEludGVydmlld0J5Q2FuZGlkYXRlSWQiLCJ1cGRhdGVJbnRlcnZpZXdCeUlEIiwiVVBEQVRFIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9yZXBvc2l0b3J5LyIsInNvdXJjZXMiOlsiaW50ZXJ2aWV3LnJlcG9zaXRvcnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGIgPSByZXF1aXJlKFwiLi4vbW9kZWxzXCIpO1xuaW1wb3J0IHsgUXVlcnlUeXBlcyB9IGZyb20gXCJzZXF1ZWxpemVcIjtcbmltcG9ydCB7IHNlcXVlbGl6ZSB9IGZyb20gXCIuLi9tb2RlbHMvaW5kZXguanNcIjtcblxuY29uc3QgSW50ZXJ2aWV3cyA9IGRiLkludGVydmlld3M7XG5cbmNvbnN0IHVwZGF0ZUludGVydmlld3MgPSBhc3luYyAobmV3T2JqLCB3aGVyZSkgPT4ge1xuICByZXR1cm4gYXdhaXQgSW50ZXJ2aWV3cy51cGRhdGUobmV3T2JqLCB7XG4gICAgd2hlcmU6IHdoZXJlLFxuICB9KTtcbn07XG5cbmNvbnN0IGdldEludGVydmlld3MgPSBhc3luYyAod2hlcmUpID0+IHtcbiAgY29uc29sZS5sb2coXCJhYWFhXCIpO1xuICByZXR1cm4gYXdhaXQgSW50ZXJ2aWV3cy5maW5kQWxsKHtcbiAgICB3aGVyZTogd2hlcmUsXG4gICAgcmF3OiB0cnVlLFxuICB9KTtcbn07XG5cbmNvbnN0IGdldEFsbFJvb21zID0gYXN5bmMgKCkgPT4ge1xuICByZXR1cm4gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KFwiU0VMRUNUIERJU1RJTkNUIHJvb20gRlJPTSBocm1zLmludGVydmlld3NcIiwge1xuICAgIHR5cGU6IFF1ZXJ5VHlwZXMuU0VMRUNULFxuICB9KTtcbn07XG5cbmNvbnN0IGdldENhbmRpZGF0ZXNOb3RJbnRlcnZpZXcgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHF1ZXJ5ID1cbiAgICAnU0VMRUNUICogRlJPTSBocm1zLmNhbmRpZGF0ZWRldGFpbHMgd2hlcmUgaWQgbm90IGluIChzZWxlY3QgY2FuZGlkYXRlRGV0YWlsX2lkIGZyb20gaHJtcy5pbnRlcnZpZXdzKSBhbmQgYXBwbGllZF9zdGF0dXMgPSBcIkFwcHJvdmVcIic7XG4gIHJldHVybiBhd2FpdCBzZXF1ZWxpemUucXVlcnkocXVlcnksIHtcbiAgICB0eXBlOiBRdWVyeVR5cGVzLlNFTEVDVCxcbiAgfSk7XG59O1xuXG5jb25zdCBnZXROdW1DYW5kaWRhdGVzQnlSb29tV2VlayA9IGFzeW5jICh3ZWVrKSA9PiB7XG4gIGNvbnN0IHF1ZXJ5ID1cbiAgICBcIlNFTEVDVCBpLnNsb3QsICBjb3VudCgqKSBhcyBudW1fY2FuZGlkYXRlcyBGUk9NIGhybXMuaW50ZXJ2aWV3cyBhcyBpIFdIRVJFIGkucm9vbSA9ID8gQU5EIGkud2VlayA9ID8gR1JPVVAgQlkgaS5zbG90XCI7XG5cbiAgLy8gZ2VyZXJhdGUgcmVzdWx0XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuXG4gIGZvciAobGV0IHJvb20gPSAxOyByb29tIDw9IDk7IHJvb20rKykge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBzZXF1ZWxpemUucXVlcnkocXVlcnksIHtcbiAgICAgIHJlcGxhY2VtZW50czogW3Jvb20sIHdlZWtdLFxuICAgICAgdHlwZTogUXVlcnlUeXBlcy5TRUxFQ1QsXG4gICAgfSk7XG4gICAgLy8gY3JlYXRlIDI0IHNsb3RzXG4gICAgY29uc3Qgcm9vbUFyciA9IEFycmF5KDI0KS5maWxsKDApO1xuICAgIC8vIHVzZSBzbG90ICsgMSBiZWNhdXNlIHNsb3QgaW4gaW50ZXJ2aWV3IHRhYmxlIHN0YXJ0ZWQgZnJvbSAxIHRvIDI0XG4gICAgY29uc3QgbmV3QXJyID0gcm9vbUFyci5tYXAoKHZhbHVlLCBzbG90KSA9PiB1cGRhdGVSb29tKGRhdGEsIHNsb3QgKyAxKSk7XG5cbiAgICBjb25zdCByZXN1bHREYXRhID0ge1xuICAgICAgbmFtZTogYHJvb20gJHtyb29tfWAsXG4gICAgICBkYXRhOiBuZXdBcnIsXG4gICAgfTtcbiAgICByZXN1bHQucHVzaChyZXN1bHREYXRhKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVJvb20oZGF0YSwgc2xvdCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGRhdGFbaV0uc2xvdCA9PT0gc2xvdCkge1xuICAgICAgICByZXR1cm4gZGF0YVtpXS5udW1fY2FuZGlkYXRlcztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuY29uc3QgZ2V0QWxsQ2FuZGlkYXRlcyA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgcXVlcnkgPSBgU0VMRUNUIFxuICAgICAgICAgIGMuaWQsIGMucmVzdW1lX3VybCwgYy5waG9uZSwgYy5hZGRyZXNzLCBcbiAgICAgICAgICBjYXNlIFxuICAgICAgICAgICAgd2hlbiBjLmlkIGluIChzZWxlY3QgaS5jYW5kaWRhdGVkZXRhaWxfaWQgZnJvbSBocm1zLmludGVydmlld3MgYXMgaSkgdGhlbiAnWUVTJyBcbiAgICAgICAgICAgIGVsc2UgJ05PJyBcbiAgICAgICAgICBlbmQgYXMgYm9va2luZ19zdGF0dXMgXG4gICAgRlJPTSBocm1zLmNhbmRpZGF0ZWRldGFpbHMgYXMgYyBcbiAgICBXSEVSRSBhcHBsaWVkX3N0YXR1cyA9ICdBcHByb3ZlJ2A7XG4gIHJldHVybiBhd2FpdCBzZXF1ZWxpemUucXVlcnkocXVlcnksIHtcbiAgICB0eXBlOiBRdWVyeVR5cGVzLlNFTEVDVCxcbiAgfSk7XG59O1xuXG5jb25zdCBjcmVhdGVOZXdJbnRlcnZpZXcgPSBhc3luYyAoZGF0YSkgPT4ge1xuICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgcmV0dXJuIGF3YWl0IEludGVydmlld3MuY3JlYXRlKHtcbiAgICBDYW5kaWRhdGVEZXRhaWxfaWQ6IGRhdGEuY2FuZGlkYXRlSWQsXG4gICAgcm9vbTogZGF0YS5yb29tLFxuICAgIHNsb3Q6IGRhdGEuc2xvdCxcbiAgICB3ZWVrOiBkYXRhLndlZWssXG4gIH0pO1xuICAvLyBjb25zdCBxdWVyeSA9XG4gIC8vICAgXCJJTlNFUlQgSU5UTyBocm1zLmludGVydmlld3MgKGlkLCByb29tLCBzbG90LCB3ZWVrLCBzdGF0dXMsIENhbmRpZGF0ZURldGFpbF9pZCkgVkFMVUVTIChERUZBVUxULCA/LCA/LCA/LCBERUZBVUxULCA/KVwiO1xuICAvLyByZXR1cm4gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KHF1ZXJ5LCB7XG4gIC8vICAgdHlwZTogUXVlcnlUeXBlcy5JTlNFUlQsXG4gIC8vICAgcmVwbGFjZW1lbnRzOiBbZGF0YS5yb29tLCBkYXRhLnNsb3QsIGRhdGEud2VlaywgZGF0YS5jYW5kaWRhdGVJZF0sXG4gIC8vIH0pO1xufTtcblxuY29uc3QgZ2V0TGlzdENhbmRpZGF0ZXNCeVNsb3QgPSBhc3luYyAod2Vlaywgcm9vbSwgc2xvdCkgPT4ge1xuICBjb25zdCBxdWVyeSA9IGBTRUxFQ1QgTS5mdWxsbmFtZSwgSi5uYW1lLCBNLmVtYWlsLCBNLmFkZHJlc3MsIE0ucGhvbmVcbkZST00gaHJtcy5pbnRlcnZpZXdzIGFzIElcbklOTkVSIEpPSU4gaHJtcy5jYW5kaWRhdGVkZXRhaWxzIGFzIENcbk9OIEkuY2FuZGlkYXRlZGV0YWlsX2lkID0gQy5pZFxuSU5ORVIgSk9JTiBocm1zLm1lbWJlcnMgYXMgTVxuT04gQy5tZW1iZXJfaWQgPSBNLmlkXG5JTk5FUiBKT0lOIGhybXMuam9icyBhcyBKXG5PTiBDLkpvYl9pZCA9IEouaWRcbldIRVJFIEkud2VlayA9ID8gQU5EIEkucm9vbSA9ID8gQU5EIEkuc2xvdCA9ID9gO1xuICByZXR1cm4gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KHF1ZXJ5LCB7XG4gICAgdHlwZTogUXVlcnlUeXBlcy5TRUxFQ1QsXG4gICAgcmVwbGFjZW1lbnRzOiBbd2Vlaywgcm9vbSwgc2xvdF0sXG4gIH0pO1xufTtcblxuY29uc3QgZ2V0SW50ZXJ2aWV3QnlDYW5kaWRhdGVJZCA9IGFzeW5jIChjYW5kaWRhdGVJZCkgPT4ge1xuICBjb25zdCBxdWVyeSA9IGBTRUxFQ1QgKiBcbiAgRlJPTSBocm1zLmludGVydmlld3MgYXMgSSBcbiAgV0hFUkUgSS5jYW5kaWRhdGVkZXRhaWxfaWQgPSA/YDtcbiAgY29uc3QgZGF0YSA9IGF3YWl0IHNlcXVlbGl6ZS5xdWVyeShxdWVyeSwge1xuICAgIHR5cGU6IFF1ZXJ5VHlwZXMuU0VMRUNULFxuICAgIHJlcGxhY2VtZW50czogW2NhbmRpZGF0ZUlkXSxcbiAgfSk7XG4gIHJldHVybiBkYXRhO1xufTtcblxuY29uc3QgdXBkYXRlSW50ZXJ2aWV3QnlJRCA9IGFzeW5jIChjYW5kaWRhdGVJZCwgd2Vlaywgcm9vbSwgc2xvdCkgPT4ge1xuICBjb25zdCBxdWVyeSA9IGB1cGRhdGUgaHJtcy5pbnRlcnZpZXdzIFxuICBzZXQgd2VlayA9ID8sIHJvb20gPSA/LCBzbG90ID0gPyBcbiAgd2hlcmUgY2FuZGlkYXRlZGV0YWlsX2lkID0gP2A7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBzZXF1ZWxpemUucXVlcnkocXVlcnksIHtcbiAgICB0eXBlOiBRdWVyeVR5cGVzLlVQREFURSxcbiAgICByZXBsYWNlbWVudHM6IFt3ZWVrLCByb29tLCBzbG90LCBjYW5kaWRhdGVJZF0sXG4gIH0pO1xuICByZXR1cm4gZGF0YTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBnZXRJbnRlcnZpZXdzLFxuICBnZXRBbGxSb29tcyxcbiAgZ2V0Q2FuZGlkYXRlc05vdEludGVydmlldyxcbiAgZ2V0TnVtQ2FuZGlkYXRlc0J5Um9vbVdlZWssXG4gIHVwZGF0ZUludGVydmlld3MsXG4gIGdldEFsbENhbmRpZGF0ZXMsXG4gIGNyZWF0ZU5ld0ludGVydmlldyxcbiAgZ2V0TGlzdENhbmRpZGF0ZXNCeVNsb3QsXG4gIGdldEludGVydmlld0J5Q2FuZGlkYXRlSWQsXG4gIHVwZGF0ZUludGVydmlld0J5SUQsXG59O1xuIl0sIm1hcHBpbmdzIjoiOztBQUNBOztBQUNBOztBQUZBLE1BQU1BLEVBQUUsR0FBR0MsT0FBTyxDQUFDLFdBQUQsQ0FBbEI7O0FBSUEsTUFBTUMsVUFBVSxHQUFHRixFQUFFLENBQUNFLFVBQXRCOztBQUVBLE1BQU1DLGdCQUFnQixHQUFHLE9BQU9DLE1BQVAsRUFBZUMsS0FBZixLQUF5QjtFQUNoRCxPQUFPLE1BQU1ILFVBQVUsQ0FBQ0ksTUFBWCxDQUFrQkYsTUFBbEIsRUFBMEI7SUFDckNDLEtBQUssRUFBRUE7RUFEOEIsQ0FBMUIsQ0FBYjtBQUdELENBSkQ7O0FBTUEsTUFBTUUsYUFBYSxHQUFHLE1BQU9GLEtBQVAsSUFBaUI7RUFDckNHLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLE1BQVo7RUFDQSxPQUFPLE1BQU1QLFVBQVUsQ0FBQ1Es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","map":{"version":3,"names":["db","require","Interviews","updateInterviews","newObj","where","update","getInterviews","console","log","findAll","raw","getAllRooms","sequelize","query","type","QueryTypes","SELECT","getCandidatesNotInterview","getNumCandidatesByRoomWeek","week","result","room","data","replacements","roomArr","Array","fill","newArr","map","value","slot","updateRoom","resultData","name","push","i","length","num_candidates","getAllCandidates","createNewInterview","create","CandidateDetail_id","candidateId","getListCandidatesBySlot","getInterviewByCandidateId","updateInterviewByID","UPDATE","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/","sources":["interview.repository.js"],"sourcesContent":["const db = require(\"../models\");\nimport { QueryTypes } from \"sequelize\";\nimport { sequelize } from \"../models/index.js\";\n\nconst Interviews = db.Interviews;\n\nconst updateInterviews = async (newObj, where) => {\n  return await Interviews.update(newObj, {\n    where: where,\n  });\n};\n\nconst getInterviews = async (where) => {\n  console.log(\"aaaa\");\n  return await Interviews.findAll({\n    where: where,\n    raw: true,\n  });\n};\n\nconst getAllRooms = async () => {\n  return await sequelize.query(\"SELECT DISTINCT room FROM hrms.interviews\", {\n    type: QueryTypes.SELECT,\n  });\n};\n\nconst getCandidatesNotInterview = async () => {\n  const query =\n    'SELECT * FROM hrms.candidatedetails where id not in (select candidateDetail_id from hrms.interviews) and applied_status = \"Approve\"';\n  return await sequelize.query(query, {\n    type: QueryTypes.SELECT,\n  });\n};\n\nconst getNumCandidatesByRoomWeek = async (week) => {\n  const query =\n    \"SELECT i.slot,  count(*) as num_candidates FROM hrms.interviews as i WHERE i.room = ? AND i.week = ? GROUP BY i.slot\";\n\n  // gererate result\n  const result = [];\n\n  for (let room = 1; room <= 9; room++) {\n    const data = await sequelize.query(query, {\n      replacements: [room, week],\n      type: QueryTypes.SELECT,\n    });\n    // create 24 slots\n    const roomArr = Array(24).fill(0);\n    // use slot + 1 because slot in interview table started from 1 to 24\n    const newArr = roomArr.map((value, slot) => updateRoom(data, slot + 1));\n\n    const resultData = {\n      name: `room ${room}`,\n      data: newArr,\n    };\n    result.push(resultData);\n  }\n\n  function updateRoom(data, slot) {\n    for (let i = 0; i < data.length; i++) {\n      if (data[i].slot === slot) {\n        return data[i].num_candidates;\n      }\n    }\n    return 0;\n  }\n\n  return result;\n};\n\nconst getAllCandidates = async () => {\n  const query = `SELECT \n          c.id, c.resume_url, c.phone, c.address, \n          case \n            when c.id in (select i.candidatedetail_id from hrms.interviews as i) then 'YES' \n            else 'NO' \n          end as booking_status \n    FROM hrms.candidatedetails as c \n    WHERE applied_status = 'Approve'`;\n  return await sequelize.query(query, {\n    type: QueryTypes.SELECT,\n  });\n};\n\nconst createNewInterview = async (data) => {\n  console.log(data);\n  return await Interviews.create({\n    CandidateDetail_id: data.candidateId,\n    room: data.room,\n    slot: data.slot,\n    week: data.week,\n  });\n  // const query =\n  //   \"INSERT INTO hrms.interviews (id, room, slot, week, status, CandidateDetail_id) VALUES (DEFAULT, ?, ?, ?, DEFAULT, ?)\";\n  // return await sequelize.query(query, {\n  //   type: QueryTypes.INSERT,\n  //   replacements: [data.room, data.slot, data.week, data.candidateId],\n  // });\n};\n\nconst getListCandidatesBySlot = async (week, room, slot) => {\n  const query = `SELECT M.fullname, J.name, M.email, M.address, M.phone\nFROM hrms.interviews as I\nINNER JOIN hrms.candidatedetails as C\nON I.candidatedetail_id = C.id\nINNER JOIN hrms.members as M\nON C.member_id = M.id\nINNER JOIN hrms.jobs as J\nON C.Job_id = J.id\nWHERE I.week = ? AND I.room = ? AND I.slot = ?`;\n  return await sequelize.query(query, {\n    type: QueryTypes.SELECT,\n    replacements: [week, room, slot],\n  });\n};\n\nconst getInterviewByCandidateId = async (candidateId) => {\n  const query = `SELECT * \n  FROM hrms.interviews as I \n  WHERE I.candidatedetail_id = ?`;\n  const data = await sequelize.query(query, {\n    type: QueryTypes.SELECT,\n    replacements: [candidateId],\n  });\n  return data;\n};\n\nconst updateInterviewByID = async (candidateId, week, room, slot) => {\n  const query = `update hrms.interviews \n  set week = ?, room = ?, slot = ? \n  where candidatedetail_id = ?`;\n  const data = await sequelize.query(query, {\n    type: QueryTypes.UPDATE,\n    replacements: [week, room, slot, candidateId],\n  });\n  return data;\n};\n\nmodule.exports = {\n  getInterviews,\n  getAllRooms,\n  getCandidatesNotInterview,\n  getNumCandidatesByRoomWeek,\n  updateInterviews,\n  getAllCandidates,\n  createNewInterview,\n  getListCandidatesBySlot,\n  getInterviewByCandidateId,\n  updateInterviewByID,\n};\n"],"mappings":"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"}},"mtime":1667231633837},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/utils/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/utils/mailSending.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mailSending = void 0;\n\nconst nodemailer = require(\"nodemailer\");\n\nconst Mailgen = require(\"mailgen\");\n\nrequire(\"dotenv\").config();\n\nlet transporter = nodemailer.createTransport({\n  service: \"gmail\",\n  secure: true,\n  auth: {\n    user: process.env.MY_EMAIL,\n    pass: process.env.MY_PASSWORD\n  }\n});\n\nconst mailSending = async (userEmail, subject, text) => {\n  try {\n    let mailGenerator = new Mailgen({\n      theme: \"cerberus\",\n      product: {\n        name: \"FCode eCruitment\",\n        link: `https://127.0.0.1:5173/`\n      }\n    });\n    const email = {\n      body: {\n        name: userEmail,\n        intro: text,\n        outro: \"Need help, or have questions? Just reply to this email, we'd love to help.\"\n      }\n    };\n    let emailBody = mailGenerator.generate(email);\n    let message = {\n      from: process.env.MY_EMAIL,\n      to: userEmail,\n      subject: subject,\n      html: emailBody\n    };\n    await transporter.sendMail(message);\n    return true;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexports.mailSending = mailSending;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJub2RlbWFpbGVyIiwicmVxdWlyZSIsIk1haWxnZW4iLCJjb25maWciLCJ0cmFuc3BvcnRlciIsImNyZWF0ZVRyYW5zcG9ydCIsInNlcnZpY2UiLCJzZWN1cmUiLCJhdXRoIiwidXNlciIsInByb2Nlc3MiLCJlbnYiLCJNWV9FTUFJTCIsInBhc3MiLCJNWV9QQVNTV09SRCIsIm1haWxTZW5kaW5nIiwidXNlckVtYWlsIiwic3ViamVjdCIsInRleHQiLCJtYWlsR2VuZXJhdG9yIiwidGhlbWUiLCJwcm9kdWN0IiwibmFtZSIsImxpbmsiLCJlbWFpbCIsImJvZHkiLCJpbnRybyIsIm91dHJvIiwiZW1haWxCb2R5IiwiZ2VuZXJhdGUiLCJtZXNzYWdlIiwiZnJvbSIsInRvIiwiaHRtbCIsInNlbmRNYWlsIiwiZXJyb3IiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvdXRpbHMvIiwic291cmNlcyI6WyJtYWlsU2VuZGluZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBub2RlbWFpbGVyID0gcmVxdWlyZShcIm5vZGVtYWlsZXJcIik7XG5jb25zdCBNYWlsZ2VuID0gcmVxdWlyZShcIm1haWxnZW5cIik7XG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xuXG5sZXQgdHJhbnNwb3J0ZXIgPSBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydCh7XG4gIHNlcnZpY2U6IFwiZ21haWxcIixcbiAgc2VjdXJlOiB0cnVlLFxuICBhdXRoOiB7XG4gICAgdXNlcjogcHJvY2Vzcy5lbnYuTVlfRU1BSUwsXG4gICAgcGFzczogcHJvY2Vzcy5lbnYuTVlfUEFTU1dPUkQsXG4gIH0sXG59KTtcblxuZXhwb3J0IGNvbnN0IG1haWxTZW5kaW5nID0gYXN5bmMgKHVzZXJFbWFpbCwgc3ViamVjdCwgdGV4dCkgPT4ge1xuICB0cnkge1xuICAgIGxldCBtYWlsR2VuZXJhdG9yID0gbmV3IE1haWxnZW4oe1xuICAgICAgdGhlbWU6IFwiY2VyYmVydXNcIixcbiAgICAgIHByb2R1Y3Q6IHtcbiAgICAgICAgbmFtZTogXCJGQ29kZSBlQ3J1aXRtZW50XCIsXG4gICAgICAgIGxpbms6IGBodHRwczovLzEyNy4wLjAuMTo1MTczL2AsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIGNvbnN0IGVtYWlsID0ge1xuICAgICAgYm9keToge1xuICAgICAgICBuYW1lOiB1c2VyRW1haWwsXG4gICAgICAgIGludHJvOiB0ZXh0LFxuICAgICAgICBvdXRybzpcbiAgICAgICAgICBcIk5lZWQgaGVscCwgb3IgaGF2ZSBxdWVzdGlvbnM/IEp1c3QgcmVwbHkgdG8gdGhpcyBlbWFpbCwgd2UnZCBsb3ZlIHRvIGhlbHAuXCIsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICBsZXQgZW1haWxCb2R5ID0gbWFpbEdlbmVyYXRvci5nZW5lcmF0ZShlbWFpbCk7XG5cbiAgICBsZXQgbWVzc2FnZSA9IHtcbiAgICAgIGZyb206IHByb2Nlc3MuZW52Lk1ZX0VNQUlMLFxuICAgICAgdG86IHVzZXJFbWFpbCxcbiAgICAgIHN1YmplY3Q6IHN1YmplY3QsXG4gICAgICBodG1sOiBlbWFpbEJvZHksXG4gICAgfTtcbiAgICBhd2FpdCB0cmFuc3BvcnRlci5zZW5kTWFpbChtZXNzYWdlKTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsTUFBTUEsVUFBVSxHQUFHQyxPQUFPLENBQUMsWUFBRCxDQUExQjs7QUFDQSxNQUFNQyxPQUFPLEdBQUdELE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCRSxNQUFsQjs7QUFFQSxJQUFJQyxXQUFXLEdBQUdKLFVBQVUsQ0FBQ0ssZUFBWCxDQUEyQjtFQUMzQ0MsT0FBTyxFQUFFLE9BRGtDO0VBRTNDQyxNQUFNLEVBQUUsSUFGbUM7RUFHM0NDLElBQUksRUFBRTtJQUNKQyxJQUFJLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQURkO0lBRUpDLElBQUksRUFBRUgsT0FBTyxDQUFDQyxHQUFSLENBQVlHO0VBRmQ7QUFIcUMsQ0FBM0IsQ0FBbEI7O0FBU08sTUFBTUMsV0FBVyxHQUFHLE9BQU9DLFNBQVAsRUFBa0JDLE9BQWxCLEVBQTJCQyxJQUEzQixLQUFvQztFQUM3RCxJQUFJO0lBQ0YsSUFBSUMsYUFBYSxHQUFHLElBQUlqQixPQUFKLENBQVk7TUFDOUJrQixLQUFLLEVBQUUsVUFEdUI7TUFFOUJDLE9BQU8sRUFBRTtRQUNQQyxJQUFJLEVBQUUsa0JBREM7UUFFUEMsSUFBSSxFQUFHO01BRkE7SUFGcUIsQ0FBWixDQUFwQjtJQU9BLE1BQU1DLEtBQUssR0FBRztNQUNaQyxJQUFJLEVBQUU7UUFDSkgsSUFBSSxFQUFFTixTQURGO1FBRUpVLEtBQUssRUFBRVIsSUFGSDtRQUdKUyxLQUFLLEVBQ0g7TUFKRTtJQURNLENBQWQ7SUFTQSxJQUFJQyxTQUFTLEdBQUdULGFBQWEsQ0FBQ1UsUUFBZCxDQUF1QkwsS0FBdkIsQ0FBaEI7SUFFQSxJQUFJTSxPQUFPLEdBQUc7TUFDWkMsSUFBSSxFQUFFckIsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBRE47TUFFWm9CLEVBQUUsRUFBRWhCLFNBRlE7TUFHWkMsT0FBTyxFQUFFQSxPQUhHO01BSVpnQixJQUFJLEVBQUVMO0lBSk0sQ0FBZDtJQU1BLE1BQU14QixXQUFXLENBQUM4QixRQUFaLENBQXFCSixPQUFyQixDQUFOO0lBRUEsT0FBTyxJQUFQO0VBQ0QsQ0E1QkQsQ0E0QkUsT0FBT0ssS0FBUCxFQUFjO0lBQ2QsTUFBTUEsS0FBTjtFQUNEO0FBQ0YsQ0FoQ00ifQ==","map":{"version":3,"names":["nodemailer","require","Mailgen","config","transporter","createTransport","service","secure","auth","user","process","env","MY_EMAIL","pass","MY_PASSWORD","mailSending","userEmail","subject","text","mailGenerator","theme","product","name","link","email","body","intro","outro","emailBody","generate","message","from","to","html","sendMail","error"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/utils/","sources":["mailSending.js"],"sourcesContent":["const nodemailer = require(\"nodemailer\");\nconst Mailgen = require(\"mailgen\");\nrequire(\"dotenv\").config();\n\nlet transporter = nodemailer.createTransport({\n  service: \"gmail\",\n  secure: true,\n  auth: {\n    user: process.env.MY_EMAIL,\n    pass: process.env.MY_PASSWORD,\n  },\n});\n\nexport const mailSending = async (userEmail, subject, text) => {\n  try {\n    let mailGenerator = new Mailgen({\n      theme: \"cerberus\",\n      product: {\n        name: \"FCode eCruitment\",\n        link: `https://127.0.0.1:5173/`,\n      },\n    });\n    const email = {\n      body: {\n        name: userEmail,\n        intro: text,\n        outro:\n          \"Need help, or have questions? Just reply to this email, we'd love to help.\",\n      },\n    };\n\n    let emailBody = mailGenerator.generate(email);\n\n    let message = {\n      from: process.env.MY_EMAIL,\n      to: userEmail,\n      subject: subject,\n      html: emailBody,\n    };\n    await transporter.sendMail(message);\n\n    return true;\n  } catch (error) {\n    throw error;\n  }\n};\n"],"mappings":";;;;;;;AAAA,MAAMA,UAAU,GAAGC,OAAO,CAAC,YAAD,CAA1B;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,SAAD,CAAvB;;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBE,MAAlB;;AAEA,IAAIC,WAAW,GAAGJ,UAAU,CAACK,eAAX,CAA2B;EAC3CC,OAAO,EAAE,OADkC;EAE3CC,MAAM,EAAE,IAFmC;EAG3CC,IAAI,EAAE;IACJC,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QADd;IAEJC,IAAI,EAAEH,OAAO,CAACC,GAAR,CAAYG;EAFd;AAHqC,CAA3B,CAAlB;;AASO,MAAMC,WAAW,GAAG,OAAOC,SAAP,EAAkBC,OAAlB,EAA2BC,IAA3B,KAAoC;EAC7D,IAAI;IACF,IAAIC,aAAa,GAAG,IAAIjB,OAAJ,CAAY;MAC9BkB,KAAK,EAAE,UADuB;MAE9BC,OAAO,EAAE;QACPC,IAAI,EAAE,kBADC;QAEPC,IAAI,EAAG;MAFA;IAFqB,CAAZ,CAApB;IAOA,MAAMC,KAAK,GAAG;MACZC,IAAI,EAAE;QACJH,IAAI,EAAEN,SADF;QAEJU,KAAK,EAAER,IAFH;QAGJS,KAAK,EACH;MAJE;IADM,CAAd;IASA,IAAIC,SAAS,GAAGT,aAAa,CAACU,QAAd,CAAuBL,KAAvB,CAAhB;IAEA,IAAIM,OAAO,GAAG;MACZC,IAAI,EAAErB,OAAO,CAACC,GAAR,CAAYC,QADN;MAEZoB,EAAE,EAAEhB,SAFQ;MAGZC,OAAO,EAAEA,OAHG;MAIZgB,IAAI,EAAEL;IAJM,CAAd;IAMA,MAAMxB,WAAW,CAAC8B,QAAZ,CAAqBJ,OAArB,CAAN;IAEA,OAAO,IAAP;EACD,CA5BD,CA4BE,OAAOK,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CAhCM"}},"mtime":1667231633850},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/utils/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/utils/mailSending.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mailSending = void 0;\n\nconst nodemailer = require(\"nodemailer\");\n\nconst Mailgen = require(\"mailgen\");\n\nrequire(\"dotenv\").config();\n\nlet transporter = nodemailer.createTransport({\n  service: \"gmail\",\n  secure: true,\n  auth: {\n    user: process.env.MY_EMAIL,\n    pass: process.env.MY_PASSWORD\n  }\n});\n\nconst mailSending = async (userEmail, subject, text) => {\n  try {\n    let mailGenerator = new Mailgen({\n      theme: \"cerberus\",\n      product: {\n        name: \"FCode eCruitment\",\n        link: `https://127.0.0.1:5173/`\n      }\n    });\n    const email = {\n      body: {\n        name: userEmail,\n        intro: text,\n        outro: \"Need help, or have questions? Just reply to this email, we'd love to help.\"\n      }\n    };\n    let emailBody = mailGenerator.generate(email);\n    let message = {\n      from: process.env.MY_EMAIL,\n      to: userEmail,\n      subject: subject,\n      html: emailBody\n    };\n    await transporter.sendMail(message);\n    return true;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexports.mailSending = mailSending;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJub2RlbWFpbGVyIiwicmVxdWlyZSIsIk1haWxnZW4iLCJjb25maWciLCJ0cmFuc3BvcnRlciIsImNyZWF0ZVRyYW5zcG9ydCIsInNlcnZpY2UiLCJzZWN1cmUiLCJhdXRoIiwidXNlciIsInByb2Nlc3MiLCJlbnYiLCJNWV9FTUFJTCIsInBhc3MiLCJNWV9QQVNTV09SRCIsIm1haWxTZW5kaW5nIiwidXNlckVtYWlsIiwic3ViamVjdCIsInRleHQiLCJtYWlsR2VuZXJhdG9yIiwidGhlbWUiLCJwcm9kdWN0IiwibmFtZSIsImxpbmsiLCJlbWFpbCIsImJvZHkiLCJpbnRybyIsIm91dHJvIiwiZW1haWxCb2R5IiwiZ2VuZXJhdGUiLCJtZXNzYWdlIiwiZnJvbSIsInRvIiwiaHRtbCIsInNlbmRNYWlsIiwiZXJyb3IiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvdXRpbHMvIiwic291cmNlcyI6WyJtYWlsU2VuZGluZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBub2RlbWFpbGVyID0gcmVxdWlyZShcIm5vZGVtYWlsZXJcIik7XG5jb25zdCBNYWlsZ2VuID0gcmVxdWlyZShcIm1haWxnZW5cIik7XG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xuXG5sZXQgdHJhbnNwb3J0ZXIgPSBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydCh7XG4gIHNlcnZpY2U6IFwiZ21haWxcIixcbiAgc2VjdXJlOiB0cnVlLFxuICBhdXRoOiB7XG4gICAgdXNlcjogcHJvY2Vzcy5lbnYuTVlfRU1BSUwsXG4gICAgcGFzczogcHJvY2Vzcy5lbnYuTVlfUEFTU1dPUkQsXG4gIH0sXG59KTtcblxuZXhwb3J0IGNvbnN0IG1haWxTZW5kaW5nID0gYXN5bmMgKHVzZXJFbWFpbCwgc3ViamVjdCwgdGV4dCkgPT4ge1xuICB0cnkge1xuICAgIGxldCBtYWlsR2VuZXJhdG9yID0gbmV3IE1haWxnZW4oe1xuICAgICAgdGhlbWU6IFwiY2VyYmVydXNcIixcbiAgICAgIHByb2R1Y3Q6IHtcbiAgICAgICAgbmFtZTogXCJGQ29kZSBlQ3J1aXRtZW50XCIsXG4gICAgICAgIGxpbms6IGBodHRwczovLzEyNy4wLjAuMTo1MTczL2AsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIGNvbnN0IGVtYWlsID0ge1xuICAgICAgYm9keToge1xuICAgICAgICBuYW1lOiB1c2VyRW1haWwsXG4gICAgICAgIGludHJvOiB0ZXh0LFxuICAgICAgICBvdXRybzpcbiAgICAgICAgICBcIk5lZWQgaGVscCwgb3IgaGF2ZSBxdWVzdGlvbnM/IEp1c3QgcmVwbHkgdG8gdGhpcyBlbWFpbCwgd2UnZCBsb3ZlIHRvIGhlbHAuXCIsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICBsZXQgZW1haWxCb2R5ID0gbWFpbEdlbmVyYXRvci5nZW5lcmF0ZShlbWFpbCk7XG5cbiAgICBsZXQgbWVzc2FnZSA9IHtcbiAgICAgIGZyb206IHByb2Nlc3MuZW52Lk1ZX0VNQUlMLFxuICAgICAgdG86IHVzZXJFbWFpbCxcbiAgICAgIHN1YmplY3Q6IHN1YmplY3QsXG4gICAgICBodG1sOiBlbWFpbEJvZHksXG4gICAgfTtcbiAgICBhd2FpdCB0cmFuc3BvcnRlci5zZW5kTWFpbChtZXNzYWdlKTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsTUFBTUEsVUFBVSxHQUFHQyxPQUFPLENBQUMsWUFBRCxDQUExQjs7QUFDQSxNQUFNQyxPQUFPLEdBQUdELE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCRSxNQUFsQjs7QUFFQSxJQUFJQyxXQUFXLEdBQUdKLFVBQVUsQ0FBQ0ssZUFBWCxDQUEyQjtFQUMzQ0MsT0FBTyxFQUFFLE9BRGtDO0VBRTNDQyxNQUFNLEVBQUUsSUFGbUM7RUFHM0NDLElBQUksRUFBRTtJQUNKQyxJQUFJLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQURkO0lBRUpDLElBQUksRUFBRUgsT0FBTyxDQUFDQyxHQUFSLENBQVlHO0VBRmQ7QUFIcUMsQ0FBM0IsQ0FBbEI7O0FBU08sTUFBTUMsV0FBVyxHQUFHLE9BQU9DLFNBQVAsRUFBa0JDLE9BQWxCLEVBQTJCQyxJQUEzQixLQUFvQztFQUM3RCxJQUFJO0lBQ0YsSUFBSUMsYUFBYSxHQUFHLElBQUlqQixPQUFKLENBQVk7TUFDOUJrQixLQUFLLEVBQUUsVUFEdUI7TUFFOUJDLE9BQU8sRUFBRTtRQUNQQyxJQUFJLEVBQUUsa0JBREM7UUFFUEMsSUFBSSxFQUFHO01BRkE7SUFGcUIsQ0FBWixDQUFwQjtJQU9BLE1BQU1DLEtBQUssR0FBRztNQUNaQyxJQUFJLEVBQUU7UUFDSkgsSUFBSSxFQUFFTixTQURGO1FBRUpVLEtBQUssRUFBRVIsSUFGSDtRQUdKUyxLQUFLLEVBQ0g7TUFKRTtJQURNLENBQWQ7SUFTQSxJQUFJQyxTQUFTLEdBQUdULGFBQWEsQ0FBQ1UsUUFBZCxDQUF1QkwsS0FBdkIsQ0FBaEI7SUFFQSxJQUFJTSxPQUFPLEdBQUc7TUFDWkMsSUFBSSxFQUFFckIsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBRE47TUFFWm9CLEVBQUUsRUFBRWhCLFNBRlE7TUFHWkMsT0FBTyxFQUFFQSxPQUhHO01BSVpnQixJQUFJLEVBQUVMO0lBSk0sQ0FBZDtJQU1BLE1BQU14QixXQUFXLENBQUM4QixRQUFaLENBQXFCSixPQUFyQixDQUFOO0lBRUEsT0FBTyxJQUFQO0VBQ0QsQ0E1QkQsQ0E0QkUsT0FBT0ssS0FBUCxFQUFjO0lBQ2QsTUFBTUEsS0FBTjtFQUNEO0FBQ0YsQ0FoQ00ifQ==","map":{"version":3,"names":["nodemailer","require","Mailgen","config","transporter","createTransport","service","secure","auth","user","process","env","MY_EMAIL","pass","MY_PASSWORD","mailSending","userEmail","subject","text","mailGenerator","theme","product","name","link","email","body","intro","outro","emailBody","generate","message","from","to","html","sendMail","error"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/utils/","sources":["mailSending.js"],"sourcesContent":["const nodemailer = require(\"nodemailer\");\nconst Mailgen = require(\"mailgen\");\nrequire(\"dotenv\").config();\n\nlet transporter = nodemailer.createTransport({\n  service: \"gmail\",\n  secure: true,\n  auth: {\n    user: process.env.MY_EMAIL,\n    pass: process.env.MY_PASSWORD,\n  },\n});\n\nexport const mailSending = async (userEmail, subject, text) => {\n  try {\n    let mailGenerator = new Mailgen({\n      theme: \"cerberus\",\n      product: {\n        name: \"FCode eCruitment\",\n        link: `https://127.0.0.1:5173/`,\n      },\n    });\n    const email = {\n      body: {\n        name: userEmail,\n        intro: text,\n        outro:\n          \"Need help, or have questions? Just reply to this email, we'd love to help.\",\n      },\n    };\n\n    let emailBody = mailGenerator.generate(email);\n\n    let message = {\n      from: process.env.MY_EMAIL,\n      to: userEmail,\n      subject: subject,\n      html: emailBody,\n    };\n    await transporter.sendMail(message);\n\n    return true;\n  } catch (error) {\n    throw error;\n  }\n};\n"],"mappings":";;;;;;;AAAA,MAAMA,UAAU,GAAGC,OAAO,CAAC,YAAD,CAA1B;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,SAAD,CAAvB;;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBE,MAAlB;;AAEA,IAAIC,WAAW,GAAGJ,UAAU,CAACK,eAAX,CAA2B;EAC3CC,OAAO,EAAE,OADkC;EAE3CC,MAAM,EAAE,IAFmC;EAG3CC,IAAI,EAAE;IACJC,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QADd;IAEJC,IAAI,EAAEH,OAAO,CAACC,GAAR,CAAYG;EAFd;AAHqC,CAA3B,CAAlB;;AASO,MAAMC,WAAW,GAAG,OAAOC,SAAP,EAAkBC,OAAlB,EAA2BC,IAA3B,KAAoC;EAC7D,IAAI;IACF,IAAIC,aAAa,GAAG,IAAIjB,OAAJ,CAAY;MAC9BkB,KAAK,EAAE,UADuB;MAE9BC,OAAO,EAAE;QACPC,IAAI,EAAE,kBADC;QAEPC,IAAI,EAAG;MAFA;IAFqB,CAAZ,CAApB;IAOA,MAAMC,KAAK,GAAG;MACZC,IAAI,EAAE;QACJH,IAAI,EAAEN,SADF;QAEJU,KAAK,EAAER,IAFH;QAGJS,KAAK,EACH;MAJE;IADM,CAAd;IASA,IAAIC,SAAS,GAAGT,aAAa,CAACU,QAAd,CAAuBL,KAAvB,CAAhB;IAEA,IAAIM,OAAO,GAAG;MACZC,IAAI,EAAErB,OAAO,CAACC,GAAR,CAAYC,QADN;MAEZoB,EAAE,EAAEhB,SAFQ;MAGZC,OAAO,EAAEA,OAHG;MAIZgB,IAAI,EAAEL;IAJM,CAAd;IAMA,MAAMxB,WAAW,CAAC8B,QAAZ,CAAqBJ,OAArB,CAAN;IAEA,OAAO,IAAP;EACD,CA5BD,CA4BE,OAAOK,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CAhCM"}},"mtime":1667231633850},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/reports.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nconst {\n  reportStatus,\n  reportStatusDefault\n} = require(\"../constant/reportStatus.enum\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Reports extends Model {\n    static associate(models) {\n      // define association here\n      Reports.belongsTo(models.Staffs, {\n        foreignKey: \"Interviewer_id\"\n      });\n      Reports.belongsTo(models.Interviews, {\n        foreignKey: \"Interview_id\"\n      });\n    }\n\n  }\n\n  Reports.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    Interview_id: {\n      allowNull: false,\n      type: DataTypes.UUID,\n      defaultValue: DataTypes.STRING(36),\n      references: {\n        model: \"Interviews\",\n        key: \"id\"\n      }\n    },\n    Interviewer_id: {\n      allowNull: false,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4,\n      references: {\n        model: \"Staffs\",\n        key: \"id\"\n      }\n    },\n    mark: {\n      allowNull: true,\n      type: DataTypes.INTEGER\n    },\n    comment: {\n      allowNull: true,\n      type: DataTypes.TEXT\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(reportStatus),\n      defaultValue: reportStatusDefault\n    }\n  }, {\n    sequelize,\n    modelName: \"Reports\",\n    createdAt: false,\n    updatedAt: false\n  });\n  return Reports;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJyZXBvcnRTdGF0dXMiLCJyZXBvcnRTdGF0dXNEZWZhdWx0IiwibW9kdWxlIiwiZXhwb3J0cyIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsIlJlcG9ydHMiLCJhc3NvY2lhdGUiLCJtb2RlbHMiLCJiZWxvbmdzVG8iLCJTdGFmZnMiLCJmb3JlaWduS2V5IiwiSW50ZXJ2aWV3cyIsImluaXQiLCJpZCIsImFsbG93TnVsbCIsInByaW1hcnlLZXkiLCJ0eXBlIiwiU1RSSU5HIiwiZGVmYXVsdFZhbHVlIiwiVVVJRFY0IiwiSW50ZXJ2aWV3X2lkIiwiVVVJRCIsInJlZmVyZW5jZXMiLCJtb2RlbCIsImtleSIsIkludGVydmlld2VyX2lkIiwibWFyayIsIklOVEVHRVIiLCJjb21tZW50IiwiVEVYVCIsInN0YXR1cyIsIkVOVU0iLCJtb2RlbE5hbWUiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvbW9kZWxzLyIsInNvdXJjZXMiOlsicmVwb3J0cy5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJzZXF1ZWxpemVcIik7XG5jb25zdCB7XG4gIHJlcG9ydFN0YXR1cyxcbiAgcmVwb3J0U3RhdHVzRGVmYXVsdCxcbn0gPSByZXF1aXJlKFwiLi4vY29uc3RhbnQvcmVwb3J0U3RhdHVzLmVudW1cIik7XG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xuICBjbGFzcyBSZXBvcnRzIGV4dGVuZHMgTW9kZWwge1xuICAgIHN0YXRpYyBhc3NvY2lhdGUobW9kZWxzKSB7XG4gICAgICAvLyBkZWZpbmUgYXNzb2NpYXRpb24gaGVyZVxuICAgICAgUmVwb3J0cy5iZWxvbmdzVG8obW9kZWxzLlN0YWZmcywgeyBmb3JlaWduS2V5OiBcIkludGVydmlld2VyX2lkXCIgfSk7XG4gICAgICBSZXBvcnRzLmJlbG9uZ3NUbyhtb2RlbHMuSW50ZXJ2aWV3cywgeyBmb3JlaWduS2V5OiBcIkludGVydmlld19pZFwiIH0pO1xuICAgIH1cbiAgfVxuICBSZXBvcnRzLmluaXQoXG4gICAge1xuICAgICAgaWQ6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygzNiksXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLlVVSURWNCxcbiAgICAgIH0sXG4gICAgICBJbnRlcnZpZXdfaWQ6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlVVSUQsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLlNUUklORygzNiksXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcbiAgICAgICAgICBtb2RlbDogXCJJbnRlcnZpZXdzXCIsXG4gICAgICAgICAga2V5OiBcImlkXCIsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgSW50ZXJ2aWV3ZXJfaWQ6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygzNiksXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLlVVSURWNCxcbiAgICAgICAgcmVmZXJlbmNlczoge1xuICAgICAgICAgIG1vZGVsOiBcIlN0YWZmc1wiLFxuICAgICAgICAgIGtleTogXCJpZFwiLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG1hcms6IHtcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgIH0sXG4gICAgICBjb21tZW50OiB7XG4gICAgICAgIGFsbG93TnVsbDogdHJ1ZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlRFWFQsXG4gICAgICB9LFxuICAgICAgc3RhdHVzOiB7XG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5FTlVNKHJlcG9ydFN0YXR1cyksXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogcmVwb3J0U3RhdHVzRGVmYXVsdCxcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBzZXF1ZWxpemUsXG4gICAgICBtb2RlbE5hbWU6IFwiUmVwb3J0c1wiLFxuICAgICAgY3JlYXRlZEF0OiBmYWxzZSxcbiAgICAgIHVwZGF0ZWRBdDogZmFsc2UsXG4gICAgfVxuICApO1xuICByZXR1cm4gUmVwb3J0cztcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBLE1BQU07RUFBRUE7QUFBRixJQUFZQyxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxNQUFNO0VBQ0pDLFlBREk7RUFFSkM7QUFGSSxJQUdGRixPQUFPLENBQUMsK0JBQUQsQ0FIWDs7QUFJQUcsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLENBQUNDLFNBQUQsRUFBWUMsU0FBWixLQUEwQjtFQUN6QyxNQUFNQyxPQUFOLFNBQXNCUixLQUF0QixDQUE0QjtJQUNWLE9BQVRTLFNBQVMsQ0FBQ0MsTUFBRCxFQUFTO01BQ3ZCO01BQ0FGLE9BQU8sQ0FBQ0csU0FBUixDQUFrQkQsTUFBTSxDQUFDRSxNQUF6QixFQUFpQztRQUFFQyxVQUFVLEVBQUU7TUFBZCxDQUFqQztNQUNBTCxPQUFPLENBQUNHLFNBQVIsQ0FBa0JELE1BQU0sQ0FBQ0ksVUFBekIsRUFBcUM7UUFBRUQsVUFBVSxFQUFFO01BQWQsQ0FBckM7SUFDRDs7RUFMeUI7O0VBTzVCTCxPQUFPLENBQUNPLElBQVIsQ0FDRTtJQUNFQyxFQUFFLEVBQUU7TUFDRkMsU0FBUyxFQUFFLEtBRFQ7TUFFRkMsVUFBVSxFQUFFLElBRlY7TUFHRkMsSUFBSSxFQUFFWixTQUFTLENBQUNhLE1BQVYsQ0FBaUIsRUFBakIsQ0FISjtNQUlGQyxZQUFZLEVBQUVkLFNBQVMsQ0FBQ2U7SUFKdEIsQ0FETjtJQU9FQyxZQUFZLEVBQUU7TUFDWk4sU0FBUyxFQUFFLEtBREM7TUFFWkUsSUFBSSxFQUFFWixTQUFTLENBQUNpQixJQUZKO01BR1pILFlBQVksRUFBRWQsU0FBUyxDQUFDYSxNQUFWLENBQWlCLEVBQWpCLENBSEY7TUFJWkssVUFBVSxFQUFFO1FBQ1ZDLEtBQUssRUFBRSxZQURHO1FBRVZDLEdBQUcsRUFBRTtNQUZLO0lBSkEsQ0FQaEI7SUFnQkVDLGNBQWMsRUFBRTtNQUNkWCxTQUFTLEVBQUUsS0FERztNQUVkRSxJQUFJLEVBQUVaLFNBQVMsQ0FBQ2EsTUFBVixDQUFpQixFQUFqQixDQUZRO01BR2RDLFlBQVksRUFBRWQsU0FBUyxDQUFDZSxNQUhWO01BSWRHLFVBQVUsRUFBRTtRQUNWQyxLQUFLLEVBQUUsUUFERztRQUVWQyxHQUFHLEVBQUU7TUFGSztJQUpFLENBaEJsQjtJQXlCRUUsSUFBSSxFQUFFO01BQ0paLFNBQVMsRUFBRSxJQURQO01BRUpFLElBQUksRUFBRVosU0FBUyxDQUFDdUI7SUFGWixDQXpCUjtJQTZCRUMsT0FBTyxFQUFFO01BQ1BkLFNBQVMsRUFBRSxJQURKO01BRVBFLElBQUksRUFBRVosU0FBUyxDQUFDeUI7SUFGVCxDQTdCWDtJQWlDRUMsTUFBTSxFQUFFO01BQ05oQixTQUFTLEVBQUUsS0FETDtNQUVORSxJQUFJLEVBQUVaLFNBQVMsQ0FBQzJCLElBQVYsQ0FBZWhDLFlBQWYsQ0FGQTtNQUdObUIsWUFBWSxFQUFFbEI7SUFIUjtFQWpDVixDQURGLEVBd0NFO0lBQ0VHLFNBREY7SUFFRTZCLFNBQVMsRUFBRSxTQUZiO0lBR0VDLFNBQVMsRUFBRSxLQUhiO0lBSUVDLFNBQVMsRUFBRTtFQUpiLENBeENGO0VBK0NBLE9BQU83QixPQUFQO0FBQ0QsQ0F4REQifQ==","map":{"version":3,"names":["Model","require","reportStatus","reportStatusDefault","module","exports","sequelize","DataTypes","Reports","associate","models","belongsTo","Staffs","foreignKey","Interviews","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","Interview_id","UUID","references","model","key","Interviewer_id","mark","INTEGER","comment","TEXT","status","ENUM","modelName","createdAt","updatedAt"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/","sources":["reports.model.js"],"sourcesContent":["\"use strict\";\nconst { Model } = require(\"sequelize\");\nconst {\n  reportStatus,\n  reportStatusDefault,\n} = require(\"../constant/reportStatus.enum\");\nmodule.exports = (sequelize, DataTypes) => {\n  class Reports extends Model {\n    static associate(models) {\n      // define association here\n      Reports.belongsTo(models.Staffs, { foreignKey: \"Interviewer_id\" });\n      Reports.belongsTo(models.Interviews, { foreignKey: \"Interview_id\" });\n    }\n  }\n  Reports.init(\n    {\n      id: {\n        allowNull: false,\n        primaryKey: true,\n        type: DataTypes.STRING(36),\n        defaultValue: DataTypes.UUIDV4,\n      },\n      Interview_id: {\n        allowNull: false,\n        type: DataTypes.UUID,\n        defaultValue: DataTypes.STRING(36),\n        references: {\n          model: \"Interviews\",\n          key: \"id\",\n        },\n      },\n      Interviewer_id: {\n        allowNull: false,\n        type: DataTypes.STRING(36),\n        defaultValue: DataTypes.UUIDV4,\n        references: {\n          model: \"Staffs\",\n          key: \"id\",\n        },\n      },\n      mark: {\n        allowNull: true,\n        type: DataTypes.INTEGER,\n      },\n      comment: {\n        allowNull: true,\n        type: DataTypes.TEXT,\n      },\n      status: {\n        allowNull: false,\n        type: DataTypes.ENUM(reportStatus),\n        defaultValue: reportStatusDefault,\n      },\n    },\n    {\n      sequelize,\n      modelName: \"Reports\",\n      createdAt: false,\n      updatedAt: false,\n    }\n  );\n  return Reports;\n};\n"],"mappings":"AAAA;;AACA,MAAM;EAAEA;AAAF,IAAYC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAM;EACJC,YADI;EAEJC;AAFI,IAGFF,OAAO,CAAC,+BAAD,CAHX;;AAIAG,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;EACzC,MAAMC,OAAN,SAAsBR,KAAtB,CAA4B;IACV,OAATS,SAAS,CAACC,MAAD,EAAS;MACvB;MACAF,OAAO,CAACG,SAAR,CAAkBD,MAAM,CAACE,MAAzB,EAAiC;QAAEC,UAAU,EAAE;MAAd,CAAjC;MACAL,OAAO,CAACG,SAAR,CAAkBD,MAAM,CAACI,UAAzB,EAAqC;QAAED,UAAU,EAAE;MAAd,CAArC;IACD;;EALyB;;EAO5BL,OAAO,CAACO,IAAR,CACE;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEZ,SAAS,CAACa,MAAV,CAAiB,EAAjB,CAHJ;MAIFC,YAAY,EAAEd,SAAS,CAACe;IAJtB,CADN;IAOEC,YAAY,EAAE;MACZN,SAAS,EAAE,KADC;MAEZE,IAAI,EAAEZ,SAAS,CAACiB,IAFJ;MAGZH,YAAY,EAAEd,SAAS,CAACa,MAAV,CAAiB,EAAjB,CAHF;MAIZK,UAAU,EAAE;QACVC,KAAK,EAAE,YADG;QAEVC,GAAG,EAAE;MAFK;IAJA,CAPhB;IAgBEC,cAAc,EAAE;MACdX,SAAS,EAAE,KADG;MAEdE,IAAI,EAAEZ,SAAS,CAACa,MAAV,CAAiB,EAAjB,CAFQ;MAGdC,YAAY,EAAEd,SAAS,CAACe,MAHV;MAIdG,UAAU,EAAE;QACVC,KAAK,EAAE,QADG;QAEVC,GAAG,EAAE;MAFK;IAJE,CAhBlB;IAyBEE,IAAI,EAAE;MACJZ,SAAS,EAAE,IADP;MAEJE,IAAI,EAAEZ,SAAS,CAACuB;IAFZ,CAzBR;IA6BEC,OAAO,EAAE;MACPd,SAAS,EAAE,IADJ;MAEPE,IAAI,EAAEZ,SAAS,CAACyB;IAFT,CA7BX;IAiCEC,MAAM,EAAE;MACNhB,SAAS,EAAE,KADL;MAENE,IAAI,EAAEZ,SAAS,CAAC2B,IAAV,CAAehC,YAAf,CAFA;MAGNmB,YAAY,EAAElB;IAHR;EAjCV,CADF,EAwCE;IACEG,SADF;IAEE6B,SAAS,EAAE,SAFb;IAGEC,SAAS,EAAE,KAHb;IAIEC,SAAS,EAAE;EAJb,CAxCF;EA+CA,OAAO7B,OAAP;AACD,CAxDD"}},"mtime":1667231633835},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/reportStatus.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  reportStatus: [\"Pending\", \"Done\"],\n  reportStatusDefault: \"Pending\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwicmVwb3J0U3RhdHVzIiwicmVwb3J0U3RhdHVzRGVmYXVsdCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9jb25zdGFudC8iLCJzb3VyY2VzIjpbInJlcG9ydFN0YXR1cy5lbnVtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICByZXBvcnRTdGF0dXM6IFtcIlBlbmRpbmdcIiwgXCJEb25lXCJdLFxuICByZXBvcnRTdGF0dXNEZWZhdWx0OiBcIlBlbmRpbmdcIixcbn07XG4iXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmQyxZQUFZLEVBQUUsQ0FBQyxTQUFELEVBQVksTUFBWixDQURDO0VBRWZDLG1CQUFtQixFQUFFO0FBRk4sQ0FBakIifQ==","map":{"version":3,"names":["module","exports","reportStatus","reportStatusDefault"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/","sources":["reportStatus.enum.js"],"sourcesContent":["module.exports = {\n  reportStatus: [\"Pending\", \"Done\"],\n  reportStatusDefault: \"Pending\",\n};\n"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACfC,YAAY,EAAE,CAAC,SAAD,EAAY,MAAZ,CADC;EAEfC,mBAAmB,EAAE;AAFN,CAAjB"}},"mtime":1667231633828},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/report.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\n\nconst router = express.Router();\n\nconst {\n  handleGetAllReports,\n  handleGetAllReportsByInterviewer,\n  handleUpdateInterviewers,\n  handleUpdateMark,\n  getReportByMemberID\n} = require(\"../controller/report.controller\");\n\nrouter.get(\"/\", handleGetAllReports);\nrouter.post(\"/by-interviewer\", handleGetAllReportsByInterviewer);\nrouter.patch(\"/interviewers\", handleUpdateInterviewers);\nrouter.patch(\"/mark\", handleUpdateMark);\nrouter.post(\"/member\", getReportByMemberID);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImhhbmRsZUdldEFsbFJlcG9ydHMiLCJoYW5kbGVHZXRBbGxSZXBvcnRzQnlJbnRlcnZpZXdlciIsImhhbmRsZVVwZGF0ZUludGVydmlld2VycyIsImhhbmRsZVVwZGF0ZU1hcmsiLCJnZXRSZXBvcnRCeU1lbWJlcklEIiwiZ2V0IiwicG9zdCIsInBhdGNoIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9yb3V0ZXMvIiwic291cmNlcyI6WyJyZXBvcnQucm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5jb25zdCB7XG4gIGhhbmRsZUdldEFsbFJlcG9ydHMsXG4gIGhhbmRsZUdldEFsbFJlcG9ydHNCeUludGVydmlld2VyLFxuICBoYW5kbGVVcGRhdGVJbnRlcnZpZXdlcnMsXG4gIGhhbmRsZVVwZGF0ZU1hcmssXG4gIGdldFJlcG9ydEJ5TWVtYmVySUQsXG59ID0gcmVxdWlyZShcIi4uL2NvbnRyb2xsZXIvcmVwb3J0LmNvbnRyb2xsZXJcIik7XG5cbnJvdXRlci5nZXQoXCIvXCIsIGhhbmRsZUdldEFsbFJlcG9ydHMpO1xucm91dGVyLnBvc3QoXCIvYnktaW50ZXJ2aWV3ZXJcIiwgaGFuZGxlR2V0QWxsUmVwb3J0c0J5SW50ZXJ2aWV3ZXIpO1xucm91dGVyLnBhdGNoKFwiL2ludGVydmlld2Vyc1wiLCBoYW5kbGVVcGRhdGVJbnRlcnZpZXdlcnMpO1xucm91dGVyLnBhdGNoKFwiL21hcmtcIiwgaGFuZGxlVXBkYXRlTWFyayk7XG5yb3V0ZXIucG9zdChcIi9tZW1iZXJcIiwgZ2V0UmVwb3J0QnlNZW1iZXJJRCk7XG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUVBLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQWY7O0FBRUEsTUFBTTtFQUNKQyxtQkFESTtFQUVKQyxnQ0FGSTtFQUdKQyx3QkFISTtFQUlKQyxnQkFKSTtFQUtKQztBQUxJLElBTUZQLE9BQU8sQ0FBQyxpQ0FBRCxDQU5YOztBQVFBQyxNQUFNLENBQUNPLEdBQVAsQ0FBVyxHQUFYLEVBQWdCTCxtQkFBaEI7QUFDQUYsTUFBTSxDQUFDUSxJQUFQLENBQVksaUJBQVosRUFBK0JMLGdDQUEvQjtBQUNBSCxNQUFNLENBQUNTLEtBQVAsQ0FBYSxlQUFiLEVBQThCTCx3QkFBOUI7QUFDQUosTUFBTSxDQUFDUyxLQUFQLENBQWEsT0FBYixFQUFzQkosZ0JBQXRCO0FBQ0FMLE1BQU0sQ0FBQ1EsSUFBUCxDQUFZLFNBQVosRUFBdUJGLG1CQUF2QjtBQUNBSSxNQUFNLENBQUNDLE9BQVAsR0FBaUJYLE1BQWpCIn0=","map":{"version":3,"names":["express","require","router","Router","handleGetAllReports","handleGetAllReportsByInterviewer","handleUpdateInterviewers","handleUpdateMark","getReportByMemberID","get","post","patch","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["report.route.js"],"sourcesContent":["const express = require(\"express\");\n\nconst router = express.Router();\n\nconst {\n  handleGetAllReports,\n  handleGetAllReportsByInterviewer,\n  handleUpdateInterviewers,\n  handleUpdateMark,\n  getReportByMemberID,\n} = require(\"../controller/report.controller\");\n\nrouter.get(\"/\", handleGetAllReports);\nrouter.post(\"/by-interviewer\", handleGetAllReportsByInterviewer);\nrouter.patch(\"/interviewers\", handleUpdateInterviewers);\nrouter.patch(\"/mark\", handleUpdateMark);\nrouter.post(\"/member\", getReportByMemberID);\nmodule.exports = router;\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AAEA,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;AAEA,MAAM;EACJC,mBADI;EAEJC,gCAFI;EAGJC,wBAHI;EAIJC,gBAJI;EAKJC;AALI,IAMFP,OAAO,CAAC,iCAAD,CANX;;AAQAC,MAAM,CAACO,GAAP,CAAW,GAAX,EAAgBL,mBAAhB;AACAF,MAAM,CAACQ,IAAP,CAAY,iBAAZ,EAA+BL,gCAA/B;AACAH,MAAM,CAACS,KAAP,CAAa,eAAb,EAA8BL,wBAA9B;AACAJ,MAAM,CAACS,KAAP,CAAa,OAAb,EAAsBJ,gBAAtB;AACAL,MAAM,CAACQ,IAAP,CAAY,SAAZ,EAAuBF,mBAAvB;AACAI,MAAM,CAACC,OAAP,GAAiBX,MAAjB"}},"mtime":1667266030022},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/report.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _apiError = require(\"../middleware/apiError\");\n\nconst httpStatus = require(\"http-status\");\n\nconst reportService = require(\"../service/report.service\");\n\nconst handleGetAllReports = async (req, res, next) => {\n  try {\n    const reports = await reportService.getAllReports();\n    res.json(reports);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetAllReportsByInterviewer = async (req, res, next) => {\n  try {\n    const interviewerId = req.body.interviewerId; // console.log(\"aaaa\");\n\n    const reports = await reportService.getAllReportsByInterviewer(interviewerId);\n    res.json({\n      report_pending: reports[0],\n      report_done: reports[1]\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleUpdateInterviewers = async (req, res, next) => {\n  try {\n    const interviewers = req.body.interviewersId;\n    const candidateId = req.body.candidateId;\n    const result = await reportService.updateInterviewers(candidateId, interviewers);\n    return res.json(result);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst getReportByMemberID = async (req, res, next) => {\n  try {\n    console.log(req.body.member_id);\n    const reportByMember = await reportService.getReportByMember(req.body.member_id);\n    res.send(reportByMember);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleUpdateMark = async (req, res, next) => {\n  try {\n    const interviewerId = req.body.interviewerId;\n    const mark = req.body.mark;\n    const interviewId = req.body.interviewId;\n    const comment = req.body.comment;\n\n    if (Number(mark) > 10 || Number(mark) < 0 || mark == null) {\n      throw new _apiError.ApiError(httpStatus.BAD_REQUEST, \"Mark can be from 0 to 10\");\n    }\n\n    if (comment.length === 0 || comment == null) {\n      throw new _apiError.ApiError(httpStatus.BAD_REQUEST, \"Comment must be provide\");\n    }\n\n    const result = await reportService.updateMark(interviewId, interviewerId, mark, comment);\n    return res.send(result);\n  } catch (error) {\n    next(error);\n  }\n};\n\nmodule.exports = {\n  handleGetAllReports,\n  handleGetAllReportsByInterviewer,\n  handleUpdateInterviewers,\n  handleUpdateMark,\n  getReportByMemberID\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwU3RhdHVzIiwicmVxdWlyZSIsInJlcG9ydFNlcnZpY2UiLCJoYW5kbGVHZXRBbGxSZXBvcnRzIiwicmVxIiwicmVzIiwibmV4dCIsInJlcG9ydHMiLCJnZXRBbGxSZXBvcnRzIiwianNvbiIsImVycm9yIiwiaGFuZGxlR2V0QWxsUmVwb3J0c0J5SW50ZXJ2aWV3ZXIiLCJpbnRlcnZpZXdlcklkIiwiYm9keSIsImdldEFsbFJlcG9ydHNCeUludGVydmlld2VyIiwicmVwb3J0X3BlbmRpbmciLCJyZXBvcnRfZG9uZSIsImhhbmRsZVVwZGF0ZUludGVydmlld2VycyIsImludGVydmlld2VycyIsImludGVydmlld2Vyc0lkIiwiY2FuZGlkYXRlSWQiLCJyZXN1bHQiLCJ1cGRhdGVJbnRlcnZpZXdlcnMiLCJnZXRSZXBvcnRCeU1lbWJlcklEIiwiY29uc29sZSIsImxvZyIsIm1lbWJlcl9pZCIsInJlcG9ydEJ5TWVtYmVyIiwiZ2V0UmVwb3J0QnlNZW1iZXIiLCJzZW5kIiwiaGFuZGxlVXBkYXRlTWFyayIsIm1hcmsiLCJpbnRlcnZpZXdJZCIsImNvbW1lbnQiLCJOdW1iZXIiLCJBcGlFcnJvciIsIkJBRF9SRVFVRVNUIiwibGVuZ3RoIiwidXBkYXRlTWFyayIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvY29udHJvbGxlci8iLCJzb3VyY2VzIjpbInJlcG9ydC5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGh0dHBTdGF0dXMgPSByZXF1aXJlKFwiaHR0cC1zdGF0dXNcIik7XG5jb25zdCByZXBvcnRTZXJ2aWNlID0gcmVxdWlyZShcIi4uL3NlcnZpY2UvcmVwb3J0LnNlcnZpY2VcIik7XG5pbXBvcnQgeyBBcGlFcnJvciB9IGZyb20gXCIuLi9taWRkbGV3YXJlL2FwaUVycm9yXCI7XG5jb25zdCBoYW5kbGVHZXRBbGxSZXBvcnRzID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVwb3J0cyA9IGF3YWl0IHJlcG9ydFNlcnZpY2UuZ2V0QWxsUmVwb3J0cygpO1xuICAgIHJlcy5qc29uKHJlcG9ydHMpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIG5leHQoZXJyb3IpO1xuICB9XG59O1xuXG5jb25zdCBoYW5kbGVHZXRBbGxSZXBvcnRzQnlJbnRlcnZpZXdlciA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGludGVydmlld2VySWQgPSByZXEuYm9keS5pbnRlcnZpZXdlcklkO1xuICAgIC8vIGNvbnNvbGUubG9nKFwiYWFhYVwiKTtcbiAgICBjb25zdCByZXBvcnRzID0gYXdhaXQgcmVwb3J0U2VydmljZS5nZXRBbGxSZXBvcnRzQnlJbnRlcnZpZXdlcihcbiAgICAgIGludGVydmlld2VySWRcbiAgICApO1xuICAgIHJlcy5qc29uKHtcbiAgICAgIHJlcG9ydF9wZW5kaW5nOiByZXBvcnRzWzBdLFxuICAgICAgcmVwb3J0X2RvbmU6IHJlcG9ydHNbMV0sXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbmV4dChlcnJvcik7XG4gIH1cbn07XG5cbmNvbnN0IGhhbmRsZVVwZGF0ZUludGVydmlld2VycyA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGludGVydmlld2VycyA9IHJlcS5ib2R5LmludGVydmlld2Vyc0lkO1xuICAgIGNvbnN0IGNhbmRpZGF0ZUlkID0gcmVxLmJvZHkuY2FuZGlkYXRlSWQ7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVwb3J0U2VydmljZS51cGRhdGVJbnRlcnZpZXdlcnMoXG4gICAgICBjYW5kaWRhdGVJZCxcbiAgICAgIGludGVydmlld2Vyc1xuICAgICk7XG4gICAgcmV0dXJuIHJlcy5qc29uKHJlc3VsdCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbmV4dChlcnJvcik7XG4gIH1cbn07XG5jb25zdCBnZXRSZXBvcnRCeU1lbWJlcklEID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2cocmVxLmJvZHkubWVtYmVyX2lkKTtcbiAgICBjb25zdCByZXBvcnRCeU1lbWJlciA9IGF3YWl0IHJlcG9ydFNlcnZpY2UuZ2V0UmVwb3J0QnlNZW1iZXIoXG4gICAgICByZXEuYm9keS5tZW1iZXJfaWRcbiAgICApO1xuICAgIHJlcy5zZW5kKHJlcG9ydEJ5TWVtYmVyKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBuZXh0KGVycm9yKTtcbiAgfVxufTtcblxuY29uc3QgaGFuZGxlVXBkYXRlTWFyayA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGludGVydmlld2VySWQgPSByZXEuYm9keS5pbnRlcnZpZXdlcklkO1xuICAgIGNvbnN0IG1hcmsgPSByZXEuYm9keS5tYXJrO1xuICAgIGNvbnN0IGludGVydmlld0lkID0gcmVxLmJvZHkuaW50ZXJ2aWV3SWQ7XG4gICAgY29uc3QgY29tbWVudCA9IHJlcS5ib2R5LmNvbW1lbnQ7XG4gICAgaWYgKE51bWJlcihtYXJrKSA+IDEwIHx8IE51bWJlcihtYXJrKSA8IDAgfHwgbWFyayA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5CQURfUkVRVUVTVCwgXCJNYXJrIGNhbiBiZSBmcm9tIDAgdG8gMTBcIik7XG4gICAgfVxuICAgIGlmIChjb21tZW50Lmxlbmd0aCA9PT0gMCB8fCBjb21tZW50ID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLkJBRF9SRVFVRVNULCBcIkNvbW1lbnQgbXVzdCBiZSBwcm92aWRlXCIpO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvcnRTZXJ2aWNlLnVwZGF0ZU1hcmsoXG4gICAgICBpbnRlcnZpZXdJZCxcbiAgICAgIGludGVydmlld2VySWQsXG4gICAgICBtYXJrLFxuICAgICAgY29tbWVudFxuICAgICk7XG4gICAgcmV0dXJuIHJlcy5zZW5kKHJlc3VsdCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbmV4dChlcnJvcik7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBoYW5kbGVHZXRBbGxSZXBvcnRzLFxuICBoYW5kbGVHZXRBbGxSZXBvcnRzQnlJbnRlcnZpZXdlcixcbiAgaGFuZGxlVXBkYXRlSW50ZXJ2aWV3ZXJzLFxuICBoYW5kbGVVcGRhdGVNYXJrLFxuICBnZXRSZXBvcnRCeU1lbWJlcklELFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFFQTs7QUFGQSxNQUFNQSxVQUFVLEdBQUdDLE9BQU8sQ0FBQyxhQUFELENBQTFCOztBQUNBLE1BQU1DLGFBQWEsR0FBR0QsT0FBTyxDQUFDLDJCQUFELENBQTdCOztBQUVBLE1BQU1FLG1CQUFtQixHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDcEQsSUFBSTtJQUNGLE1BQU1DLE9BQU8sR0FBRyxNQUFNTCxhQUFhLENBQUNNLGFBQWQsRUFBdEI7SUFDQUgsR0FBRyxDQUFDSSxJQUFKLENBQVNGLE9BQVQ7RUFDRCxDQUhELENBR0UsT0FBT0csS0FBUCxFQUFjO0lBQ2RKLElBQUksQ0FBQ0ksS0FBRCxDQUFKO0VBQ0Q7QUFDRixDQVBEOztBQVNBLE1BQU1DLGdDQUFnQyxHQUFHLE9BQU9QLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDakUsSUFBSTtJQUNGLE1BQU1NLGFBQWEsR0FBR1IsR0FBRyxDQUFDUyxJQUFKLENBQVNELGFBQS9CLENBREUsQ0FFRjs7SUFDQSxNQUFNTCxPQUFPLEdBQUcsTUFBTUwsYUFBYSxDQUFDWSwwQkFBZCxDQUNwQkYsYUFEb0IsQ0FBdEI7SUFHQVAsR0FBRyxDQUFDSSxJQUFKLENBQVM7TUFDUE0s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","map":{"version":3,"names":["httpStatus","require","reportService","handleGetAllReports","req","res","next","reports","getAllReports","json","error","handleGetAllReportsByInterviewer","interviewerId","body","getAllReportsByInterviewer","report_pending","report_done","handleUpdateInterviewers","interviewers","interviewersId","candidateId","result","updateInterviewers","getReportByMemberID","console","log","member_id","reportByMember","getReportByMember","send","handleUpdateMark","mark","interviewId","comment","Number","ApiError","BAD_REQUEST","length","updateMark","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/","sources":["report.controller.js"],"sourcesContent":["const httpStatus = require(\"http-status\");\nconst reportService = require(\"../service/report.service\");\nimport { ApiError } from \"../middleware/apiError\";\nconst handleGetAllReports = async (req, res, next) => {\n  try {\n    const reports = await reportService.getAllReports();\n    res.json(reports);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetAllReportsByInterviewer = async (req, res, next) => {\n  try {\n    const interviewerId = req.body.interviewerId;\n    // console.log(\"aaaa\");\n    const reports = await reportService.getAllReportsByInterviewer(\n      interviewerId\n    );\n    res.json({\n      report_pending: reports[0],\n      report_done: reports[1],\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleUpdateInterviewers = async (req, res, next) => {\n  try {\n    const interviewers = req.body.interviewersId;\n    const candidateId = req.body.candidateId;\n    const result = await reportService.updateInterviewers(\n      candidateId,\n      interviewers\n    );\n    return res.json(result);\n  } catch (error) {\n    next(error);\n  }\n};\nconst getReportByMemberID = async (req, res, next) => {\n  try {\n    console.log(req.body.member_id);\n    const reportByMember = await reportService.getReportByMember(\n      req.body.member_id\n    );\n    res.send(reportByMember);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleUpdateMark = async (req, res, next) => {\n  try {\n    const interviewerId = req.body.interviewerId;\n    const mark = req.body.mark;\n    const interviewId = req.body.interviewId;\n    const comment = req.body.comment;\n    if (Number(mark) > 10 || Number(mark) < 0 || mark == null) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Mark can be from 0 to 10\");\n    }\n    if (comment.length === 0 || comment == null) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Comment must be provide\");\n    }\n    const result = await reportService.updateMark(\n      interviewId,\n      interviewerId,\n      mark,\n      comment\n    );\n    return res.send(result);\n  } catch (error) {\n    next(error);\n  }\n};\n\nmodule.exports = {\n  handleGetAllReports,\n  handleGetAllReportsByInterviewer,\n  handleUpdateInterviewers,\n  handleUpdateMark,\n  getReportByMemberID,\n};\n"],"mappings":"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"}},"mtime":1667265627564},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/report.service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _httpStatus = _interopRequireDefault(require(\"http-status\"));\n\nvar _apiError = require(\"../middleware/apiError\");\n\nvar _sequelize = require(\"sequelize\");\n\nvar _index = _interopRequireWildcard(require(\"../models/index.js\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Reports = _index.default.Reports;\n\nconst reportRepository = require(\"../repository/reports.repository\");\n\nconst getAllReports = async () => {\n  try {\n    const reports = await reportRepository.getAllReports();\n    console.log(reports);\n    return reports;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getAllReportsByInterviewer = async interviewerId => {\n  try {\n    const reports = await reportRepository.getAllReportsByInterviewerByStatus(interviewerId);\n    console.log(reports);\n    return reports;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst updateInterviewers = async (interviewId, interviewers) => {\n  try {\n    const result = await reportRepository.updateInterviewers(interviewId, interviewers);\n    return result;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst updateMark = async (candidateId, interviewerId, mark, comment) => {\n  try {\n    const result = await reportRepository.updateMark(candidateId, interviewerId, mark, comment);\n\n    if (result[1] == 0) {\n      throw new _apiError.ApiError(_httpStatus.default.BAD_REQUEST, \"Error, Cant update\");\n    }\n\n    return result;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getReportByMember = async memberID => {\n  try {\n    const report = await reportRepository.getReportByMemberID(memberID);\n    return report;\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  getAllReports,\n  getAllReportsByInterviewer,\n  updateInterviewers,\n  updateMark,\n  getReportByMember\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZXBvcnRzIiwiZGIiLCJyZXBvcnRSZXBvc2l0b3J5IiwicmVxdWlyZSIsImdldEFsbFJlcG9ydHMiLCJyZXBvcnRzIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiZ2V0QWxsUmVwb3J0c0J5SW50ZXJ2aWV3ZXIiLCJpbnRlcnZpZXdlcklkIiwiZ2V0QWxsUmVwb3J0c0J5SW50ZXJ2aWV3ZXJCeVN0YXR1cyIsInVwZGF0ZUludGVydmlld2VycyIsImludGVydmlld0lkIiwiaW50ZXJ2aWV3ZXJzIiwicmVzdWx0IiwidXBkYXRlTWFyayIsImNhbmRpZGF0ZUlkIiwibWFyayIsImNvbW1lbnQiLCJBcGlFcnJvciIsImh0dHBTdGF0dXMiLCJCQURfUkVRVUVTVCIsImdldFJlcG9ydEJ5TWVtYmVyIiwibWVtYmVySUQiLCJyZXBvcnQiLCJnZXRSZXBvcnRCeU1lbWJlcklEIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9zZXJ2aWNlLyIsInNvdXJjZXMiOlsicmVwb3J0LnNlcnZpY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGh0dHBTdGF0dXMgZnJvbSBcImh0dHAtc3RhdHVzXCI7XG5pbXBvcnQgeyBBcGlFcnJvciB9IGZyb20gXCIuLi9taWRkbGV3YXJlL2FwaUVycm9yXCI7XG5pbXBvcnQgeyBRdWVyeVR5cGVzIH0gZnJvbSBcInNlcXVlbGl6ZVwiO1xuaW1wb3J0IGRiLCB7IHNlcXVlbGl6ZSB9IGZyb20gXCIuLi9tb2RlbHMvaW5kZXguanNcIjtcbmNvbnN0IFJlcG9ydHMgPSBkYi5SZXBvcnRzO1xuY29uc3QgcmVwb3J0UmVwb3NpdG9yeSA9IHJlcXVpcmUoXCIuLi9yZXBvc2l0b3J5L3JlcG9ydHMucmVwb3NpdG9yeVwiKTtcblxuY29uc3QgZ2V0QWxsUmVwb3J0cyA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXBvcnRzID0gYXdhaXQgcmVwb3J0UmVwb3NpdG9yeS5nZXRBbGxSZXBvcnRzKCk7XG4gICAgY29uc29sZS5sb2cocmVwb3J0cyk7XG4gICAgcmV0dXJuIHJlcG9ydHM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbmNvbnN0IGdldEFsbFJlcG9ydHNCeUludGVydmlld2VyID0gYXN5bmMgKGludGVydmlld2VySWQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXBvcnRzID0gYXdhaXQgcmVwb3J0UmVwb3NpdG9yeS5nZXRBbGxSZXBvcnRzQnlJbnRlcnZpZXdlckJ5U3RhdHVzKFxuICAgICAgaW50ZXJ2aWV3ZXJJZFxuICAgICk7XG4gICAgY29uc29sZS5sb2cocmVwb3J0cyk7XG4gICAgcmV0dXJuIHJlcG9ydHM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbmNvbnN0IHVwZGF0ZUludGVydmlld2VycyA9IGFzeW5jIChpbnRlcnZpZXdJZCwgaW50ZXJ2aWV3ZXJzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVwb3J0UmVwb3NpdG9yeS51cGRhdGVJbnRlcnZpZXdlcnMoXG4gICAgICBpbnRlcnZpZXdJZCxcbiAgICAgIGludGVydmlld2Vyc1xuICAgICk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuY29uc3QgdXBkYXRlTWFyayA9IGFzeW5jIChjYW5kaWRhdGVJZCwgaW50ZXJ2aWV3ZXJJZCwgbWFyaywgY29tbWVudCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcG9ydFJlcG9zaXRvcnkudXBkYXRlTWFyayhcbiAgICAgIGNhbmRpZGF0ZUlkLFxuICAgICAgaW50ZXJ2aWV3ZXJJZCxcbiAgICAgIG1hcmssXG4gICAgICBjb21tZW50XG4gICAgKTtcbiAgICBpZiAocmVzdWx0WzFdID09IDApIHtcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLkJBRF9SRVFVRVNULCBcIkVycm9yLCBDYW50IHVwZGF0ZVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuY29uc3QgZ2V0UmVwb3J0QnlNZW1iZXIgPSBhc3luYyAobWVtYmVySUQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXBvcnQgPSBhd2FpdCByZXBvcnRSZXBvc2l0b3J5LmdldFJlcG9ydEJ5TWVtYmVySUQobWVtYmVySUQpO1xuICAgIHJldHVybiByZXBvcnQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBnZXRBbGxSZXBvcnRzLFxuICBnZXRBbGxSZXBvcnRzQnlJbnRlcnZpZXdlcixcbiAgdXBkYXRlSW50ZXJ2aWV3ZXJzLFxuICB1cGRhdGVNYXJrLFxuICBnZXRSZXBvcnRCeU1lbWJlcixcbn07XG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7O0FBQ0EsTUFBTUEsT0FBTyxHQUFHQyxjQUFBLENBQUdELE9BQW5COztBQUNBLE1BQU1FLGdCQUFnQixHQUFHQyxPQUFPLENBQUMsa0NBQUQsQ0FBaEM7O0FBRUEsTUFBTUMsYUFBYSxHQUFHLFlBQVk7RUFDaEMsSUFBSTtJQUNGLE1BQU1DLE9BQU8sR0FBRyxNQUFNSCxnQkFBZ0IsQ0FBQ0UsYUFBakIsRUFBdEI7SUFDQUUsT0FBTyxDQUFDQyxHQUFSLENBQVlGLE9BQVo7SUFDQSxPQUFPQSxPQUFQO0VBQ0QsQ0FKRCxDQUlFLE9BQU9HLEtBQVAsRUFBYztJQUNkLE1BQU1BLEtBQU47RUFDRDtBQUNGLENBUkQ7O0FBVUEsTUFBTUMsMEJBQTBCLEdBQUcsTUFBT0MsYUFBUCxJQUF5QjtFQUMxRCxJQUFJO0lBQ0YsTUFBTUwsT0FBTyxHQUFHLE1BQU1ILGdCQUFnQixDQUFDUyxrQ0FBakIsQ0FDcEJELGFBRG9CLENBQXRCO0lBR0FKLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixPQUFaO0lBQ0EsT0FBT0EsT0FBUDtFQUNELENBTkQsQ0FNRSxPQUFPRyxLQUFQLEVBQWM7SUFDZCxNQUFNQSxLQUFOO0VBQ0Q7QUFDRixDQVZEOztBQVlBLE1BQU1JLGtCQUFrQixHQUFHLE9BQU9DLFdBQVAsRUFBb0JDLFlBQXBCLEtBQXFDO0VBQzlELElBQUk7SUFDRixNQUFNQyxNQUFNLEdBQUcsTUFBTWIsZ0JBQWdCLENBQUNVLGtCQUFqQixDQUNuQkMsV0FEbUIsRUFFbkJDLFlBRm1CLENBQXJCO0lBSUEsT0FBT0MsTUFBUDtFQUNELENBTkQsQ0FNRSxPQUFPUCxLQUFQLEVBQWM7SUFDZCxNQUFNQSxLQUFOO0VBQ0Q7QUFDRixDQVZEOztBQVlBLE1BQU1RLFVBQVUsR0FBRyxPQUFPQyxXQUFQLEVBQW9CUCxhQUFwQixFQUFtQ1EsSUFBbkMsRUFBeUNDLE9BQXpDLEtBQXFEO0VBQ3RFLElBQUk7SUFDRixNQUFNSixNQUFNLEdBQUcsTUFBTWIsZ0JBQWdCLENBQUNjLFVBQWpCLENBQ25CQyxXQURtQixFQUVuQlAsYUFGbUIsRUFHbkJRLElBSG1CLEVBSW5CQyxPQUptQixDQUFyQjs7SUFNQSxJQUFJSixNQUFNLENBQUMsQ0FBRCxDQUFOLElBQWEsQ0FBakIsRUFBb0I7TUFDbEIsTUFBTSxJQUFJSyxrQkFBSixDQUFhQyxtQkFBQSxDQUFXQyxXQUF4QixFQUFxQyxvQkFBckMsQ0FBTjtJQUNEOztJQUNELE9BQU9QLE1BQVA7RUFDRCxDQVhELENBV0UsT0FBT1AsS0FBUCxFQUFjO0lBQ2QsTUFBTUEsS0FBTjtFQUNEO0FBQ0YsQ0FmRDs7QUFpQkEsTUFBTWUsaUJBQWlCLEdBQUcsTUFBT0MsUUFBUCxJQUFvQjtFQUM1QyxJQUFJO0lBQ0YsTUFBTUMsTUFBTSxHQUFHLE1BQU12QixnQkFBZ0IsQ0FBQ3dCLG1CQUFqQixDQUFxQ0YsUUFBckMsQ0FBckI7SUFDQSxPQUFPQyxNQUFQO0VBQ0QsQ0FIRCxDQUdFLE9BQU9qQixLQUFQLEVBQWM7SUFDZCxNQUFNQSxLQUFOO0VBQ0Q7QUFDRixDQVBEOztBQVNBbUIsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2Z4QixhQURlO0VBRWZLLDBCQUZlO0VBR2ZHLGtCQUhlO0VBSWZJLFVBSmU7RUFLZk87QUFMZSxDQUFqQiJ9","map":{"version":3,"names":["Reports","db","reportRepository","require","getAllReports","reports","console","log","error","getAllReportsByInterviewer","interviewerId","getAllReportsByInterviewerByStatus","updateInterviewers","interviewId","interviewers","result","updateMark","candidateId","mark","comment","ApiError","httpStatus","BAD_REQUEST","getReportByMember","memberID","report","getReportByMemberID","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/","sources":["report.service.js"],"sourcesContent":["import httpStatus from \"http-status\";\nimport { ApiError } from \"../middleware/apiError\";\nimport { QueryTypes } from \"sequelize\";\nimport db, { sequelize } from \"../models/index.js\";\nconst Reports = db.Reports;\nconst reportRepository = require(\"../repository/reports.repository\");\n\nconst getAllReports = async () => {\n  try {\n    const reports = await reportRepository.getAllReports();\n    console.log(reports);\n    return reports;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getAllReportsByInterviewer = async (interviewerId) => {\n  try {\n    const reports = await reportRepository.getAllReportsByInterviewerByStatus(\n      interviewerId\n    );\n    console.log(reports);\n    return reports;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst updateInterviewers = async (interviewId, interviewers) => {\n  try {\n    const result = await reportRepository.updateInterviewers(\n      interviewId,\n      interviewers\n    );\n    return result;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst updateMark = async (candidateId, interviewerId, mark, comment) => {\n  try {\n    const result = await reportRepository.updateMark(\n      candidateId,\n      interviewerId,\n      mark,\n      comment\n    );\n    if (result[1] == 0) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Error, Cant update\");\n    }\n    return result;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getReportByMember = async (memberID) => {\n  try {\n    const report = await reportRepository.getReportByMemberID(memberID);\n    return report;\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  getAllReports,\n  getAllReportsByInterviewer,\n  updateInterviewers,\n  updateMark,\n  getReportByMember,\n};\n"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;;;;;;;AACA,MAAMA,OAAO,GAAGC,cAAA,CAAGD,OAAnB;;AACA,MAAME,gBAAgB,GAAGC,OAAO,CAAC,kCAAD,CAAhC;;AAEA,MAAMC,aAAa,GAAG,YAAY;EAChC,IAAI;IACF,MAAMC,OAAO,GAAG,MAAMH,gBAAgB,CAACE,aAAjB,EAAtB;IACAE,OAAO,CAACC,GAAR,CAAYF,OAAZ;IACA,OAAOA,OAAP;EACD,CAJD,CAIE,OAAOG,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CARD;;AAUA,MAAMC,0BAA0B,GAAG,MAAOC,aAAP,IAAyB;EAC1D,IAAI;IACF,MAAML,OAAO,GAAG,MAAMH,gBAAgB,CAACS,kCAAjB,CACpBD,aADoB,CAAtB;IAGAJ,OAAO,CAACC,GAAR,CAAYF,OAAZ;IACA,OAAOA,OAAP;EACD,CAND,CAME,OAAOG,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CAVD;;AAYA,MAAMI,kBAAkB,GAAG,OAAOC,WAAP,EAAoBC,YAApB,KAAqC;EAC9D,IAAI;IACF,MAAMC,MAAM,GAAG,MAAMb,gBAAgB,CAACU,kBAAjB,CACnBC,WADmB,EAEnBC,YAFmB,CAArB;IAIA,OAAOC,MAAP;EACD,CAND,CAME,OAAOP,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CAVD;;AAYA,MAAMQ,UAAU,GAAG,OAAOC,WAAP,EAAoBP,aAApB,EAAmCQ,IAAnC,EAAyCC,OAAzC,KAAqD;EACtE,IAAI;IACF,MAAMJ,MAAM,GAAG,MAAMb,gBAAgB,CAACc,UAAjB,CACnBC,WADmB,EAEnBP,aAFmB,EAGnBQ,IAHmB,EAInBC,OAJmB,CAArB;;IAMA,IAAIJ,MAAM,CAAC,CAAD,CAAN,IAAa,CAAjB,EAAoB;MAClB,MAAM,IAAIK,kBAAJ,CAAaC,mBAAA,CAAWC,WAAxB,EAAqC,oBAArC,CAAN;IACD;;IACD,OAAOP,MAAP;EACD,CAXD,CAWE,OAAOP,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CAfD;;AAiBA,MAAMe,iBAAiB,GAAG,MAAOC,QAAP,IAAoB;EAC5C,IAAI;IACF,MAAMC,MAAM,GAAG,MAAMvB,gBAAgB,CAACwB,mBAAjB,CAAqCF,QAArC,CAArB;IACA,OAAOC,MAAP;EACD,CAHD,CAGE,OAAOjB,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CAPD;;AASAmB,MAAM,CAACC,OAAP,GAAiB;EACfxB,aADe;EAEfK,0BAFe;EAGfG,kBAHe;EAIfI,UAJe;EAKfO;AALe,CAAjB"}},"mtime":1667265738912},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/reports.repository.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _sequelize = require(\"sequelize\");\n\nvar _index = _interopRequireWildcard(require(\"../models/index\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst Reports = _index.default.Reports;\n\nconst {\n  v4: uuidv4\n} = require(\"uuid\");\n\nconst getAllReports = async () => {\n  // const query = \"SELECT * FROM hrms.reports\";\n  const query = `SELECT R.id, AVG(R.mark) as avg_mark, R.comment, J.name as job_name, C.identity_number, C.resume_url, M.fullname, M.is_employee\nFROM hrms.reports as R\nINNER JOIN hrms.interviews as I\nON I.id = R.Interview_id\nINNER JOIN hrms.candidatedetails as C\nON I.CandidateDetail_id = C.id\nINNER JOIN hrms.members as M\nON C.Member_id = M.id\nINNER JOIN hrms.jobs as J\nON J.id = C.Job_id\nGROUP BY R.Interview_id`;\n  const result = await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.SELECT\n  });\n  return result;\n};\n\nconst getAllReportsByInterviewer = async interviewerId => {\n  const query = `SELECT R.id, R.mark, R.comment, R.status, I.room, I.slot, I.week, J.name as job_name, C.phone, C.resume_url, M.fullname, M.is_employee\nFROM hrms.reports as R\nINNER JOIN hrms.interviews as I\nON I.id = R.Interview_id\nINNER JOIN hrms.candidatedetails as C\nON I.CandidateDetail_id = C.id\nINNER JOIN hrms.members as M\nON C.Member_id = M.id\nINNER JOIN hrms.jobs as J\nON J.id = C.Job_id\nWHERE R.interviewer_id = ?`;\n  return await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.SELECT,\n    replacements: [interviewerId]\n  });\n};\n\nconst getAllReportsByInterviewerByStatus = async interviewerId => {\n  const queryPending = `SELECT R.id, R.interview_id, R.mark, R.comment, R.status, I.room, I.slot, I.week, J.name as job_name, C.phone, C.resume_url, M.fullname\nFROM hrms.reports as R\nINNER JOIN hrms.interviews as I\nON I.id = R.Interview_id\nINNER JOIN hrms.candidatedetails as C\nON I.CandidateDetail_id = C.id\nINNER JOIN hrms.members as M\nON C.Member_id = M.id\nINNER JOIN hrms.jobs as J\non J.id = C.Job_id\nWHERE R.interviewer_id = ? AND R.status = 'Pending'`;\n  const queryDone = `SELECT R.id, R.mark, R.comment, R.status, I.room, I.slot, I.week, J.name as job_name, C.phone, C.resume_url, M.fullname\nFROM hrms.reports as R\nINNER JOIN hrms.interviews as I\nON I.id = R.Interview_id\nINNER JOIN hrms.candidatedetails as C\nON I.CandidateDetail_id = C.id\nINNER JOIN hrms.members as M\nON C.Member_id = M.id\nINNER JOIN hrms.jobs as J\non J.id = C.Job_id\nWHERE R.interviewer_id = ? AND R.status = 'Done'`;\n\n  const resPending = _index.sequelize.query(queryPending, {\n    type: _sequelize.QueryTypes.SELECT,\n    replacements: [interviewerId]\n  });\n\n  const resDone = _index.sequelize.query(queryDone, {\n    type: _sequelize.QueryTypes.SELECT,\n    replacements: [interviewerId]\n  });\n\n  return Promise.all([resPending, resDone]);\n};\n\nconst updateInterviewers = async (candidateId, interviewers) => {\n  // get interviewId from candidateId\n  const interviewResult = await _index.sequelize.query(\"SELECT id FROM hrms.interviews WHERE CandidateDetail_id = ?\", {\n    type: _sequelize.QueryTypes.SELECT,\n    replacements: [candidateId]\n  });\n  const interviewId = interviewResult[0].id;\n  const query = `INSERT INTO hrms.reports (id, interview_id, interviewer_id, status)\n  VALUES (?, ?, ?, default)`;\n  const data = interviewers.map(value => ({\n    id: uuidv4(),\n    interview_id: interviewId,\n    interviewer_id: value\n  }));\n\n  for (let i = 0; i < data.length; i++) {\n    await _index.sequelize.query(query, {\n      type: _sequelize.QueryTypes.INSERT,\n      replacements: [data[i].id, data[i].interview_id, data[i].interviewer_id]\n    });\n  }\n\n  return data; // return await Reports.bulkCreate(data);\n};\n\nconst updateMark = async (interviewId, interviewerId, mark, comment) => {\n  const query = `UPDATE hrms.reports\n  SET mark = ?, comment = ?, status ='Done'\n  WHERE interview_id = ? AND interviewer_id = ? `;\n  const result = await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.UPDATE,\n    replacements: [mark, comment, interviewId, interviewerId]\n  });\n  console.log(result);\n  return result;\n};\n\nconst getReportByMemberID = async memberID => {\n  const reportQuery = `select CandidateDetail_id as candidate_id, applied_status, room, slot, week, R.status as status, J.name as job_title from CandidateDetails inner join Interviews I on CandidateDetails.id = I.CandidateDetail_id join Reports R on I.id = R.Interview_id join Jobs J on J.id = CandidateDetails.Job_id where CandidateDetail_id = ?`;\n  const result = await _index.sequelize.query(reportQuery, {\n    type: _sequelize.QueryTypes.SELECT,\n    replacements: [memberID]\n  });\n  return result;\n};\n\nmodule.exports = {\n  getAllReports,\n  getAllReportsByInterviewer,\n  getAllReportsByInterviewerByStatus,\n  updateInterviewers,\n  updateMark,\n  getReportByMemberID\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZXBvcnRzIiwiZGIiLCJ2NCIsInV1aWR2NCIsInJlcXVpcmUiLCJnZXRBbGxSZXBvcnRzIiwicXVlcnkiLCJyZXN1bHQiLCJzZXF1ZWxpemUiLCJ0eXBlIiwiUXVlcnlUeXBlcyIsIlNFTEVDVCIsImdldEFsbFJlcG9ydHNCeUludGVydmlld2VyIiwiaW50ZXJ2aWV3ZXJJZCIsInJlcGxhY2VtZW50cyIsImdldEFsbFJlcG9ydHNCeUludGVydmlld2VyQnlTdGF0dXMiLCJxdWVyeVBlbmRpbmciLCJxdWVyeURvbmUiLCJyZXNQZW5kaW5nIiwicmVzRG9uZSIsIlByb21pc2UiLCJhbGwiLCJ1cGRhdGVJbnRlcnZpZXdlcnMiLCJjYW5kaWRhdGVJZCIsImludGVydmlld2VycyIsImludGVydmlld1Jlc3VsdCIsImludGVydmlld0lkIiwiaWQiLCJkYXRhIiwibWFwIiwidmFsdWUiLCJpbnRlcnZpZXdfaWQiLCJpbnRlcnZpZXdlcl9pZCIsImkiLCJsZW5ndGgiLCJJTlNFUlQiLCJ1cGRhdGVNYXJrIiwibWFyayIsImNvbW1lbnQiLCJVUERBVEUiLCJjb25zb2xlIiwibG9nIiwiZ2V0UmVwb3J0QnlNZW1iZXJJRCIsIm1lbWJlcklEIiwicmVwb3J0UXVlcnkiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL3JlcG9zaXRvcnkvIiwic291cmNlcyI6WyJyZXBvcnRzLnJlcG9zaXRvcnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUXVlcnlUeXBlcyB9IGZyb20gXCJzZXF1ZWxpemVcIjtcbmltcG9ydCBkYiwgeyBzZXF1ZWxpemUgfSBmcm9tIFwiLi4vbW9kZWxzL2luZGV4XCI7XG5jb25zdCBSZXBvcnRzID0gZGIuUmVwb3J0cztcbmNvbnN0IHsgdjQ6IHV1aWR2NCB9ID0gcmVxdWlyZShcInV1aWRcIik7XG5cbmNvbnN0IGdldEFsbFJlcG9ydHMgPSBhc3luYyAoKSA9PiB7XG4gIC8vIGNvbnN0IHF1ZXJ5ID0gXCJTRUxFQ1QgKiBGUk9NIGhybXMucmVwb3J0c1wiO1xuICBjb25zdCBxdWVyeSA9IGBTRUxFQ1QgUi5pZCwgQVZHKFIubWFyaykgYXMgYXZnX21hcmssIFIuY29tbWVudCwgSi5uYW1lIGFzIGpvYl9uYW1lLCBDLmlkZW50aXR5X251bWJlciwgQy5yZXN1bWVfdXJsLCBNLmZ1bGxuYW1lLCBNLmlzX2VtcGxveWVlXG5GUk9NIGhybXMucmVwb3J0cyBhcyBSXG5JTk5FUiBKT0lOIGhybXMuaW50ZXJ2aWV3cyBhcyBJXG5PTiBJLmlkID0gUi5JbnRlcnZpZXdfaWRcbklOTkVSIEpPSU4gaHJtcy5jYW5kaWRhdGVkZXRhaWxzIGFzIENcbk9OIEkuQ2FuZGlkYXRlRGV0YWlsX2lkID0gQy5pZFxuSU5ORVIgSk9JTiBocm1zLm1lbWJlcnMgYXMgTVxuT04gQy5NZW1iZXJfaWQgPSBNLmlkXG5JTk5FUiBKT0lOIGhybXMuam9icyBhcyBKXG5PTiBKLmlkID0gQy5Kb2JfaWRcbkdST1VQIEJZIFIuSW50ZXJ2aWV3X2lkYDtcblxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXF1ZWxpemUucXVlcnkocXVlcnksIHtcbiAgICB0eXBlOiBRdWVyeVR5cGVzLlNFTEVDVCxcbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmNvbnN0IGdldEFsbFJlcG9ydHNCeUludGVydmlld2VyID0gYXN5bmMgKGludGVydmlld2VySWQpID0+IHtcbiAgY29uc3QgcXVlcnkgPSBgU0VMRUNUIFIuaWQsIFIubWFyaywgUi5jb21tZW50LCBSLnN0YXR1cywgSS5yb29tLCBJLnNsb3QsIEkud2VlaywgSi5uYW1lIGFzIGpvYl9uYW1lLCBDLnBob25lLCBDLnJlc3VtZV91cmwsIE0uZnVsbG5hbWUsIE0uaXNfZW1wbG95ZWVcbkZST00gaHJtcy5yZXBvcnRzIGFzIFJcbklOTkVSIEpPSU4gaHJtcy5pbnRlcnZpZXdzIGFzIElcbk9OIEkuaWQgPSBSLkludGVydmlld19pZFxuSU5ORVIgSk9JTiBocm1zLmNhbmRpZGF0ZWRldGFpbHMgYXMgQ1xuT04gSS5DYW5kaWRhdGVEZXRhaWxfaWQgPSBDLmlkXG5JTk5FUiBKT0lOIGhybXMubWVtYmVycyBhcyBNXG5PTiBDLk1lbWJlcl9pZCA9IE0uaWRcbklOTkVSIEpPSU4gaHJtcy5qb2JzIGFzIEpcbk9OIEouaWQgPSBDLkpvYl9pZFxuV0hFUkUgUi5pbnRlcnZpZXdlcl9pZCA9ID9gO1xuICByZXR1cm4gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KHF1ZXJ5LCB7XG4gICAgdHlwZTogUXVlcnlUeXBlcy5TRUxFQ1QsXG4gICAgcmVwbGFjZW1lbnRzOiBbaW50ZXJ2aWV3ZXJJZF0sXG4gIH0pO1xufTtcbmNvbnN0IGdldEFsbFJlcG9ydHNCeUludGVydmlld2VyQnlTdGF0dXMgPSBhc3luYyAoaW50ZXJ2aWV3ZXJJZCkgPT4ge1xuICBjb25zdCBxdWVyeVBlbmRpbmcgPSBgU0VMRUNUIFIuaWQsIFIuaW50ZXJ2aWV3X2lkLCBSLm1hcmssIFIuY29tbWVudCwgUi5zdGF0dXMsIEkucm9vbSwgSS5zbG90LCBJLndlZWssIEoubmFtZSBhcyBqb2JfbmFtZSwgQy5waG9uZSwgQy5yZXN1bWVfdXJsLCBNLmZ1bGxuYW1lXG5GUk9NIGhybXMucmVwb3J0cyBhcyBSXG5JTk5FUiBKT0lOIGhybXMuaW50ZXJ2aWV3cyBhcyBJXG5PTiBJLmlkID0gUi5JbnRlcnZpZXdfaWRcbklOTkVSIEpPSU4gaHJtcy5jYW5kaWRhdGVkZXRhaWxzIGFzIENcbk9OIEkuQ2FuZGlkYXRlRGV0YWlsX2lkID0gQy5pZFxuSU5ORVIgSk9JTiBocm1zLm1lbWJlcnMgYXMgTVxuT04gQy5NZW1iZXJfaWQgPSBNLmlkXG5JTk5FUiBKT0lOIGhybXMuam9icyBhcyBKXG5vbiBKLmlkID0gQy5Kb2JfaWRcbldIRVJFIFIuaW50ZXJ2aWV3ZXJfaWQgPSA/IEFORCBSLnN0YXR1cyA9ICdQZW5kaW5nJ2A7XG4gIGNvbnN0IHF1ZXJ5RG9uZSA9IGBTRUxFQ1QgUi5pZCwgUi5tYXJrLCBSLmNvbW1lbnQsIFIuc3RhdHVzLCBJLnJvb20sIEkuc2xvdCwgSS53ZWVrLCBKLm5hbWUgYXMgam9iX25hbWUsIEMucGhvbmUsIEMucmVzdW1lX3VybCwgTS5mdWxsbmFtZVxuRlJPTSBocm1zLnJlcG9ydHMgYXMgUlxuSU5ORVIgSk9JTiBocm1zLmludGVydmlld3MgYXMgSVxuT04gSS5pZCA9IFIuSW50ZXJ2aWV3X2lkXG5JTk5FUiBKT0lOIGhybXMuY2FuZGlkYXRlZGV0YWlscyBhcyBDXG5PTiBJLkNhbmRpZGF0ZURldGFpbF9pZCA9IEMuaWRcbklOTkVSIEpPSU4gaHJtcy5tZW1iZXJzIGFzIE1cbk9OIEMuTWVtYmVyX2lkID0gTS5pZFxuSU5ORVIgSk9JTiBocm1zLmpvYnMgYXMgSlxub24gSi5pZCA9IEMuSm9iX2lkXG5XSEVSRSBSLmludGVydmlld2VyX2lkID0gPyBBTkQgUi5zdGF0dXMgPSAnRG9uZSdgO1xuICBjb25zdCByZXNQZW5kaW5nID0gc2VxdWVsaXplLnF1ZXJ5KHF1ZXJ5UGVuZGluZywge1xuICAgIHR5cGU6IFF1ZXJ5VHlwZXMuU0VMRUNULFxuICAgIHJlcGxhY2VtZW50czogW2ludGVydmlld2VySWRdLFxuICB9KTtcbiAgY29uc3QgcmVzRG9uZSA9IHNlcXVlbGl6ZS5xdWVyeShxdWVyeURvbmUsIHtcbiAgICB0eXBlOiBRdWVyeVR5cGVzLlNFTEVDVCxcbiAgICByZXBsYWNlbWVudHM6IFtpbnRlcnZpZXdlcklkXSxcbiAgfSk7XG4gIHJldHVybiBQcm9taXNlLmFsbChbcmVzUGVuZGluZywgcmVzRG9uZV0pO1xufTtcblxuY29uc3QgdXBkYXRlSW50ZXJ2aWV3ZXJzID0gYXN5bmMgKGNhbmRpZGF0ZUlkLCBpbnRlcnZpZXdlcnMpID0+IHtcbiAgLy8gZ2V0IGludGVydmlld0lkIGZyb20gY2FuZGlkYXRlSWRcbiAgY29uc3QgaW50ZXJ2aWV3UmVzdWx0ID0gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KFxuICAgIFwiU0VMRUNUIGlkIEZST00gaHJtcy5pbnRlcnZpZXdzIFdIRVJFIENhbmRpZGF0ZURldGFpbF9pZCA9ID9cIixcbiAgICB7XG4gICAgICB0eXBlOiBRdWVyeVR5cGVzLlNFTEVDVCxcbiAgICAgIHJlcGxhY2VtZW50czogW2NhbmRpZGF0ZUlkXSxcbiAgICB9XG4gICk7XG4gIGNvbnN0IGludGVydmlld0lkID0gaW50ZXJ2aWV3UmVzdWx0WzBdLmlkO1xuXG4gIGNvbnN0IHF1ZXJ5ID0gYElOU0VSVCBJTlRPIGhybXMucmVwb3J0cyAoaWQsIGludGVydmlld19pZCwgaW50ZXJ2aWV3ZXJfaWQsIHN0YXR1cylcbiAgVkFMVUVTICg/LCA/LCA/LCBkZWZhdWx0KWA7XG4gIGNvbnN0IGRhdGEgPSBpbnRlcnZpZXdlcnMubWFwKCh2YWx1ZSkgPT4gKHtcbiAgICBpZDogdXVpZHY0KCksXG4gICAgaW50ZXJ2aWV3X2lkOiBpbnRlcnZpZXdJZCxcbiAgICBpbnRlcnZpZXdlcl9pZDogdmFsdWUsXG4gIH0pKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICBhd2FpdCBzZXF1ZWxpemUucXVlcnkocXVlcnksIHtcbiAgICAgIHR5cGU6IFF1ZXJ5VHlwZXMuSU5TRVJULFxuICAgICAgcmVwbGFjZW1lbnRzOiBbZGF0YVtpXS5pZCwgZGF0YVtpXS5pbnRlcnZpZXdfaWQsIGRhdGFbaV0uaW50ZXJ2aWV3ZXJfaWRdLFxuICAgIH0pO1xuICB9XG4gIHJldHVybiBkYXRhO1xuICAvLyByZXR1cm4gYXdhaXQgUmVwb3J0cy5idWxrQ3JlYXRlKGRhdGEpO1xufTtcblxuY29uc3QgdXBkYXRlTWFyayA9IGFzeW5jIChpbnRlcnZpZXdJZCwgaW50ZXJ2aWV3ZXJJZCwgbWFyaywgY29tbWVudCkgPT4ge1xuICBjb25zdCBxdWVyeSA9IGBVUERBVEUgaHJtcy5yZXBvcnRzXG4gIFNFVCBtYXJrID0gPywgY29tbWVudCA9ID8sIHN0YXR1cyA9J0RvbmUnXG4gIFdIRVJFIGludGVydmlld19pZCA9ID8gQU5EIGludGVydmlld2VyX2lkID0gPyBgO1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXF1ZWxpemUucXVlcnkocXVlcnksIHtcbiAgICB0eXBlOiBRdWVyeVR5cGVzLlVQREFURSxcbiAgICByZXBsYWNlbWVudHM6IFttYXJrLCBjb21tZW50LCBpbnRlcnZpZXdJZCwgaW50ZXJ2aWV3ZXJJZF0sXG4gIH0pO1xuICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmNvbnN0IGdldFJlcG9ydEJ5TWVtYmVySUQgPSBhc3luYyAobWVtYmVySUQpID0+IHtcbiAgY29uc3QgcmVwb3J0UXVlcnkgPSBgc2VsZWN0IENhbmRpZGF0ZURldGFpbF9pZCBhcyBjYW5kaWRhdGVfaWQsIGFwcGxpZWRfc3RhdHVzLCByb29tLCBzbG90LCB3ZWVrLCBSLnN0YXR1cyBhcyBzdGF0dXMsIEoubmFtZSBhcyBqb2JfdGl0bGUgZnJvbSBDYW5kaWRhdGVEZXRhaWxzIGlubmVyIGpvaW4gSW50ZXJ2aWV3cyBJIG9uIENhbmRpZGF0ZURldGFpbHMuaWQgPSBJLkNhbmRpZGF0ZURldGFpbF9pZCBqb2luIFJlcG9ydHMgUiBvbiBJLmlkID0gUi5JbnRlcnZpZXdfaWQgam9pbiBKb2JzIEogb24gSi5pZCA9IENhbmRpZGF0ZURldGFpbHMuSm9iX2lkIHdoZXJlIENhbmRpZGF0ZURldGFpbF9pZCA9ID9gO1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXF1ZWxpemUucXVlcnkocmVwb3J0UXVlcnksIHtcbiAgICB0eXBlOiBRdWVyeVR5cGVzLlNFTEVDVCxcbiAgICByZXBsYWNlbWVudHM6IFttZW1iZXJJRF0sXG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBnZXRBbGxSZXBvcnRzLFxuICBnZXRBbGxSZXBvcnRzQnlJbnRlcnZpZXdlcixcbiAgZ2V0QWxsUmVwb3J0c0J5SW50ZXJ2aWV3ZXJCeVN0YXR1cyxcbiAgdXBkYXRlSW50ZXJ2aWV3ZXJz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","map":{"version":3,"names":["Reports","db","v4","uuidv4","require","getAllReports","query","result","sequelize","type","QueryTypes","SELECT","getAllReportsByInterviewer","interviewerId","replacements","getAllReportsByInterviewerByStatus","queryPending","queryDone","resPending","resDone","Promise","all","updateInterviewers","candidateId","interviewers","interviewResult","interviewId","id","data","map","value","interview_id","interviewer_id","i","length","INSERT","updateMark","mark","comment","UPDATE","console","log","getReportByMemberID","memberID","reportQuery","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/","sources":["reports.repository.js"],"sourcesContent":["import { QueryTypes } from \"sequelize\";\nimport db, { sequelize } from \"../models/index\";\nconst Reports = db.Reports;\nconst { v4: uuidv4 } = require(\"uuid\");\n\nconst getAllReports = async () => {\n  // const query = \"SELECT * FROM hrms.reports\";\n  const query = `SELECT R.id, AVG(R.mark) as avg_mark, R.comment, J.name as job_name, C.identity_number, C.resume_url, M.fullname, M.is_employee\nFROM hrms.reports as R\nINNER JOIN hrms.interviews as I\nON I.id = R.Interview_id\nINNER JOIN hrms.candidatedetails as C\nON I.CandidateDetail_id = C.id\nINNER JOIN hrms.members as M\nON C.Member_id = M.id\nINNER JOIN hrms.jobs as J\nON J.id = C.Job_id\nGROUP BY R.Interview_id`;\n\n  const result = await sequelize.query(query, {\n    type: QueryTypes.SELECT,\n  });\n\n  return result;\n};\n\nconst getAllReportsByInterviewer = async (interviewerId) => {\n  const query = `SELECT R.id, R.mark, R.comment, R.status, I.room, I.slot, I.week, J.name as job_name, C.phone, C.resume_url, M.fullname, M.is_employee\nFROM hrms.reports as R\nINNER JOIN hrms.interviews as I\nON I.id = R.Interview_id\nINNER JOIN hrms.candidatedetails as C\nON I.CandidateDetail_id = C.id\nINNER JOIN hrms.members as M\nON C.Member_id = M.id\nINNER JOIN hrms.jobs as J\nON J.id = C.Job_id\nWHERE R.interviewer_id = ?`;\n  return await sequelize.query(query, {\n    type: QueryTypes.SELECT,\n    replacements: [interviewerId],\n  });\n};\nconst getAllReportsByInterviewerByStatus = async (interviewerId) => {\n  const queryPending = `SELECT R.id, R.interview_id, R.mark, R.comment, R.status, I.room, I.slot, I.week, J.name as job_name, C.phone, C.resume_url, M.fullname\nFROM hrms.reports as R\nINNER JOIN hrms.interviews as I\nON I.id = R.Interview_id\nINNER JOIN hrms.candidatedetails as C\nON I.CandidateDetail_id = C.id\nINNER JOIN hrms.members as M\nON C.Member_id = M.id\nINNER JOIN hrms.jobs as J\non J.id = C.Job_id\nWHERE R.interviewer_id = ? AND R.status = 'Pending'`;\n  const queryDone = `SELECT R.id, R.mark, R.comment, R.status, I.room, I.slot, I.week, J.name as job_name, C.phone, C.resume_url, M.fullname\nFROM hrms.reports as R\nINNER JOIN hrms.interviews as I\nON I.id = R.Interview_id\nINNER JOIN hrms.candidatedetails as C\nON I.CandidateDetail_id = C.id\nINNER JOIN hrms.members as M\nON C.Member_id = M.id\nINNER JOIN hrms.jobs as J\non J.id = C.Job_id\nWHERE R.interviewer_id = ? AND R.status = 'Done'`;\n  const resPending = sequelize.query(queryPending, {\n    type: QueryTypes.SELECT,\n    replacements: [interviewerId],\n  });\n  const resDone = sequelize.query(queryDone, {\n    type: QueryTypes.SELECT,\n    replacements: [interviewerId],\n  });\n  return Promise.all([resPending, resDone]);\n};\n\nconst updateInterviewers = async (candidateId, interviewers) => {\n  // get interviewId from candidateId\n  const interviewResult = await sequelize.query(\n    \"SELECT id FROM hrms.interviews WHERE CandidateDetail_id = ?\",\n    {\n      type: QueryTypes.SELECT,\n      replacements: [candidateId],\n    }\n  );\n  const interviewId = interviewResult[0].id;\n\n  const query = `INSERT INTO hrms.reports (id, interview_id, interviewer_id, status)\n  VALUES (?, ?, ?, default)`;\n  const data = interviewers.map((value) => ({\n    id: uuidv4(),\n    interview_id: interviewId,\n    interviewer_id: value,\n  }));\n\n  for (let i = 0; i < data.length; i++) {\n    await sequelize.query(query, {\n      type: QueryTypes.INSERT,\n      replacements: [data[i].id, data[i].interview_id, data[i].interviewer_id],\n    });\n  }\n  return data;\n  // return await Reports.bulkCreate(data);\n};\n\nconst updateMark = async (interviewId, interviewerId, mark, comment) => {\n  const query = `UPDATE hrms.reports\n  SET mark = ?, comment = ?, status ='Done'\n  WHERE interview_id = ? AND interviewer_id = ? `;\n  const result = await sequelize.query(query, {\n    type: QueryTypes.UPDATE,\n    replacements: [mark, comment, interviewId, interviewerId],\n  });\n  console.log(result);\n  return result;\n};\nconst getReportByMemberID = async (memberID) => {\n  const reportQuery = `select CandidateDetail_id as candidate_id, applied_status, room, slot, week, R.status as status, J.name as job_title from CandidateDetails inner join Interviews I on CandidateDetails.id = I.CandidateDetail_id join Reports R on I.id = R.Interview_id join Jobs J on J.id = CandidateDetails.Job_id where CandidateDetail_id = ?`;\n  const result = await sequelize.query(reportQuery, {\n    type: QueryTypes.SELECT,\n    replacements: [memberID],\n  });\n  return result;\n};\nmodule.exports = {\n  getAllReports,\n  getAllReportsByInterviewer,\n  getAllReportsByInterviewerByStatus,\n  updateInterviewers,\n  updateMark,\n  getReportByMemberID,\n};\n"],"mappings":"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"}},"mtime":1667263590148},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/reports.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nconst {\n  reportStatus,\n  reportStatusDefault\n} = require(\"../constant/reportStatus.enum\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Reports extends Model {\n    static associate(models) {\n      // define association here\n      Reports.belongsTo(models.Staffs, {\n        foreignKey: \"Interviewer_id\"\n      });\n      Reports.belongsTo(models.Interviews, {\n        foreignKey: \"Interview_id\"\n      });\n    }\n\n  }\n\n  Reports.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    Interview_id: {\n      allowNull: false,\n      type: DataTypes.UUID,\n      defaultValue: DataTypes.STRING(36),\n      references: {\n        model: \"Interviews\",\n        key: \"id\"\n      }\n    },\n    Interviewer_id: {\n      allowNull: false,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4,\n      references: {\n        model: \"Staffs\",\n        key: \"id\"\n      }\n    },\n    mark: {\n      allowNull: true,\n      type: DataTypes.INTEGER\n    },\n    comment: {\n      allowNull: true,\n      type: DataTypes.TEXT\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(reportStatus),\n      defaultValue: reportStatusDefault\n    }\n  }, {\n    sequelize,\n    modelName: \"Reports\",\n    createdAt: false,\n    updatedAt: false\n  });\n  return Reports;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJyZXBvcnRTdGF0dXMiLCJyZXBvcnRTdGF0dXNEZWZhdWx0IiwibW9kdWxlIiwiZXhwb3J0cyIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsIlJlcG9ydHMiLCJhc3NvY2lhdGUiLCJtb2RlbHMiLCJiZWxvbmdzVG8iLCJTdGFmZnMiLCJmb3JlaWduS2V5IiwiSW50ZXJ2aWV3cyIsImluaXQiLCJpZCIsImFsbG93TnVsbCIsInByaW1hcnlLZXkiLCJ0eXBlIiwiU1RSSU5HIiwiZGVmYXVsdFZhbHVlIiwiVVVJRFY0IiwiSW50ZXJ2aWV3X2lkIiwiVVVJRCIsInJlZmVyZW5jZXMiLCJtb2RlbCIsImtleSIsIkludGVydmlld2VyX2lkIiwibWFyayIsIklOVEVHRVIiLCJjb21tZW50IiwiVEVYVCIsInN0YXR1cyIsIkVOVU0iLCJtb2RlbE5hbWUiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvbW9kZWxzLyIsInNvdXJjZXMiOlsicmVwb3J0cy5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJzZXF1ZWxpemVcIik7XG5jb25zdCB7XG4gIHJlcG9ydFN0YXR1cyxcbiAgcmVwb3J0U3RhdHVzRGVmYXVsdCxcbn0gPSByZXF1aXJlKFwiLi4vY29uc3RhbnQvcmVwb3J0U3RhdHVzLmVudW1cIik7XG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xuICBjbGFzcyBSZXBvcnRzIGV4dGVuZHMgTW9kZWwge1xuICAgIHN0YXRpYyBhc3NvY2lhdGUobW9kZWxzKSB7XG4gICAgICAvLyBkZWZpbmUgYXNzb2NpYXRpb24gaGVyZVxuICAgICAgUmVwb3J0cy5iZWxvbmdzVG8obW9kZWxzLlN0YWZmcywgeyBmb3JlaWduS2V5OiBcIkludGVydmlld2VyX2lkXCIgfSk7XG4gICAgICBSZXBvcnRzLmJlbG9uZ3NUbyhtb2RlbHMuSW50ZXJ2aWV3cywgeyBmb3JlaWduS2V5OiBcIkludGVydmlld19pZFwiIH0pO1xuICAgIH1cbiAgfVxuICBSZXBvcnRzLmluaXQoXG4gICAge1xuICAgICAgaWQ6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygzNiksXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLlVVSURWNCxcbiAgICAgIH0sXG4gICAgICBJbnRlcnZpZXdfaWQ6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlVVSUQsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLlNUUklORygzNiksXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcbiAgICAgICAgICBtb2RlbDogXCJJbnRlcnZpZXdzXCIsXG4gICAgICAgICAga2V5OiBcImlkXCIsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgSW50ZXJ2aWV3ZXJfaWQ6IHtcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygzNiksXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLlVVSURWNCxcbiAgICAgICAgcmVmZXJlbmNlczoge1xuICAgICAgICAgIG1vZGVsOiBcIlN0YWZmc1wiLFxuICAgICAgICAgIGtleTogXCJpZFwiLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG1hcms6IHtcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgIH0sXG4gICAgICBjb21tZW50OiB7XG4gICAgICAgIGFsbG93TnVsbDogdHJ1ZSxcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlRFWFQsXG4gICAgICB9LFxuICAgICAgc3RhdHVzOiB7XG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5FTlVNKHJlcG9ydFN0YXR1cyksXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogcmVwb3J0U3RhdHVzRGVmYXVsdCxcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBzZXF1ZWxpemUsXG4gICAgICBtb2RlbE5hbWU6IFwiUmVwb3J0c1wiLFxuICAgICAgY3JlYXRlZEF0OiBmYWxzZSxcbiAgICAgIHVwZGF0ZWRBdDogZmFsc2UsXG4gICAgfVxuICApO1xuICByZXR1cm4gUmVwb3J0cztcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBLE1BQU07RUFBRUE7QUFBRixJQUFZQyxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxNQUFNO0VBQ0pDLFlBREk7RUFFSkM7QUFGSSxJQUdGRixPQUFPLENBQUMsK0JBQUQsQ0FIWDs7QUFJQUcsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLENBQUNDLFNBQUQsRUFBWUMsU0FBWixLQUEwQjtFQUN6QyxNQUFNQyxPQUFOLFNBQXNCUixLQUF0QixDQUE0QjtJQUNWLE9BQVRTLFNBQVMsQ0FBQ0MsTUFBRCxFQUFTO01BQ3ZCO01BQ0FGLE9BQU8sQ0FBQ0csU0FBUixDQUFrQkQsTUFBTSxDQUFDRSxNQUF6QixFQUFpQztRQUFFQyxVQUFVLEVBQUU7TUFBZCxDQUFqQztNQUNBTCxPQUFPLENBQUNHLFNBQVIsQ0FBa0JELE1BQU0sQ0FBQ0ksVUFBekIsRUFBcUM7UUFBRUQsVUFBVSxFQUFFO01BQWQsQ0FBckM7SUFDRDs7RUFMeUI7O0VBTzVCTCxPQUFPLENBQUNPLElBQVIsQ0FDRTtJQUNFQyxFQUFFLEVBQUU7TUFDRkMsU0FBUyxFQUFFLEtBRFQ7TUFFRkMsVUFBVSxFQUFFLElBRlY7TUFHRkMsSUFBSSxFQUFFWixTQUFTLENBQUNhLE1BQVYsQ0FBaUIsRUFBakIsQ0FISjtNQUlGQyxZQUFZLEVBQUVkLFNBQVMsQ0FBQ2U7SUFKdEIsQ0FETjtJQU9FQyxZQUFZLEVBQUU7TUFDWk4sU0FBUyxFQUFFLEtBREM7TUFFWkUsSUFBSSxFQUFFWixTQUFTLENBQUNpQixJQUZKO01BR1pILFlBQVksRUFBRWQsU0FBUyxDQUFDYSxNQUFWLENBQWlCLEVBQWpCLENBSEY7TUFJWkssVUFBVSxFQUFFO1FBQ1ZDLEtBQUssRUFBRSxZQURHO1FBRVZDLEdBQUcsRUFBRTtNQUZLO0lBSkEsQ0FQaEI7SUFnQkVDLGNBQWMsRUFBRTtNQUNkWCxTQUFTLEVBQUUsS0FERztNQUVkRSxJQUFJLEVBQUVaLFNBQVMsQ0FBQ2EsTUFBVixDQUFpQixFQUFqQixDQUZRO01BR2RDLFlBQVksRUFBRWQsU0FBUyxDQUFDZSxNQUhWO01BSWRHLFVBQVUsRUFBRTtRQUNWQyxLQUFLLEVBQUUsUUFERztRQUVWQyxHQUFHLEVBQUU7TUFGSztJQUpFLENBaEJsQjtJQXlCRUUsSUFBSSxFQUFFO01BQ0paLFNBQVMsRUFBRSxJQURQO01BRUpFLElBQUksRUFBRVosU0FBUyxDQUFDdUI7SUFGWixDQXpCUjtJQTZCRUMsT0FBTyxFQUFFO01BQ1BkLFNBQVMsRUFBRSxJQURKO01BRVBFLElBQUksRUFBRVosU0FBUyxDQUFDeUI7SUFGVCxDQTdCWDtJQWlDRUMsTUFBTSxFQUFFO01BQ05oQixTQUFTLEVBQUUsS0FETDtNQUVORSxJQUFJLEVBQUVaLFNBQVMsQ0FBQzJCLElBQVYsQ0FBZWhDLFlBQWYsQ0FGQTtNQUdObUIsWUFBWSxFQUFFbEI7SUFIUjtFQWpDVixDQURGLEVBd0NFO0lBQ0VHLFNBREY7SUFFRTZCLFNBQVMsRUFBRSxTQUZiO0lBR0VDLFNBQVMsRUFBRSxLQUhiO0lBSUVDLFNBQVMsRUFBRTtFQUpiLENBeENGO0VBK0NBLE9BQU83QixPQUFQO0FBQ0QsQ0F4REQifQ==","map":{"version":3,"names":["Model","require","reportStatus","reportStatusDefault","module","exports","sequelize","DataTypes","Reports","associate","models","belongsTo","Staffs","foreignKey","Interviews","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","Interview_id","UUID","references","model","key","Interviewer_id","mark","INTEGER","comment","TEXT","status","ENUM","modelName","createdAt","updatedAt"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/models/","sources":["reports.model.js"],"sourcesContent":["\"use strict\";\nconst { Model } = require(\"sequelize\");\nconst {\n  reportStatus,\n  reportStatusDefault,\n} = require(\"../constant/reportStatus.enum\");\nmodule.exports = (sequelize, DataTypes) => {\n  class Reports extends Model {\n    static associate(models) {\n      // define association here\n      Reports.belongsTo(models.Staffs, { foreignKey: \"Interviewer_id\" });\n      Reports.belongsTo(models.Interviews, { foreignKey: \"Interview_id\" });\n    }\n  }\n  Reports.init(\n    {\n      id: {\n        allowNull: false,\n        primaryKey: true,\n        type: DataTypes.STRING(36),\n        defaultValue: DataTypes.UUIDV4,\n      },\n      Interview_id: {\n        allowNull: false,\n        type: DataTypes.UUID,\n        defaultValue: DataTypes.STRING(36),\n        references: {\n          model: \"Interviews\",\n          key: \"id\",\n        },\n      },\n      Interviewer_id: {\n        allowNull: false,\n        type: DataTypes.STRING(36),\n        defaultValue: DataTypes.UUIDV4,\n        references: {\n          model: \"Staffs\",\n          key: \"id\",\n        },\n      },\n      mark: {\n        allowNull: true,\n        type: DataTypes.INTEGER,\n      },\n      comment: {\n        allowNull: true,\n        type: DataTypes.TEXT,\n      },\n      status: {\n        allowNull: false,\n        type: DataTypes.ENUM(reportStatus),\n        defaultValue: reportStatusDefault,\n      },\n    },\n    {\n      sequelize,\n      modelName: \"Reports\",\n      createdAt: false,\n      updatedAt: false,\n    }\n  );\n  return Reports;\n};\n"],"mappings":"AAAA;;AACA,MAAM;EAAEA;AAAF,IAAYC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAM;EACJC,YADI;EAEJC;AAFI,IAGFF,OAAO,CAAC,+BAAD,CAHX;;AAIAG,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;EACzC,MAAMC,OAAN,SAAsBR,KAAtB,CAA4B;IACV,OAATS,SAAS,CAACC,MAAD,EAAS;MACvB;MACAF,OAAO,CAACG,SAAR,CAAkBD,MAAM,CAACE,MAAzB,EAAiC;QAAEC,UAAU,EAAE;MAAd,CAAjC;MACAL,OAAO,CAACG,SAAR,CAAkBD,MAAM,CAACI,UAAzB,EAAqC;QAAED,UAAU,EAAE;MAAd,CAArC;IACD;;EALyB;;EAO5BL,OAAO,CAACO,IAAR,CACE;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEZ,SAAS,CAACa,MAAV,CAAiB,EAAjB,CAHJ;MAIFC,YAAY,EAAEd,SAAS,CAACe;IAJtB,CADN;IAOEC,YAAY,EAAE;MACZN,SAAS,EAAE,KADC;MAEZE,IAAI,EAAEZ,SAAS,CAACiB,IAFJ;MAGZH,YAAY,EAAEd,SAAS,CAACa,MAAV,CAAiB,EAAjB,CAHF;MAIZK,UAAU,EAAE;QACVC,KAAK,EAAE,YADG;QAEVC,GAAG,EAAE;MAFK;IAJA,CAPhB;IAgBEC,cAAc,EAAE;MACdX,SAAS,EAAE,KADG;MAEdE,IAAI,EAAEZ,SAAS,CAACa,MAAV,CAAiB,EAAjB,CAFQ;MAGdC,YAAY,EAAEd,SAAS,CAACe,MAHV;MAIdG,UAAU,EAAE;QACVC,KAAK,EAAE,QADG;QAEVC,GAAG,EAAE;MAFK;IAJE,CAhBlB;IAyBEE,IAAI,EAAE;MACJZ,SAAS,EAAE,IADP;MAEJE,IAAI,EAAEZ,SAAS,CAACuB;IAFZ,CAzBR;IA6BEC,OAAO,EAAE;MACPd,SAAS,EAAE,IADJ;MAEPE,IAAI,EAAEZ,SAAS,CAACyB;IAFT,CA7BX;IAiCEC,MAAM,EAAE;MACNhB,SAAS,EAAE,KADL;MAENE,IAAI,EAAEZ,SAAS,CAAC2B,IAAV,CAAehC,YAAf,CAFA;MAGNmB,YAAY,EAAElB;IAHR;EAjCV,CADF,EAwCE;IACEG,SADF;IAEE6B,SAAS,EAAE,SAFb;IAGEC,SAAS,EAAE,KAHb;IAIEC,SAAS,EAAE;EAJb,CAxCF;EA+CA,OAAO7B,OAAP;AACD,CAxDD"}},"mtime":1667231633835},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/reportStatus.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  reportStatus: [\"Pending\", \"Done\"],\n  reportStatusDefault: \"Pending\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwicmVwb3J0U3RhdHVzIiwicmVwb3J0U3RhdHVzRGVmYXVsdCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9jb25zdGFudC8iLCJzb3VyY2VzIjpbInJlcG9ydFN0YXR1cy5lbnVtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICByZXBvcnRTdGF0dXM6IFtcIlBlbmRpbmdcIiwgXCJEb25lXCJdLFxuICByZXBvcnRTdGF0dXNEZWZhdWx0OiBcIlBlbmRpbmdcIixcbn07XG4iXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmQyxZQUFZLEVBQUUsQ0FBQyxTQUFELEVBQVksTUFBWixDQURDO0VBRWZDLG1CQUFtQixFQUFFO0FBRk4sQ0FBakIifQ==","map":{"version":3,"names":["module","exports","reportStatus","reportStatusDefault"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/","sources":["reportStatus.enum.js"],"sourcesContent":["module.exports = {\n  reportStatus: [\"Pending\", \"Done\"],\n  reportStatusDefault: \"Pending\",\n};\n"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACfC,YAAY,EAAE,CAAC,SAAD,EAAY,MAAZ,CADC;EAEfC,mBAAmB,EAAE;AAFN,CAAjB"}},"mtime":1667231633828},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/memberStatus.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  memberStatus: [\"Not yet\", \"Approve\", \"Reject\"],\n  memberStatusDefault: \"Not yet\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwibWVtYmVyU3RhdHVzIiwibWVtYmVyU3RhdHVzRGVmYXVsdCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9jb25zdGFudC8iLCJzb3VyY2VzIjpbIm1lbWJlclN0YXR1cy5lbnVtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICBtZW1iZXJTdGF0dXM6IFtcIk5vdCB5ZXRcIiwgXCJBcHByb3ZlXCIsIFwiUmVqZWN0XCJdLFxuICBtZW1iZXJTdGF0dXNEZWZhdWx0OiBcIk5vdCB5ZXRcIixcbn07XG4iXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmQyxZQUFZLEVBQUUsQ0FBQyxTQUFELEVBQVksU0FBWixFQUF1QixRQUF2QixDQURDO0VBRWZDLG1CQUFtQixFQUFFO0FBRk4sQ0FBakIifQ==","map":{"version":3,"names":["module","exports","memberStatus","memberStatusDefault"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/","sources":["memberStatus.enum.js"],"sourcesContent":["module.exports = {\n  memberStatus: [\"Not yet\", \"Approve\", \"Reject\"],\n  memberStatusDefault: \"Not yet\",\n};\n"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACfC,YAAY,EAAE,CAAC,SAAD,EAAY,SAAZ,EAAuB,QAAvB,CADC;EAEfC,mBAAmB,EAAE;AAFN,CAAjB"}},"mtime":1667231633827},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/memberStatus.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  memberStatus: [\"Not yet\", \"Approve\", \"Reject\"],\n  memberStatusDefault: \"Not yet\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwibWVtYmVyU3RhdHVzIiwibWVtYmVyU3RhdHVzRGVmYXVsdCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9jb25zdGFudC8iLCJzb3VyY2VzIjpbIm1lbWJlclN0YXR1cy5lbnVtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICBtZW1iZXJTdGF0dXM6IFtcIk5vdCB5ZXRcIiwgXCJBcHByb3ZlXCIsIFwiUmVqZWN0XCJdLFxuICBtZW1iZXJTdGF0dXNEZWZhdWx0OiBcIk5vdCB5ZXRcIixcbn07XG4iXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmQyxZQUFZLEVBQUUsQ0FBQyxTQUFELEVBQVksU0FBWixFQUF1QixRQUF2QixDQURDO0VBRWZDLG1CQUFtQixFQUFFO0FBRk4sQ0FBakIifQ==","map":{"version":3,"names":["module","exports","memberStatus","memberStatusDefault"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/constant/","sources":["memberStatus.enum.js"],"sourcesContent":["module.exports = {\n  memberStatus: [\"Not yet\", \"Approve\", \"Reject\"],\n  memberStatusDefault: \"Not yet\",\n};\n"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACfC,YAAY,EAAE,CAAC,SAAD,EAAY,SAAZ,EAAuB,QAAvB,CADC;EAEfC,mBAAmB,EAAE;AAFN,CAAjB"}},"mtime":1667231633827},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/zoom.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\n\nconst router = express.Router();\n\nconst requestPromise = require(\"request-promise\");\n\nconst jwt = require(\"jsonwebtoken\");\n\nrequire(\"dotenv\").config();\n\nconst payload = {\n  iss: process.env.ZOOM_API_KEY,\n  //your API KEY\n  exp: new Date().getTime() + 5000\n};\nconst token = jwt.sign(payload, process.env.ZOOM_API_SECRET); //your API SECRET HERE\n\nrouter.get(\"/createMeeting\", (req, res) => {\n  const email = \"tranquangsang12.7@gmail.com\"; // your zoom developer email account\n\n  const options = {\n    method: \"POST\",\n    uri: \"https://api.zoom.us/v2/users/\" + email + \"/meetings\",\n    body: {\n      topic: \"Zoom Meeting Using Node JS\",\n      //meeting title\n      type: 1,\n      settings: {\n        host_video: \"true\",\n        participant_video: \"true\"\n      }\n    },\n    auth: {\n      bearer: token\n    },\n    headers: {\n      \"User-Agent\": \"Zoom-api-Jwt-Request\",\n      \"content-type\": \"application/json\"\n    },\n    json: true\n  };\n  requestPromise(options).then(function (response) {\n    console.log(\"response is: \", response);\n    res.json(response);\n  }).catch(function (err) {\n    // API call failed...\n    console.log(\"API call failed, reason \", err);\n  });\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsInJlcXVlc3RQcm9taXNlIiwiand0IiwiY29uZmlnIiwicGF5bG9hZCIsImlzcyIsInByb2Nlc3MiLCJlbnYiLCJaT09NX0FQSV9LRVkiLCJleHAiLCJEYXRlIiwiZ2V0VGltZSIsInRva2VuIiwic2lnbiIsIlpPT01fQVBJX1NFQ1JFVCIsImdldCIsInJlcSIsInJlcyIsImVtYWlsIiwib3B0aW9ucyIsIm1ldGhvZCIsInVyaSIsImJvZHkiLCJ0b3BpYyIsInR5cGUiLCJzZXR0aW5ncyIsImhvc3RfdmlkZW8iLCJwYXJ0aWNpcGFudF92aWRlbyIsImF1dGgiLCJiZWFyZXIiLCJoZWFkZXJzIiwianNvbiIsInRoZW4iLCJyZXNwb25zZSIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVyciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsiem9vbS5yb3V0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbmNvbnN0IHJlcXVlc3RQcm9taXNlID0gcmVxdWlyZShcInJlcXVlc3QtcHJvbWlzZVwiKTtcbmNvbnN0IGp3dCA9IHJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7XG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xuXG5jb25zdCBwYXlsb2FkID0ge1xuICBpc3M6IHByb2Nlc3MuZW52LlpPT01fQVBJX0tFWSwgLy95b3VyIEFQSSBLRVlcbiAgZXhwOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIDUwMDAsXG59O1xuXG5jb25zdCB0b2tlbiA9IGp3dC5zaWduKHBheWxvYWQsIHByb2Nlc3MuZW52LlpPT01fQVBJX1NFQ1JFVCk7IC8veW91ciBBUEkgU0VDUkVUIEhFUkVcblxucm91dGVyLmdldChcIi9jcmVhdGVNZWV0aW5nXCIsIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBlbWFpbCA9IFwidHJhbnF1YW5nc2FuZzEyLjdAZ21haWwuY29tXCI7IC8vIHlvdXIgem9vbSBkZXZlbG9wZXIgZW1haWwgYWNjb3VudFxuXG4gIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICB1cmk6IFwiaHR0cHM6Ly9hcGkuem9vbS51cy92Mi91c2Vycy9cIiArIGVtYWlsICsgXCIvbWVldGluZ3NcIixcbiAgICBib2R5OiB7XG4gICAgICB0b3BpYzogXCJab29tIE1lZXRpbmcgVXNpbmcgTm9kZSBKU1wiLCAvL21lZXRpbmcgdGl0bGVcbiAgICAgIHR5cGU6IDEsXG4gICAgICBzZXR0aW5nczoge1xuICAgICAgICBob3N0X3ZpZGVvOiBcInRydWVcIixcbiAgICAgICAgcGFydGljaXBhbnRfdmlkZW86IFwidHJ1ZVwiLFxuICAgICAgfSxcbiAgICB9LFxuICAgIGF1dGg6IHtcbiAgICAgIGJlYXJlcjogdG9rZW4sXG4gICAgfSxcbiAgICBoZWFkZXJzOiB7XG4gICAgICBcIlVzZXItQWdlbnRcIjogXCJab29tLWFwaS1Kd3QtUmVxdWVzdFwiLFxuICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfSxcbiAgICBqc29uOiB0cnVlLFxuICB9O1xuXG4gIHJlcXVlc3RQcm9taXNlKG9wdGlvbnMpXG4gICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBjb25zb2xlLmxvZyhcInJlc3BvbnNlIGlzOiBcIiwgcmVzcG9uc2UpO1xuICAgICAgcmVzLmpzb24ocmVzcG9uc2UpO1xuICAgIH0pXG4gICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIC8vIEFQSSBjYWxsIGZhaWxlZC4uLlxuICAgICAgY29uc29sZS5sb2coXCJBUEkgY2FsbCBmYWlsZWQsIHJlYXNvbiBcIiwgZXJyKTtcbiAgICB9KTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUVBLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQWY7O0FBRUEsTUFBTUMsY0FBYyxHQUFHSCxPQUFPLENBQUMsaUJBQUQsQ0FBOUI7O0FBQ0EsTUFBTUksR0FBRyxHQUFHSixPQUFPLENBQUMsY0FBRCxDQUFuQjs7QUFDQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkssTUFBbEI7O0FBRUEsTUFBTUMsT0FBTyxHQUFHO0VBQ2RDLEdBQUcsRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFlBREg7RUFDaUI7RUFDL0JDLEdBQUcsRUFBRSxJQUFJQyxJQUFKLEdBQVdDLE9BQVgsS0FBdUI7QUFGZCxDQUFoQjtBQUtBLE1BQU1DLEtBQUssR0FBR1YsR0FBRyxDQUFDVyxJQUFKLENBQVNULE9BQVQsRUFBa0JFLE9BQU8sQ0FBQ0MsR0FBUixDQUFZTyxlQUE5QixDQUFkLEMsQ0FBOEQ7O0FBRTlEZixNQUFNLENBQUNnQixHQUFQLENBQVcsZ0JBQVgsRUFBNkIsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7RUFDekMsTUFBTUMsS0FBSyxHQUFHLDZCQUFkLENBRHlDLENBQ0k7O0VBRTdDLE1BQU1DLE9BQU8sR0FBRztJQUNkQyxNQUFNLEVBQUUsTUFETTtJQUVkQyxHQUFHLEVBQUUsa0NBQWtDSCxLQUFsQyxHQUEwQyxXQUZqQztJQUdkSSxJQUFJLEVBQUU7TUFDSkMsS0FBSyxFQUFFLDRCQURIO01BQ2lDO01BQ3JDQyxJQUFJLEVBQUUsQ0FGRjtNQUdKQyxRQUFRLEVBQUU7UUFDUkMsVUFBVSxFQUFFLE1BREo7UUFFUkMsaUJBQWlCLEVBQUU7TUFGWDtJQUhOLENBSFE7SUFXZEMsSUFBSSxFQUFFO01BQ0pDLE1BQU0sRUFBRWpCO0lBREosQ0FYUTtJQWNka0IsT0FBTyxFQUFFO01BQ1AsY0FBYyxzQkFEUDtNQUVQLGdCQUFnQjtJQUZULENBZEs7SUFrQmRDLElBQUksRUFBRTtFQWxCUSxDQUFoQjtFQXFCQTlCLGNBQWMsQ0FBQ2tCLE9BQUQsQ0FBZCxDQUNHYSxJQURILENBQ1EsVUFBVUMsUUFBVixFQUFvQjtJQUN4QkMsT0FBTyxDQUFDQyxHQUFSLENBQVksZUFBWixFQUE2QkYsUUFBN0I7SUFDQWhCLEdBQUcsQ0FBQ2MsSUFBSixDQUFTRSxRQUFUO0VBQ0QsQ0FKSCxFQUtHRyxLQUxILENBS1MsVUFBVUMsR0FBVixFQUFlO0lBQ3BCO0lBQ0FILE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDBCQUFaLEVBQXdDRSxHQUF4QztFQUNELENBUkg7QUFTRCxDQWpDRDtBQW1DQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCeEMsTUFBakIifQ==","map":{"version":3,"names":["express","require","router","Router","requestPromise","jwt","config","payload","iss","process","env","ZOOM_API_KEY","exp","Date","getTime","token","sign","ZOOM_API_SECRET","get","req","res","email","options","method","uri","body","topic","type","settings","host_video","participant_video","auth","bearer","headers","json","then","response","console","log","catch","err","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["zoom.route.js"],"sourcesContent":["const express = require(\"express\");\n\nconst router = express.Router();\n\nconst requestPromise = require(\"request-promise\");\nconst jwt = require(\"jsonwebtoken\");\nrequire(\"dotenv\").config();\n\nconst payload = {\n  iss: process.env.ZOOM_API_KEY, //your API KEY\n  exp: new Date().getTime() + 5000,\n};\n\nconst token = jwt.sign(payload, process.env.ZOOM_API_SECRET); //your API SECRET HERE\n\nrouter.get(\"/createMeeting\", (req, res) => {\n  const email = \"tranquangsang12.7@gmail.com\"; // your zoom developer email account\n\n  const options = {\n    method: \"POST\",\n    uri: \"https://api.zoom.us/v2/users/\" + email + \"/meetings\",\n    body: {\n      topic: \"Zoom Meeting Using Node JS\", //meeting title\n      type: 1,\n      settings: {\n        host_video: \"true\",\n        participant_video: \"true\",\n      },\n    },\n    auth: {\n      bearer: token,\n    },\n    headers: {\n      \"User-Agent\": \"Zoom-api-Jwt-Request\",\n      \"content-type\": \"application/json\",\n    },\n    json: true,\n  };\n\n  requestPromise(options)\n    .then(function (response) {\n      console.log(\"response is: \", response);\n      res.json(response);\n    })\n    .catch(function (err) {\n      // API call failed...\n      console.log(\"API call failed, reason \", err);\n    });\n});\n\nmodule.exports = router;\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AAEA,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;AAEA,MAAMC,cAAc,GAAGH,OAAO,CAAC,iBAAD,CAA9B;;AACA,MAAMI,GAAG,GAAGJ,OAAO,CAAC,cAAD,CAAnB;;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBK,MAAlB;;AAEA,MAAMC,OAAO,GAAG;EACdC,GAAG,EAAEC,OAAO,CAACC,GAAR,CAAYC,YADH;EACiB;EAC/BC,GAAG,EAAE,IAAIC,IAAJ,GAAWC,OAAX,KAAuB;AAFd,CAAhB;AAKA,MAAMC,KAAK,GAAGV,GAAG,CAACW,IAAJ,CAAST,OAAT,EAAkBE,OAAO,CAACC,GAAR,CAAYO,eAA9B,CAAd,C,CAA8D;;AAE9Df,MAAM,CAACgB,GAAP,CAAW,gBAAX,EAA6B,CAACC,GAAD,EAAMC,GAAN,KAAc;EACzC,MAAMC,KAAK,GAAG,6BAAd,CADyC,CACI;;EAE7C,MAAMC,OAAO,GAAG;IACdC,MAAM,EAAE,MADM;IAEdC,GAAG,EAAE,kCAAkCH,KAAlC,GAA0C,WAFjC;IAGdI,IAAI,EAAE;MACJC,KAAK,EAAE,4BADH;MACiC;MACrCC,IAAI,EAAE,CAFF;MAGJC,QAAQ,EAAE;QACRC,UAAU,EAAE,MADJ;QAERC,iBAAiB,EAAE;MAFX;IAHN,CAHQ;IAWdC,IAAI,EAAE;MACJC,MAAM,EAAEjB;IADJ,CAXQ;IAcdkB,OAAO,EAAE;MACP,cAAc,sBADP;MAEP,gBAAgB;IAFT,CAdK;IAkBdC,IAAI,EAAE;EAlBQ,CAAhB;EAqBA9B,cAAc,CAACkB,OAAD,CAAd,CACGa,IADH,CACQ,UAAUC,QAAV,EAAoB;IACxBC,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BF,QAA7B;IACAhB,GAAG,CAACc,IAAJ,CAASE,QAAT;EACD,CAJH,EAKGG,KALH,CAKS,UAAUC,GAAV,EAAe;IACpB;IACAH,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCE,GAAxC;EACD,CARH;AASD,CAjCD;AAmCAC,MAAM,CAACC,OAAP,GAAiBxC,MAAjB"}},"mtime":1667273577540},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/report.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\n\nconst router = express.Router();\n\nconst {\n  handleGetAllReports,\n  handleGetAllReportsByInterviewer,\n  handleUpdateInterviewers,\n  handleUpdateMark,\n  getReportByMemberID\n} = require(\"../controller/report.controller\");\n\nrouter.get(\"/\", handleGetAllReports);\nrouter.post(\"/by-interviewer\", handleGetAllReportsByInterviewer);\nrouter.patch(\"/interviewers\", handleUpdateInterviewers);\nrouter.patch(\"/mark\", handleUpdateMark);\nrouter.post(\"/member\", getReportByMemberID);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImhhbmRsZUdldEFsbFJlcG9ydHMiLCJoYW5kbGVHZXRBbGxSZXBvcnRzQnlJbnRlcnZpZXdlciIsImhhbmRsZVVwZGF0ZUludGVydmlld2VycyIsImhhbmRsZVVwZGF0ZU1hcmsiLCJnZXRSZXBvcnRCeU1lbWJlcklEIiwiZ2V0IiwicG9zdCIsInBhdGNoIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9yb3V0ZXMvIiwic291cmNlcyI6WyJyZXBvcnQucm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5jb25zdCB7XG4gIGhhbmRsZUdldEFsbFJlcG9ydHMsXG4gIGhhbmRsZUdldEFsbFJlcG9ydHNCeUludGVydmlld2VyLFxuICBoYW5kbGVVcGRhdGVJbnRlcnZpZXdlcnMsXG4gIGhhbmRsZVVwZGF0ZU1hcmssXG4gIGdldFJlcG9ydEJ5TWVtYmVySUQsXG59ID0gcmVxdWlyZShcIi4uL2NvbnRyb2xsZXIvcmVwb3J0LmNvbnRyb2xsZXJcIik7XG5cbnJvdXRlci5nZXQoXCIvXCIsIGhhbmRsZUdldEFsbFJlcG9ydHMpO1xucm91dGVyLnBvc3QoXCIvYnktaW50ZXJ2aWV3ZXJcIiwgaGFuZGxlR2V0QWxsUmVwb3J0c0J5SW50ZXJ2aWV3ZXIpO1xucm91dGVyLnBhdGNoKFwiL2ludGVydmlld2Vyc1wiLCBoYW5kbGVVcGRhdGVJbnRlcnZpZXdlcnMpO1xucm91dGVyLnBhdGNoKFwiL21hcmtcIiwgaGFuZGxlVXBkYXRlTWFyayk7XG5yb3V0ZXIucG9zdChcIi9tZW1iZXJcIiwgZ2V0UmVwb3J0QnlNZW1iZXJJRCk7XG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUVBLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQWY7O0FBRUEsTUFBTTtFQUNKQyxtQkFESTtFQUVKQyxnQ0FGSTtFQUdKQyx3QkFISTtFQUlKQyxnQkFKSTtFQUtKQztBQUxJLElBTUZQLE9BQU8sQ0FBQyxpQ0FBRCxDQU5YOztBQVFBQyxNQUFNLENBQUNPLEdBQVAsQ0FBVyxHQUFYLEVBQWdCTCxtQkFBaEI7QUFDQUYsTUFBTSxDQUFDUSxJQUFQLENBQVksaUJBQVosRUFBK0JMLGdDQUEvQjtBQUNBSCxNQUFNLENBQUNTLEtBQVAsQ0FBYSxlQUFiLEVBQThCTCx3QkFBOUI7QUFDQUosTUFBTSxDQUFDUyxLQUFQLENBQWEsT0FBYixFQUFzQkosZ0JBQXRCO0FBQ0FMLE1BQU0sQ0FBQ1EsSUFBUCxDQUFZLFNBQVosRUFBdUJGLG1CQUF2QjtBQUNBSSxNQUFNLENBQUNDLE9BQVAsR0FBaUJYLE1BQWpCIn0=","map":{"version":3,"names":["express","require","router","Router","handleGetAllReports","handleGetAllReportsByInterviewer","handleUpdateInterviewers","handleUpdateMark","getReportByMemberID","get","post","patch","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["report.route.js"],"sourcesContent":["const express = require(\"express\");\n\nconst router = express.Router();\n\nconst {\n  handleGetAllReports,\n  handleGetAllReportsByInterviewer,\n  handleUpdateInterviewers,\n  handleUpdateMark,\n  getReportByMemberID,\n} = require(\"../controller/report.controller\");\n\nrouter.get(\"/\", handleGetAllReports);\nrouter.post(\"/by-interviewer\", handleGetAllReportsByInterviewer);\nrouter.patch(\"/interviewers\", handleUpdateInterviewers);\nrouter.patch(\"/mark\", handleUpdateMark);\nrouter.post(\"/member\", getReportByMemberID);\nmodule.exports = router;\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AAEA,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;AAEA,MAAM;EACJC,mBADI;EAEJC,gCAFI;EAGJC,wBAHI;EAIJC,gBAJI;EAKJC;AALI,IAMFP,OAAO,CAAC,iCAAD,CANX;;AAQAC,MAAM,CAACO,GAAP,CAAW,GAAX,EAAgBL,mBAAhB;AACAF,MAAM,CAACQ,IAAP,CAAY,iBAAZ,EAA+BL,gCAA/B;AACAH,MAAM,CAACS,KAAP,CAAa,eAAb,EAA8BL,wBAA9B;AACAJ,MAAM,CAACS,KAAP,CAAa,OAAb,EAAsBJ,gBAAtB;AACAL,MAAM,CAACQ,IAAP,CAAY,SAAZ,EAAuBF,mBAAvB;AACAI,MAAM,CAACC,OAAP,GAAiBX,MAAjB"}},"mtime":1667266030022},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/report.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _apiError = require(\"../middleware/apiError\");\n\nconst httpStatus = require(\"http-status\");\n\nconst reportService = require(\"../service/report.service\");\n\nconst handleGetAllReports = async (req, res, next) => {\n  try {\n    const reports = await reportService.getAllReports();\n    res.json(reports);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetAllReportsByInterviewer = async (req, res, next) => {\n  try {\n    const interviewerId = req.body.interviewerId; // console.log(\"aaaa\");\n\n    const reports = await reportService.getAllReportsByInterviewer(interviewerId);\n    res.json({\n      report_pending: reports[0],\n      report_done: reports[1]\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleUpdateInterviewers = async (req, res, next) => {\n  try {\n    const interviewers = req.body.interviewersId;\n    const candidateId = req.body.candidateId;\n    const result = await reportService.updateInterviewers(candidateId, interviewers);\n    return res.json(result);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst getReportByMemberID = async (req, res, next) => {\n  try {\n    console.log(req.body.member_id);\n    const reportByMember = await reportService.getReportByMember(req.body.member_id);\n    res.send(reportByMember);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleUpdateMark = async (req, res, next) => {\n  try {\n    const interviewerId = req.body.interviewerId;\n    const mark = req.body.mark;\n    const interviewId = req.body.interviewId;\n    const comment = req.body.comment;\n\n    if (Number(mark) > 10 || Number(mark) < 0 || mark == null) {\n      throw new _apiError.ApiError(httpStatus.BAD_REQUEST, \"Mark can be from 0 to 10\");\n    }\n\n    if (comment.length === 0 || comment == null) {\n      throw new _apiError.ApiError(httpStatus.BAD_REQUEST, \"Comment must be provide\");\n    }\n\n    const result = await reportService.updateMark(interviewId, interviewerId, mark, comment);\n    return res.send(result);\n  } catch (error) {\n    next(error);\n  }\n};\n\nmodule.exports = {\n  handleGetAllReports,\n  handleGetAllReportsByInterviewer,\n  handleUpdateInterviewers,\n  handleUpdateMark,\n  getReportByMemberID\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwU3RhdHVzIiwicmVxdWlyZSIsInJlcG9ydFNlcnZpY2UiLCJoYW5kbGVHZXRBbGxSZXBvcnRzIiwicmVxIiwicmVzIiwibmV4dCIsInJlcG9ydHMiLCJnZXRBbGxSZXBvcnRzIiwianNvbiIsImVycm9yIiwiaGFuZGxlR2V0QWxsUmVwb3J0c0J5SW50ZXJ2aWV3ZXIiLCJpbnRlcnZpZXdlcklkIiwiYm9keSIsImdldEFsbFJlcG9ydHNCeUludGVydmlld2VyIiwicmVwb3J0X3BlbmRpbmciLCJyZXBvcnRfZG9uZSIsImhhbmRsZVVwZGF0ZUludGVydmlld2VycyIsImludGVydmlld2VycyIsImludGVydmlld2Vyc0lkIiwiY2FuZGlkYXRlSWQiLCJyZXN1bHQiLCJ1cGRhdGVJbnRlcnZpZXdlcnMiLCJnZXRSZXBvcnRCeU1lbWJlcklEIiwiY29uc29sZSIsImxvZyIsIm1lbWJlcl9pZCIsInJlcG9ydEJ5TWVtYmVyIiwiZ2V0UmVwb3J0QnlNZW1iZXIiLCJzZW5kIiwiaGFuZGxlVXBkYXRlTWFyayIsIm1hcmsiLCJpbnRlcnZpZXdJZCIsImNvbW1lbnQiLCJOdW1iZXIiLCJBcGlFcnJvciIsIkJBRF9SRVFVRVNUIiwibGVuZ3RoIiwidXBkYXRlTWFyayIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvY29udHJvbGxlci8iLCJzb3VyY2VzIjpbInJlcG9ydC5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGh0dHBTdGF0dXMgPSByZXF1aXJlKFwiaHR0cC1zdGF0dXNcIik7XG5jb25zdCByZXBvcnRTZXJ2aWNlID0gcmVxdWlyZShcIi4uL3NlcnZpY2UvcmVwb3J0LnNlcnZpY2VcIik7XG5pbXBvcnQgeyBBcGlFcnJvciB9IGZyb20gXCIuLi9taWRkbGV3YXJlL2FwaUVycm9yXCI7XG5jb25zdCBoYW5kbGVHZXRBbGxSZXBvcnRzID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVwb3J0cyA9IGF3YWl0IHJlcG9ydFNlcnZpY2UuZ2V0QWxsUmVwb3J0cygpO1xuICAgIHJlcy5qc29uKHJlcG9ydHMpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIG5leHQoZXJyb3IpO1xuICB9XG59O1xuXG5jb25zdCBoYW5kbGVHZXRBbGxSZXBvcnRzQnlJbnRlcnZpZXdlciA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGludGVydmlld2VySWQgPSByZXEuYm9keS5pbnRlcnZpZXdlcklkO1xuICAgIC8vIGNvbnNvbGUubG9nKFwiYWFhYVwiKTtcbiAgICBjb25zdCByZXBvcnRzID0gYXdhaXQgcmVwb3J0U2VydmljZS5nZXRBbGxSZXBvcnRzQnlJbnRlcnZpZXdlcihcbiAgICAgIGludGVydmlld2VySWRcbiAgICApO1xuICAgIHJlcy5qc29uKHtcbiAgICAgIHJlcG9ydF9wZW5kaW5nOiByZXBvcnRzWzBdLFxuICAgICAgcmVwb3J0X2RvbmU6IHJlcG9ydHNbMV0sXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbmV4dChlcnJvcik7XG4gIH1cbn07XG5cbmNvbnN0IGhhbmRsZVVwZGF0ZUludGVydmlld2VycyA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGludGVydmlld2VycyA9IHJlcS5ib2R5LmludGVydmlld2Vyc0lkO1xuICAgIGNvbnN0IGNhbmRpZGF0ZUlkID0gcmVxLmJvZHkuY2FuZGlkYXRlSWQ7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVwb3J0U2VydmljZS51cGRhdGVJbnRlcnZpZXdlcnMoXG4gICAgICBjYW5kaWRhdGVJZCxcbiAgICAgIGludGVydmlld2Vyc1xuICAgICk7XG4gICAgcmV0dXJuIHJlcy5qc29uKHJlc3VsdCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbmV4dChlcnJvcik7XG4gIH1cbn07XG5jb25zdCBnZXRSZXBvcnRCeU1lbWJlcklEID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2cocmVxLmJvZHkubWVtYmVyX2lkKTtcbiAgICBjb25zdCByZXBvcnRCeU1lbWJlciA9IGF3YWl0IHJlcG9ydFNlcnZpY2UuZ2V0UmVwb3J0QnlNZW1iZXIoXG4gICAgICByZXEuYm9keS5tZW1iZXJfaWRcbiAgICApO1xuICAgIHJlcy5zZW5kKHJlcG9ydEJ5TWVtYmVyKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBuZXh0KGVycm9yKTtcbiAgfVxufTtcblxuY29uc3QgaGFuZGxlVXBkYXRlTWFyayA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGludGVydmlld2VySWQgPSByZXEuYm9keS5pbnRlcnZpZXdlcklkO1xuICAgIGNvbnN0IG1hcmsgPSByZXEuYm9keS5tYXJrO1xuICAgIGNvbnN0IGludGVydmlld0lkID0gcmVxLmJvZHkuaW50ZXJ2aWV3SWQ7XG4gICAgY29uc3QgY29tbWVudCA9IHJlcS5ib2R5LmNvbW1lbnQ7XG4gICAgaWYgKE51bWJlcihtYXJrKSA+IDEwIHx8IE51bWJlcihtYXJrKSA8IDAgfHwgbWFyayA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5CQURfUkVRVUVTVCwgXCJNYXJrIGNhbiBiZSBmcm9tIDAgdG8gMTBcIik7XG4gICAgfVxuICAgIGlmIChjb21tZW50Lmxlbmd0aCA9PT0gMCB8fCBjb21tZW50ID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLkJBRF9SRVFVRVNULCBcIkNvbW1lbnQgbXVzdCBiZSBwcm92aWRlXCIpO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvcnRTZXJ2aWNlLnVwZGF0ZU1hcmsoXG4gICAgICBpbnRlcnZpZXdJZCxcbiAgICAgIGludGVydmlld2VySWQsXG4gICAgICBtYXJrLFxuICAgICAgY29tbWVudFxuICAgICk7XG4gICAgcmV0dXJuIHJlcy5zZW5kKHJlc3VsdCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbmV4dChlcnJvcik7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBoYW5kbGVHZXRBbGxSZXBvcnRzLFxuICBoYW5kbGVHZXRBbGxSZXBvcnRzQnlJbnRlcnZpZXdlcixcbiAgaGFuZGxlVXBkYXRlSW50ZXJ2aWV3ZXJzLFxuICBoYW5kbGVVcGRhdGVNYXJrLFxuICBnZXRSZXBvcnRCeU1lbWJlcklELFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFFQTs7QUFGQSxNQUFNQSxVQUFVLEdBQUdDLE9BQU8sQ0FBQyxhQUFELENBQTFCOztBQUNBLE1BQU1DLGFBQWEsR0FBR0QsT0FBTyxDQUFDLDJCQUFELENBQTdCOztBQUVBLE1BQU1FLG1CQUFtQixHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDcEQsSUFBSTtJQUNGLE1BQU1DLE9BQU8sR0FBRyxNQUFNTCxhQUFhLENBQUNNLGFBQWQsRUFBdEI7SUFDQUgsR0FBRyxDQUFDSSxJQUFKLENBQVNGLE9BQVQ7RUFDRCxDQUhELENBR0UsT0FBT0csS0FBUCxFQUFjO0lBQ2RKLElBQUksQ0FBQ0ksS0FBRCxDQUFKO0VBQ0Q7QUFDRixDQVBEOztBQVNBLE1BQU1DLGdDQUFnQyxHQUFHLE9BQU9QLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDakUsSUFBSTtJQUNGLE1BQU1NLGFBQWEsR0FBR1IsR0FBRyxDQUFDUyxJQUFKLENBQVNELGFBQS9CLENBREUsQ0FFRjs7SUFDQSxNQUFNTCxPQUFPLEdBQUcsTUFBTUwsYUFBYSxDQUFDWSwwQkFBZCxDQUNwQkYsYUFEb0IsQ0FBdEI7SUFHQVAsR0FBRyxDQUFDSSxJQUFKLENBQVM7TUFDUE0s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","map":{"version":3,"names":["httpStatus","require","reportService","handleGetAllReports","req","res","next","reports","getAllReports","json","error","handleGetAllReportsByInterviewer","interviewerId","body","getAllReportsByInterviewer","report_pending","report_done","handleUpdateInterviewers","interviewers","interviewersId","candidateId","result","updateInterviewers","getReportByMemberID","console","log","member_id","reportByMember","getReportByMember","send","handleUpdateMark","mark","interviewId","comment","Number","ApiError","BAD_REQUEST","length","updateMark","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/controller/","sources":["report.controller.js"],"sourcesContent":["const httpStatus = require(\"http-status\");\nconst reportService = require(\"../service/report.service\");\nimport { ApiError } from \"../middleware/apiError\";\nconst handleGetAllReports = async (req, res, next) => {\n  try {\n    const reports = await reportService.getAllReports();\n    res.json(reports);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetAllReportsByInterviewer = async (req, res, next) => {\n  try {\n    const interviewerId = req.body.interviewerId;\n    // console.log(\"aaaa\");\n    const reports = await reportService.getAllReportsByInterviewer(\n      interviewerId\n    );\n    res.json({\n      report_pending: reports[0],\n      report_done: reports[1],\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleUpdateInterviewers = async (req, res, next) => {\n  try {\n    const interviewers = req.body.interviewersId;\n    const candidateId = req.body.candidateId;\n    const result = await reportService.updateInterviewers(\n      candidateId,\n      interviewers\n    );\n    return res.json(result);\n  } catch (error) {\n    next(error);\n  }\n};\nconst getReportByMemberID = async (req, res, next) => {\n  try {\n    console.log(req.body.member_id);\n    const reportByMember = await reportService.getReportByMember(\n      req.body.member_id\n    );\n    res.send(reportByMember);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleUpdateMark = async (req, res, next) => {\n  try {\n    const interviewerId = req.body.interviewerId;\n    const mark = req.body.mark;\n    const interviewId = req.body.interviewId;\n    const comment = req.body.comment;\n    if (Number(mark) > 10 || Number(mark) < 0 || mark == null) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Mark can be from 0 to 10\");\n    }\n    if (comment.length === 0 || comment == null) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Comment must be provide\");\n    }\n    const result = await reportService.updateMark(\n      interviewId,\n      interviewerId,\n      mark,\n      comment\n    );\n    return res.send(result);\n  } catch (error) {\n    next(error);\n  }\n};\n\nmodule.exports = {\n  handleGetAllReports,\n  handleGetAllReportsByInterviewer,\n  handleUpdateInterviewers,\n  handleUpdateMark,\n  getReportByMemberID,\n};\n"],"mappings":"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"}},"mtime":1667265627564},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/report.service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _httpStatus = _interopRequireDefault(require(\"http-status\"));\n\nvar _apiError = require(\"../middleware/apiError\");\n\nvar _sequelize = require(\"sequelize\");\n\nvar _index = _interopRequireWildcard(require(\"../models/index.js\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Reports = _index.default.Reports;\n\nconst reportRepository = require(\"../repository/reports.repository\");\n\nconst getAllReports = async () => {\n  try {\n    const reports = await reportRepository.getAllReports();\n    console.log(reports);\n    return reports;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getAllReportsByInterviewer = async interviewerId => {\n  try {\n    const reports = await reportRepository.getAllReportsByInterviewerByStatus(interviewerId);\n    console.log(reports);\n    return reports;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst updateInterviewers = async (interviewId, interviewers) => {\n  try {\n    const result = await reportRepository.updateInterviewers(interviewId, interviewers);\n    return result;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst updateMark = async (candidateId, interviewerId, mark, comment) => {\n  try {\n    const result = await reportRepository.updateMark(candidateId, interviewerId, mark, comment);\n\n    if (result[1] == 0) {\n      throw new _apiError.ApiError(_httpStatus.default.BAD_REQUEST, \"Error, Cant update\");\n    }\n\n    return result;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getReportByMember = async memberID => {\n  try {\n    const report = await reportRepository.getReportByMemberID(memberID);\n    return report;\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  getAllReports,\n  getAllReportsByInterviewer,\n  updateInterviewers,\n  updateMark,\n  getReportByMember\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZXBvcnRzIiwiZGIiLCJyZXBvcnRSZXBvc2l0b3J5IiwicmVxdWlyZSIsImdldEFsbFJlcG9ydHMiLCJyZXBvcnRzIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiZ2V0QWxsUmVwb3J0c0J5SW50ZXJ2aWV3ZXIiLCJpbnRlcnZpZXdlcklkIiwiZ2V0QWxsUmVwb3J0c0J5SW50ZXJ2aWV3ZXJCeVN0YXR1cyIsInVwZGF0ZUludGVydmlld2VycyIsImludGVydmlld0lkIiwiaW50ZXJ2aWV3ZXJzIiwicmVzdWx0IiwidXBkYXRlTWFyayIsImNhbmRpZGF0ZUlkIiwibWFyayIsImNvbW1lbnQiLCJBcGlFcnJvciIsImh0dHBTdGF0dXMiLCJCQURfUkVRVUVTVCIsImdldFJlcG9ydEJ5TWVtYmVyIiwibWVtYmVySUQiLCJyZXBvcnQiLCJnZXRSZXBvcnRCeU1lbWJlcklEIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyYW5zYW5nL0Rlc2t0b3AvU2FuZ01haW4vRlBUL0ZBTEwyMDIyL1NXUC9IUk1TX0JFL3NyYy9zZXJ2aWNlLyIsInNvdXJjZXMiOlsicmVwb3J0LnNlcnZpY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGh0dHBTdGF0dXMgZnJvbSBcImh0dHAtc3RhdHVzXCI7XG5pbXBvcnQgeyBBcGlFcnJvciB9IGZyb20gXCIuLi9taWRkbGV3YXJlL2FwaUVycm9yXCI7XG5pbXBvcnQgeyBRdWVyeVR5cGVzIH0gZnJvbSBcInNlcXVlbGl6ZVwiO1xuaW1wb3J0IGRiLCB7IHNlcXVlbGl6ZSB9IGZyb20gXCIuLi9tb2RlbHMvaW5kZXguanNcIjtcbmNvbnN0IFJlcG9ydHMgPSBkYi5SZXBvcnRzO1xuY29uc3QgcmVwb3J0UmVwb3NpdG9yeSA9IHJlcXVpcmUoXCIuLi9yZXBvc2l0b3J5L3JlcG9ydHMucmVwb3NpdG9yeVwiKTtcblxuY29uc3QgZ2V0QWxsUmVwb3J0cyA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXBvcnRzID0gYXdhaXQgcmVwb3J0UmVwb3NpdG9yeS5nZXRBbGxSZXBvcnRzKCk7XG4gICAgY29uc29sZS5sb2cocmVwb3J0cyk7XG4gICAgcmV0dXJuIHJlcG9ydHM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbmNvbnN0IGdldEFsbFJlcG9ydHNCeUludGVydmlld2VyID0gYXN5bmMgKGludGVydmlld2VySWQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXBvcnRzID0gYXdhaXQgcmVwb3J0UmVwb3NpdG9yeS5nZXRBbGxSZXBvcnRzQnlJbnRlcnZpZXdlckJ5U3RhdHVzKFxuICAgICAgaW50ZXJ2aWV3ZXJJZFxuICAgICk7XG4gICAgY29uc29sZS5sb2cocmVwb3J0cyk7XG4gICAgcmV0dXJuIHJlcG9ydHM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbmNvbnN0IHVwZGF0ZUludGVydmlld2VycyA9IGFzeW5jIChpbnRlcnZpZXdJZCwgaW50ZXJ2aWV3ZXJzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVwb3J0UmVwb3NpdG9yeS51cGRhdGVJbnRlcnZpZXdlcnMoXG4gICAgICBpbnRlcnZpZXdJZCxcbiAgICAgIGludGVydmlld2Vyc1xuICAgICk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuY29uc3QgdXBkYXRlTWFyayA9IGFzeW5jIChjYW5kaWRhdGVJZCwgaW50ZXJ2aWV3ZXJJZCwgbWFyaywgY29tbWVudCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcG9ydFJlcG9zaXRvcnkudXBkYXRlTWFyayhcbiAgICAgIGNhbmRpZGF0ZUlkLFxuICAgICAgaW50ZXJ2aWV3ZXJJZCxcbiAgICAgIG1hcmssXG4gICAgICBjb21tZW50XG4gICAgKTtcbiAgICBpZiAocmVzdWx0WzFdID09IDApIHtcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLkJBRF9SRVFVRVNULCBcIkVycm9yLCBDYW50IHVwZGF0ZVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuY29uc3QgZ2V0UmVwb3J0QnlNZW1iZXIgPSBhc3luYyAobWVtYmVySUQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXBvcnQgPSBhd2FpdCByZXBvcnRSZXBvc2l0b3J5LmdldFJlcG9ydEJ5TWVtYmVySUQobWVtYmVySUQpO1xuICAgIHJldHVybiByZXBvcnQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBnZXRBbGxSZXBvcnRzLFxuICBnZXRBbGxSZXBvcnRzQnlJbnRlcnZpZXdlcixcbiAgdXBkYXRlSW50ZXJ2aWV3ZXJzLFxuICB1cGRhdGVNYXJrLFxuICBnZXRSZXBvcnRCeU1lbWJlcixcbn07XG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7O0FBQ0EsTUFBTUEsT0FBTyxHQUFHQyxjQUFBLENBQUdELE9BQW5COztBQUNBLE1BQU1FLGdCQUFnQixHQUFHQyxPQUFPLENBQUMsa0NBQUQsQ0FBaEM7O0FBRUEsTUFBTUMsYUFBYSxHQUFHLFlBQVk7RUFDaEMsSUFBSTtJQUNGLE1BQU1DLE9BQU8sR0FBRyxNQUFNSCxnQkFBZ0IsQ0FBQ0UsYUFBakIsRUFBdEI7SUFDQUUsT0FBTyxDQUFDQyxHQUFSLENBQVlGLE9BQVo7SUFDQSxPQUFPQSxPQUFQO0VBQ0QsQ0FKRCxDQUlFLE9BQU9HLEtBQVAsRUFBYztJQUNkLE1BQU1BLEtBQU47RUFDRDtBQUNGLENBUkQ7O0FBVUEsTUFBTUMsMEJBQTBCLEdBQUcsTUFBT0MsYUFBUCxJQUF5QjtFQUMxRCxJQUFJO0lBQ0YsTUFBTUwsT0FBTyxHQUFHLE1BQU1ILGdCQUFnQixDQUFDUyxrQ0FBakIsQ0FDcEJELGFBRG9CLENBQXRCO0lBR0FKLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixPQUFaO0lBQ0EsT0FBT0EsT0FBUDtFQUNELENBTkQsQ0FNRSxPQUFPRyxLQUFQLEVBQWM7SUFDZCxNQUFNQSxLQUFOO0VBQ0Q7QUFDRixDQVZEOztBQVlBLE1BQU1JLGtCQUFrQixHQUFHLE9BQU9DLFdBQVAsRUFBb0JDLFlBQXBCLEtBQXFDO0VBQzlELElBQUk7SUFDRixNQUFNQyxNQUFNLEdBQUcsTUFBTWIsZ0JBQWdCLENBQUNVLGtCQUFqQixDQUNuQkMsV0FEbUIsRUFFbkJDLFlBRm1CLENBQXJCO0lBSUEsT0FBT0MsTUFBUDtFQUNELENBTkQsQ0FNRSxPQUFPUCxLQUFQLEVBQWM7SUFDZCxNQUFNQSxLQUFOO0VBQ0Q7QUFDRixDQVZEOztBQVlBLE1BQU1RLFVBQVUsR0FBRyxPQUFPQyxXQUFQLEVBQW9CUCxhQUFwQixFQUFtQ1EsSUFBbkMsRUFBeUNDLE9BQXpDLEtBQXFEO0VBQ3RFLElBQUk7SUFDRixNQUFNSixNQUFNLEdBQUcsTUFBTWIsZ0JBQWdCLENBQUNjLFVBQWpCLENBQ25CQyxXQURtQixFQUVuQlAsYUFGbUIsRUFHbkJRLElBSG1CLEVBSW5CQyxPQUptQixDQUFyQjs7SUFNQSxJQUFJSixNQUFNLENBQUMsQ0FBRCxDQUFOLElBQWEsQ0FBakIsRUFBb0I7TUFDbEIsTUFBTSxJQUFJSyxrQkFBSixDQUFhQyxtQkFBQSxDQUFXQyxXQUF4QixFQUFxQyxvQkFBckMsQ0FBTjtJQUNEOztJQUNELE9BQU9QLE1BQVA7RUFDRCxDQVhELENBV0UsT0FBT1AsS0FBUCxFQUFjO0lBQ2QsTUFBTUEsS0FBTjtFQUNEO0FBQ0YsQ0FmRDs7QUFpQkEsTUFBTWUsaUJBQWlCLEdBQUcsTUFBT0MsUUFBUCxJQUFvQjtFQUM1QyxJQUFJO0lBQ0YsTUFBTUMsTUFBTSxHQUFHLE1BQU12QixnQkFBZ0IsQ0FBQ3dCLG1CQUFqQixDQUFxQ0YsUUFBckMsQ0FBckI7SUFDQSxPQUFPQyxNQUFQO0VBQ0QsQ0FIRCxDQUdFLE9BQU9qQixLQUFQLEVBQWM7SUFDZCxNQUFNQSxLQUFOO0VBQ0Q7QUFDRixDQVBEOztBQVNBbUIsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2Z4QixhQURlO0VBRWZLLDBCQUZlO0VBR2ZHLGtCQUhlO0VBSWZJLFVBSmU7RUFLZk87QUFMZSxDQUFqQiJ9","map":{"version":3,"names":["Reports","db","reportRepository","require","getAllReports","reports","console","log","error","getAllReportsByInterviewer","interviewerId","getAllReportsByInterviewerByStatus","updateInterviewers","interviewId","interviewers","result","updateMark","candidateId","mark","comment","ApiError","httpStatus","BAD_REQUEST","getReportByMember","memberID","report","getReportByMemberID","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/service/","sources":["report.service.js"],"sourcesContent":["import httpStatus from \"http-status\";\nimport { ApiError } from \"../middleware/apiError\";\nimport { QueryTypes } from \"sequelize\";\nimport db, { sequelize } from \"../models/index.js\";\nconst Reports = db.Reports;\nconst reportRepository = require(\"../repository/reports.repository\");\n\nconst getAllReports = async () => {\n  try {\n    const reports = await reportRepository.getAllReports();\n    console.log(reports);\n    return reports;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getAllReportsByInterviewer = async (interviewerId) => {\n  try {\n    const reports = await reportRepository.getAllReportsByInterviewerByStatus(\n      interviewerId\n    );\n    console.log(reports);\n    return reports;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst updateInterviewers = async (interviewId, interviewers) => {\n  try {\n    const result = await reportRepository.updateInterviewers(\n      interviewId,\n      interviewers\n    );\n    return result;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst updateMark = async (candidateId, interviewerId, mark, comment) => {\n  try {\n    const result = await reportRepository.updateMark(\n      candidateId,\n      interviewerId,\n      mark,\n      comment\n    );\n    if (result[1] == 0) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Error, Cant update\");\n    }\n    return result;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getReportByMember = async (memberID) => {\n  try {\n    const report = await reportRepository.getReportByMemberID(memberID);\n    return report;\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  getAllReports,\n  getAllReportsByInterviewer,\n  updateInterviewers,\n  updateMark,\n  getReportByMember,\n};\n"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;;;;;;;AACA,MAAMA,OAAO,GAAGC,cAAA,CAAGD,OAAnB;;AACA,MAAME,gBAAgB,GAAGC,OAAO,CAAC,kCAAD,CAAhC;;AAEA,MAAMC,aAAa,GAAG,YAAY;EAChC,IAAI;IACF,MAAMC,OAAO,GAAG,MAAMH,gBAAgB,CAACE,aAAjB,EAAtB;IACAE,OAAO,CAACC,GAAR,CAAYF,OAAZ;IACA,OAAOA,OAAP;EACD,CAJD,CAIE,OAAOG,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CARD;;AAUA,MAAMC,0BAA0B,GAAG,MAAOC,aAAP,IAAyB;EAC1D,IAAI;IACF,MAAML,OAAO,GAAG,MAAMH,gBAAgB,CAACS,kCAAjB,CACpBD,aADoB,CAAtB;IAGAJ,OAAO,CAACC,GAAR,CAAYF,OAAZ;IACA,OAAOA,OAAP;EACD,CAND,CAME,OAAOG,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CAVD;;AAYA,MAAMI,kBAAkB,GAAG,OAAOC,WAAP,EAAoBC,YAApB,KAAqC;EAC9D,IAAI;IACF,MAAMC,MAAM,GAAG,MAAMb,gBAAgB,CAACU,kBAAjB,CACnBC,WADmB,EAEnBC,YAFmB,CAArB;IAIA,OAAOC,MAAP;EACD,CAND,CAME,OAAOP,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CAVD;;AAYA,MAAMQ,UAAU,GAAG,OAAOC,WAAP,EAAoBP,aAApB,EAAmCQ,IAAnC,EAAyCC,OAAzC,KAAqD;EACtE,IAAI;IACF,MAAMJ,MAAM,GAAG,MAAMb,gBAAgB,CAACc,UAAjB,CACnBC,WADmB,EAEnBP,aAFmB,EAGnBQ,IAHmB,EAInBC,OAJmB,CAArB;;IAMA,IAAIJ,MAAM,CAAC,CAAD,CAAN,IAAa,CAAjB,EAAoB;MAClB,MAAM,IAAIK,kBAAJ,CAAaC,mBAAA,CAAWC,WAAxB,EAAqC,oBAArC,CAAN;IACD;;IACD,OAAOP,MAAP;EACD,CAXD,CAWE,OAAOP,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CAfD;;AAiBA,MAAMe,iBAAiB,GAAG,MAAOC,QAAP,IAAoB;EAC5C,IAAI;IACF,MAAMC,MAAM,GAAG,MAAMvB,gBAAgB,CAACwB,mBAAjB,CAAqCF,QAArC,CAArB;IACA,OAAOC,MAAP;EACD,CAHD,CAGE,OAAOjB,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CAPD;;AASAmB,MAAM,CAACC,OAAP,GAAiB;EACfxB,aADe;EAEfK,0BAFe;EAGfG,kBAHe;EAIfI,UAJe;EAKfO;AALe,CAAjB"}},"mtime":1667265738912},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/reports.repository.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _sequelize = require(\"sequelize\");\n\nvar _index = _interopRequireWildcard(require(\"../models/index\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst Reports = _index.default.Reports;\n\nconst {\n  v4: uuidv4\n} = require(\"uuid\");\n\nconst getAllReports = async () => {\n  // const query = \"SELECT * FROM hrms.reports\";\n  const query = `SELECT R.id, AVG(R.mark) as avg_mark, R.comment, J.name as job_name, C.identity_number, C.resume_url, M.fullname, M.is_employee\nFROM hrms.reports as R\nINNER JOIN hrms.interviews as I\nON I.id = R.Interview_id\nINNER JOIN hrms.candidatedetails as C\nON I.CandidateDetail_id = C.id\nINNER JOIN hrms.members as M\nON C.Member_id = M.id\nINNER JOIN hrms.jobs as J\nON J.id = C.Job_id\nGROUP BY R.Interview_id`;\n  const result = await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.SELECT\n  });\n  return result;\n};\n\nconst getAllReportsByInterviewer = async interviewerId => {\n  const query = `SELECT R.id, R.mark, R.comment, R.status, I.room, I.slot, I.week, J.name as job_name, C.phone, C.resume_url, M.fullname, M.is_employee\nFROM hrms.reports as R\nINNER JOIN hrms.interviews as I\nON I.id = R.Interview_id\nINNER JOIN hrms.candidatedetails as C\nON I.CandidateDetail_id = C.id\nINNER JOIN hrms.members as M\nON C.Member_id = M.id\nINNER JOIN hrms.jobs as J\nON J.id = C.Job_id\nWHERE R.interviewer_id = ?`;\n  return await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.SELECT,\n    replacements: [interviewerId]\n  });\n};\n\nconst getAllReportsByInterviewerByStatus = async interviewerId => {\n  const queryPending = `SELECT R.id, R.interview_id, R.mark, R.comment, R.status, I.room, I.slot, I.week, J.name as job_name, C.phone, C.resume_url, M.fullname\nFROM hrms.reports as R\nINNER JOIN hrms.interviews as I\nON I.id = R.Interview_id\nINNER JOIN hrms.candidatedetails as C\nON I.CandidateDetail_id = C.id\nINNER JOIN hrms.members as M\nON C.Member_id = M.id\nINNER JOIN hrms.jobs as J\non J.id = C.Job_id\nWHERE R.interviewer_id = ? AND R.status = 'Pending'`;\n  const queryDone = `SELECT R.id, R.mark, R.comment, R.status, I.room, I.slot, I.week, J.name as job_name, C.phone, C.resume_url, M.fullname\nFROM hrms.reports as R\nINNER JOIN hrms.interviews as I\nON I.id = R.Interview_id\nINNER JOIN hrms.candidatedetails as C\nON I.CandidateDetail_id = C.id\nINNER JOIN hrms.members as M\nON C.Member_id = M.id\nINNER JOIN hrms.jobs as J\non J.id = C.Job_id\nWHERE R.interviewer_id = ? AND R.status = 'Done'`;\n\n  const resPending = _index.sequelize.query(queryPending, {\n    type: _sequelize.QueryTypes.SELECT,\n    replacements: [interviewerId]\n  });\n\n  const resDone = _index.sequelize.query(queryDone, {\n    type: _sequelize.QueryTypes.SELECT,\n    replacements: [interviewerId]\n  });\n\n  return Promise.all([resPending, resDone]);\n};\n\nconst updateInterviewers = async (candidateId, interviewers) => {\n  // get interviewId from candidateId\n  const interviewResult = await _index.sequelize.query(\"SELECT id FROM hrms.interviews WHERE CandidateDetail_id = ?\", {\n    type: _sequelize.QueryTypes.SELECT,\n    replacements: [candidateId]\n  });\n  const interviewId = interviewResult[0].id;\n  const query = `INSERT INTO hrms.reports (id, interview_id, interviewer_id, status)\n  VALUES (?, ?, ?, default)`;\n  const data = interviewers.map(value => ({\n    id: uuidv4(),\n    interview_id: interviewId,\n    interviewer_id: value\n  }));\n\n  for (let i = 0; i < data.length; i++) {\n    await _index.sequelize.query(query, {\n      type: _sequelize.QueryTypes.INSERT,\n      replacements: [data[i].id, data[i].interview_id, data[i].interviewer_id]\n    });\n  }\n\n  return data; // return await Reports.bulkCreate(data);\n};\n\nconst updateMark = async (interviewId, interviewerId, mark, comment) => {\n  const query = `UPDATE hrms.reports\n  SET mark = ?, comment = ?, status ='Done'\n  WHERE interview_id = ? AND interviewer_id = ? `;\n  const result = await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.UPDATE,\n    replacements: [mark, comment, interviewId, interviewerId]\n  });\n  console.log(result);\n  return result;\n};\n\nconst getReportByMemberID = async memberID => {\n  const reportQuery = `select CandidateDetail_id as candidate_id, applied_status, room, slot, week, R.status as status, J.name as job_title from CandidateDetails inner join Interviews I on CandidateDetails.id = I.CandidateDetail_id join Reports R on I.id = R.Interview_id join Jobs J on J.id = CandidateDetails.Job_id where CandidateDetail_id = ?`;\n  const result = await _index.sequelize.query(reportQuery, {\n    type: _sequelize.QueryTypes.SELECT,\n    replacements: [memberID]\n  });\n  return result;\n};\n\nmodule.exports = {\n  getAllReports,\n  getAllReportsByInterviewer,\n  getAllReportsByInterviewerByStatus,\n  updateInterviewers,\n  updateMark,\n  getReportByMemberID\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZXBvcnRzIiwiZGIiLCJ2NCIsInV1aWR2NCIsInJlcXVpcmUiLCJnZXRBbGxSZXBvcnRzIiwicXVlcnkiLCJyZXN1bHQiLCJzZXF1ZWxpemUiLCJ0eXBlIiwiUXVlcnlUeXBlcyIsIlNFTEVDVCIsImdldEFsbFJlcG9ydHNCeUludGVydmlld2VyIiwiaW50ZXJ2aWV3ZXJJZCIsInJlcGxhY2VtZW50cyIsImdldEFsbFJlcG9ydHNCeUludGVydmlld2VyQnlTdGF0dXMiLCJxdWVyeVBlbmRpbmciLCJxdWVyeURvbmUiLCJyZXNQZW5kaW5nIiwicmVzRG9uZSIsIlByb21pc2UiLCJhbGwiLCJ1cGRhdGVJbnRlcnZpZXdlcnMiLCJjYW5kaWRhdGVJZCIsImludGVydmlld2VycyIsImludGVydmlld1Jlc3VsdCIsImludGVydmlld0lkIiwiaWQiLCJkYXRhIiwibWFwIiwidmFsdWUiLCJpbnRlcnZpZXdfaWQiLCJpbnRlcnZpZXdlcl9pZCIsImkiLCJsZW5ndGgiLCJJTlNFUlQiLCJ1cGRhdGVNYXJrIiwibWFyayIsImNvbW1lbnQiLCJVUERBVEUiLCJjb25zb2xlIiwibG9nIiwiZ2V0UmVwb3J0QnlNZW1iZXJJRCIsIm1lbWJlcklEIiwicmVwb3J0UXVlcnkiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdHJhbnNhbmcvRGVza3RvcC9TYW5nTWFpbi9GUFQvRkFMTDIwMjIvU1dQL0hSTVNfQkUvc3JjL3JlcG9zaXRvcnkvIiwic291cmNlcyI6WyJyZXBvcnRzLnJlcG9zaXRvcnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUXVlcnlUeXBlcyB9IGZyb20gXCJzZXF1ZWxpemVcIjtcbmltcG9ydCBkYiwgeyBzZXF1ZWxpemUgfSBmcm9tIFwiLi4vbW9kZWxzL2luZGV4XCI7XG5jb25zdCBSZXBvcnRzID0gZGIuUmVwb3J0cztcbmNvbnN0IHsgdjQ6IHV1aWR2NCB9ID0gcmVxdWlyZShcInV1aWRcIik7XG5cbmNvbnN0IGdldEFsbFJlcG9ydHMgPSBhc3luYyAoKSA9PiB7XG4gIC8vIGNvbnN0IHF1ZXJ5ID0gXCJTRUxFQ1QgKiBGUk9NIGhybXMucmVwb3J0c1wiO1xuICBjb25zdCBxdWVyeSA9IGBTRUxFQ1QgUi5pZCwgQVZHKFIubWFyaykgYXMgYXZnX21hcmssIFIuY29tbWVudCwgSi5uYW1lIGFzIGpvYl9uYW1lLCBDLmlkZW50aXR5X251bWJlciwgQy5yZXN1bWVfdXJsLCBNLmZ1bGxuYW1lLCBNLmlzX2VtcGxveWVlXG5GUk9NIGhybXMucmVwb3J0cyBhcyBSXG5JTk5FUiBKT0lOIGhybXMuaW50ZXJ2aWV3cyBhcyBJXG5PTiBJLmlkID0gUi5JbnRlcnZpZXdfaWRcbklOTkVSIEpPSU4gaHJtcy5jYW5kaWRhdGVkZXRhaWxzIGFzIENcbk9OIEkuQ2FuZGlkYXRlRGV0YWlsX2lkID0gQy5pZFxuSU5ORVIgSk9JTiBocm1zLm1lbWJlcnMgYXMgTVxuT04gQy5NZW1iZXJfaWQgPSBNLmlkXG5JTk5FUiBKT0lOIGhybXMuam9icyBhcyBKXG5PTiBKLmlkID0gQy5Kb2JfaWRcbkdST1VQIEJZIFIuSW50ZXJ2aWV3X2lkYDtcblxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXF1ZWxpemUucXVlcnkocXVlcnksIHtcbiAgICB0eXBlOiBRdWVyeVR5cGVzLlNFTEVDVCxcbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmNvbnN0IGdldEFsbFJlcG9ydHNCeUludGVydmlld2VyID0gYXN5bmMgKGludGVydmlld2VySWQpID0+IHtcbiAgY29uc3QgcXVlcnkgPSBgU0VMRUNUIFIuaWQsIFIubWFyaywgUi5jb21tZW50LCBSLnN0YXR1cywgSS5yb29tLCBJLnNsb3QsIEkud2VlaywgSi5uYW1lIGFzIGpvYl9uYW1lLCBDLnBob25lLCBDLnJlc3VtZV91cmwsIE0uZnVsbG5hbWUsIE0uaXNfZW1wbG95ZWVcbkZST00gaHJtcy5yZXBvcnRzIGFzIFJcbklOTkVSIEpPSU4gaHJtcy5pbnRlcnZpZXdzIGFzIElcbk9OIEkuaWQgPSBSLkludGVydmlld19pZFxuSU5ORVIgSk9JTiBocm1zLmNhbmRpZGF0ZWRldGFpbHMgYXMgQ1xuT04gSS5DYW5kaWRhdGVEZXRhaWxfaWQgPSBDLmlkXG5JTk5FUiBKT0lOIGhybXMubWVtYmVycyBhcyBNXG5PTiBDLk1lbWJlcl9pZCA9IE0uaWRcbklOTkVSIEpPSU4gaHJtcy5qb2JzIGFzIEpcbk9OIEouaWQgPSBDLkpvYl9pZFxuV0hFUkUgUi5pbnRlcnZpZXdlcl9pZCA9ID9gO1xuICByZXR1cm4gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KHF1ZXJ5LCB7XG4gICAgdHlwZTogUXVlcnlUeXBlcy5TRUxFQ1QsXG4gICAgcmVwbGFjZW1lbnRzOiBbaW50ZXJ2aWV3ZXJJZF0sXG4gIH0pO1xufTtcbmNvbnN0IGdldEFsbFJlcG9ydHNCeUludGVydmlld2VyQnlTdGF0dXMgPSBhc3luYyAoaW50ZXJ2aWV3ZXJJZCkgPT4ge1xuICBjb25zdCBxdWVyeVBlbmRpbmcgPSBgU0VMRUNUIFIuaWQsIFIuaW50ZXJ2aWV3X2lkLCBSLm1hcmssIFIuY29tbWVudCwgUi5zdGF0dXMsIEkucm9vbSwgSS5zbG90LCBJLndlZWssIEoubmFtZSBhcyBqb2JfbmFtZSwgQy5waG9uZSwgQy5yZXN1bWVfdXJsLCBNLmZ1bGxuYW1lXG5GUk9NIGhybXMucmVwb3J0cyBhcyBSXG5JTk5FUiBKT0lOIGhybXMuaW50ZXJ2aWV3cyBhcyBJXG5PTiBJLmlkID0gUi5JbnRlcnZpZXdfaWRcbklOTkVSIEpPSU4gaHJtcy5jYW5kaWRhdGVkZXRhaWxzIGFzIENcbk9OIEkuQ2FuZGlkYXRlRGV0YWlsX2lkID0gQy5pZFxuSU5ORVIgSk9JTiBocm1zLm1lbWJlcnMgYXMgTVxuT04gQy5NZW1iZXJfaWQgPSBNLmlkXG5JTk5FUiBKT0lOIGhybXMuam9icyBhcyBKXG5vbiBKLmlkID0gQy5Kb2JfaWRcbldIRVJFIFIuaW50ZXJ2aWV3ZXJfaWQgPSA/IEFORCBSLnN0YXR1cyA9ICdQZW5kaW5nJ2A7XG4gIGNvbnN0IHF1ZXJ5RG9uZSA9IGBTRUxFQ1QgUi5pZCwgUi5tYXJrLCBSLmNvbW1lbnQsIFIuc3RhdHVzLCBJLnJvb20sIEkuc2xvdCwgSS53ZWVrLCBKLm5hbWUgYXMgam9iX25hbWUsIEMucGhvbmUsIEMucmVzdW1lX3VybCwgTS5mdWxsbmFtZVxuRlJPTSBocm1zLnJlcG9ydHMgYXMgUlxuSU5ORVIgSk9JTiBocm1zLmludGVydmlld3MgYXMgSVxuT04gSS5pZCA9IFIuSW50ZXJ2aWV3X2lkXG5JTk5FUiBKT0lOIGhybXMuY2FuZGlkYXRlZGV0YWlscyBhcyBDXG5PTiBJLkNhbmRpZGF0ZURldGFpbF9pZCA9IEMuaWRcbklOTkVSIEpPSU4gaHJtcy5tZW1iZXJzIGFzIE1cbk9OIEMuTWVtYmVyX2lkID0gTS5pZFxuSU5ORVIgSk9JTiBocm1zLmpvYnMgYXMgSlxub24gSi5pZCA9IEMuSm9iX2lkXG5XSEVSRSBSLmludGVydmlld2VyX2lkID0gPyBBTkQgUi5zdGF0dXMgPSAnRG9uZSdgO1xuICBjb25zdCByZXNQZW5kaW5nID0gc2VxdWVsaXplLnF1ZXJ5KHF1ZXJ5UGVuZGluZywge1xuICAgIHR5cGU6IFF1ZXJ5VHlwZXMuU0VMRUNULFxuICAgIHJlcGxhY2VtZW50czogW2ludGVydmlld2VySWRdLFxuICB9KTtcbiAgY29uc3QgcmVzRG9uZSA9IHNlcXVlbGl6ZS5xdWVyeShxdWVyeURvbmUsIHtcbiAgICB0eXBlOiBRdWVyeVR5cGVzLlNFTEVDVCxcbiAgICByZXBsYWNlbWVudHM6IFtpbnRlcnZpZXdlcklkXSxcbiAgfSk7XG4gIHJldHVybiBQcm9taXNlLmFsbChbcmVzUGVuZGluZywgcmVzRG9uZV0pO1xufTtcblxuY29uc3QgdXBkYXRlSW50ZXJ2aWV3ZXJzID0gYXN5bmMgKGNhbmRpZGF0ZUlkLCBpbnRlcnZpZXdlcnMpID0+IHtcbiAgLy8gZ2V0IGludGVydmlld0lkIGZyb20gY2FuZGlkYXRlSWRcbiAgY29uc3QgaW50ZXJ2aWV3UmVzdWx0ID0gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KFxuICAgIFwiU0VMRUNUIGlkIEZST00gaHJtcy5pbnRlcnZpZXdzIFdIRVJFIENhbmRpZGF0ZURldGFpbF9pZCA9ID9cIixcbiAgICB7XG4gICAgICB0eXBlOiBRdWVyeVR5cGVzLlNFTEVDVCxcbiAgICAgIHJlcGxhY2VtZW50czogW2NhbmRpZGF0ZUlkXSxcbiAgICB9XG4gICk7XG4gIGNvbnN0IGludGVydmlld0lkID0gaW50ZXJ2aWV3UmVzdWx0WzBdLmlkO1xuXG4gIGNvbnN0IHF1ZXJ5ID0gYElOU0VSVCBJTlRPIGhybXMucmVwb3J0cyAoaWQsIGludGVydmlld19pZCwgaW50ZXJ2aWV3ZXJfaWQsIHN0YXR1cylcbiAgVkFMVUVTICg/LCA/LCA/LCBkZWZhdWx0KWA7XG4gIGNvbnN0IGRhdGEgPSBpbnRlcnZpZXdlcnMubWFwKCh2YWx1ZSkgPT4gKHtcbiAgICBpZDogdXVpZHY0KCksXG4gICAgaW50ZXJ2aWV3X2lkOiBpbnRlcnZpZXdJZCxcbiAgICBpbnRlcnZpZXdlcl9pZDogdmFsdWUsXG4gIH0pKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICBhd2FpdCBzZXF1ZWxpemUucXVlcnkocXVlcnksIHtcbiAgICAgIHR5cGU6IFF1ZXJ5VHlwZXMuSU5TRVJULFxuICAgICAgcmVwbGFjZW1lbnRzOiBbZGF0YVtpXS5pZCwgZGF0YVtpXS5pbnRlcnZpZXdfaWQsIGRhdGFbaV0uaW50ZXJ2aWV3ZXJfaWRdLFxuICAgIH0pO1xuICB9XG4gIHJldHVybiBkYXRhO1xuICAvLyByZXR1cm4gYXdhaXQgUmVwb3J0cy5idWxrQ3JlYXRlKGRhdGEpO1xufTtcblxuY29uc3QgdXBkYXRlTWFyayA9IGFzeW5jIChpbnRlcnZpZXdJZCwgaW50ZXJ2aWV3ZXJJZCwgbWFyaywgY29tbWVudCkgPT4ge1xuICBjb25zdCBxdWVyeSA9IGBVUERBVEUgaHJtcy5yZXBvcnRzXG4gIFNFVCBtYXJrID0gPywgY29tbWVudCA9ID8sIHN0YXR1cyA9J0RvbmUnXG4gIFdIRVJFIGludGVydmlld19pZCA9ID8gQU5EIGludGVydmlld2VyX2lkID0gPyBgO1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXF1ZWxpemUucXVlcnkocXVlcnksIHtcbiAgICB0eXBlOiBRdWVyeVR5cGVzLlVQREFURSxcbiAgICByZXBsYWNlbWVudHM6IFttYXJrLCBjb21tZW50LCBpbnRlcnZpZXdJZCwgaW50ZXJ2aWV3ZXJJZF0sXG4gIH0pO1xuICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmNvbnN0IGdldFJlcG9ydEJ5TWVtYmVySUQgPSBhc3luYyAobWVtYmVySUQpID0+IHtcbiAgY29uc3QgcmVwb3J0UXVlcnkgPSBgc2VsZWN0IENhbmRpZGF0ZURldGFpbF9pZCBhcyBjYW5kaWRhdGVfaWQsIGFwcGxpZWRfc3RhdHVzLCByb29tLCBzbG90LCB3ZWVrLCBSLnN0YXR1cyBhcyBzdGF0dXMsIEoubmFtZSBhcyBqb2JfdGl0bGUgZnJvbSBDYW5kaWRhdGVEZXRhaWxzIGlubmVyIGpvaW4gSW50ZXJ2aWV3cyBJIG9uIENhbmRpZGF0ZURldGFpbHMuaWQgPSBJLkNhbmRpZGF0ZURldGFpbF9pZCBqb2luIFJlcG9ydHMgUiBvbiBJLmlkID0gUi5JbnRlcnZpZXdfaWQgam9pbiBKb2JzIEogb24gSi5pZCA9IENhbmRpZGF0ZURldGFpbHMuSm9iX2lkIHdoZXJlIENhbmRpZGF0ZURldGFpbF9pZCA9ID9gO1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXF1ZWxpemUucXVlcnkocmVwb3J0UXVlcnksIHtcbiAgICB0eXBlOiBRdWVyeVR5cGVzLlNFTEVDVCxcbiAgICByZXBsYWNlbWVudHM6IFttZW1iZXJJRF0sXG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBnZXRBbGxSZXBvcnRzLFxuICBnZXRBbGxSZXBvcnRzQnlJbnRlcnZpZXdlcixcbiAgZ2V0QWxsUmVwb3J0c0J5SW50ZXJ2aWV3ZXJCeVN0YXR1cyxcbiAgdXBkYXRlSW50ZXJ2aWV3ZXJz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","map":{"version":3,"names":["Reports","db","v4","uuidv4","require","getAllReports","query","result","sequelize","type","QueryTypes","SELECT","getAllReportsByInterviewer","interviewerId","replacements","getAllReportsByInterviewerByStatus","queryPending","queryDone","resPending","resDone","Promise","all","updateInterviewers","candidateId","interviewers","interviewResult","interviewId","id","data","map","value","interview_id","interviewer_id","i","length","INSERT","updateMark","mark","comment","UPDATE","console","log","getReportByMemberID","memberID","reportQuery","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/repository/","sources":["reports.repository.js"],"sourcesContent":["import { QueryTypes } from \"sequelize\";\nimport db, { sequelize } from \"../models/index\";\nconst Reports = db.Reports;\nconst { v4: uuidv4 } = require(\"uuid\");\n\nconst getAllReports = async () => {\n  // const query = \"SELECT * FROM hrms.reports\";\n  const query = `SELECT R.id, AVG(R.mark) as avg_mark, R.comment, J.name as job_name, C.identity_number, C.resume_url, M.fullname, M.is_employee\nFROM hrms.reports as R\nINNER JOIN hrms.interviews as I\nON I.id = R.Interview_id\nINNER JOIN hrms.candidatedetails as C\nON I.CandidateDetail_id = C.id\nINNER JOIN hrms.members as M\nON C.Member_id = M.id\nINNER JOIN hrms.jobs as J\nON J.id = C.Job_id\nGROUP BY R.Interview_id`;\n\n  const result = await sequelize.query(query, {\n    type: QueryTypes.SELECT,\n  });\n\n  return result;\n};\n\nconst getAllReportsByInterviewer = async (interviewerId) => {\n  const query = `SELECT R.id, R.mark, R.comment, R.status, I.room, I.slot, I.week, J.name as job_name, C.phone, C.resume_url, M.fullname, M.is_employee\nFROM hrms.reports as R\nINNER JOIN hrms.interviews as I\nON I.id = R.Interview_id\nINNER JOIN hrms.candidatedetails as C\nON I.CandidateDetail_id = C.id\nINNER JOIN hrms.members as M\nON C.Member_id = M.id\nINNER JOIN hrms.jobs as J\nON J.id = C.Job_id\nWHERE R.interviewer_id = ?`;\n  return await sequelize.query(query, {\n    type: QueryTypes.SELECT,\n    replacements: [interviewerId],\n  });\n};\nconst getAllReportsByInterviewerByStatus = async (interviewerId) => {\n  const queryPending = `SELECT R.id, R.interview_id, R.mark, R.comment, R.status, I.room, I.slot, I.week, J.name as job_name, C.phone, C.resume_url, M.fullname\nFROM hrms.reports as R\nINNER JOIN hrms.interviews as I\nON I.id = R.Interview_id\nINNER JOIN hrms.candidatedetails as C\nON I.CandidateDetail_id = C.id\nINNER JOIN hrms.members as M\nON C.Member_id = M.id\nINNER JOIN hrms.jobs as J\non J.id = C.Job_id\nWHERE R.interviewer_id = ? AND R.status = 'Pending'`;\n  const queryDone = `SELECT R.id, R.mark, R.comment, R.status, I.room, I.slot, I.week, J.name as job_name, C.phone, C.resume_url, M.fullname\nFROM hrms.reports as R\nINNER JOIN hrms.interviews as I\nON I.id = R.Interview_id\nINNER JOIN hrms.candidatedetails as C\nON I.CandidateDetail_id = C.id\nINNER JOIN hrms.members as M\nON C.Member_id = M.id\nINNER JOIN hrms.jobs as J\non J.id = C.Job_id\nWHERE R.interviewer_id = ? AND R.status = 'Done'`;\n  const resPending = sequelize.query(queryPending, {\n    type: QueryTypes.SELECT,\n    replacements: [interviewerId],\n  });\n  const resDone = sequelize.query(queryDone, {\n    type: QueryTypes.SELECT,\n    replacements: [interviewerId],\n  });\n  return Promise.all([resPending, resDone]);\n};\n\nconst updateInterviewers = async (candidateId, interviewers) => {\n  // get interviewId from candidateId\n  const interviewResult = await sequelize.query(\n    \"SELECT id FROM hrms.interviews WHERE CandidateDetail_id = ?\",\n    {\n      type: QueryTypes.SELECT,\n      replacements: [candidateId],\n    }\n  );\n  const interviewId = interviewResult[0].id;\n\n  const query = `INSERT INTO hrms.reports (id, interview_id, interviewer_id, status)\n  VALUES (?, ?, ?, default)`;\n  const data = interviewers.map((value) => ({\n    id: uuidv4(),\n    interview_id: interviewId,\n    interviewer_id: value,\n  }));\n\n  for (let i = 0; i < data.length; i++) {\n    await sequelize.query(query, {\n      type: QueryTypes.INSERT,\n      replacements: [data[i].id, data[i].interview_id, data[i].interviewer_id],\n    });\n  }\n  return data;\n  // return await Reports.bulkCreate(data);\n};\n\nconst updateMark = async (interviewId, interviewerId, mark, comment) => {\n  const query = `UPDATE hrms.reports\n  SET mark = ?, comment = ?, status ='Done'\n  WHERE interview_id = ? AND interviewer_id = ? `;\n  const result = await sequelize.query(query, {\n    type: QueryTypes.UPDATE,\n    replacements: [mark, comment, interviewId, interviewerId],\n  });\n  console.log(result);\n  return result;\n};\nconst getReportByMemberID = async (memberID) => {\n  const reportQuery = `select CandidateDetail_id as candidate_id, applied_status, room, slot, week, R.status as status, J.name as job_title from CandidateDetails inner join Interviews I on CandidateDetails.id = I.CandidateDetail_id join Reports R on I.id = R.Interview_id join Jobs J on J.id = CandidateDetails.Job_id where CandidateDetail_id = ?`;\n  const result = await sequelize.query(reportQuery, {\n    type: QueryTypes.SELECT,\n    replacements: [memberID],\n  });\n  return result;\n};\nmodule.exports = {\n  getAllReports,\n  getAllReportsByInterviewer,\n  getAllReportsByInterviewerByStatus,\n  updateInterviewers,\n  updateMark,\n  getReportByMemberID,\n};\n"],"mappings":"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"}},"mtime":1667263590148},"{\"sourceRoot\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"filename\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/zoom.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\n\nconst router = express.Router();\n\nconst requestPromise = require(\"request-promise\");\n\nconst jwt = require(\"jsonwebtoken\");\n\nrequire(\"dotenv\").config();\n\nconst payload = {\n  iss: process.env.ZOOM_API_KEY,\n  //your API KEY\n  exp: new Date().getTime() + 5000\n};\nconst token = jwt.sign(payload, process.env.ZOOM_API_SECRET); //your API SECRET HERE\n\nrouter.get(\"/createMeeting\", (req, res) => {\n  const email = \"tranquangsang12.7@gmail.com\"; // your zoom developer email account\n\n  const options = {\n    method: \"POST\",\n    uri: \"https://api.zoom.us/v2/users/\" + email + \"/meetings\",\n    body: {\n      topic: \"Zoom Meeting Using Node JS\",\n      //meeting title\n      type: 1,\n      settings: {\n        host_video: \"true\",\n        participant_video: \"true\"\n      }\n    },\n    auth: {\n      bearer: token\n    },\n    headers: {\n      \"User-Agent\": \"Zoom-api-Jwt-Request\",\n      \"content-type\": \"application/json\"\n    },\n    json: true\n  };\n  requestPromise(options).then(function (response) {\n    console.log(\"response is: \", response);\n    res.json(response);\n  }).catch(function (err) {\n    // API call failed...\n    console.log(\"API call failed, reason \", err);\n  });\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsInJlcXVlc3RQcm9taXNlIiwiand0IiwiY29uZmlnIiwicGF5bG9hZCIsImlzcyIsInByb2Nlc3MiLCJlbnYiLCJaT09NX0FQSV9LRVkiLCJleHAiLCJEYXRlIiwiZ2V0VGltZSIsInRva2VuIiwic2lnbiIsIlpPT01fQVBJX1NFQ1JFVCIsImdldCIsInJlcSIsInJlcyIsImVtYWlsIiwib3B0aW9ucyIsIm1ldGhvZCIsInVyaSIsImJvZHkiLCJ0b3BpYyIsInR5cGUiLCJzZXR0aW5ncyIsImhvc3RfdmlkZW8iLCJwYXJ0aWNpcGFudF92aWRlbyIsImF1dGgiLCJiZWFyZXIiLCJoZWFkZXJzIiwianNvbiIsInRoZW4iLCJyZXNwb25zZSIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVyciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90cmFuc2FuZy9EZXNrdG9wL1NhbmdNYWluL0ZQVC9GQUxMMjAyMi9TV1AvSFJNU19CRS9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsiem9vbS5yb3V0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbmNvbnN0IHJlcXVlc3RQcm9taXNlID0gcmVxdWlyZShcInJlcXVlc3QtcHJvbWlzZVwiKTtcbmNvbnN0IGp3dCA9IHJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7XG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xuXG5jb25zdCBwYXlsb2FkID0ge1xuICBpc3M6IHByb2Nlc3MuZW52LlpPT01fQVBJX0tFWSwgLy95b3VyIEFQSSBLRVlcbiAgZXhwOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIDUwMDAsXG59O1xuXG5jb25zdCB0b2tlbiA9IGp3dC5zaWduKHBheWxvYWQsIHByb2Nlc3MuZW52LlpPT01fQVBJX1NFQ1JFVCk7IC8veW91ciBBUEkgU0VDUkVUIEhFUkVcblxucm91dGVyLmdldChcIi9jcmVhdGVNZWV0aW5nXCIsIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBlbWFpbCA9IFwidHJhbnF1YW5nc2FuZzEyLjdAZ21haWwuY29tXCI7IC8vIHlvdXIgem9vbSBkZXZlbG9wZXIgZW1haWwgYWNjb3VudFxuXG4gIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICB1cmk6IFwiaHR0cHM6Ly9hcGkuem9vbS51cy92Mi91c2Vycy9cIiArIGVtYWlsICsgXCIvbWVldGluZ3NcIixcbiAgICBib2R5OiB7XG4gICAgICB0b3BpYzogXCJab29tIE1lZXRpbmcgVXNpbmcgTm9kZSBKU1wiLCAvL21lZXRpbmcgdGl0bGVcbiAgICAgIHR5cGU6IDEsXG4gICAgICBzZXR0aW5nczoge1xuICAgICAgICBob3N0X3ZpZGVvOiBcInRydWVcIixcbiAgICAgICAgcGFydGljaXBhbnRfdmlkZW86IFwidHJ1ZVwiLFxuICAgICAgfSxcbiAgICB9LFxuICAgIGF1dGg6IHtcbiAgICAgIGJlYXJlcjogdG9rZW4sXG4gICAgfSxcbiAgICBoZWFkZXJzOiB7XG4gICAgICBcIlVzZXItQWdlbnRcIjogXCJab29tLWFwaS1Kd3QtUmVxdWVzdFwiLFxuICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfSxcbiAgICBqc29uOiB0cnVlLFxuICB9O1xuXG4gIHJlcXVlc3RQcm9taXNlKG9wdGlvbnMpXG4gICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBjb25zb2xlLmxvZyhcInJlc3BvbnNlIGlzOiBcIiwgcmVzcG9uc2UpO1xuICAgICAgcmVzLmpzb24ocmVzcG9uc2UpO1xuICAgIH0pXG4gICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIC8vIEFQSSBjYWxsIGZhaWxlZC4uLlxuICAgICAgY29uc29sZS5sb2coXCJBUEkgY2FsbCBmYWlsZWQsIHJlYXNvbiBcIiwgZXJyKTtcbiAgICB9KTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUVBLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQWY7O0FBRUEsTUFBTUMsY0FBYyxHQUFHSCxPQUFPLENBQUMsaUJBQUQsQ0FBOUI7O0FBQ0EsTUFBTUksR0FBRyxHQUFHSixPQUFPLENBQUMsY0FBRCxDQUFuQjs7QUFDQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkssTUFBbEI7O0FBRUEsTUFBTUMsT0FBTyxHQUFHO0VBQ2RDLEdBQUcsRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFlBREg7RUFDaUI7RUFDL0JDLEdBQUcsRUFBRSxJQUFJQyxJQUFKLEdBQVdDLE9BQVgsS0FBdUI7QUFGZCxDQUFoQjtBQUtBLE1BQU1DLEtBQUssR0FBR1YsR0FBRyxDQUFDVyxJQUFKLENBQVNULE9BQVQsRUFBa0JFLE9BQU8sQ0FBQ0MsR0FBUixDQUFZTyxlQUE5QixDQUFkLEMsQ0FBOEQ7O0FBRTlEZixNQUFNLENBQUNnQixHQUFQLENBQVcsZ0JBQVgsRUFBNkIsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7RUFDekMsTUFBTUMsS0FBSyxHQUFHLDZCQUFkLENBRHlDLENBQ0k7O0VBRTdDLE1BQU1DLE9BQU8sR0FBRztJQUNkQyxNQUFNLEVBQUUsTUFETTtJQUVkQyxHQUFHLEVBQUUsa0NBQWtDSCxLQUFsQyxHQUEwQyxXQUZqQztJQUdkSSxJQUFJLEVBQUU7TUFDSkMsS0FBSyxFQUFFLDRCQURIO01BQ2lDO01BQ3JDQyxJQUFJLEVBQUUsQ0FGRjtNQUdKQyxRQUFRLEVBQUU7UUFDUkMsVUFBVSxFQUFFLE1BREo7UUFFUkMsaUJBQWlCLEVBQUU7TUFGWDtJQUhOLENBSFE7SUFXZEMsSUFBSSxFQUFFO01BQ0pDLE1BQU0sRUFBRWpCO0lBREosQ0FYUTtJQWNka0IsT0FBTyxFQUFFO01BQ1AsY0FBYyxzQkFEUDtNQUVQLGdCQUFnQjtJQUZULENBZEs7SUFrQmRDLElBQUksRUFBRTtFQWxCUSxDQUFoQjtFQXFCQTlCLGNBQWMsQ0FBQ2tCLE9BQUQsQ0FBZCxDQUNHYSxJQURILENBQ1EsVUFBVUMsUUFBVixFQUFvQjtJQUN4QkMsT0FBTyxDQUFDQyxHQUFSLENBQVksZUFBWixFQUE2QkYsUUFBN0I7SUFDQWhCLEdBQUcsQ0FBQ2MsSUFBSixDQUFTRSxRQUFUO0VBQ0QsQ0FKSCxFQUtHRyxLQUxILENBS1MsVUFBVUMsR0FBVixFQUFlO0lBQ3BCO0lBQ0FILE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDBCQUFaLEVBQXdDRSxHQUF4QztFQUNELENBUkg7QUFTRCxDQWpDRDtBQW1DQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCeEMsTUFBakIifQ==","map":{"version":3,"names":["express","require","router","Router","requestPromise","jwt","config","payload","iss","process","env","ZOOM_API_KEY","exp","Date","getTime","token","sign","ZOOM_API_SECRET","get","req","res","email","options","method","uri","body","topic","type","settings","host_video","participant_video","auth","bearer","headers","json","then","response","console","log","catch","err","module","exports"],"sourceRoot":"/Users/transang/Desktop/SangMain/FPT/FALL2022/SWP/HRMS_BE/src/routes/","sources":["zoom.route.js"],"sourcesContent":["const express = require(\"express\");\n\nconst router = express.Router();\n\nconst requestPromise = require(\"request-promise\");\nconst jwt = require(\"jsonwebtoken\");\nrequire(\"dotenv\").config();\n\nconst payload = {\n  iss: process.env.ZOOM_API_KEY, //your API KEY\n  exp: new Date().getTime() + 5000,\n};\n\nconst token = jwt.sign(payload, process.env.ZOOM_API_SECRET); //your API SECRET HERE\n\nrouter.get(\"/createMeeting\", (req, res) => {\n  const email = \"tranquangsang12.7@gmail.com\"; // your zoom developer email account\n\n  const options = {\n    method: \"POST\",\n    uri: \"https://api.zoom.us/v2/users/\" + email + \"/meetings\",\n    body: {\n      topic: \"Zoom Meeting Using Node JS\", //meeting title\n      type: 1,\n      settings: {\n        host_video: \"true\",\n        participant_video: \"true\",\n      },\n    },\n    auth: {\n      bearer: token,\n    },\n    headers: {\n      \"User-Agent\": \"Zoom-api-Jwt-Request\",\n      \"content-type\": \"application/json\",\n    },\n    json: true,\n  };\n\n  requestPromise(options)\n    .then(function (response) {\n      console.log(\"response is: \", response);\n      res.json(response);\n    })\n    .catch(function (err) {\n      // API call failed...\n      console.log(\"API call failed, reason \", err);\n    });\n});\n\nmodule.exports = router;\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AAEA,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;AAEA,MAAMC,cAAc,GAAGH,OAAO,CAAC,iBAAD,CAA9B;;AACA,MAAMI,GAAG,GAAGJ,OAAO,CAAC,cAAD,CAAnB;;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBK,MAAlB;;AAEA,MAAMC,OAAO,GAAG;EACdC,GAAG,EAAEC,OAAO,CAACC,GAAR,CAAYC,YADH;EACiB;EAC/BC,GAAG,EAAE,IAAIC,IAAJ,GAAWC,OAAX,KAAuB;AAFd,CAAhB;AAKA,MAAMC,KAAK,GAAGV,GAAG,CAACW,IAAJ,CAAST,OAAT,EAAkBE,OAAO,CAACC,GAAR,CAAYO,eAA9B,CAAd,C,CAA8D;;AAE9Df,MAAM,CAACgB,GAAP,CAAW,gBAAX,EAA6B,CAACC,GAAD,EAAMC,GAAN,KAAc;EACzC,MAAMC,KAAK,GAAG,6BAAd,CADyC,CACI;;EAE7C,MAAMC,OAAO,GAAG;IACdC,MAAM,EAAE,MADM;IAEdC,GAAG,EAAE,kCAAkCH,KAAlC,GAA0C,WAFjC;IAGdI,IAAI,EAAE;MACJC,KAAK,EAAE,4BADH;MACiC;MACrCC,IAAI,EAAE,CAFF;MAGJC,QAAQ,EAAE;QACRC,UAAU,EAAE,MADJ;QAERC,iBAAiB,EAAE;MAFX;IAHN,CAHQ;IAWdC,IAAI,EAAE;MACJC,MAAM,EAAEjB;IADJ,CAXQ;IAcdkB,OAAO,EAAE;MACP,cAAc,sBADP;MAEP,gBAAgB;IAFT,CAdK;IAkBdC,IAAI,EAAE;EAlBQ,CAAhB;EAqBA9B,cAAc,CAACkB,OAAD,CAAd,CACGa,IADH,CACQ,UAAUC,QAAV,EAAoB;IACxBC,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BF,QAA7B;IACAhB,GAAG,CAACc,IAAJ,CAASE,QAAT;EACD,CAJH,EAKGG,KALH,CAKS,UAAUC,GAAV,EAAe;IACpB;IACAH,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCE,GAAxC;EACD,CARH;AASD,CAjCD;AAmCAC,MAAM,CAACC,OAAP,GAAiBxC,MAAjB"}},"mtime":1667273577540}}