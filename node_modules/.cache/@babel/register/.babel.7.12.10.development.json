{"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\server.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst express = require(\"express\");\n\nconst routes = require(\"./routes/index.js\");\n\nconst connectDB = require(\"./dbconnect.js\");\n\nrequire(\"dotenv\").config();\n\nconst {\n  handleError,\n  convertToApiError\n} = require(\"./middleware/apiError\"); // const db = require(\"../models/index\");\n\n\nconst app = express();\napp.use((0, _cors.default)()); //middleware\n\napp.use(express.json()); // thg nay cho body parser ve JSON\n\napp.use(express.urlencoded({\n  extended: true\n}));\nconnectDB(); //routes\n\napp.use(\"/api\", routes); // const db = require('../models/index');\n// //get all member list\n// (async () => {\n//   const member = await db.Members.findAll({});\n//   console.log(member);\n// })();\n//ve nha lam inner join 2 bang\n// (async () => {\n//   const job = await db.Jobs.findAll({ raw: true });\n//   console.log(job);\n// })();\n//insert member into members table(database)\n// ty ve nha thu lai status de trong xem no co tu set active ko??\n// (async () => {\n//   const newMember = await db.Members.create({\n//     id: \"ME-002\",\n//     email: \"khanhphdse160477@fpt.edu.vn\",\n//     fullname: \"Phạm Hồng Duyên Khánh\",\n//     password: \"1\",\n//     current_resume_url: \"#\",\n//     status: \"Active\"\n//   });\n//   console.log(newMember);\n// })();\n//port=8000\n\napp.use(convertToApiError);\napp.use((err, req, res, next) => {\n  handleError(err, res);\n}); // app.get('/job', async (_req, res) => {\n//   try {\n//     const job = await db.Jobs.findAll();\n//     res.send(job);\n//   } catch (err) {\n//     res.send(err);\n//   }\n// })\n\nconst port = process.env.PORT || 3000;\napp.listen(port, () => {\n  console.log(`listening on port ${port}`);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlcyIsImNvbm5lY3REQiIsImNvbmZpZyIsImhhbmRsZUVycm9yIiwiY29udmVydFRvQXBpRXJyb3IiLCJhcHAiLCJ1c2UiLCJjb3JzIiwianNvbiIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsImVyciIsInJlcSIsInJlcyIsIm5leHQiLCJwb3J0IiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiJEOlxcQ29kZVxcRlBUX1N1YmplY3RcXFNXUFxcSFJNU19CRVxcc3JjXFwiLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XHJcblxyXG5jb25zdCByb3V0ZXMgPSByZXF1aXJlKFwiLi9yb3V0ZXMvaW5kZXguanNcIik7XHJcbmNvbnN0IGNvbm5lY3REQiA9IHJlcXVpcmUoXCIuL2RiY29ubmVjdC5qc1wiKTtcclxuaW1wb3J0IGNvcnMgZnJvbSBcImNvcnNcIjtcclxucmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcclxuY29uc3QgeyBoYW5kbGVFcnJvciwgY29udmVydFRvQXBpRXJyb3IgfSA9IHJlcXVpcmUoXCIuL21pZGRsZXdhcmUvYXBpRXJyb3JcIik7XHJcbi8vIGNvbnN0IGRiID0gcmVxdWlyZShcIi4uL21vZGVscy9pbmRleFwiKTtcclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5hcHAudXNlKGNvcnMoKSk7XHJcbi8vbWlkZGxld2FyZVxyXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTsgLy8gdGhnIG5heSBjaG8gYm9keSBwYXJzZXIgdmUgSlNPTlxyXG5hcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcclxuXHJcbmNvbm5lY3REQigpO1xyXG5cclxuLy9yb3V0ZXNcclxuYXBwLnVzZShcIi9hcGlcIiwgcm91dGVzKTtcclxuXHJcbi8vIGNvbnN0IGRiID0gcmVxdWlyZSgnLi4vbW9kZWxzL2luZGV4Jyk7XHJcblxyXG4vLyAvL2dldCBhbGwgbWVtYmVyIGxpc3RcclxuLy8gKGFzeW5jICgpID0+IHtcclxuLy8gICBjb25zdCBtZW1iZXIgPSBhd2FpdCBkYi5NZW1iZXJzLmZpbmRBbGwoe30pO1xyXG4vLyAgIGNvbnNvbGUubG9nKG1lbWJlcik7XHJcbi8vIH0pKCk7XHJcblxyXG4vL3ZlIG5oYSBsYW0gaW5uZXIgam9pbiAyIGJhbmdcclxuLy8gKGFzeW5jICgpID0+IHtcclxuLy8gICBjb25zdCBqb2IgPSBhd2FpdCBkYi5Kb2JzLmZpbmRBbGwoeyByYXc6IHRydWUgfSk7XHJcbi8vICAgY29uc29sZS5sb2coam9iKTtcclxuLy8gfSkoKTtcclxuXHJcbi8vaW5zZXJ0IG1lbWJlciBpbnRvIG1lbWJlcnMgdGFibGUoZGF0YWJhc2UpXHJcbi8vIHR5IHZlIG5oYSB0aHUgbGFpIHN0YXR1cyBkZSB0cm9uZyB4ZW0gbm8gY28gdHUgc2V0IGFjdGl2ZSBrbz8/XHJcblxyXG4vLyAoYXN5bmMgKCkgPT4ge1xyXG4vLyAgIGNvbnN0IG5ld01lbWJlciA9IGF3YWl0IGRiLk1lbWJlcnMuY3JlYXRlKHtcclxuLy8gICAgIGlkOiBcIk1FLTAwMlwiLFxyXG4vLyAgICAgZW1haWw6IFwia2hhbmhwaGRzZTE2MDQ3N0BmcHQuZWR1LnZuXCIsXHJcbi8vICAgICBmdWxsbmFtZTogXCJQaOG6oW0gSOG7k25nIER1ecOqbiBLaMOhbmhcIixcclxuLy8gICAgIHBhc3N3b3JkOiBcIjFcIixcclxuLy8gICAgIGN1cnJlbnRfcmVzdW1lX3VybDogXCIjXCIsXHJcbi8vICAgICBzdGF0dXM6IFwiQWN0aXZlXCJcclxuLy8gICB9KTtcclxuLy8gICBjb25zb2xlLmxvZyhuZXdNZW1iZXIpO1xyXG4vLyB9KSgpO1xyXG5cclxuLy9wb3J0PTgwMDBcclxuYXBwLnVzZShjb252ZXJ0VG9BcGlFcnJvcik7XHJcbmFwcC51c2UoKGVyciwgcmVxLCByZXMsIG5leHQpID0+IHtcclxuICBoYW5kbGVFcnJvcihlcnIsIHJlcyk7XHJcbn0pO1xyXG4vLyBhcHAuZ2V0KCcvam9iJywgYXN5bmMgKF9yZXEsIHJlcykgPT4ge1xyXG4vLyAgIHRyeSB7XHJcbi8vICAgICBjb25zdCBqb2IgPSBhd2FpdCBkYi5Kb2JzLmZpbmRBbGwoKTtcclxuLy8gICAgIHJlcy5zZW5kKGpvYik7XHJcbi8vICAgfSBjYXRjaCAoZXJyKSB7XHJcbi8vICAgICByZXMuc2VuZChlcnIpO1xyXG4vLyAgIH1cclxuLy8gfSlcclxuXHJcbmNvbnN0IHBvcnQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDMwMDA7XHJcblxyXG5hcHAubGlzdGVuKHBvcnQsICgpID0+IHtcclxuICBjb25zb2xlLmxvZyhgbGlzdGVuaW5nIG9uIHBvcnQgJHtwb3J0fWApO1xyXG59KTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUlBOzs7O0FBSkEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFFQSxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxtQkFBRCxDQUF0Qjs7QUFDQSxNQUFNRSxTQUFTLEdBQUdGLE9BQU8sQ0FBQyxnQkFBRCxDQUF6Qjs7QUFFQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkcsTUFBbEI7O0FBQ0EsTUFBTTtFQUFFQyxXQUFGO0VBQWVDO0FBQWYsSUFBcUNMLE9BQU8sQ0FBQyx1QkFBRCxDQUFsRCxDLENBQ0E7OztBQUNBLE1BQU1NLEdBQUcsR0FBR1AsT0FBTyxFQUFuQjtBQUNBTyxHQUFHLENBQUNDLEdBQUosQ0FBUSxJQUFBQyxhQUFBLEdBQVIsRSxDQUNBOztBQUNBRixHQUFHLENBQUNDLEdBQUosQ0FBUVIsT0FBTyxDQUFDVSxJQUFSLEVBQVIsRSxDQUF5Qjs7QUFDekJILEdBQUcsQ0FBQ0MsR0FBSixDQUFRUixPQUFPLENBQUNXLFVBQVIsQ0FBbUI7RUFBRUMsUUFBUSxFQUFFO0FBQVosQ0FBbkIsQ0FBUjtBQUVBVCxTQUFTLEcsQ0FFVDs7QUFDQUksR0FBRyxDQUFDQyxHQUFKLENBQVEsTUFBUixFQUFnQk4sTUFBaEIsRSxDQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBSyxHQUFHLENBQUNDLEdBQUosQ0FBUUYsaUJBQVI7QUFDQUMsR0FBRyxDQUFDQyxHQUFKLENBQVEsQ0FBQ0ssR0FBRCxFQUFNQyxHQUFOLEVBQVdDLEdBQVgsRUFBZ0JDLElBQWhCLEtBQXlCO0VBQy9CWCxXQUFXLENBQUNRLEdBQUQsRUFBTUUsR0FBTixDQUFYO0FBQ0QsQ0FGRCxFLENBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNRSxJQUFJLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxJQUFaLElBQW9CLElBQWpDO0FBRUFiLEdBQUcsQ0FBQ2MsTUFBSixDQUFXSixJQUFYLEVBQWlCLE1BQU07RUFDckJLLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLHFCQUFvQk4sSUFBSyxFQUF0QztBQUNELENBRkQifQ==","map":{"version":3,"names":["express","require","routes","connectDB","config","handleError","convertToApiError","app","use","cors","json","urlencoded","extended","err","req","res","next","port","process","env","PORT","listen","console","log"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\","sources":["server.js"],"sourcesContent":["const express = require(\"express\");\r\n\r\nconst routes = require(\"./routes/index.js\");\r\nconst connectDB = require(\"./dbconnect.js\");\r\nimport cors from \"cors\";\r\nrequire(\"dotenv\").config();\r\nconst { handleError, convertToApiError } = require(\"./middleware/apiError\");\r\n// const db = require(\"../models/index\");\r\nconst app = express();\r\napp.use(cors());\r\n//middleware\r\napp.use(express.json()); // thg nay cho body parser ve JSON\r\napp.use(express.urlencoded({ extended: true }));\r\n\r\nconnectDB();\r\n\r\n//routes\r\napp.use(\"/api\", routes);\r\n\r\n// const db = require('../models/index');\r\n\r\n// //get all member list\r\n// (async () => {\r\n//   const member = await db.Members.findAll({});\r\n//   console.log(member);\r\n// })();\r\n\r\n//ve nha lam inner join 2 bang\r\n// (async () => {\r\n//   const job = await db.Jobs.findAll({ raw: true });\r\n//   console.log(job);\r\n// })();\r\n\r\n//insert member into members table(database)\r\n// ty ve nha thu lai status de trong xem no co tu set active ko??\r\n\r\n// (async () => {\r\n//   const newMember = await db.Members.create({\r\n//     id: \"ME-002\",\r\n//     email: \"khanhphdse160477@fpt.edu.vn\",\r\n//     fullname: \"Phạm Hồng Duyên Khánh\",\r\n//     password: \"1\",\r\n//     current_resume_url: \"#\",\r\n//     status: \"Active\"\r\n//   });\r\n//   console.log(newMember);\r\n// })();\r\n\r\n//port=8000\r\napp.use(convertToApiError);\r\napp.use((err, req, res, next) => {\r\n  handleError(err, res);\r\n});\r\n// app.get('/job', async (_req, res) => {\r\n//   try {\r\n//     const job = await db.Jobs.findAll();\r\n//     res.send(job);\r\n//   } catch (err) {\r\n//     res.send(err);\r\n//   }\r\n// })\r\n\r\nconst port = process.env.PORT || 3000;\r\n\r\napp.listen(port, () => {\r\n  console.log(`listening on port ${port}`);\r\n});\r\n"],"mappings":";;AAIA;;;;AAJA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AAEA,MAAMC,MAAM,GAAGD,OAAO,CAAC,mBAAD,CAAtB;;AACA,MAAME,SAAS,GAAGF,OAAO,CAAC,gBAAD,CAAzB;;AAEAA,OAAO,CAAC,QAAD,CAAP,CAAkBG,MAAlB;;AACA,MAAM;EAAEC,WAAF;EAAeC;AAAf,IAAqCL,OAAO,CAAC,uBAAD,CAAlD,C,CACA;;;AACA,MAAMM,GAAG,GAAGP,OAAO,EAAnB;AACAO,GAAG,CAACC,GAAJ,CAAQ,IAAAC,aAAA,GAAR,E,CACA;;AACAF,GAAG,CAACC,GAAJ,CAAQR,OAAO,CAACU,IAAR,EAAR,E,CAAyB;;AACzBH,GAAG,CAACC,GAAJ,CAAQR,OAAO,CAACW,UAAR,CAAmB;EAAEC,QAAQ,EAAE;AAAZ,CAAnB,CAAR;AAEAT,SAAS,G,CAET;;AACAI,GAAG,CAACC,GAAJ,CAAQ,MAAR,EAAgBN,MAAhB,E,CAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACAK,GAAG,CAACC,GAAJ,CAAQF,iBAAR;AACAC,GAAG,CAACC,GAAJ,CAAQ,CAACK,GAAD,EAAMC,GAAN,EAAWC,GAAX,EAAgBC,IAAhB,KAAyB;EAC/BX,WAAW,CAACQ,GAAD,EAAME,GAAN,CAAX;AACD,CAFD,E,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAME,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC;AAEAb,GAAG,CAACc,MAAJ,CAAWJ,IAAX,EAAiB,MAAM;EACrBK,OAAO,CAACC,GAAR,CAAa,qBAAoBN,IAAK,EAAtC;AACD,CAFD"}},"mtime":1666281032518},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\routes\\\\index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\n\nconst authRoute = require(\"./auth.route.js\");\n\nconst memberRoute = require(\"./member.route\");\n\nconst staffRoute = require(\"./staff.route\");\n\nconst staffAuthRoute = require(\"./staffAuth.route\");\n\nconst categoryRoute = require(\"./categories.route\");\n\nconst campaignRoute = require(\"./campaigns.route\");\n\nconst jobRoute = require(\"./jobs.route.js\");\n\nconst candidateRoute = require(\"./candidate.route\");\n\nconst interviewRoute = require(\"./interview.route\");\n\nconst reportRoute = require(\"./report.route\");\n\nconst roomRoute = require(\"./room.route\");\n\nconst router = express.Router();\nconst routesIndex = [{\n  path: \"/member-auth\",\n  route: authRoute\n}, {\n  path: \"/category\",\n  route: categoryRoute\n}, {\n  path: \"/campaign\",\n  route: campaignRoute\n}, {\n  path: \"/job\",\n  route: jobRoute\n}, {\n  path: \"/member\",\n  route: memberRoute\n}, {\n  path: \"/staff\",\n  route: staffRoute\n}, {\n  path: \"/staff-auth\",\n  route: staffAuthRoute\n}, {\n  path: \"/candidate\",\n  route: candidateRoute\n}, {\n  path: \"/interview\",\n  route: interviewRoute\n}, {\n  path: \"/report\",\n  route: reportRoute\n}, {\n  path: \"/room\",\n  route: roomRoute\n}];\nroutesIndex.forEach(route => {\n  router.use(route.path, route.route);\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImF1dGhSb3V0ZSIsIm1lbWJlclJvdXRlIiwic3RhZmZSb3V0ZSIsInN0YWZmQXV0aFJvdXRlIiwiY2F0ZWdvcnlSb3V0ZSIsImNhbXBhaWduUm91dGUiLCJqb2JSb3V0ZSIsImNhbmRpZGF0ZVJvdXRlIiwiaW50ZXJ2aWV3Um91dGUiLCJyZXBvcnRSb3V0ZSIsInJvb21Sb3V0ZSIsInJvdXRlciIsIlJvdXRlciIsInJvdXRlc0luZGV4IiwicGF0aCIsInJvdXRlIiwiZm9yRWFjaCIsInVzZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxDb2RlXFxGUFRfU3ViamVjdFxcU1dQXFxIUk1TX0JFXFxzcmNcXHJvdXRlc1xcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XHJcbmNvbnN0IGF1dGhSb3V0ZSA9IHJlcXVpcmUoXCIuL2F1dGgucm91dGUuanNcIik7XHJcbmNvbnN0IG1lbWJlclJvdXRlID0gcmVxdWlyZShcIi4vbWVtYmVyLnJvdXRlXCIpO1xyXG5jb25zdCBzdGFmZlJvdXRlID0gcmVxdWlyZShcIi4vc3RhZmYucm91dGVcIik7XHJcbmNvbnN0IHN0YWZmQXV0aFJvdXRlID0gcmVxdWlyZShcIi4vc3RhZmZBdXRoLnJvdXRlXCIpO1xyXG5jb25zdCBjYXRlZ29yeVJvdXRlID0gcmVxdWlyZShcIi4vY2F0ZWdvcmllcy5yb3V0ZVwiKTtcclxuY29uc3QgY2FtcGFpZ25Sb3V0ZSA9IHJlcXVpcmUoXCIuL2NhbXBhaWducy5yb3V0ZVwiKTtcclxuY29uc3Qgam9iUm91dGUgPSByZXF1aXJlKFwiLi9qb2JzLnJvdXRlLmpzXCIpO1xyXG5jb25zdCBjYW5kaWRhdGVSb3V0ZSA9IHJlcXVpcmUoXCIuL2NhbmRpZGF0ZS5yb3V0ZVwiKTtcclxuY29uc3QgaW50ZXJ2aWV3Um91dGUgPSByZXF1aXJlKFwiLi9pbnRlcnZpZXcucm91dGVcIik7XHJcbmNvbnN0IHJlcG9ydFJvdXRlID0gcmVxdWlyZShcIi4vcmVwb3J0LnJvdXRlXCIpO1xyXG5jb25zdCByb29tUm91dGUgPSByZXF1aXJlKFwiLi9yb29tLnJvdXRlXCIpO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxuY29uc3Qgcm91dGVzSW5kZXggPSBbXHJcbiAge1xyXG4gICAgcGF0aDogXCIvbWVtYmVyLWF1dGhcIixcclxuICAgIHJvdXRlOiBhdXRoUm91dGUsXHJcbiAgfSxcclxuICB7XHJcbiAgICBwYXRoOiBcIi9jYXRlZ29yeVwiLFxyXG4gICAgcm91dGU6IGNhdGVnb3J5Um91dGUsXHJcbiAgfSxcclxuICB7XHJcbiAgICBwYXRoOiBcIi9jYW1wYWlnblwiLFxyXG4gICAgcm91dGU6IGNhbXBhaWduUm91dGUsXHJcbiAgfSxcclxuICB7XHJcbiAgICBwYXRoOiBcIi9qb2JcIixcclxuICAgIHJvdXRlOiBqb2JSb3V0ZSxcclxuICB9LFxyXG4gIHtcclxuICAgIHBhdGg6IFwiL21lbWJlclwiLFxyXG4gICAgcm91dGU6IG1lbWJlclJvdXRlLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcGF0aDogXCIvc3RhZmZcIixcclxuICAgIHJvdXRlOiBzdGFmZlJvdXRlLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcGF0aDogXCIvc3RhZmYtYXV0aFwiLFxyXG4gICAgcm91dGU6IHN0YWZmQXV0aFJvdXRlLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcGF0aDogXCIvY2FuZGlkYXRlXCIsXHJcbiAgICByb3V0ZTogY2FuZGlkYXRlUm91dGUsXHJcbiAgfSxcclxuICB7XHJcbiAgICBwYXRoOiBcIi9pbnRlcnZpZXdcIixcclxuICAgIHJvdXRlOiBpbnRlcnZpZXdSb3V0ZSxcclxuICB9LFxyXG4gIHtcclxuICAgIHBhdGg6IFwiL3JlcG9ydFwiLFxyXG4gICAgcm91dGU6IHJlcG9ydFJvdXRlLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcGF0aDogXCIvcm9vbVwiLFxyXG4gICAgcm91dGU6IHJvb21Sb3V0ZSxcclxuICB9LFxyXG5dO1xyXG5cclxucm91dGVzSW5kZXguZm9yRWFjaCgocm91dGUpID0+IHtcclxuICByb3V0ZXIudXNlKHJvdXRlLnBhdGgsIHJvdXRlLnJvdXRlKTtcclxufSk7XHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxTQUFTLEdBQUdELE9BQU8sQ0FBQyxpQkFBRCxDQUF6Qjs7QUFDQSxNQUFNRSxXQUFXLEdBQUdGLE9BQU8sQ0FBQyxnQkFBRCxDQUEzQjs7QUFDQSxNQUFNRyxVQUFVLEdBQUdILE9BQU8sQ0FBQyxlQUFELENBQTFCOztBQUNBLE1BQU1JLGNBQWMsR0FBR0osT0FBTyxDQUFDLG1CQUFELENBQTlCOztBQUNBLE1BQU1LLGFBQWEsR0FBR0wsT0FBTyxDQUFDLG9CQUFELENBQTdCOztBQUNBLE1BQU1NLGFBQWEsR0FBR04sT0FBTyxDQUFDLG1CQUFELENBQTdCOztBQUNBLE1BQU1PLFFBQVEsR0FBR1AsT0FBTyxDQUFDLGlCQUFELENBQXhCOztBQUNBLE1BQU1RLGNBQWMsR0FBR1IsT0FBTyxDQUFDLG1CQUFELENBQTlCOztBQUNBLE1BQU1TLGNBQWMsR0FBR1QsT0FBTyxDQUFDLG1CQUFELENBQTlCOztBQUNBLE1BQU1VLFdBQVcsR0FBR1YsT0FBTyxDQUFDLGdCQUFELENBQTNCOztBQUNBLE1BQU1XLFNBQVMsR0FBR1gsT0FBTyxDQUFDLGNBQUQsQ0FBekI7O0FBQ0EsTUFBTVksTUFBTSxHQUFHYixPQUFPLENBQUNjLE1BQVIsRUFBZjtBQUVBLE1BQU1DLFdBQVcsR0FBRyxDQUNsQjtFQUNFQyxJQUFJLEVBQUUsY0FEUjtFQUVFQyxLQUFLLEVBQUVmO0FBRlQsQ0FEa0IsRUFLbEI7RUFDRWMsSUFBSSxFQUFFLFdBRFI7RUFFRUMsS0FBSyxFQUFFWDtBQUZULENBTGtCLEVBU2xCO0VBQ0VVLElBQUksRUFBRSxXQURSO0VBRUVDLEtBQUssRUFBRVY7QUFGVCxDQVRrQixFQWFsQjtFQUNFUyxJQUFJLEVBQUUsTUFEUjtFQUVFQyxLQUFLLEVBQUVUO0FBRlQsQ0Fia0IsRUFpQmxCO0VBQ0VRLElBQUksRUFBRSxTQURSO0VBRUVDLEtBQUssRUFBRWQ7QUFGVCxDQWpCa0IsRUFxQmxCO0VBQ0VhLElBQUksRUFBRSxRQURSO0VBRUVDLEtBQUssRUFBRWI7QUFGVCxDQXJCa0IsRUF5QmxCO0VBQ0VZLElBQUksRUFBRSxhQURSO0VBRUVDLEtBQUssRUFBRVo7QUFGVCxDQXpCa0IsRUE2QmxCO0VBQ0VXLElBQUksRUFBRSxZQURSO0VBRUVDLEtBQUssRUFBRVI7QUFGVCxDQTdCa0IsRUFpQ2xCO0VBQ0VPLElBQUksRUFBRSxZQURSO0VBRUVDLEtBQUssRUFBRVA7QUFGVCxDQWpDa0IsRUFxQ2xCO0VBQ0VNLElBQUksRUFBRSxTQURSO0VBRUVDLEtBQUssRUFBRU47QUFGVCxDQXJDa0IsRUF5Q2xCO0VBQ0VLLElBQUksRUFBRSxPQURSO0VBRUVDLEtBQUssRUFBRUw7QUFGVCxDQXpDa0IsQ0FBcEI7QUErQ0FHLFdBQVcsQ0FBQ0csT0FBWixDQUFxQkQsS0FBRCxJQUFXO0VBQzdCSixNQUFNLENBQUNNLEdBQVAsQ0FBV0YsS0FBSyxDQUFDRCxJQUFqQixFQUF1QkMsS0FBSyxDQUFDQSxLQUE3QjtBQUNELENBRkQ7QUFHQUcsTUFBTSxDQUFDQyxPQUFQLEdBQWlCUixNQUFqQiJ9","map":{"version":3,"names":["express","require","authRoute","memberRoute","staffRoute","staffAuthRoute","categoryRoute","campaignRoute","jobRoute","candidateRoute","interviewRoute","reportRoute","roomRoute","router","Router","routesIndex","path","route","forEach","use","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\routes\\","sources":["index.js"],"sourcesContent":["const express = require(\"express\");\r\nconst authRoute = require(\"./auth.route.js\");\r\nconst memberRoute = require(\"./member.route\");\r\nconst staffRoute = require(\"./staff.route\");\r\nconst staffAuthRoute = require(\"./staffAuth.route\");\r\nconst categoryRoute = require(\"./categories.route\");\r\nconst campaignRoute = require(\"./campaigns.route\");\r\nconst jobRoute = require(\"./jobs.route.js\");\r\nconst candidateRoute = require(\"./candidate.route\");\r\nconst interviewRoute = require(\"./interview.route\");\r\nconst reportRoute = require(\"./report.route\");\r\nconst roomRoute = require(\"./room.route\");\r\nconst router = express.Router();\r\n\r\nconst routesIndex = [\r\n  {\r\n    path: \"/member-auth\",\r\n    route: authRoute,\r\n  },\r\n  {\r\n    path: \"/category\",\r\n    route: categoryRoute,\r\n  },\r\n  {\r\n    path: \"/campaign\",\r\n    route: campaignRoute,\r\n  },\r\n  {\r\n    path: \"/job\",\r\n    route: jobRoute,\r\n  },\r\n  {\r\n    path: \"/member\",\r\n    route: memberRoute,\r\n  },\r\n  {\r\n    path: \"/staff\",\r\n    route: staffRoute,\r\n  },\r\n  {\r\n    path: \"/staff-auth\",\r\n    route: staffAuthRoute,\r\n  },\r\n  {\r\n    path: \"/candidate\",\r\n    route: candidateRoute,\r\n  },\r\n  {\r\n    path: \"/interview\",\r\n    route: interviewRoute,\r\n  },\r\n  {\r\n    path: \"/report\",\r\n    route: reportRoute,\r\n  },\r\n  {\r\n    path: \"/room\",\r\n    route: roomRoute,\r\n  },\r\n];\r\n\r\nroutesIndex.forEach((route) => {\r\n  router.use(route.path, route.route);\r\n});\r\nmodule.exports = router;\r\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,SAAS,GAAGD,OAAO,CAAC,iBAAD,CAAzB;;AACA,MAAME,WAAW,GAAGF,OAAO,CAAC,gBAAD,CAA3B;;AACA,MAAMG,UAAU,GAAGH,OAAO,CAAC,eAAD,CAA1B;;AACA,MAAMI,cAAc,GAAGJ,OAAO,CAAC,mBAAD,CAA9B;;AACA,MAAMK,aAAa,GAAGL,OAAO,CAAC,oBAAD,CAA7B;;AACA,MAAMM,aAAa,GAAGN,OAAO,CAAC,mBAAD,CAA7B;;AACA,MAAMO,QAAQ,GAAGP,OAAO,CAAC,iBAAD,CAAxB;;AACA,MAAMQ,cAAc,GAAGR,OAAO,CAAC,mBAAD,CAA9B;;AACA,MAAMS,cAAc,GAAGT,OAAO,CAAC,mBAAD,CAA9B;;AACA,MAAMU,WAAW,GAAGV,OAAO,CAAC,gBAAD,CAA3B;;AACA,MAAMW,SAAS,GAAGX,OAAO,CAAC,cAAD,CAAzB;;AACA,MAAMY,MAAM,GAAGb,OAAO,CAACc,MAAR,EAAf;AAEA,MAAMC,WAAW,GAAG,CAClB;EACEC,IAAI,EAAE,cADR;EAEEC,KAAK,EAAEf;AAFT,CADkB,EAKlB;EACEc,IAAI,EAAE,WADR;EAEEC,KAAK,EAAEX;AAFT,CALkB,EASlB;EACEU,IAAI,EAAE,WADR;EAEEC,KAAK,EAAEV;AAFT,CATkB,EAalB;EACES,IAAI,EAAE,MADR;EAEEC,KAAK,EAAET;AAFT,CAbkB,EAiBlB;EACEQ,IAAI,EAAE,SADR;EAEEC,KAAK,EAAEd;AAFT,CAjBkB,EAqBlB;EACEa,IAAI,EAAE,QADR;EAEEC,KAAK,EAAEb;AAFT,CArBkB,EAyBlB;EACEY,IAAI,EAAE,aADR;EAEEC,KAAK,EAAEZ;AAFT,CAzBkB,EA6BlB;EACEW,IAAI,EAAE,YADR;EAEEC,KAAK,EAAER;AAFT,CA7BkB,EAiClB;EACEO,IAAI,EAAE,YADR;EAEEC,KAAK,EAAEP;AAFT,CAjCkB,EAqClB;EACEM,IAAI,EAAE,SADR;EAEEC,KAAK,EAAEN;AAFT,CArCkB,EAyClB;EACEK,IAAI,EAAE,OADR;EAEEC,KAAK,EAAEL;AAFT,CAzCkB,CAApB;AA+CAG,WAAW,CAACG,OAAZ,CAAqBD,KAAD,IAAW;EAC7BJ,MAAM,CAACM,GAAP,CAAWF,KAAK,CAACD,IAAjB,EAAuBC,KAAK,CAACA,KAA7B;AACD,CAFD;AAGAG,MAAM,CAACC,OAAP,GAAiBR,MAAjB"}},"mtime":1667395081784},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\routes\\\\auth.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\n\nconst authController = require(\"../controller/auth.controller.js\");\n\nconst auth = require(\"../middleware/auth.middleware\");\n\nconst router = express.Router();\nrouter.post(\"/register\", authController.register);\nrouter.post(\"/login\", authController.login);\nrouter.patch(\"/verify\", authController.verifyCode);\nrouter.get(\"/isauth\", auth, authController.isauth); //------reset password------\n\nrouter.post(\"/forgot-password\", authController.forgotPassword);\nrouter.get(\"/reset-password/:id/:start\", authController.resetPassword);\nrouter.post(\"/reset-password/:id/:start\", authController.setNewPassword);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImF1dGhDb250cm9sbGVyIiwiYXV0aCIsInJvdXRlciIsIlJvdXRlciIsInBvc3QiLCJyZWdpc3RlciIsImxvZ2luIiwicGF0Y2giLCJ2ZXJpZnlDb2RlIiwiZ2V0IiwiaXNhdXRoIiwiZm9yZ290UGFzc3dvcmQiLCJyZXNldFBhc3N3b3JkIiwic2V0TmV3UGFzc3dvcmQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcQ29kZVxcRlBUX1N1YmplY3RcXFNXUFxcSFJNU19CRVxcc3JjXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsiYXV0aC5yb3V0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XHJcbmNvbnN0IGF1dGhDb250cm9sbGVyID0gcmVxdWlyZShcIi4uL2NvbnRyb2xsZXIvYXV0aC5jb250cm9sbGVyLmpzXCIpO1xyXG5jb25zdCBhdXRoID0gcmVxdWlyZShcIi4uL21pZGRsZXdhcmUvYXV0aC5taWRkbGV3YXJlXCIpO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgYXV0aENvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG5yb3V0ZXIucG9zdChcIi9sb2dpblwiLCBhdXRoQ29udHJvbGxlci5sb2dpbik7XHJcbnJvdXRlci5wYXRjaChcIi92ZXJpZnlcIiwgYXV0aENvbnRyb2xsZXIudmVyaWZ5Q29kZSk7XHJcbnJvdXRlci5nZXQoXCIvaXNhdXRoXCIsIGF1dGgsIGF1dGhDb250cm9sbGVyLmlzYXV0aCk7XHJcbi8vLS0tLS0tcmVzZXQgcGFzc3dvcmQtLS0tLS1cclxucm91dGVyLnBvc3QoXCIvZm9yZ290LXBhc3N3b3JkXCIsIGF1dGhDb250cm9sbGVyLmZvcmdvdFBhc3N3b3JkKTtcclxucm91dGVyLmdldChcIi9yZXNldC1wYXNzd29yZC86aWQvOnN0YXJ0XCIsIGF1dGhDb250cm9sbGVyLnJlc2V0UGFzc3dvcmQpO1xyXG5yb3V0ZXIucG9zdChcIi9yZXNldC1wYXNzd29yZC86aWQvOnN0YXJ0XCIsIGF1dGhDb250cm9sbGVyLnNldE5ld1Bhc3N3b3JkKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxjQUFjLEdBQUdELE9BQU8sQ0FBQyxrQ0FBRCxDQUE5Qjs7QUFDQSxNQUFNRSxJQUFJLEdBQUdGLE9BQU8sQ0FBQywrQkFBRCxDQUFwQjs7QUFDQSxNQUFNRyxNQUFNLEdBQUdKLE9BQU8sQ0FBQ0ssTUFBUixFQUFmO0FBRUFELE1BQU0sQ0FBQ0UsSUFBUCxDQUFZLFdBQVosRUFBeUJKLGNBQWMsQ0FBQ0ssUUFBeEM7QUFDQUgsTUFBTSxDQUFDRSxJQUFQLENBQVksUUFBWixFQUFzQkosY0FBYyxDQUFDTSxLQUFyQztBQUNBSixNQUFNLENBQUNLLEtBQVAsQ0FBYSxTQUFiLEVBQXdCUCxjQUFjLENBQUNRLFVBQXZDO0FBQ0FOLE1BQU0sQ0FBQ08sR0FBUCxDQUFXLFNBQVgsRUFBc0JSLElBQXRCLEVBQTRCRCxjQUFjLENBQUNVLE1BQTNDLEUsQ0FDQTs7QUFDQVIsTUFBTSxDQUFDRSxJQUFQLENBQVksa0JBQVosRUFBZ0NKLGNBQWMsQ0FBQ1csY0FBL0M7QUFDQVQsTUFBTSxDQUFDTyxHQUFQLENBQVcsNEJBQVgsRUFBeUNULGNBQWMsQ0FBQ1ksYUFBeEQ7QUFDQVYsTUFBTSxDQUFDRSxJQUFQLENBQVksNEJBQVosRUFBMENKLGNBQWMsQ0FBQ2EsY0FBekQ7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCYixNQUFqQiJ9","map":{"version":3,"names":["express","require","authController","auth","router","Router","post","register","login","patch","verifyCode","get","isauth","forgotPassword","resetPassword","setNewPassword","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\routes\\","sources":["auth.route.js"],"sourcesContent":["const express = require(\"express\");\r\nconst authController = require(\"../controller/auth.controller.js\");\r\nconst auth = require(\"../middleware/auth.middleware\");\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/register\", authController.register);\r\nrouter.post(\"/login\", authController.login);\r\nrouter.patch(\"/verify\", authController.verifyCode);\r\nrouter.get(\"/isauth\", auth, authController.isauth);\r\n//------reset password------\r\nrouter.post(\"/forgot-password\", authController.forgotPassword);\r\nrouter.get(\"/reset-password/:id/:start\", authController.resetPassword);\r\nrouter.post(\"/reset-password/:id/:start\", authController.setNewPassword);\r\n\r\nmodule.exports = router;\r\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,cAAc,GAAGD,OAAO,CAAC,kCAAD,CAA9B;;AACA,MAAME,IAAI,GAAGF,OAAO,CAAC,+BAAD,CAApB;;AACA,MAAMG,MAAM,GAAGJ,OAAO,CAACK,MAAR,EAAf;AAEAD,MAAM,CAACE,IAAP,CAAY,WAAZ,EAAyBJ,cAAc,CAACK,QAAxC;AACAH,MAAM,CAACE,IAAP,CAAY,QAAZ,EAAsBJ,cAAc,CAACM,KAArC;AACAJ,MAAM,CAACK,KAAP,CAAa,SAAb,EAAwBP,cAAc,CAACQ,UAAvC;AACAN,MAAM,CAACO,GAAP,CAAW,SAAX,EAAsBR,IAAtB,EAA4BD,cAAc,CAACU,MAA3C,E,CACA;;AACAR,MAAM,CAACE,IAAP,CAAY,kBAAZ,EAAgCJ,cAAc,CAACW,cAA/C;AACAT,MAAM,CAACO,GAAP,CAAW,4BAAX,EAAyCT,cAAc,CAACY,aAAxD;AACAV,MAAM,CAACE,IAAP,CAAY,4BAAZ,EAA0CJ,cAAc,CAACa,cAAzD;AAEAC,MAAM,CAACC,OAAP,GAAiBb,MAAjB"}},"mtime":1666771520280},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\controller\\\\auth.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _auth = require(\"../service/auth.service\");\n\nconst authController = {\n  async register(req, res, next) {\n    try {\n      res.header(\"Access-Control-Allow-Headers\", \"*\");\n      res.header(\"Access-Control-Allow-Credentials\", true);\n      res.header(\"Access-Control-Allow-Methods\", \"GET,PUT,POST,DELETE\");\n      const member = await (0, _auth.createNewMember)(req, res);\n      const token = await (0, _auth.genAuthToken)(member);\n      res.cookie(\"sang\", \"sang dep chai\");\n      res.cookie(\"x-access-token\", token).status(200).send({\n        member,\n        token\n      });\n    } catch (error) {\n      console.log(error);\n      next(error);\n    }\n  },\n\n  async verifyCode(req, res, next) {\n    try {\n      const ve = await (0, _auth.veriCode)(req, res);\n\n      if (ve == 1) {\n        return res.json(\"Verify code successfully\");\n      }\n\n      return res.json(\"Verify code failed\");\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async login(req, res, next) {\n    try {\n      const {\n        email,\n        password\n      } = req.body;\n      const member = await (0, _auth.signInWithEmailPassword)(email, password);\n      const token = await (0, _auth.genAuthToken)(member);\n      res.cookie(\"x-access-token\", token).send({\n        member,\n        token\n      });\n    } catch (error) {\n      next(error); // res.send({ error: error.statusCode, message: error.message });\n    }\n  },\n\n  async isauth(req, res, next) {\n    res.json(req.currentUser);\n  },\n\n  //-----reset password------------------------\n  async forgotPassword(req, res, next) {\n    try {\n      const forgetPass = await (0, _auth.forgotPass)(req.body);\n      return res.json({\n        message: \"send link ok\"\n      });\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async resetPassword(req, res, next) {\n    try {\n      const resetPasss = await (0, _auth.resetPass)(req, res);\n      return res.json(resetPasss);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async setNewPassword(req, res, next) {\n    try {\n      const setNewPasswordd = await (0, _auth.setNewPassword)(req, res);\n    } catch (error) {\n      next(error);\n    }\n  }\n\n};\nmodule.exports = authController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhdXRoQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwibmV4dCIsImhlYWRlciIsIm1lbWJlciIsImNyZWF0ZU5ld01lbWJlciIsInRva2VuIiwiZ2VuQXV0aFRva2VuIiwiY29va2llIiwic3RhdHVzIiwic2VuZCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInZlcmlmeUNvZGUiLCJ2ZSIsInZlcmlDb2RlIiwianNvbiIsImxvZ2luIiwiZW1haWwiLCJwYXNzd29yZCIsImJvZHkiLCJzaWduSW5XaXRoRW1haWxQYXNzd29yZCIsImlzYXV0aCIsImN1cnJlbnRVc2VyIiwiZm9yZ290UGFzc3dvcmQiLCJmb3JnZXRQYXNzIiwiZm9yZ290UGFzcyIsIm1lc3NhZ2UiLCJyZXNldFBhc3N3b3JkIiwicmVzZXRQYXNzcyIsInJlc2V0UGFzcyIsInNldE5ld1Bhc3N3b3JkIiwic2V0TmV3UGFzc3dvcmRkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXENvZGVcXEZQVF9TdWJqZWN0XFxTV1BcXEhSTVNfQkVcXHNyY1xcY29udHJvbGxlclxcIiwic291cmNlcyI6WyJhdXRoLmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBjcmVhdGVOZXdNZW1iZXIsXHJcbiAgZ2VuQXV0aFRva2VuLFxyXG4gIHNpZ25JbldpdGhFbWFpbFBhc3N3b3JkLFxyXG4gIHZlcmlDb2RlLFxyXG4gIGZvcmdvdFBhc3MsXHJcbiAgcmVzZXRQYXNzLFxyXG4gIHNldE5ld1Bhc3N3b3JkXHJcbn0gZnJvbSBcIi4uL3NlcnZpY2UvYXV0aC5zZXJ2aWNlXCI7XHJcblxyXG5jb25zdCBhdXRoQ29udHJvbGxlciA9IHtcclxuICBhc3luYyByZWdpc3RlcihyZXEsIHJlcywgbmV4dCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgcmVzLmhlYWRlcihcIkFjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnNcIiwgXCIqXCIpO1xyXG4gICAgICByZXMuaGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHNcIiwgdHJ1ZSk7XHJcbiAgICAgIHJlcy5oZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzXCIsIFwiR0VULFBVVCxQT1NULERFTEVURVwiKTtcclxuICAgICAgY29uc3QgbWVtYmVyID0gYXdhaXQgY3JlYXRlTmV3TWVtYmVyKHJlcSwgcmVzKTtcclxuICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBnZW5BdXRoVG9rZW4obWVtYmVyKTtcclxuICAgICAgcmVzLmNvb2tpZShcInNhbmdcIiwgXCJzYW5nIGRlcCBjaGFpXCIpO1xyXG4gICAgICByZXMuY29va2llKFwieC1hY2Nlc3MtdG9rZW5cIiwgdG9rZW4pLnN0YXR1cygyMDApLnNlbmQoe1xyXG4gICAgICAgIG1lbWJlcixcclxuICAgICAgICB0b2tlbixcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgIG5leHQoZXJyb3IpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgYXN5bmMgdmVyaWZ5Q29kZShyZXEsIHJlcywgbmV4dCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgdmUgPSBhd2FpdCB2ZXJpQ29kZShyZXEsIHJlcyk7XHJcbiAgICAgIGlmICh2ZSA9PSAxKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKFwiVmVyaWZ5IGNvZGUgc3VjY2Vzc2Z1bGx5XCIpXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHJlcy5qc29uKFwiVmVyaWZ5IGNvZGUgZmFpbGVkXCIpXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBuZXh0KGVycm9yKTtcclxuICAgIH1cclxuICB9LFxyXG4gIGFzeW5jIGxvZ2luKHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XHJcbiAgICAgIGNvbnN0IG1lbWJlciA9IGF3YWl0IHNpZ25JbldpdGhFbWFpbFBhc3N3b3JkKGVtYWlsLCBwYXNzd29yZCk7XHJcbiAgICAgIGNvbnN0IHRva2VuID0gYXdhaXQgZ2VuQXV0aFRva2VuKG1lbWJlcik7XHJcbiAgICAgIHJlcy5jb29raWUoXCJ4LWFjY2Vzcy10b2tlblwiLCB0b2tlbikuc2VuZCh7XHJcbiAgICAgICAgbWVtYmVyLFxyXG4gICAgICAgIHRva2VuLFxyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIG5leHQoZXJyb3IpO1xyXG4gICAgICAvLyByZXMuc2VuZCh7IGVycm9yOiBlcnJvci5zdGF0dXNDb2RlLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgYXN5bmMgaXNhdXRoKHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICByZXMuanNvbihyZXEuY3VycmVudFVzZXIpO1xyXG4gIH0sXHJcblxyXG5cclxuXHJcbiAgLy8tLS0tLXJlc2V0IHBhc3N3b3JkLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5cclxuICBhc3luYyBmb3Jnb3RQYXNzd29yZChyZXEsIHJlcywgbmV4dCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZm9yZ2V0UGFzcyA9IGF3YWl0IGZvcmdvdFBhc3MocmVxLmJvZHkpXHJcbiAgICAgIHJldHVybiByZXMuanNvbih7IG1lc3NhZ2U6IFwic2VuZCBsaW5rIG9rXCIgfSlcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIG5leHQoZXJyb3IpO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGFzeW5jIHJlc2V0UGFzc3dvcmQocmVxLCByZXMsIG5leHQpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc2V0UGFzc3MgPSBhd2FpdCByZXNldFBhc3MocmVxLCByZXMpXHJcbiAgICAgIHJldHVybiByZXMuanNvbihyZXNldFBhc3NzKVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgbmV4dChlcnJvcik7XHJcblxyXG4gICAgfVxyXG4gIH0sXHJcbiAgYXN5bmMgc2V0TmV3UGFzc3dvcmQocmVxLCByZXMsIG5leHQpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHNldE5ld1Bhc3N3b3JkZCA9IGF3YWl0IHNldE5ld1Bhc3N3b3JkKHJlcSwgcmVzKVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgbmV4dChlcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gYXV0aENvbnRyb2xsZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFVQSxNQUFNQSxjQUFjLEdBQUc7RUFDckIsTUFBTUMsUUFBTixDQUFlQyxHQUFmLEVBQW9CQyxHQUFwQixFQUF5QkMsSUFBekIsRUFBK0I7SUFDN0IsSUFBSTtNQUNGRCxHQUFHLENBQUNFLE1BQUosQ0FBVyw4QkFBWCxFQUEyQyxHQUEzQztNQUNBRixHQUFHLENBQUNFLE1BQUosQ0FBVyxrQ0FBWCxFQUErQyxJQUEvQztNQUNBRixHQUFHLENBQUNFLE1BQUosQ0FBVyw4QkFBWCxFQUEyQyxxQkFBM0M7TUFDQSxNQUFNQyxNQUFNLEdBQUcsTUFBTSxJQUFBQyxxQkFBQSxFQUFnQkwsR0FBaEIsRUFBcUJDLEdBQXJCLENBQXJCO01BQ0EsTUFBTUssS0FBSyxHQUFHLE1BQU0sSUFBQUMsa0JBQUEsRUFBYUgsTUFBYixDQUFwQjtNQUNBSCxHQUFHLENBQUNPLE1BQUosQ0FBVyxNQUFYLEVBQW1CLGVBQW5CO01BQ0FQLEdBQUcsQ0FBQ08sTUFBSixDQUFXLGdCQUFYLEVBQTZCRixLQUE3QixFQUFvQ0csTUFBcEMsQ0FBMkMsR0FBM0MsRUFBZ0RDLElBQWhELENBQXFEO1FBQ25ETixNQURtRDtRQUVuREU7TUFGbUQsQ0FBckQ7SUFJRCxDQVhELENBV0UsT0FBT0ssS0FBUCxFQUFjO01BQ2RDLE9BQU8sQ0FB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","map":{"version":3,"names":["authController","register","req","res","next","header","member","createNewMember","token","genAuthToken","cookie","status","send","error","console","log","verifyCode","ve","veriCode","json","login","email","password","body","signInWithEmailPassword","isauth","currentUser","forgotPassword","forgetPass","forgotPass","message","resetPassword","resetPasss","resetPass","setNewPassword","setNewPasswordd","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\controller\\","sources":["auth.controller.js"],"sourcesContent":["import {\r\n  createNewMember,\r\n  genAuthToken,\r\n  signInWithEmailPassword,\r\n  veriCode,\r\n  forgotPass,\r\n  resetPass,\r\n  setNewPassword\r\n} from \"../service/auth.service\";\r\n\r\nconst authController = {\r\n  async register(req, res, next) {\r\n    try {\r\n      res.header(\"Access-Control-Allow-Headers\", \"*\");\r\n      res.header(\"Access-Control-Allow-Credentials\", true);\r\n      res.header(\"Access-Control-Allow-Methods\", \"GET,PUT,POST,DELETE\");\r\n      const member = await createNewMember(req, res);\r\n      const token = await genAuthToken(member);\r\n      res.cookie(\"sang\", \"sang dep chai\");\r\n      res.cookie(\"x-access-token\", token).status(200).send({\r\n        member,\r\n        token,\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n      next(error);\r\n    }\r\n  },\r\n  async verifyCode(req, res, next) {\r\n    try {\r\n      const ve = await veriCode(req, res);\r\n      if (ve == 1) {\r\n        return res.json(\"Verify code successfully\")\r\n      }\r\n      return res.json(\"Verify code failed\")\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  },\r\n  async login(req, res, next) {\r\n    try {\r\n      const { email, password } = req.body;\r\n      const member = await signInWithEmailPassword(email, password);\r\n      const token = await genAuthToken(member);\r\n      res.cookie(\"x-access-token\", token).send({\r\n        member,\r\n        token,\r\n      });\r\n    } catch (error) {\r\n      next(error);\r\n      // res.send({ error: error.statusCode, message: error.message });\r\n    }\r\n  },\r\n  async isauth(req, res, next) {\r\n    res.json(req.currentUser);\r\n  },\r\n\r\n\r\n\r\n  //-----reset password------------------------\r\n\r\n\r\n  async forgotPassword(req, res, next) {\r\n    try {\r\n      const forgetPass = await forgotPass(req.body)\r\n      return res.json({ message: \"send link ok\" })\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  },\r\n\r\n  async resetPassword(req, res, next) {\r\n    try {\r\n      const resetPasss = await resetPass(req, res)\r\n      return res.json(resetPasss)\r\n    } catch (error) {\r\n      next(error);\r\n\r\n    }\r\n  },\r\n  async setNewPassword(req, res, next) {\r\n    try {\r\n      const setNewPasswordd = await setNewPassword(req, res)\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  }\r\n};\r\n\r\n\r\nmodule.exports = authController;\r\n"],"mappings":";;AAAA;;AAUA,MAAMA,cAAc,GAAG;EACrB,MAAMC,QAAN,CAAeC,GAAf,EAAoBC,GAApB,EAAyBC,IAAzB,EAA+B;IAC7B,IAAI;MACFD,GAAG,CAACE,MAAJ,CAAW,8BAAX,EAA2C,GAA3C;MACAF,GAAG,CAACE,MAAJ,CAAW,kCAAX,EAA+C,IAA/C;MACAF,GAAG,CAACE,MAAJ,CAAW,8BAAX,EAA2C,qBAA3C;MACA,MAAMC,MAAM,GAAG,MAAM,IAAAC,qBAAA,EAAgBL,GAAhB,EAAqBC,GAArB,CAArB;MACA,MAAMK,KAAK,GAAG,MAAM,IAAAC,kBAAA,EAAaH,MAAb,CAApB;MACAH,GAAG,CAACO,MAAJ,CAAW,MAAX,EAAmB,eAAnB;MACAP,GAAG,CAACO,MAAJ,CAAW,gBAAX,EAA6BF,KAA7B,EAAoCG,MAApC,CAA2C,GAA3C,EAAgDC,IAAhD,CAAqD;QACnDN,MADmD;QAEnDE;MAFmD,CAArD;IAID,CAXD,CAWE,OAAOK,KAAP,EAAc;MACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACAT,IAAI,CAACS,KAAD,CAAJ;IACD;EACF,CAjBoB;;EAkBrB,MAAMG,UAAN,CAAiBd,GAAjB,EAAsBC,GAAtB,EAA2BC,IAA3B,EAAiC;IAC/B,IAAI;MACF,MAAMa,EAAE,GAAG,MAAM,IAAAC,cAAA,EAAShB,GAAT,EAAcC,GAAd,CAAjB;;MACA,IAAIc,EAAE,IAAI,CAAV,EAAa;QACX,OAAOd,GAAG,CAACgB,IAAJ,CAAS,0BAAT,CAAP;MACD;;MACD,OAAOhB,GAAG,CAACgB,IAAJ,CAAS,oBAAT,CAAP;IACD,CAND,CAME,OAAON,KAAP,EAAc;MACdT,IAAI,CAACS,KAAD,CAAJ;IACD;EACF,CA5BoB;;EA6BrB,MAAMO,KAAN,CAAYlB,GAAZ,EAAiBC,GAAjB,EAAsBC,IAAtB,EAA4B;IAC1B,IAAI;MACF,MAAM;QAAEiB,KAAF;QAASC;MAAT,IAAsBpB,GAAG,CAACqB,IAAhC;MACA,MAAMjB,MAAM,GAAG,MAAM,IAAAkB,6BAAA,EAAwBH,KAAxB,EAA+BC,QAA/B,CAArB;MACA,MAAMd,KAAK,GAAG,MAAM,IAAAC,kBAAA,EAAaH,MAAb,CAApB;MACAH,GAAG,CAACO,MAAJ,CAAW,gBAAX,EAA6BF,KAA7B,EAAoCI,IAApC,CAAyC;QACvCN,MADuC;QAEvCE;MAFuC,CAAzC;IAID,CARD,CAQE,OAAOK,KAAP,EAAc;MACdT,IAAI,CAACS,KAAD,CAAJ,CADc,CAEd;IACD;EACF,CA1CoB;;EA2CrB,MAAMY,MAAN,CAAavB,GAAb,EAAkBC,GAAlB,EAAuBC,IAAvB,EAA6B;IAC3BD,GAAG,CAACgB,IAAJ,CAASjB,GAAG,CAACwB,WAAb;EACD,CA7CoB;;EAiDrB;EAGA,MAAMC,cAAN,CAAqBzB,GAArB,EAA0BC,GAA1B,EAA+BC,IAA/B,EAAqC;IACnC,IAAI;MACF,MAAMwB,UAAU,GAAG,MAAM,IAAAC,gBAAA,EAAW3B,GAAG,CAACqB,IAAf,CAAzB;MACA,OAAOpB,GAAG,CAACgB,IAAJ,CAAS;QAAEW,OAAO,EAAE;MAAX,CAAT,CAAP;IACD,CAHD,CAGE,OAAOjB,KAAP,EAAc;MACdT,IAAI,CAACS,KAAD,CAAJ;IACD;EACF,CA3DoB;;EA6DrB,MAAMkB,aAAN,CAAoB7B,GAApB,EAAyBC,GAAzB,EAA8BC,IAA9B,EAAoC;IAClC,IAAI;MACF,MAAM4B,UAAU,GAAG,MAAM,IAAAC,eAAA,EAAU/B,GAAV,EAAeC,GAAf,CAAzB;MACA,OAAOA,GAAG,CAACgB,IAAJ,CAASa,UAAT,CAAP;IACD,CAHD,CAGE,OAAOnB,KAAP,EAAc;MACdT,IAAI,CAACS,KAAD,CAAJ;IAED;EACF,CArEoB;;EAsErB,MAAMqB,cAAN,CAAqBhC,GAArB,EAA0BC,GAA1B,EAA+BC,IAA/B,EAAqC;IACnC,IAAI;MACF,MAAM+B,eAAe,GAAG,MAAM,IAAAD,oBAAA,EAAehC,GAAf,EAAoBC,GAApB,CAA9B;IACD,CAFD,CAEE,OAAOU,KAAP,EAAc;MACdT,IAAI,CAACS,KAAD,CAAJ;IACD;EACF;;AA5EoB,CAAvB;AAgFAuB,MAAM,CAACC,OAAP,GAAiBrC,cAAjB"}},"mtime":1666771520248},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\service\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\service\\\\auth.service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nrequire(\"dotenv\").config();\n\nconst bcrypt = require(\"bcrypt\");\n\nconst jwt = require(\"jsonwebtoken\");\n\nconst httpStatus = require(\"http-status\");\n\nconst {\n  ApiError\n} = require(\"../middleware/apiError\");\n\nconst membersRepository = require(\"../repository/members.repository\");\n\nvar nodemailer = require(\"nodemailer\");\n\nconst {\n  response\n} = require(\"express\");\n\nconst hashPassword = async password => {\n  const salt = await bcrypt.genSalt(10);\n  const hashedPass = await bcrypt.hash(password, salt);\n  return hashedPass;\n};\n\nconst createNewMember = async (req, res) => {\n  try {\n    const member = req.body;\n    const memberExisted = await membersRepository.getMemberByEmail(member.email);\n\n    if (memberExisted) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Email already taken\");\n    }\n\n    const hashPass = await hashPassword(member.password);\n    const newMember = await membersRepository.createNewMember({\n      email: member.email,\n      fullname: member.fullname,\n      password: hashPass,\n      avatar: null,\n      verified_code: Math.floor(1000 + Math.random() * 9000)\n    });\n    console.log(newMember);\n\n    if (!newMember) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Register fail\");\n    } //send email verify cho nguoi dung\n    //Phai bat less secure app\n\n\n    await membersRepository.sendMail(newMember.email, \"Code to verify account\", \"your verify code is: \" + newMember.verified_code);\n    return newMember;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst veriCode = async (req, res) => {\n  try {\n    const memberEmail = req.body.email;\n    console.log(memberEmail);\n    let getCode = await membersRepository.getCodeByEmail(memberEmail);\n    console.log(getCode.verified_code);\n\n    if (!(getCode.verified_code == req.body.verified_code)) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"Invalid code\");\n    }\n\n    const icode = await membersRepository.updateStatus({\n      email: memberEmail\n    });\n    return icode;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst genAuthToken = async user => {\n  const userObj = {\n    sub: user.id,\n    email: user.email,\n    id: user.id\n  };\n  const token = jwt.sign(userObj, process.env.ACCESS_TOKEN_SECRET, {\n    expiresIn: \"1d\"\n  });\n  return token;\n};\n\nconst comparePassword = async (candidatePassword, hashPassword) => {\n  // candidate password = hash password\n  const match = await bcrypt.compare(candidatePassword, hashPassword);\n  return match;\n};\n\nconst signInWithEmailPassword = async (email, password) => {\n  try {\n    // check email\n    const member = await membersRepository.getMemberByEmailActive(email);\n\n    if (!member) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"Sorry Bad Email\");\n    }\n\n    if (!(await comparePassword(password, member.password))) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"Tài khoản hoặc mật khẩu không chính xác\");\n    }\n\n    return member;\n  } catch (error) {\n    throw error;\n  }\n}; //-----reset password------------------------\n\n\nconst forgotPass = async (data, res) => {\n  const email = data.email;\n\n  try {\n    if (!email) {\n      throw new ApiError(httpStatus.NOT_FOUND, \"Please enter your email\");\n    }\n\n    const oldUser = await membersRepository.getMemberByEmail(email);\n\n    if (!oldUser) {\n      throw new ApiError(httpStatus.NOT_FOUND, \"Người dùng không tồn tại\");\n    } // const secret = process.env.ACCESS_TOKEN_SECRET + oldUser.password;\n    // const token = jwt.sign({ email: oldUser.email, id: oldUser.id }, secret, {\n    //   expiresIn: \"5m\",\n    // });\n\n\n    const start = Date.now();\n    console.log(start);\n    const link = `127.0.0.1:5173/reset-password/${oldUser.id}/${start}`;\n    await membersRepository.sendMail(oldUser.email, \"Password reset\", \"Reset Link expired in 5 minutes: \" + link);\n    console.log(\"Link expired in 5 minutes: \" + link); // res.json(\"pasword reset link send to your account\");\n  } catch (error) {\n    console.log(error);\n    throw error;\n  }\n};\n\nconst resetPass = async (req, res) => {\n  const {\n    id,\n    start\n  } = req.params;\n  console.log(req.params);\n  const oldUser = await membersRepository.getMemberById(id);\n\n  if (!oldUser) {\n    throw new ApiError(httpStatus.NOT_FOUND, \"Người dùng không tồn tại\");\n  }\n\n  try {\n    const millis = Date.now() - start;\n\n    if (Math.floor(millis / 1000) > 300) {\n      return res.status(400).json({\n        message: \"Link hết hạn\"\n      });\n    } else {\n      return res.json({\n        message: \"xác thực\"\n      });\n    }\n  } catch (error) {\n    console.log(error);\n    throw new ApiError(httpStatus.UNAUTHORIZED, \"Link hết hạn\");\n  }\n};\n\nconst setNewPassword = async (req, res) => {\n  const {\n    id\n  } = req.params;\n  const {\n    password\n  } = req.body;\n  console.log(password);\n  const oldUser = await membersRepository.getMemberById(id);\n\n  if (!oldUser) {\n    throw new ApiError(httpStatus.NOT_FOUND, \"Người dùng không tồn tại\");\n  }\n\n  try {\n    const newHashPassword = await hashPassword(password);\n    console.log(newHashPassword); //==============================update password=======================\n\n    const updatePassword = await membersRepository.update({\n      password: newHashPassword\n    }, {\n      id: oldUser.id\n    });\n    return res.json({\n      message: \"Thay đổi password thành công\"\n    });\n  } catch (error) {\n    // console.log(error);\n    throw error;\n  }\n};\n\nmodule.exports = {\n  createNewMember,\n  genAuthToken,\n  signInWithEmailPassword,\n  veriCode,\n  forgotPass,\n  resetPass,\n  setNewPassword\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiYmNyeXB0Iiwiand0IiwiaHR0cFN0YXR1cyIsIkFwaUVycm9yIiwibWVtYmVyc1JlcG9zaXRvcnkiLCJub2RlbWFpbGVyIiwicmVzcG9uc2UiLCJoYXNoUGFzc3dvcmQiLCJwYXNzd29yZCIsInNhbHQiLCJnZW5TYWx0IiwiaGFzaGVkUGFzcyIsImhhc2giLCJjcmVhdGVOZXdNZW1iZXIiLCJyZXEiLCJyZXMiLCJtZW1iZXIiLCJib2R5IiwibWVtYmVyRXhpc3RlZCIsImdldE1lbWJlckJ5RW1haWwiLCJlbWFpbCIsIkJBRF9SRVFVRVNUIiwiaGFzaFBhc3MiLCJuZXdNZW1iZXIiLCJmdWxsbmFtZSIsImF2YXRhciIsInZlcmlmaWVkX2NvZGUiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJjb25zb2xlIiwibG9nIiwic2VuZE1haWwiLCJlcnJvciIsInZlcmlDb2RlIiwibWVtYmVyRW1haWwiLCJnZXRDb2RlIiwiZ2V0Q29kZUJ5RW1haWwiLCJVTkFVVEhPUklaRUQiLCJpY29kZSIsInVwZGF0ZVN0YXR1cyIsImdlbkF1dGhUb2tlbiIsInVzZXIiLCJ1c2VyT2JqIiwic3ViIiwiaWQiLCJ0b2tlbiIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiQUNDRVNTX1RPS0VOX1NFQ1JFVCIsImV4cGlyZXNJbiIsImNvbXBhcmVQYXNzd29yZCIsImNhbmRpZGF0ZVBhc3N3b3JkIiwibWF0Y2giLCJjb21wYXJlIiwic2lnbkluV2l0aEVtYWlsUGFzc3dvcmQiLCJnZXRNZW1iZXJCeUVtYWlsQWN0aXZlIiwiZm9yZ290UGFzcyIsImRhdGEiLCJOT1RfRk9VTkQiLCJvbGRVc2VyIiwic3RhcnQiLCJEYXRlIiwibm93IiwibGluayIsInJlc2V0UGFzcyIsInBhcmFtcyIsImdldE1lbWJlckJ5SWQiLCJtaWxsaXMiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInNldE5ld1Bhc3N3b3JkIiwibmV3SGFzaFBhc3N3b3JkIiwidXBkYXRlUGFzc3dvcmQiLCJ1cGRhdGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcQ29kZVxcRlBUX1N1YmplY3RcXFNXUFxcSFJNU19CRVxcc3JjXFxzZXJ2aWNlXFwiLCJzb3VyY2VzIjpbImF1dGguc2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xyXG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKFwiYmNyeXB0XCIpO1xyXG5jb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xyXG5jb25zdCBodHRwU3RhdHVzID0gcmVxdWlyZShcImh0dHAtc3RhdHVzXCIpO1xyXG5jb25zdCB7IEFwaUVycm9yIH0gPSByZXF1aXJlKFwiLi4vbWlkZGxld2FyZS9hcGlFcnJvclwiKTtcclxuY29uc3QgbWVtYmVyc1JlcG9zaXRvcnkgPSByZXF1aXJlKFwiLi4vcmVwb3NpdG9yeS9tZW1iZXJzLnJlcG9zaXRvcnlcIik7XHJcbnZhciBub2RlbWFpbGVyID0gcmVxdWlyZShcIm5vZGVtYWlsZXJcIik7XHJcbmNvbnN0IHsgcmVzcG9uc2UgfSA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xyXG5cclxuY29uc3QgaGFzaFBhc3N3b3JkID0gYXN5bmMgKHBhc3N3b3JkKSA9PiB7XHJcbiAgY29uc3Qgc2FsdCA9IGF3YWl0IGJjcnlwdC5nZW5TYWx0KDEwKTtcclxuICBjb25zdCBoYXNoZWRQYXNzID0gYXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIHNhbHQpO1xyXG4gIHJldHVybiBoYXNoZWRQYXNzO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlTmV3TWVtYmVyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IG1lbWJlciA9IHJlcS5ib2R5O1xyXG4gICAgY29uc3QgbWVtYmVyRXhpc3RlZCA9IGF3YWl0IG1lbWJlcnNSZXBvc2l0b3J5LmdldE1lbWJlckJ5RW1haWwoXHJcbiAgICAgIG1lbWJlci5lbWFpbFxyXG4gICAgKTtcclxuICAgIGlmIChtZW1iZXJFeGlzdGVkKSB7XHJcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLkJBRF9SRVFVRVNULCBcIkVtYWlsIGFscmVhZHkgdGFrZW5cIik7XHJcbiAgICB9XHJcbiAgICBjb25zdCBoYXNoUGFzcyA9IGF3YWl0IGhhc2hQYXNzd29yZChtZW1iZXIucGFzc3dvcmQpO1xyXG5cclxuICAgIGNvbnN0IG5ld01lbWJlciA9IGF3YWl0IG1lbWJlcnNSZXBvc2l0b3J5LmNyZWF0ZU5ld01lbWJlcih7XHJcbiAgICAgIGVtYWlsOiBtZW1iZXIuZW1haWwsXHJcbiAgICAgIGZ1bGxuYW1lOiBtZW1iZXIuZnVsbG5hbWUsXHJcbiAgICAgIHBhc3N3b3JkOiBoYXNoUGFzcyxcclxuICAgICAgYXZhdGFyOiBudWxsLFxyXG4gICAgICB2ZXJpZmllZF9jb2RlOiBNYXRoLmZsb29yKDEwMDAgKyBNYXRoLnJhbmRvbSgpICogOTAwMCksXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhuZXdNZW1iZXIpO1xyXG4gICAgaWYgKCFuZXdNZW1iZXIpIHtcclxuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKGh0dHBTdGF0dXMuQkFEX1JFUVVFU1QsIFwiUmVnaXN0ZXIgZmFpbFwiKTtcclxuICAgIH1cclxuICAgIC8vc2VuZCBlbWFpbCB2ZXJpZnkgY2hvIG5ndW9pIGR1bmdcclxuICAgIC8vUGhhaSBiYXQgbGVzcyBzZWN1cmUgYXBwXHJcbiAgICBhd2FpdCBtZW1iZXJzUmVwb3NpdG9yeS5zZW5kTWFpbChcclxuICAgICAgbmV3TWVtYmVyLmVtYWlsLFxyXG4gICAgICBcIkNvZGUgdG8gdmVyaWZ5IGFjY291bnRcIixcclxuICAgICAgXCJ5b3VyIHZlcmlmeSBjb2RlIGlzOiBcIiArIG5ld01lbWJlci52ZXJpZmllZF9jb2RlXHJcbiAgICApO1xyXG4gICAgcmV0dXJuIG5ld01lbWJlcjtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59O1xyXG5jb25zdCB2ZXJpQ29kZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBtZW1iZXJFbWFpbCA9IHJlcS5ib2R5LmVtYWlsO1xyXG4gICAgY29uc29sZS5sb2cobWVtYmVyRW1haWwpO1xyXG4gICAgbGV0IGdldENvZGUgPSBhd2FpdCBtZW1iZXJzUmVwb3NpdG9yeS5nZXRDb2RlQnlFbWFpbChtZW1iZXJFbWFpbCk7XHJcbiAgICBjb25zb2xlLmxvZyhnZXRDb2RlLnZlcmlmaWVkX2NvZGUpO1xyXG4gICAgaWYgKCEoZ2V0Q29kZS52ZXJpZmllZF9jb2RlID09IHJlcS5ib2R5LnZlcmlmaWVkX2NvZGUpKSB7XHJcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLlVOQVVUSE9SSVpFRCwgXCJJbnZhbGlkIGNvZGVcIik7XHJcbiAgICB9XHJcbiAgICBjb25zdCBpY29kZSA9IGF3YWl0IG1lbWJlcnNSZXBvc2l0b3J5LnVwZGF0ZVN0YXR1cyh7IGVtYWlsOiBtZW1iZXJFbWFpbCB9KTtcclxuXHJcbiAgICByZXR1cm4gaWNvZGU7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGdlbkF1dGhUb2tlbiA9IGFzeW5jICh1c2VyKSA9PiB7XHJcbiAgY29uc3QgdXNlck9iaiA9IHtcclxuICAgIHN1YjogdXNlci5pZCxcclxuICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgaWQ6IHVzZXIuaWQsXHJcbiAgfTtcclxuICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHVzZXJPYmosIHByb2Nlc3MuZW52LkFDQ0VTU19UT0tFTl9TRUNSRVQsIHtcclxuICAgIGV4cGlyZXNJbjogXCIxZFwiLFxyXG4gIH0pO1xyXG4gIHJldHVybiB0b2tlbjtcclxufTtcclxuY29uc3QgY29tcGFyZVBhc3N3b3JkID0gYXN5bmMgKGNhbmRpZGF0ZVBhc3N3b3JkLCBoYXNoUGFzc3dvcmQpID0+IHtcclxuICAvLyBjYW5kaWRhdGUgcGFzc3dvcmQgPSBoYXNoIHBhc3N3b3JkXHJcblxyXG4gIGNvbnN0IG1hdGNoID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUoY2FuZGlkYXRlUGFzc3dvcmQsIGhhc2hQYXNzd29yZCk7XHJcbiAgcmV0dXJuIG1hdGNoO1xyXG59O1xyXG5jb25zdCBzaWduSW5XaXRoRW1haWxQYXNzd29yZCA9IGFzeW5jIChlbWFpbCwgcGFzc3dvcmQpID0+IHtcclxuICB0cnkge1xyXG4gICAgLy8gY2hlY2sgZW1haWxcclxuICAgIGNvbnN0IG1lbWJlciA9IGF3YWl0IG1lbWJlcnNSZXBvc2l0b3J5LmdldE1lbWJlckJ5RW1haWxBY3RpdmUoZW1haWwpO1xyXG4gICAgaWYgKCFtZW1iZXIpIHtcclxuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKGh0dHBTdGF0dXMuVU5BVVRIT1JJWkVELCBcIlNvcnJ5IEJhZCBFbWFpbFwiKTtcclxuICAgIH1cclxuICAgIGlmICghKGF3YWl0IGNvbXBhcmVQYXNzd29yZChwYXNzd29yZCwgbWVtYmVyLnBhc3N3b3JkKSkpIHtcclxuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKFxyXG4gICAgICAgIGh0dHBTdGF0dXMuVU5BVVRIT1JJWkVELFxyXG4gICAgICAgIFwiVMOgaSBraG/huqNuIGhv4bq3YyBt4bqtdCBraOG6qXUga2jDtG5nIGNow61uaCB4w6FjXCJcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIHJldHVybiBtZW1iZXI7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbi8vLS0tLS1yZXNldCBwYXNzd29yZC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuY29uc3QgZm9yZ290UGFzcyA9IGFzeW5jIChkYXRhLCByZXMpID0+IHtcclxuICBjb25zdCBlbWFpbCA9IGRhdGEuZW1haWw7XHJcbiAgdHJ5IHtcclxuICAgIGlmICghZW1haWwpIHtcclxuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKGh0dHBTdGF0dXMuTk9UX0ZPVU5ELCBcIlBsZWFzZSBlbnRlciB5b3VyIGVtYWlsXCIpO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgb2xkVXNlciA9IGF3YWl0IG1lbWJlcnNSZXBvc2l0b3J5LmdldE1lbWJlckJ5RW1haWwoZW1haWwpO1xyXG5cclxuICAgIGlmICghb2xkVXNlcikge1xyXG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5OT1RfRk9VTkQsIFwiTmfGsOG7nWkgZMO5bmcga2jDtG5nIHThu5NuIHThuqFpXCIpO1xyXG4gICAgfVxyXG4gICAgLy8gY29uc3Qgc2VjcmV0ID0gcHJvY2Vzcy5lbnYuQUNDRVNTX1RPS0VOX1NFQ1JFVCArIG9sZFVzZXIucGFzc3dvcmQ7XHJcbiAgICAvLyBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHsgZW1haWw6IG9sZFVzZXIuZW1haWwsIGlkOiBvbGRVc2VyLmlkIH0sIHNlY3JldCwge1xyXG4gICAgLy8gICBleHBpcmVzSW46IFwiNW1cIixcclxuICAgIC8vIH0pO1xyXG4gICAgY29uc3Qgc3RhcnQgPSBEYXRlLm5vdygpO1xyXG4gICAgY29uc29sZS5sb2coc3RhcnQpO1xyXG4gICAgY29uc3QgbGluayA9IGAxMjcuMC4wLjE6NTE3My9yZXNldC1wYXNzd29yZC8ke29sZFVzZXIuaWR9LyR7c3RhcnR9YDtcclxuXHJcbiAgICBhd2FpdCBtZW1iZXJzUmVwb3NpdG9yeS5zZW5kTWFpbChcclxuICAgICAgb2xkVXNlci5lbWFpbCxcclxuICAgICAgXCJQYXNzd29yZCByZXNldFwiLFxyXG4gICAgICBcIlJlc2V0IExpbmsgZXhwaXJlZCBpbiA1IG1pbnV0ZXM6IFwiICsgbGlua1xyXG4gICAgKTtcclxuICAgIGNvbnNvbGUubG9nKFwiTGluayBleHBpcmVkIGluIDUgbWludXRlczogXCIgKyBsaW5rKTtcclxuXHJcbiAgICAvLyByZXMuanNvbihcInBhc3dvcmQgcmVzZXQgbGluayBzZW5kIHRvIHlvdXIgYWNjb3VudFwiKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgcmVzZXRQYXNzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgeyBpZCwgc3RhcnQgfSA9IHJlcS5wYXJhbXM7XHJcbiAgY29uc29sZS5sb2cocmVxLnBhcmFtcyk7XHJcbiAgY29uc3Qgb2xkVXNlciA9IGF3YWl0IG1lbWJlcnNSZXBvc2l0b3J5LmdldE1lbWJlckJ5SWQoaWQpO1xyXG4gIGlmICghb2xkVXNlcikge1xyXG4gICAgdGhyb3cgbmV3IEFwaUVycm9yKGh0dHBTdGF0dXMuTk9UX0ZPVU5ELCBcIk5nxrDhu51pIGTDuW5nIGtow7RuZyB04buTbiB04bqhaVwiKTtcclxuICB9XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IG1pbGxpcyA9IERhdGUubm93KCkgLSBzdGFydDtcclxuICAgIGlmIChNYXRoLmZsb29yKG1pbGxpcyAvIDEwMDApID4gMzAwKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiTGluayBo4bq/dCBo4bqhblwiIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKHsgbWVzc2FnZTogXCJ4w6FjIHRo4buxY1wiIH0pO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5VTkFVVEhPUklaRUQsIFwiTGluayBo4bq/dCBo4bqhblwiKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBzZXROZXdQYXNzd29yZCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XHJcbiAgY29uc3QgeyBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XHJcbiAgY29uc29sZS5sb2cocGFzc3dvcmQpO1xyXG4gIGNvbnN0IG9sZFVzZXIgPSBhd2FpdCBtZW1iZXJzUmVwb3NpdG9yeS5nZXRNZW1iZXJCeUlkKGlkKTtcclxuICBpZiAoIW9sZFVzZXIpIHtcclxuICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLk5PVF9GT1VORCwgXCJOZ8aw4budaSBkw7luZyBraMO0bmcgdOG7k24gdOG6oWlcIik7XHJcbiAgfVxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBuZXdIYXNoUGFzc3dvcmQgPSBhd2FpdCBoYXNoUGFzc3dvcmQocGFzc3dvcmQpO1xyXG4gICAgY29uc29sZS5sb2cobmV3SGFzaFBhc3N3b3JkKTtcclxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09dXBkYXRlIHBhc3N3b3JkPT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICBjb25zdCB1cGRhdGVQYXNzd29yZCA9IGF3YWl0IG1lbWJlcnNSZXBvc2l0b3J5LnVwZGF0ZShcclxuICAgICAgeyBwYXNzd29yZDogbmV3SGFzaFBhc3N3b3JkIH0sXHJcbiAgICAgIHsgaWQ6IG9sZFVzZXIuaWQgfVxyXG4gICAgKTtcclxuICAgIHJldHVybiByZXMuanNvbih7IG1lc3NhZ2U6IFwiVGhheSDEkeG7lWkgcGFzc3dvcmQgdGjDoG5oIGPDtG5nXCIgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIC8vIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIGNyZWF0ZU5ld01lbWJlcixcclxuICBnZW5BdXRoVG9rZW4sXHJcbiAgc2lnbkluV2l0aEVtYWlsUGFzc3dvcmQsXHJcbiAgdmVyaUNvZGUsXHJcbiAgZm9yZ290UGFzcyxcclxuICByZXNldFBhc3MsXHJcbiAgc2V0TmV3UGFzc3dv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","map":{"version":3,"names":["require","config","bcrypt","jwt","httpStatus","ApiError","membersRepository","nodemailer","response","hashPassword","password","salt","genSalt","hashedPass","hash","createNewMember","req","res","member","body","memberExisted","getMemberByEmail","email","BAD_REQUEST","hashPass","newMember","fullname","avatar","verified_code","Math","floor","random","console","log","sendMail","error","veriCode","memberEmail","getCode","getCodeByEmail","UNAUTHORIZED","icode","updateStatus","genAuthToken","user","userObj","sub","id","token","sign","process","env","ACCESS_TOKEN_SECRET","expiresIn","comparePassword","candidatePassword","match","compare","signInWithEmailPassword","getMemberByEmailActive","forgotPass","data","NOT_FOUND","oldUser","start","Date","now","link","resetPass","params","getMemberById","millis","status","json","message","setNewPassword","newHashPassword","updatePassword","update","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\service\\","sources":["auth.service.js"],"sourcesContent":["require(\"dotenv\").config();\r\nconst bcrypt = require(\"bcrypt\");\r\nconst jwt = require(\"jsonwebtoken\");\r\nconst httpStatus = require(\"http-status\");\r\nconst { ApiError } = require(\"../middleware/apiError\");\r\nconst membersRepository = require(\"../repository/members.repository\");\r\nvar nodemailer = require(\"nodemailer\");\r\nconst { response } = require(\"express\");\r\n\r\nconst hashPassword = async (password) => {\r\n  const salt = await bcrypt.genSalt(10);\r\n  const hashedPass = await bcrypt.hash(password, salt);\r\n  return hashedPass;\r\n};\r\n\r\nconst createNewMember = async (req, res) => {\r\n  try {\r\n    const member = req.body;\r\n    const memberExisted = await membersRepository.getMemberByEmail(\r\n      member.email\r\n    );\r\n    if (memberExisted) {\r\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Email already taken\");\r\n    }\r\n    const hashPass = await hashPassword(member.password);\r\n\r\n    const newMember = await membersRepository.createNewMember({\r\n      email: member.email,\r\n      fullname: member.fullname,\r\n      password: hashPass,\r\n      avatar: null,\r\n      verified_code: Math.floor(1000 + Math.random() * 9000),\r\n    });\r\n\r\n    console.log(newMember);\r\n    if (!newMember) {\r\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Register fail\");\r\n    }\r\n    //send email verify cho nguoi dung\r\n    //Phai bat less secure app\r\n    await membersRepository.sendMail(\r\n      newMember.email,\r\n      \"Code to verify account\",\r\n      \"your verify code is: \" + newMember.verified_code\r\n    );\r\n    return newMember;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\nconst veriCode = async (req, res) => {\r\n  try {\r\n    const memberEmail = req.body.email;\r\n    console.log(memberEmail);\r\n    let getCode = await membersRepository.getCodeByEmail(memberEmail);\r\n    console.log(getCode.verified_code);\r\n    if (!(getCode.verified_code == req.body.verified_code)) {\r\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"Invalid code\");\r\n    }\r\n    const icode = await membersRepository.updateStatus({ email: memberEmail });\r\n\r\n    return icode;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst genAuthToken = async (user) => {\r\n  const userObj = {\r\n    sub: user.id,\r\n    email: user.email,\r\n    id: user.id,\r\n  };\r\n  const token = jwt.sign(userObj, process.env.ACCESS_TOKEN_SECRET, {\r\n    expiresIn: \"1d\",\r\n  });\r\n  return token;\r\n};\r\nconst comparePassword = async (candidatePassword, hashPassword) => {\r\n  // candidate password = hash password\r\n\r\n  const match = await bcrypt.compare(candidatePassword, hashPassword);\r\n  return match;\r\n};\r\nconst signInWithEmailPassword = async (email, password) => {\r\n  try {\r\n    // check email\r\n    const member = await membersRepository.getMemberByEmailActive(email);\r\n    if (!member) {\r\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"Sorry Bad Email\");\r\n    }\r\n    if (!(await comparePassword(password, member.password))) {\r\n      throw new ApiError(\r\n        httpStatus.UNAUTHORIZED,\r\n        \"Tài khoản hoặc mật khẩu không chính xác\"\r\n      );\r\n    }\r\n    return member;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n//-----reset password------------------------\r\n\r\nconst forgotPass = async (data, res) => {\r\n  const email = data.email;\r\n  try {\r\n    if (!email) {\r\n      throw new ApiError(httpStatus.NOT_FOUND, \"Please enter your email\");\r\n    }\r\n    const oldUser = await membersRepository.getMemberByEmail(email);\r\n\r\n    if (!oldUser) {\r\n      throw new ApiError(httpStatus.NOT_FOUND, \"Người dùng không tồn tại\");\r\n    }\r\n    // const secret = process.env.ACCESS_TOKEN_SECRET + oldUser.password;\r\n    // const token = jwt.sign({ email: oldUser.email, id: oldUser.id }, secret, {\r\n    //   expiresIn: \"5m\",\r\n    // });\r\n    const start = Date.now();\r\n    console.log(start);\r\n    const link = `127.0.0.1:5173/reset-password/${oldUser.id}/${start}`;\r\n\r\n    await membersRepository.sendMail(\r\n      oldUser.email,\r\n      \"Password reset\",\r\n      \"Reset Link expired in 5 minutes: \" + link\r\n    );\r\n    console.log(\"Link expired in 5 minutes: \" + link);\r\n\r\n    // res.json(\"pasword reset link send to your account\");\r\n  } catch (error) {\r\n    console.log(error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst resetPass = async (req, res) => {\r\n  const { id, start } = req.params;\r\n  console.log(req.params);\r\n  const oldUser = await membersRepository.getMemberById(id);\r\n  if (!oldUser) {\r\n    throw new ApiError(httpStatus.NOT_FOUND, \"Người dùng không tồn tại\");\r\n  }\r\n  try {\r\n    const millis = Date.now() - start;\r\n    if (Math.floor(millis / 1000) > 300) {\r\n      return res.status(400).json({ message: \"Link hết hạn\" });\r\n    } else {\r\n      return res.json({ message: \"xác thực\" });\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    throw new ApiError(httpStatus.UNAUTHORIZED, \"Link hết hạn\");\r\n  }\r\n};\r\n\r\nconst setNewPassword = async (req, res) => {\r\n  const { id } = req.params;\r\n  const { password } = req.body;\r\n  console.log(password);\r\n  const oldUser = await membersRepository.getMemberById(id);\r\n  if (!oldUser) {\r\n    throw new ApiError(httpStatus.NOT_FOUND, \"Người dùng không tồn tại\");\r\n  }\r\n  try {\r\n    const newHashPassword = await hashPassword(password);\r\n    console.log(newHashPassword);\r\n    //==============================update password=======================\r\n\r\n    const updatePassword = await membersRepository.update(\r\n      { password: newHashPassword },\r\n      { id: oldUser.id }\r\n    );\r\n    return res.json({ message: \"Thay đổi password thành công\" });\r\n  } catch (error) {\r\n    // console.log(error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nmodule.exports = {\r\n  createNewMember,\r\n  genAuthToken,\r\n  signInWithEmailPassword,\r\n  veriCode,\r\n  forgotPass,\r\n  resetPass,\r\n  setNewPassword,\r\n};\r\n"],"mappings":"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"}},"mtime":1667231784591},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\middleware\\\\apiError.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _httpStatus = _interopRequireDefault(require(\"http-status\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass ApiError extends Error {\n  constructor(statusCode, message) {\n    super();\n    this.statusCode = statusCode;\n    this.message = message;\n  }\n\n}\n\nconst handleError = (err, res) => {\n  const {\n    statusCode,\n    message\n  } = err;\n  res.status(statusCode).json({\n    status: \"error\",\n    statusCode,\n    message\n  });\n};\n\nconst convertToApiError = (err, req, res, next) => {\n  let error = err; // check nếu ko có error\n\n  if (!(error instanceof ApiError)) {\n    const statusCode = error.statusCode || _httpStatus.default.BAD_REQUEST || _httpStatus.default.INTERNAL_SERVER_ERROR;\n    const message = error.message || _httpStatus.default[statusCode];\n    error = new ApiError(statusCode, message);\n  }\n\n  next(error);\n};\n\nmodule.exports = {\n  ApiError,\n  handleError,\n  convertToApiError\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBcGlFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJzdGF0dXNDb2RlIiwibWVzc2FnZSIsImhhbmRsZUVycm9yIiwiZXJyIiwicmVzIiwic3RhdHVzIiwianNvbiIsImNvbnZlcnRUb0FwaUVycm9yIiwicmVxIiwibmV4dCIsImVycm9yIiwiaHR0cFN0YXR1cyIsIkJBRF9SRVFVRVNUIiwiSU5URVJOQUxfU0VSVkVSX0VSUk9SIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXENvZGVcXEZQVF9TdWJqZWN0XFxTV1BcXEhSTVNfQkVcXHNyY1xcbWlkZGxld2FyZVxcIiwic291cmNlcyI6WyJhcGlFcnJvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaHR0cFN0YXR1cyBmcm9tIFwiaHR0cC1zdGF0dXNcIjtcclxuY2xhc3MgQXBpRXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgY29uc3RydWN0b3Ioc3RhdHVzQ29kZSwgbWVzc2FnZSkge1xyXG4gICAgc3VwZXIoKTtcclxuICAgIHRoaXMuc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGU7XHJcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgaGFuZGxlRXJyb3IgPSAoZXJyLCByZXMpID0+IHtcclxuICBjb25zdCB7IHN0YXR1c0NvZGUsIG1lc3NhZ2UgfSA9IGVycjtcclxuICByZXMuc3RhdHVzKHN0YXR1c0NvZGUpLmpzb24oe1xyXG4gICAgc3RhdHVzOiBcImVycm9yXCIsXHJcbiAgICBzdGF0dXNDb2RlLFxyXG4gICAgbWVzc2FnZSxcclxuICB9KTtcclxufTtcclxuY29uc3QgY29udmVydFRvQXBpRXJyb3IgPSAoZXJyLCByZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIGxldCBlcnJvciA9IGVycjtcclxuICAvLyBjaGVjayBu4bq/dSBrbyBjw7MgZXJyb3JcclxuICBpZiAoIShlcnJvciBpbnN0YW5jZW9mIEFwaUVycm9yKSkge1xyXG4gICAgY29uc3Qgc3RhdHVzQ29kZSA9XHJcbiAgICAgIGVycm9yLnN0YXR1c0NvZGUgfHxcclxuICAgICAgaHR0cFN0YXR1cy5CQURfUkVRVUVTVCB8fFxyXG4gICAgICBodHRwU3RhdHVzLklOVEVSTkFMX1NFUlZFUl9FUlJPUjtcclxuICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlIHx8IGh0dHBTdGF0dXNbc3RhdHVzQ29kZV07XHJcbiAgICBlcnJvciA9IG5ldyBBcGlFcnJvcihzdGF0dXNDb2RlLCBtZXNzYWdlKTtcclxuICB9XHJcbiAgbmV4dChlcnJvcik7XHJcbn07XHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIEFwaUVycm9yLFxyXG4gIGhhbmRsZUVycm9yLFxyXG4gIGNvbnZlcnRUb0FwaUVycm9yLFxyXG59O1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7QUFDQSxNQUFNQSxRQUFOLFNBQXVCQyxLQUF2QixDQUE2QjtFQUMzQkMsV0FBVyxDQUFDQyxVQUFELEVBQWFDLE9BQWIsRUFBc0I7SUFDL0I7SUFDQSxLQUFLRCxVQUFMLEdBQWtCQSxVQUFsQjtJQUNBLEtBQUtDLE9BQUwsR0FBZUEsT0FBZjtFQUNEOztBQUwwQjs7QUFRN0IsTUFBTUMsV0FBVyxHQUFHLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjO0VBQ2hDLE1BQU07SUFBRUosVUFBRjtJQUFjQztFQUFkLElBQTBCRSxHQUFoQztFQUNBQyxHQUFHLENBQUNDLE1BQUosQ0FBV0wsVUFBWCxFQUF1Qk0sSUFBdkIsQ0FBNEI7SUFDMUJELE1BQU0sRUFBRSxPQURrQjtJQUUxQkwsVUFGMEI7SUFHMUJDO0VBSDBCLENBQTVCO0FBS0QsQ0FQRDs7QUFRQSxNQUFNTSxpQkFBaUIsR0FBRyxDQUFDSixHQUFELEVBQU1LLEdBQU4sRUFBV0osR0FBWCxFQUFnQkssSUFBaEIsS0FBeUI7RUFDakQsSUFBSUMsS0FBSyxHQUFHUCxHQUFaLENBRGlELENBRWpEOztFQUNBLElBQUksRUFBRU8sS0FBSyxZQUFZYixRQUFuQixDQUFKLEVBQWtDO0lBQ2hDLE1BQU1HLFVBQVUsR0FDZFUsS0FBSyxDQUFDVixVQUFOLElBQ0FXLG1CQUFBLENBQVdDLFdBRFgsSUFFQUQsbUJBQUEsQ0FBV0UscUJBSGI7SUFJQSxNQUFNWixPQUFPLEdBQUdTLEtBQUssQ0FBQ1QsT0FBTixJQUFpQlUsbUJBQUEsQ0FBV1gsVUFBWCxDQUFqQztJQUNBVSxLQUFLLEdBQUcsSUFBSWIsUUFBSixDQUFhRyxVQUFiLEVBQXlCQyxPQUF6QixDQUFSO0VBQ0Q7O0VBQ0RRLElBQUksQ0FBQ0MsS0FBRCxDQUFKO0FBQ0QsQ0FaRDs7QUFhQUksTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2ZsQixRQURlO0VBRWZLLFdBRmU7RUFHZks7QUFIZSxDQUFqQiJ9","map":{"version":3,"names":["ApiError","Error","constructor","statusCode","message","handleError","err","res","status","json","convertToApiError","req","next","error","httpStatus","BAD_REQUEST","INTERNAL_SERVER_ERROR","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\middleware\\","sources":["apiError.js"],"sourcesContent":["import httpStatus from \"http-status\";\r\nclass ApiError extends Error {\r\n  constructor(statusCode, message) {\r\n    super();\r\n    this.statusCode = statusCode;\r\n    this.message = message;\r\n  }\r\n}\r\n\r\nconst handleError = (err, res) => {\r\n  const { statusCode, message } = err;\r\n  res.status(statusCode).json({\r\n    status: \"error\",\r\n    statusCode,\r\n    message,\r\n  });\r\n};\r\nconst convertToApiError = (err, req, res, next) => {\r\n  let error = err;\r\n  // check nếu ko có error\r\n  if (!(error instanceof ApiError)) {\r\n    const statusCode =\r\n      error.statusCode ||\r\n      httpStatus.BAD_REQUEST ||\r\n      httpStatus.INTERNAL_SERVER_ERROR;\r\n    const message = error.message || httpStatus[statusCode];\r\n    error = new ApiError(statusCode, message);\r\n  }\r\n  next(error);\r\n};\r\nmodule.exports = {\r\n  ApiError,\r\n  handleError,\r\n  convertToApiError,\r\n};\r\n"],"mappings":";;AAAA;;;;AACA,MAAMA,QAAN,SAAuBC,KAAvB,CAA6B;EAC3BC,WAAW,CAACC,UAAD,EAAaC,OAAb,EAAsB;IAC/B;IACA,KAAKD,UAAL,GAAkBA,UAAlB;IACA,KAAKC,OAAL,GAAeA,OAAf;EACD;;AAL0B;;AAQ7B,MAAMC,WAAW,GAAG,CAACC,GAAD,EAAMC,GAAN,KAAc;EAChC,MAAM;IAAEJ,UAAF;IAAcC;EAAd,IAA0BE,GAAhC;EACAC,GAAG,CAACC,MAAJ,CAAWL,UAAX,EAAuBM,IAAvB,CAA4B;IAC1BD,MAAM,EAAE,OADkB;IAE1BL,UAF0B;IAG1BC;EAH0B,CAA5B;AAKD,CAPD;;AAQA,MAAMM,iBAAiB,GAAG,CAACJ,GAAD,EAAMK,GAAN,EAAWJ,GAAX,EAAgBK,IAAhB,KAAyB;EACjD,IAAIC,KAAK,GAAGP,GAAZ,CADiD,CAEjD;;EACA,IAAI,EAAEO,KAAK,YAAYb,QAAnB,CAAJ,EAAkC;IAChC,MAAMG,UAAU,GACdU,KAAK,CAACV,UAAN,IACAW,mBAAA,CAAWC,WADX,IAEAD,mBAAA,CAAWE,qBAHb;IAIA,MAAMZ,OAAO,GAAGS,KAAK,CAACT,OAAN,IAAiBU,mBAAA,CAAWX,UAAX,CAAjC;IACAU,KAAK,GAAG,IAAIb,QAAJ,CAAaG,UAAb,EAAyBC,OAAzB,CAAR;EACD;;EACDQ,IAAI,CAACC,KAAD,CAAJ;AACD,CAZD;;AAaAI,MAAM,CAACC,OAAP,GAAiB;EACflB,QADe;EAEfK,WAFe;EAGfK;AAHe,CAAjB"}},"mtime":1666281006287},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\repository\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\repository\\\\members.repository.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _index = require(\"../models/index.js\");\n\nconst {\n  QueryTypes,\n  where\n} = require(\"sequelize\");\n\nconst db = require(\"../models\");\n\nrequire(\"dotenv\").config();\n\nconst Members = db.Members;\n\nconst findOne = async where => {\n  var _await$Members$findOn;\n\n  return (_await$Members$findOn = await Members.findOne({\n    where: where\n  })) === null || _await$Members$findOn === void 0 ? void 0 : _await$Members$findOn.dataValues;\n};\n\nconst createNewMember = async user => {\n  const member = await Members.create({\n    email: user.email,\n    fullname: user.fullname,\n    password: user.password,\n    verified_code: user.verified_code\n  });\n  return member === null || member === void 0 ? void 0 : member.dataValues;\n};\n\nconst getMemberByEmail = async email => {\n  var _await$Members$findOn2;\n\n  console.log(email);\n  return (_await$Members$findOn2 = await Members.findOne({\n    where: {\n      email: email\n    }\n  })) === null || _await$Members$findOn2 === void 0 ? void 0 : _await$Members$findOn2.dataValues;\n};\n\nconst getMemberByEmailActive = async email => {\n  var _await$Members$findOn3;\n\n  console.log(email);\n  return (_await$Members$findOn3 = await Members.findOne({\n    where: {\n      email: email,\n      status: \"Active\"\n    }\n  })) === null || _await$Members$findOn3 === void 0 ? void 0 : _await$Members$findOn3.dataValues;\n};\n\nconst getCodeByEmail = email => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const [results, metadata] = await _index.sequelize.query(`select verified_code from members where email = '${email}'`, {\n        type: QueryTypes.SELECT\n      });\n      console.log(results);\n      resolve(results);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nconst updateStatus = async where => {\n  return await Members.update({\n    status: \"Active\"\n  }, {\n    where: where\n  });\n};\n\nconst getMemberById = async memberID => {\n  var _await$Members$findOn4;\n\n  return (_await$Members$findOn4 = await Members.findOne({\n    where: {\n      id: memberID\n    }\n  })) === null || _await$Members$findOn4 === void 0 ? void 0 : _await$Members$findOn4.dataValues;\n};\n\nconst update = async (newObj, where) => {\n  await Members.update(newObj, {\n    where: where\n  });\n};\n\nconst showAllMember = async () => {\n  let memberList = [];\n  memberList = await Members.findAll({\n    raw: true\n  });\n  console.log(memberList);\n  return memberList;\n};\n\nconst sendMail = async (email, subject, text) => {\n  var nodemailer = require(\"nodemailer\");\n\n  var transporter = nodemailer.createTransport({\n    service: \"gmail\",\n    auth: {\n      user: process.env.MY_EMAIL,\n      pass: process.env.MY_PASSWORD\n    }\n  });\n  var mailOptions = {\n    from: process.env.MY_EMAIL,\n    to: email,\n    subject: subject,\n    text: text\n  };\n  transporter.sendMail(mailOptions, function (error, info) {\n    if (error) {\n      console.log(error);\n    } else {\n      console.log(\"Email sent: \" + info.response);\n    }\n  });\n}; // const updatePass = async (pass, where) => {\n//   console.log(where)\n//   await Members.update(pass, {\n//     where: where\n//   })\n// }\n\n\nconst updatePass = async (pass, where) => {\n  await Members.update(pass, {\n    where: where\n  });\n};\n\nmodule.exports = {\n  findOne,\n  createNewMember,\n  getMemberByEmail,\n  getMemberById,\n  update,\n  showAllMember,\n  updateStatus,\n  getCodeByEmail,\n  sendMail,\n  // updatePass\n  updatePass,\n  getMemberByEmailActive\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJRdWVyeVR5cGVzIiwid2hlcmUiLCJyZXF1aXJlIiwiZGIiLCJjb25maWciLCJNZW1iZXJzIiwiZmluZE9uZSIsImRhdGFWYWx1ZXMiLCJjcmVhdGVOZXdNZW1iZXIiLCJ1c2VyIiwibWVtYmVyIiwiY3JlYXRlIiwiZW1haWwiLCJmdWxsbmFtZSIsInBhc3N3b3JkIiwidmVyaWZpZWRfY29kZSIsImdldE1lbWJlckJ5RW1haWwiLCJjb25zb2xlIiwibG9nIiwiZ2V0TWVtYmVyQnlFbWFpbEFjdGl2ZSIsInN0YXR1cyIsImdldENvZGVCeUVtYWlsIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZXN1bHRzIiwibWV0YWRhdGEiLCJzZXF1ZWxpemUiLCJxdWVyeSIsInR5cGUiLCJTRUxFQ1QiLCJlcnJvciIsInVwZGF0ZVN0YXR1cyIsInVwZGF0ZSIsImdldE1lbWJlckJ5SWQiLCJtZW1iZXJJRCIsImlkIiwibmV3T2JqIiwic2hvd0FsbE1lbWJlciIsIm1lbWJlckxpc3QiLCJmaW5kQWxsIiwicmF3Iiwic2VuZE1haWwiLCJzdWJqZWN0IiwidGV4dCIsIm5vZGVtYWlsZXIiLCJ0cmFuc3BvcnRlciIsImNyZWF0ZVRyYW5zcG9ydCIsInNlcnZpY2UiLCJhdXRoIiwicHJvY2VzcyIsImVudiIsIk1ZX0VNQUlMIiwicGFzcyIsIk1ZX1BBU1NXT1JEIiwibWFpbE9wdGlvbnMiLCJmcm9tIiwidG8iLCJpbmZvIiwicmVzcG9uc2UiLCJ1cGRhdGVQYXNzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXENvZGVcXEZQVF9TdWJqZWN0XFxTV1BcXEhSTVNfQkVcXHNyY1xccmVwb3NpdG9yeVxcIiwic291cmNlcyI6WyJtZW1iZXJzLnJlcG9zaXRvcnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBRdWVyeVR5cGVzLCB3aGVyZSB9ID0gcmVxdWlyZShcInNlcXVlbGl6ZVwiKTtcclxuY29uc3QgZGIgPSByZXF1aXJlKFwiLi4vbW9kZWxzXCIpO1xyXG5pbXBvcnQgeyBzZXF1ZWxpemUgfSBmcm9tIFwiLi4vbW9kZWxzL2luZGV4LmpzXCI7XHJcbnJlcXVpcmUoXCJkb3RlbnZcIikuY29uZmlnKCk7XHJcblxyXG5jb25zdCBNZW1iZXJzID0gZGIuTWVtYmVycztcclxuY29uc3QgZmluZE9uZSA9IGFzeW5jICh3aGVyZSkgPT4ge1xyXG4gIHJldHVybiAoYXdhaXQgTWVtYmVycy5maW5kT25lKHsgd2hlcmU6IHdoZXJlIH0pKT8uZGF0YVZhbHVlcztcclxufTtcclxuY29uc3QgY3JlYXRlTmV3TWVtYmVyID0gYXN5bmMgKHVzZXIpID0+IHtcclxuICBjb25zdCBtZW1iZXIgPSBhd2FpdCBNZW1iZXJzLmNyZWF0ZSh7XHJcbiAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgIGZ1bGxuYW1lOiB1c2VyLmZ1bGxuYW1lLFxyXG4gICAgcGFzc3dvcmQ6IHVzZXIucGFzc3dvcmQsXHJcbiAgICB2ZXJpZmllZF9jb2RlOiB1c2VyLnZlcmlmaWVkX2NvZGUsXHJcbiAgfSk7XHJcbiAgcmV0dXJuIG1lbWJlcj8uZGF0YVZhbHVlcztcclxufTtcclxuXHJcbmNvbnN0IGdldE1lbWJlckJ5RW1haWwgPSBhc3luYyAoZW1haWwpID0+IHtcclxuICBjb25zb2xlLmxvZyhlbWFpbCk7XHJcbiAgcmV0dXJuIChcclxuICAgIGF3YWl0IE1lbWJlcnMuZmluZE9uZSh7XHJcbiAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgZW1haWw6IGVtYWlsLFxyXG4gICAgICB9LFxyXG4gICAgfSlcclxuICApPy5kYXRhVmFsdWVzO1xyXG59O1xyXG5cclxuY29uc3QgZ2V0TWVtYmVyQnlFbWFpbEFjdGl2ZSA9IGFzeW5jIChlbWFpbCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKGVtYWlsKTtcclxuICByZXR1cm4gKFxyXG4gICAgYXdhaXQgTWVtYmVycy5maW5kT25lKHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICBlbWFpbDogZW1haWwsXHJcbiAgICAgICAgc3RhdHVzOiBcIkFjdGl2ZVwiLFxyXG4gICAgICB9LFxyXG4gICAgfSlcclxuICApPy5kYXRhVmFsdWVzO1xyXG59O1xyXG5jb25zdCBnZXRDb2RlQnlFbWFpbCA9IChlbWFpbCkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBbcmVzdWx0cywgbWV0YWRhdGFdID0gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KFxyXG4gICAgICAgIGBzZWxlY3QgdmVyaWZpZWRfY29kZSBmcm9tIG1lbWJlcnMgd2hlcmUgZW1haWwgPSAnJHtlbWFpbH0nYCxcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0eXBlOiBRdWVyeVR5cGVzLlNFTEVDVCxcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICAgIGNvbnNvbGUubG9nKHJlc3VsdHMpO1xyXG4gICAgICByZXNvbHZlKHJlc3VsdHMpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuY29uc3QgdXBkYXRlU3RhdHVzID0gYXN5bmMgKHdoZXJlKSA9PiB7XHJcbiAgcmV0dXJuIGF3YWl0IE1lbWJlcnMudXBkYXRlKFxyXG4gICAgeyBzdGF0dXM6IFwiQWN0aXZlXCIgfSxcclxuICAgIHtcclxuICAgICAgd2hlcmU6IHdoZXJlLFxyXG4gICAgfVxyXG4gICk7XHJcbn07XHJcblxyXG5jb25zdCBnZXRNZW1iZXJCeUlkID0gYXN5bmMgKG1lbWJlcklEKSA9PiB7XHJcbiAgcmV0dXJuIChcclxuICAgIGF3YWl0IE1lbWJlcnMuZmluZE9uZSh7XHJcbiAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgaWQ6IG1lbWJlcklELFxyXG4gICAgICB9LFxyXG4gICAgfSlcclxuICApPy5kYXRhVmFsdWVzO1xyXG59O1xyXG5jb25zdCB1cGRhdGUgPSBhc3luYyAobmV3T2JqLCB3aGVyZSkgPT4ge1xyXG4gIGF3YWl0IE1lbWJlcnMudXBkYXRlKG5ld09iaiwge1xyXG4gICAgd2hlcmU6IHdoZXJlLFxyXG4gIH0pO1xyXG59O1xyXG5jb25zdCBzaG93QWxsTWVtYmVyID0gYXN5bmMgKCkgPT4ge1xyXG4gIGxldCBtZW1iZXJMaXN0ID0gW107XHJcbiAgbWVtYmVyTGlzdCA9IGF3YWl0IE1lbWJlcnMuZmluZEFsbCh7IHJhdzogdHJ1ZSB9KTtcclxuICBjb25zb2xlLmxvZyhtZW1iZXJMaXN0KTtcclxuICByZXR1cm4gbWVtYmVyTGlzdDtcclxufTtcclxuXHJcbmNvbnN0IHNlbmRNYWlsID0gYXN5bmMgKGVtYWlsLCBzdWJqZWN0LCB0ZXh0KSA9PiB7XHJcbiAgdmFyIG5vZGVtYWlsZXIgPSByZXF1aXJlKFwibm9kZW1haWxlclwiKTtcclxuXHJcbiAgdmFyIHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoe1xyXG4gICAgc2VydmljZTogXCJnbWFpbFwiLFxyXG4gICAgYXV0aDoge1xyXG4gICAgICB1c2VyOiBwcm9jZXNzLmVudi5NWV9FTUFJTCxcclxuICAgICAgcGFzczogcHJvY2Vzcy5lbnYuTVlfUEFTU1dPUkQsXHJcbiAgICB9LFxyXG4gIH0pO1xyXG5cclxuICB2YXIgbWFpbE9wdGlvbnMgPSB7XHJcbiAgICBmcm9tOiBwcm9jZXNzLmVudi5NWV9FTUFJTCxcclxuICAgIHRvOiBlbWFpbCxcclxuICAgIHN1YmplY3Q6IHN1YmplY3QsXHJcbiAgICB0ZXh0OiB0ZXh0LFxyXG4gIH07XHJcblxyXG4gIHRyYW5zcG9ydGVyLnNlbmRNYWlsKG1haWxPcHRpb25zLCBmdW5jdGlvbiAoZXJyb3IsIGluZm8pIHtcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIkVtYWlsIHNlbnQ6IFwiICsgaW5mby5yZXNwb25zZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG4vLyBjb25zdCB1cGRhdGVQYXNzID0gYXN5bmMgKHBhc3MsIHdoZXJlKSA9PiB7XHJcbi8vICAgY29uc29sZS5sb2cod2hlcmUpXHJcbi8vICAgYXdhaXQgTWVtYmVycy51cGRhdGUocGFzcywge1xyXG4vLyAgICAgd2hlcmU6IHdoZXJlXHJcbi8vICAgfSlcclxuLy8gfVxyXG5jb25zdCB1cGRhdGVQYXNzID0gYXN5bmMgKHBhc3MsIHdoZXJlKSA9PiB7XHJcbiAgYXdhaXQgTWVtYmVycy51cGRhdGUocGFzcywge1xyXG4gICAgd2hlcmU6IHdoZXJlLFxyXG4gIH0pO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgZmluZE9uZSxcclxuICBjcmVhdGVOZXdNZW1iZXIsXHJcbiAgZ2V0TWVtYmVyQnlFbWFpbCxcclxuICBnZXRNZW1iZXJCeUlkLFxyXG4gIHVwZGF0ZSxcclxuICBzaG93QWxsTWVtYmVyLFxyXG4gIHVwZGF0ZVN0YXR1cyxcclxuICBnZXRDb2RlQnlFbWFpbCxcclxuICBzZW5kTWFpbCxcclxuICAvLyB1cGRhdGVQYXNzXHJcbiAgdXBkYXRlUGFzcyxcclxuICBnZXRNZW1iZXJCeUVtYWlsQWN0aXZlLFxyXG59O1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBRUE7O0FBRkEsTUFBTTtFQUFFQSxVQUFGO0VBQWNDO0FBQWQsSUFBd0JDLE9BQU8sQ0FBQyxXQUFELENBQXJDOztBQUNBLE1BQU1DLEVBQUUsR0FBR0QsT0FBTyxDQUFDLFdBQUQsQ0FBbEI7O0FBRUFBLE9BQU8sQ0FBQyxRQUFELENBQVAsQ0FBa0JFLE1BQWxCOztBQUVBLE1BQU1DLE9BQU8sR0FBR0YsRUFBRSxDQUFDRSxPQUFuQjs7QUFDQSxNQUFNQyxPQUFPLEdBQUcsTUFBT0wsS0FBUCxJQUFpQjtFQUFBOztFQUMvQixnQ0FBUSxNQUFNSSxPQUFPLENBQUNDLE9BQVIsQ0FBZ0I7SUFBRUwsS0FBSyxFQUFFQTtFQUFULENBQWhCLENBQWQsMERBQU8sc0JBQTJDTSxVQUFsRDtB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","map":{"version":3,"names":["QueryTypes","where","require","db","config","Members","findOne","dataValues","createNewMember","user","member","create","email","fullname","password","verified_code","getMemberByEmail","console","log","getMemberByEmailActive","status","getCodeByEmail","Promise","resolve","reject","results","metadata","sequelize","query","type","SELECT","error","updateStatus","update","getMemberById","memberID","id","newObj","showAllMember","memberList","findAll","raw","sendMail","subject","text","nodemailer","transporter","createTransport","service","auth","process","env","MY_EMAIL","pass","MY_PASSWORD","mailOptions","from","to","info","response","updatePass","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\repository\\","sources":["members.repository.js"],"sourcesContent":["const { QueryTypes, where } = require(\"sequelize\");\r\nconst db = require(\"../models\");\r\nimport { sequelize } from \"../models/index.js\";\r\nrequire(\"dotenv\").config();\r\n\r\nconst Members = db.Members;\r\nconst findOne = async (where) => {\r\n  return (await Members.findOne({ where: where }))?.dataValues;\r\n};\r\nconst createNewMember = async (user) => {\r\n  const member = await Members.create({\r\n    email: user.email,\r\n    fullname: user.fullname,\r\n    password: user.password,\r\n    verified_code: user.verified_code,\r\n  });\r\n  return member?.dataValues;\r\n};\r\n\r\nconst getMemberByEmail = async (email) => {\r\n  console.log(email);\r\n  return (\r\n    await Members.findOne({\r\n      where: {\r\n        email: email,\r\n      },\r\n    })\r\n  )?.dataValues;\r\n};\r\n\r\nconst getMemberByEmailActive = async (email) => {\r\n  console.log(email);\r\n  return (\r\n    await Members.findOne({\r\n      where: {\r\n        email: email,\r\n        status: \"Active\",\r\n      },\r\n    })\r\n  )?.dataValues;\r\n};\r\nconst getCodeByEmail = (email) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      const [results, metadata] = await sequelize.query(\r\n        `select verified_code from members where email = '${email}'`,\r\n        {\r\n          type: QueryTypes.SELECT,\r\n        }\r\n      );\r\n      console.log(results);\r\n      resolve(results);\r\n    } catch (error) {\r\n      reject(error);\r\n    }\r\n  });\r\n};\r\nconst updateStatus = async (where) => {\r\n  return await Members.update(\r\n    { status: \"Active\" },\r\n    {\r\n      where: where,\r\n    }\r\n  );\r\n};\r\n\r\nconst getMemberById = async (memberID) => {\r\n  return (\r\n    await Members.findOne({\r\n      where: {\r\n        id: memberID,\r\n      },\r\n    })\r\n  )?.dataValues;\r\n};\r\nconst update = async (newObj, where) => {\r\n  await Members.update(newObj, {\r\n    where: where,\r\n  });\r\n};\r\nconst showAllMember = async () => {\r\n  let memberList = [];\r\n  memberList = await Members.findAll({ raw: true });\r\n  console.log(memberList);\r\n  return memberList;\r\n};\r\n\r\nconst sendMail = async (email, subject, text) => {\r\n  var nodemailer = require(\"nodemailer\");\r\n\r\n  var transporter = nodemailer.createTransport({\r\n    service: \"gmail\",\r\n    auth: {\r\n      user: process.env.MY_EMAIL,\r\n      pass: process.env.MY_PASSWORD,\r\n    },\r\n  });\r\n\r\n  var mailOptions = {\r\n    from: process.env.MY_EMAIL,\r\n    to: email,\r\n    subject: subject,\r\n    text: text,\r\n  };\r\n\r\n  transporter.sendMail(mailOptions, function (error, info) {\r\n    if (error) {\r\n      console.log(error);\r\n    } else {\r\n      console.log(\"Email sent: \" + info.response);\r\n    }\r\n  });\r\n};\r\n\r\n// const updatePass = async (pass, where) => {\r\n//   console.log(where)\r\n//   await Members.update(pass, {\r\n//     where: where\r\n//   })\r\n// }\r\nconst updatePass = async (pass, where) => {\r\n  await Members.update(pass, {\r\n    where: where,\r\n  });\r\n};\r\n\r\nmodule.exports = {\r\n  findOne,\r\n  createNewMember,\r\n  getMemberByEmail,\r\n  getMemberById,\r\n  update,\r\n  showAllMember,\r\n  updateStatus,\r\n  getCodeByEmail,\r\n  sendMail,\r\n  // updatePass\r\n  updatePass,\r\n  getMemberByEmailActive,\r\n};\r\n"],"mappings":"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"}},"mtime":1667231784572},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\models\\\\index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst fs = require(\"fs\");\n\nconst path = require(\"path\");\n\nconst Sequelize = require(\"sequelize\");\n\nconst basename = path.basename(__filename);\nconst env = process.env.NODE_ENV || \"development\";\nconsole.log(__dirname);\n\nconst config = require(\"../../config/config.json\")[env];\n\nconst db = {};\nlet sequelize;\n\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(config.database, config.username, config.password, config);\n}\n\nfs.readdirSync(__dirname).filter(file => {\n  return file.indexOf(\".\") !== 0 && file !== basename && file.slice(-3) === \".js\";\n}).forEach(file => {\n  console.log(__dirname);\n  console.log(file);\n\n  const model = require(path.join(__dirname, file))(sequelize, Sequelize.DataTypes);\n\n  db[model.name] = model;\n});\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\nmodule.exports = db;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJwYXRoIiwiU2VxdWVsaXplIiwiYmFzZW5hbWUiLCJfX2ZpbGVuYW1lIiwiZW52IiwicHJvY2VzcyIsIk5PREVfRU5WIiwiY29uc29sZSIsImxvZyIsIl9fZGlybmFtZSIsImNvbmZpZyIsImRiIiwic2VxdWVsaXplIiwidXNlX2Vudl92YXJpYWJsZSIsImRhdGFiYXNlIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInJlYWRkaXJTeW5jIiwiZmlsdGVyIiwiZmlsZSIsImluZGV4T2YiLCJzbGljZSIsImZvckVhY2giLCJtb2RlbCIsImpvaW4iLCJEYXRhVHlwZXMiLCJuYW1lIiwiT2JqZWN0Iiwia2V5cyIsIm1vZGVsTmFtZSIsImFzc29jaWF0ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxDb2RlXFxGUFRfU3ViamVjdFxcU1dQXFxIUk1TX0JFXFxzcmNcXG1vZGVsc1xcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuXHJcbmNvbnN0IGZzID0gcmVxdWlyZShcImZzXCIpO1xyXG5jb25zdCBwYXRoID0gcmVxdWlyZShcInBhdGhcIik7XHJcbmNvbnN0IFNlcXVlbGl6ZSA9IHJlcXVpcmUoXCJzZXF1ZWxpemVcIik7XHJcbmNvbnN0IGJhc2VuYW1lID0gcGF0aC5iYXNlbmFtZShfX2ZpbGVuYW1lKTtcclxuY29uc3QgZW52ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgfHwgXCJkZXZlbG9wbWVudFwiO1xyXG5jb25zb2xlLmxvZyhfX2Rpcm5hbWUpO1xyXG5jb25zdCBjb25maWcgPSByZXF1aXJlKFwiLi4vLi4vY29uZmlnL2NvbmZpZy5qc29uXCIpW2Vudl07XHJcblxyXG5jb25zdCBkYiA9IHt9O1xyXG5cclxubGV0IHNlcXVlbGl6ZTtcclxuaWYgKGNvbmZpZy51c2VfZW52X3ZhcmlhYmxlKSB7XHJcbiAgc2VxdWVsaXplID0gbmV3IFNlcXVlbGl6ZShwcm9jZXNzLmVudltjb25maWcudXNlX2Vudl92YXJpYWJsZV0sIGNvbmZpZyk7XHJcbn0gZWxzZSB7XHJcbiAgc2VxdWVsaXplID0gbmV3IFNlcXVlbGl6ZShcclxuICAgIGNvbmZpZy5kYXRhYmFzZSxcclxuICAgIGNvbmZpZy51c2VybmFtZSxcclxuICAgIGNvbmZpZy5wYXNzd29yZCxcclxuICAgIGNvbmZpZ1xyXG4gICk7XHJcbn1cclxuXHJcbmZzLnJlYWRkaXJTeW5jKF9fZGlybmFtZSlcclxuICAuZmlsdGVyKChmaWxlKSA9PiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICBmaWxlLmluZGV4T2YoXCIuXCIpICE9PSAwICYmIGZpbGUgIT09IGJhc2VuYW1lICYmIGZpbGUuc2xpY2UoLTMpID09PSBcIi5qc1wiXHJcbiAgICApO1xyXG4gIH0pXHJcbiAgLmZvckVhY2goKGZpbGUpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKF9fZGlybmFtZSk7XHJcbiAgICBjb25zb2xlLmxvZyhmaWxlKTtcclxuICAgIGNvbnN0IG1vZGVsID0gcmVxdWlyZShwYXRoLmpvaW4oX19kaXJuYW1lLCBmaWxlKSkoXHJcbiAgICAgIHNlcXVlbGl6ZSxcclxuICAgICAgU2VxdWVsaXplLkRhdGFUeXBlc1xyXG4gICAgKTtcclxuICAgIGRiW21vZGVsLm5hbWVdID0gbW9kZWw7XHJcbiAgfSk7XHJcblxyXG5PYmplY3Qua2V5cyhkYikuZm9yRWFjaCgobW9kZWxOYW1lKSA9PiB7XHJcbiAgaWYgKGRiW21vZGVsTmFtZV0uYXNzb2NpYXRlKSB7XHJcbiAgICBkYlttb2RlbE5hbWVdLmFzc29jaWF0ZShkYik7XHJcbiAgfVxyXG59KTtcclxuXHJcbmRiLnNlcXVlbGl6ZSA9IHNlcXVlbGl6ZTtcclxuZGIuU2VxdWVsaXplID0gU2VxdWVsaXplO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBkYjtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxNQUFNQSxFQUFFLEdBQUdDLE9BQU8sQ0FBQyxJQUFELENBQWxCOztBQUNBLE1BQU1DLElBQUksR0FBR0QsT0FBTyxDQUFDLE1BQUQsQ0FBcEI7O0FBQ0EsTUFBTUUsU0FBUyxHQUFHRixPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxNQUFNRyxRQUFRLEdBQUdGLElBQUksQ0FBQ0UsUUFBTCxDQUFjQyxVQUFkLENBQWpCO0FBQ0EsTUFBTUMsR0FBRyxHQUFHQyxPQUFPLENBQUNELEdBQVIsQ0FBWUUsUUFBWixJQUF3QixhQUFwQztBQUNBQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsU0FBWjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdYLE9BQU8sQ0FBQywwQkFBRCxDQUFQLENBQW9DSyxHQUFwQyxDQUFmOztBQUVBLE1BQU1PLEVBQUUsR0FBRyxFQUFYO0FBRUEsSUFBSUMsU0FBSjs7QUFDQSxJQUFJRixNQUFNLENBQUNHLGdCQUFYLEVBQTZCO0VBQzNCRCxTQUFTLEdBQUcsSUFBSVgsU0FBSixDQUFjSSxPQUFPLENBQUNELEdBQVIsQ0FBWU0sTUFBTSxDQUFDRyxnQkFBbkIsQ0FBZCxFQUFvREgsTUFBcEQsQ0FBWjtBQUNELENBRkQsTUFFTztFQUNMRSxTQUFTLEdBQUcsSUFBSVgsU0FBSixDQUNWUyxNQUFNLENBQUNJLFFBREcsRUFFVkosTUFBTSxDQUFDSyxRQUZHLEVBR1ZMLE1BQU0sQ0FBQ00sUUFIRyxFQUlWTixNQUpVLENBQVo7QUFNRDs7QUFFRFosRUFBRSxDQUFDbUIsV0FBSCxDQUFlUixTQUFmLEVBQ0dTLE1BREgsQ0FDV0MsSUFBRCxJQUFVO0VBQ2hCLE9BQ0VBLElBQUksQ0FBQ0MsT0FBTCxDQUFhLEdBQWIsTUFBc0IsQ0FBdEIsSUFBMkJELElBQUksS0FBS2pCLFFBQXBDLElBQWdEaUIsSUFBSSxDQUFDRSxLQUFMLENBQVcsQ0FBQyxDQUFaLE1BQW1CLEtBRHJFO0FBR0QsQ0FMSCxFQU1HQyxPQU5ILENBTVlILElBQUQsSUFBVTtFQUNqQlosT0FBTyxDQUFDQyxHQUFSLENBQVlDLFNBQVo7RUFDQUYsT0FBTyxDQUFDQyxHQUFSLENBQVlXLElBQVo7O0VBQ0EsTUFBTUksS0FBSyxHQUFHeEIsT0FBTyxDQUFDQyxJQUFJLENBQUN3QixJQUFMLENBQVVmLFNBQVYsRUFBcUJVLElBQXJCLENBQUQsQ0FBUCxDQUNaUCxTQURZLEVBRVpYLFNBQVMsQ0FBQ3dCLFNBRkUsQ0FBZDs7RUFJQWQsRUFBRSxDQUFDWSxLQUFLLENBQUNHLElBQVAsQ0FBRixHQUFpQkgsS0FBakI7QUFDRCxDQWRIO0FBZ0JBSSxNQUFNLENBQUNDLElBQVAsQ0FBWWpCLEVBQVosRUFBZ0JXLE9BQWhCLENBQXlCTyxTQUFELElBQWU7RUFDckMsSUFBSWxCLEVBQUUsQ0FBQ2tCLFNBQUQsQ0FBRixDQUFjQyxTQUFsQixFQUE2QjtJQUMzQm5CLEVBQUUsQ0FBQ2tCLFNBQUQsQ0FBRixDQUFjQyxTQUFkLENBQXdCbkIsRUFBeEI7RUFDRDtBQUNGLENBSkQ7QUFNQUEsRUFBRSxDQUFDQyxTQUFILEdBQWVBLFNBQWY7QUFDQUQsRUFBRSxDQUFDVixTQUFILEdBQWVBLFNBQWY7QUFFQThCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnJCLEVBQWpCIn0=","map":{"version":3,"names":["fs","require","path","Sequelize","basename","__filename","env","process","NODE_ENV","console","log","__dirname","config","db","sequelize","use_env_variable","database","username","password","readdirSync","filter","file","indexOf","slice","forEach","model","join","DataTypes","name","Object","keys","modelName","associate","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\models\\","sources":["index.js"],"sourcesContent":["\"use strict\";\r\n\r\nconst fs = require(\"fs\");\r\nconst path = require(\"path\");\r\nconst Sequelize = require(\"sequelize\");\r\nconst basename = path.basename(__filename);\r\nconst env = process.env.NODE_ENV || \"development\";\r\nconsole.log(__dirname);\r\nconst config = require(\"../../config/config.json\")[env];\r\n\r\nconst db = {};\r\n\r\nlet sequelize;\r\nif (config.use_env_variable) {\r\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\r\n} else {\r\n  sequelize = new Sequelize(\r\n    config.database,\r\n    config.username,\r\n    config.password,\r\n    config\r\n  );\r\n}\r\n\r\nfs.readdirSync(__dirname)\r\n  .filter((file) => {\r\n    return (\r\n      file.indexOf(\".\") !== 0 && file !== basename && file.slice(-3) === \".js\"\r\n    );\r\n  })\r\n  .forEach((file) => {\r\n    console.log(__dirname);\r\n    console.log(file);\r\n    const model = require(path.join(__dirname, file))(\r\n      sequelize,\r\n      Sequelize.DataTypes\r\n    );\r\n    db[model.name] = model;\r\n  });\r\n\r\nObject.keys(db).forEach((modelName) => {\r\n  if (db[modelName].associate) {\r\n    db[modelName].associate(db);\r\n  }\r\n});\r\n\r\ndb.sequelize = sequelize;\r\ndb.Sequelize = Sequelize;\r\n\r\nmodule.exports = db;\r\n"],"mappings":"AAAA;;AAEA,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AACA,MAAME,SAAS,GAAGF,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAMG,QAAQ,GAAGF,IAAI,CAACE,QAAL,CAAcC,UAAd,CAAjB;AACA,MAAMC,GAAG,GAAGC,OAAO,CAACD,GAAR,CAAYE,QAAZ,IAAwB,aAApC;AACAC,OAAO,CAACC,GAAR,CAAYC,SAAZ;;AACA,MAAMC,MAAM,GAAGX,OAAO,CAAC,0BAAD,CAAP,CAAoCK,GAApC,CAAf;;AAEA,MAAMO,EAAE,GAAG,EAAX;AAEA,IAAIC,SAAJ;;AACA,IAAIF,MAAM,CAACG,gBAAX,EAA6B;EAC3BD,SAAS,GAAG,IAAIX,SAAJ,CAAcI,OAAO,CAACD,GAAR,CAAYM,MAAM,CAACG,gBAAnB,CAAd,EAAoDH,MAApD,CAAZ;AACD,CAFD,MAEO;EACLE,SAAS,GAAG,IAAIX,SAAJ,CACVS,MAAM,CAACI,QADG,EAEVJ,MAAM,CAACK,QAFG,EAGVL,MAAM,CAACM,QAHG,EAIVN,MAJU,CAAZ;AAMD;;AAEDZ,EAAE,CAACmB,WAAH,CAAeR,SAAf,EACGS,MADH,CACWC,IAAD,IAAU;EAChB,OACEA,IAAI,CAACC,OAAL,CAAa,GAAb,MAAsB,CAAtB,IAA2BD,IAAI,KAAKjB,QAApC,IAAgDiB,IAAI,CAACE,KAAL,CAAW,CAAC,CAAZ,MAAmB,KADrE;AAGD,CALH,EAMGC,OANH,CAMYH,IAAD,IAAU;EACjBZ,OAAO,CAACC,GAAR,CAAYC,SAAZ;EACAF,OAAO,CAACC,GAAR,CAAYW,IAAZ;;EACA,MAAMI,KAAK,GAAGxB,OAAO,CAACC,IAAI,CAACwB,IAAL,CAAUf,SAAV,EAAqBU,IAArB,CAAD,CAAP,CACZP,SADY,EAEZX,SAAS,CAACwB,SAFE,CAAd;;EAIAd,EAAE,CAACY,KAAK,CAACG,IAAP,CAAF,GAAiBH,KAAjB;AACD,CAdH;AAgBAI,MAAM,CAACC,IAAP,CAAYjB,EAAZ,EAAgBW,OAAhB,CAAyBO,SAAD,IAAe;EACrC,IAAIlB,EAAE,CAACkB,SAAD,CAAF,CAAcC,SAAlB,EAA6B;IAC3BnB,EAAE,CAACkB,SAAD,CAAF,CAAcC,SAAd,CAAwBnB,EAAxB;EACD;AACF,CAJD;AAMAA,EAAE,CAACC,SAAH,GAAeA,SAAf;AACAD,EAAE,CAACV,SAAH,GAAeA,SAAf;AAEA8B,MAAM,CAACC,OAAP,GAAiBrB,EAAjB"}},"mtime":1666281006314},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\models\\\\campaigns.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nconst {\n  v4: uuidv4\n} = require(\"uuid\");\n\nconst {\n  campaignStatusDefault,\n  campaignStatus\n} = require(\"../constant/campaignStatus.enum\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Campaigns extends Model {\n    static associate(models) {\n      // define association here\n      Campaigns.hasMany(models.Jobs, {\n        foreignKey: \"Campaign_id\"\n      });\n    }\n\n  }\n\n  Campaigns.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    title: {\n      allowNull: false,\n      type: DataTypes.STRING(45)\n    },\n    description: {\n      allowNull: false,\n      type: DataTypes.TEXT\n    },\n    start_date: {\n      allowNull: false,\n      type: DataTypes.DATEONLY\n    },\n    end_date: {\n      allowNull: false,\n      type: DataTypes.DATEONLY\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(campaignStatus),\n      defaultValue: campaignStatusDefault\n    }\n  }, {\n    sequelize,\n    modelName: \"Campaigns\",\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  Campaigns.beforeCreate(cam => cam.id = uuidv4());\n  return Campaigns;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJ2NCIsInV1aWR2NCIsImNhbXBhaWduU3RhdHVzRGVmYXVsdCIsImNhbXBhaWduU3RhdHVzIiwibW9kdWxlIiwiZXhwb3J0cyIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsIkNhbXBhaWducyIsImFzc29jaWF0ZSIsIm1vZGVscyIsImhhc01hbnkiLCJKb2JzIiwiZm9yZWlnbktleSIsImluaXQiLCJpZCIsImFsbG93TnVsbCIsInByaW1hcnlLZXkiLCJ0eXBlIiwiU1RSSU5HIiwiZGVmYXVsdFZhbHVlIiwiVVVJRFY0IiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIlRFWFQiLCJzdGFydF9kYXRlIiwiREFURU9OTFkiLCJlbmRfZGF0ZSIsInN0YXR1cyIsIkVOVU0iLCJtb2RlbE5hbWUiLCJ0aW1lc3RhbXBzIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0IiwiYmVmb3JlQ3JlYXRlIiwiY2FtIl0sInNvdXJjZVJvb3QiOiJEOlxcQ29kZVxcRlBUX1N1YmplY3RcXFNXUFxcSFJNU19CRVxcc3JjXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiY2FtcGFpZ25zLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5jb25zdCB7IE1vZGVsIH0gPSByZXF1aXJlKFwic2VxdWVsaXplXCIpO1xyXG5jb25zdCB7IHY0OiB1dWlkdjQgfSA9IHJlcXVpcmUoXCJ1dWlkXCIpO1xyXG5jb25zdCB7XHJcbiAgY2FtcGFpZ25TdGF0dXNEZWZhdWx0LFxyXG4gIGNhbXBhaWduU3RhdHVzLFxyXG59ID0gcmVxdWlyZShcIi4uL2NvbnN0YW50L2NhbXBhaWduU3RhdHVzLmVudW1cIik7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xyXG4gIGNsYXNzIENhbXBhaWducyBleHRlbmRzIE1vZGVsIHtcclxuICAgIHN0YXRpYyBhc3NvY2lhdGUobW9kZWxzKSB7XHJcbiAgICAgIC8vIGRlZmluZSBhc3NvY2lhdGlvbiBoZXJlXHJcbiAgICAgIENhbXBhaWducy5oYXNNYW55KG1vZGVscy5Kb2JzLCB7IGZvcmVpZ25LZXk6IFwiQ2FtcGFpZ25faWRcIiB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgQ2FtcGFpZ25zLmluaXQoXHJcbiAgICB7XHJcbiAgICAgIGlkOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICBwcmltYXJ5S2V5OiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoMzYpLFxyXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLlVVSURWNCxcclxuICAgICAgfSxcclxuICAgICAgdGl0bGU6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoNDUpLFxyXG4gICAgICB9LFxyXG4gICAgICBkZXNjcmlwdGlvbjoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlRFWFQsXHJcbiAgICAgIH0sXHJcbiAgICAgIHN0YXJ0X2RhdGU6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5EQVRFT05MWSxcclxuICAgICAgfSxcclxuICAgICAgZW5kX2RhdGU6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5EQVRFT05MWSxcclxuICAgICAgfSxcclxuICAgICAgc3RhdHVzOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuRU5VTShjYW1wYWlnblN0YXR1cyksXHJcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBjYW1wYWlnblN0YXR1c0RlZmF1bHQsXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBzZXF1ZWxpemUsXHJcbiAgICAgIG1vZGVsTmFtZTogXCJDYW1wYWlnbnNcIixcclxuICAgICAgdGltZXN0YW1wczogZmFsc2UsXHJcbiAgICAgIGNyZWF0ZWRBdDogZmFsc2UsXHJcbiAgICAgIHVwZGF0ZWRBdDogZmFsc2UsXHJcbiAgICB9XHJcbiAgKTtcclxuICBDYW1wYWlnbnMuYmVmb3JlQ3JlYXRlKChjYW0pID0+IChjYW0uaWQgPSB1dWlkdjQoKSkpO1xyXG4gIHJldHVybiBDYW1wYWlnbnM7XHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0EsTUFBTTtFQUFFQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU07RUFBRUMsRUFBRSxFQUFFQztBQUFOLElBQWlCRixPQUFPLENBQUMsTUFBRCxDQUE5Qjs7QUFDQSxNQUFNO0VBQ0pHLHFCQURJO0VBRUpDO0FBRkksSUFHRkosT0FBTyxDQUFDLGlDQUFELENBSFg7O0FBS0FLLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixDQUFDQyxTQUFELEVBQVlDLFNBQVosS0FBMEI7RUFDekMsTUFBTUMsU0FBTixTQUF3QlYsS0FBeEIsQ0FBOEI7SUFDWixPQUFUVyxTQUFTLENBQUNDLE1BQUQsRUFBUztNQUN2QjtNQUNBRixTQUFTLENBQUNHLE9BQVYsQ0FBa0JELE1BQU0sQ0FBQ0UsSUFBekIsRUFBK0I7UUFBRUMsVUFBVSxFQUFFO01BQWQsQ0FBL0I7SUFDRDs7RUFKMkI7O0VBTTlCTCxTQUFTLENBQUNNLElBQVYsQ0FDRTtJQUNFQyxFQUFFLEVBQUU7TUFDRkMsU0FBUyxFQUFFLEtBRFQ7TUFFRkMsVUFBVSxFQUFFLElBRlY7TUFHRkMsSUFBSSxFQUFFWCxTQUFTLENBQUNZLE1BQVYsQ0FBaUIsRUFBakIsQ0FISjtNQUlGQyxZQUFZLEVBQUViLFNBQVMsQ0FBQ2M7SUFKdEIsQ0FETjtJQU9FQyxLQUFLLEVBQUU7TUFDTE4sU0FBUyxFQUFFLEtBRE47TUFFTEUsSUFBSSxFQUFFWCxTQUFTLENBQUNZLE1BQVYsQ0FBaUIsRUFBakI7SUFGRCxDQVBUO0lBV0VJLFdBQVcsRUFBRTtNQUNYUCxTQUFTLEVBQUUsS0FEQTtNQUVYRSxJQUFJLEVBQUVYLFNBQVMsQ0FBQ2lCO0lBRkwsQ0FYZjtJQWVFQyxVQUFVLEVBQUU7TUFDVlQsU0FBUyxFQUFFLEtBREQ7TUFFVkUsSUFBSSxFQUFFWCxTQUFTLENBQUNtQjtJQUZOLENBZmQ7SUFtQkVDLFFBQVEsRUFBRTtNQUNSWCxTQUFTLEVBQUUsS0FESDtNQUVSRSxJQUFJLEVBQUVYLFNBQVMsQ0FBQ21CO0lBRlIsQ0FuQlo7SUF1QkVFLE1BQU0sRUFBRTtNQUNOWixTQUFTLEVBQUUsS0FETDtNQUVORSxJQUFJLEVBQUVYLFNBQVMsQ0FBQ3NCLElBQVYsQ0FBZTFCLGNBQWYsQ0FGQTtNQUdOaUIsWUFBWSxFQUFFbEI7SUFIUjtFQXZCVixDQURGLEVBOEJFO0lBQ0VJLFNBREY7SUFFRXdCLFNBQVMsRUFBRSxXQUZiO0lBR0VDLFVBQVUsRUFBRSxLQUhkO0lBSUVDLFNBQVMsRUFBRSxLQUpiO0lBS0VDLFNBQVMsRUFBRTtFQUxiLENBOUJGO0VBc0NBekIsU0FBUyxDQUFDMEIsWUFBVixDQUF3QkMsR0FBRCxJQUFVQSxHQUFHLENBQUNwQixFQUFKLEdBQVNkLE1BQU0sRUFBaEQ7RUFDQSxPQUFPTyxTQUFQO0FBQ0QsQ0EvQ0QifQ==","map":{"version":3,"names":["Model","require","v4","uuidv4","campaignStatusDefault","campaignStatus","module","exports","sequelize","DataTypes","Campaigns","associate","models","hasMany","Jobs","foreignKey","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","title","description","TEXT","start_date","DATEONLY","end_date","status","ENUM","modelName","timestamps","createdAt","updatedAt","beforeCreate","cam"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\models\\","sources":["campaigns.model.js"],"sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nconst { v4: uuidv4 } = require(\"uuid\");\r\nconst {\r\n  campaignStatusDefault,\r\n  campaignStatus,\r\n} = require(\"../constant/campaignStatus.enum\");\r\n\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Campaigns extends Model {\r\n    static associate(models) {\r\n      // define association here\r\n      Campaigns.hasMany(models.Jobs, { foreignKey: \"Campaign_id\" });\r\n    }\r\n  }\r\n  Campaigns.init(\r\n    {\r\n      id: {\r\n        allowNull: false,\r\n        primaryKey: true,\r\n        type: DataTypes.STRING(36),\r\n        defaultValue: DataTypes.UUIDV4,\r\n      },\r\n      title: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(45),\r\n      },\r\n      description: {\r\n        allowNull: false,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      start_date: {\r\n        allowNull: false,\r\n        type: DataTypes.DATEONLY,\r\n      },\r\n      end_date: {\r\n        allowNull: false,\r\n        type: DataTypes.DATEONLY,\r\n      },\r\n      status: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(campaignStatus),\r\n        defaultValue: campaignStatusDefault,\r\n      },\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"Campaigns\",\r\n      timestamps: false,\r\n      createdAt: false,\r\n      updatedAt: false,\r\n    }\r\n  );\r\n  Campaigns.beforeCreate((cam) => (cam.id = uuidv4()));\r\n  return Campaigns;\r\n};\r\n"],"mappings":"AAAA;;AACA,MAAM;EAAEA;AAAF,IAAYC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAM;EAAEC,EAAE,EAAEC;AAAN,IAAiBF,OAAO,CAAC,MAAD,CAA9B;;AACA,MAAM;EACJG,qBADI;EAEJC;AAFI,IAGFJ,OAAO,CAAC,iCAAD,CAHX;;AAKAK,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;EACzC,MAAMC,SAAN,SAAwBV,KAAxB,CAA8B;IACZ,OAATW,SAAS,CAACC,MAAD,EAAS;MACvB;MACAF,SAAS,CAACG,OAAV,CAAkBD,MAAM,CAACE,IAAzB,EAA+B;QAAEC,UAAU,EAAE;MAAd,CAA/B;IACD;;EAJ2B;;EAM9BL,SAAS,CAACM,IAAV,CACE;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB,CAHJ;MAIFC,YAAY,EAAEb,SAAS,CAACc;IAJtB,CADN;IAOEC,KAAK,EAAE;MACLN,SAAS,EAAE,KADN;MAELE,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB;IAFD,CAPT;IAWEI,WAAW,EAAE;MACXP,SAAS,EAAE,KADA;MAEXE,IAAI,EAAEX,SAAS,CAACiB;IAFL,CAXf;IAeEC,UAAU,EAAE;MACVT,SAAS,EAAE,KADD;MAEVE,IAAI,EAAEX,SAAS,CAACmB;IAFN,CAfd;IAmBEC,QAAQ,EAAE;MACRX,SAAS,EAAE,KADH;MAERE,IAAI,EAAEX,SAAS,CAACmB;IAFR,CAnBZ;IAuBEE,MAAM,EAAE;MACNZ,SAAS,EAAE,KADL;MAENE,IAAI,EAAEX,SAAS,CAACsB,IAAV,CAAe1B,cAAf,CAFA;MAGNiB,YAAY,EAAElB;IAHR;EAvBV,CADF,EA8BE;IACEI,SADF;IAEEwB,SAAS,EAAE,WAFb;IAGEC,UAAU,EAAE,KAHd;IAIEC,SAAS,EAAE,KAJb;IAKEC,SAAS,EAAE;EALb,CA9BF;EAsCAzB,SAAS,CAAC0B,YAAV,CAAwBC,GAAD,IAAUA,GAAG,CAACpB,EAAJ,GAASd,MAAM,EAAhD;EACA,OAAOO,SAAP;AACD,CA/CD"}},"mtime":1666281006292},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\constant\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\constant\\\\campaignStatus.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  campaignStatus: [\"Not started\", \"Processing\", \"Finished\", \"Hidden\"],\n  campaignStatusDefault: \"Not started\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiY2FtcGFpZ25TdGF0dXMiLCJjYW1wYWlnblN0YXR1c0RlZmF1bHQiXSwic291cmNlUm9vdCI6IkQ6XFxDb2RlXFxGUFRfU3ViamVjdFxcU1dQXFxIUk1TX0JFXFxzcmNcXGNvbnN0YW50XFwiLCJzb3VyY2VzIjpbImNhbXBhaWduU3RhdHVzLmVudW0uanMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBjYW1wYWlnblN0YXR1czogW1wiTm90IHN0YXJ0ZWRcIiwgXCJQcm9jZXNzaW5nXCIsIFwiRmluaXNoZWRcIiwgXCJIaWRkZW5cIl0sXHJcbiAgICBjYW1wYWlnblN0YXR1c0RlZmF1bHQ6IFwiTm90IHN0YXJ0ZWRcIlxyXG59Il0sIm1hcHBpbmdzIjoiOztBQUFBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7RUFDYkMsY0FBYyxFQUFFLENBQUMsYUFBRCxFQUFnQixZQUFoQixFQUE4QixVQUE5QixFQUEwQyxRQUExQyxDQURIO0VBRWJDLHFCQUFxQixFQUFFO0FBRlYsQ0FBakIifQ==","map":{"version":3,"names":["module","exports","campaignStatus","campaignStatusDefault"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\constant\\","sources":["campaignStatus.enum.js"],"sourcesContent":["module.exports = {\r\n    campaignStatus: [\"Not started\", \"Processing\", \"Finished\", \"Hidden\"],\r\n    campaignStatusDefault: \"Not started\"\r\n}"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACbC,cAAc,EAAE,CAAC,aAAD,EAAgB,YAAhB,EAA8B,UAA9B,EAA0C,QAA1C,CADH;EAEbC,qBAAqB,EAAE;AAFV,CAAjB"}},"mtime":1666281032446},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\models\\\\candidatedetails.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nconst {\n  applyStatus,\n  applyStatusDefault\n} = require(\"../constant/cvStatus.enum.js\");\n\nconst {\n  v4: uuidv4\n} = require(\"uuid\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class CandidateDetails extends Model {\n    static associate(models) {\n      // define association here\n      CandidateDetails.belongsTo(models.Members, {\n        foreignKey: \"Member_id\"\n      });\n      CandidateDetails.belongsTo(models.Staffs, {\n        foreignKey: \"HRStaff_id\"\n      });\n      CandidateDetails.belongsTo(models.Jobs, {\n        foreignKey: \"Job_id\"\n      });\n      CandidateDetails.hasOne(models.Interviews, {\n        foreignKey: \"CandidateDetail_id\"\n      });\n    }\n\n  }\n\n  CandidateDetails.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    identity_number: {\n      allowNull: true,\n      type: DataTypes.STRING(12)\n    },\n    resume_url: {\n      allowNull: false,\n      type: DataTypes.TEXT\n    },\n    phone: {\n      allowNull: false,\n      type: DataTypes.STRING(10)\n    },\n    applied_status: {\n      allowNull: false,\n      type: DataTypes.ENUM(applyStatus),\n      defaultValue: applyStatusDefault\n    },\n    dob: {\n      allowNull: true,\n      type: DataTypes.DATEONLY\n    },\n    address: {\n      allowNull: true,\n      type: DataTypes.TEXT\n    },\n    Job_id: {\n      allowNull: false,\n      type: DataTypes.STRING(36),\n      references: {\n        model: \"Jobs\",\n        key: \"id\"\n      }\n    },\n    HRStaff_id: {\n      allowNull: false,\n      type: DataTypes.STRING(36),\n      references: {\n        model: \"Staffs\",\n        key: \"id\"\n      }\n    },\n    Member_id: {\n      allowNull: false,\n      type: DataTypes.STRING(36),\n      references: {\n        model: \"Members\",\n        key: \"id\"\n      }\n    }\n  }, {\n    sequelize,\n    modelName: \"CandidateDetails\",\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  CandidateDetails.beforeCreate(can => can.id = uuidv4());\n  return CandidateDetails;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJhcHBseVN0YXR1cyIsImFwcGx5U3RhdHVzRGVmYXVsdCIsInY0IiwidXVpZHY0IiwibW9kdWxlIiwiZXhwb3J0cyIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsIkNhbmRpZGF0ZURldGFpbHMiLCJhc3NvY2lhdGUiLCJtb2RlbHMiLCJiZWxvbmdzVG8iLCJNZW1iZXJzIiwiZm9yZWlnbktleSIsIlN0YWZmcyIsIkpvYnMiLCJoYXNPbmUiLCJJbnRlcnZpZXdzIiwiaW5pdCIsImlkIiwiYWxsb3dOdWxsIiwicHJpbWFyeUtleSIsInR5cGUiLCJTVFJJTkciLCJkZWZhdWx0VmFsdWUiLCJVVUlEVjQiLCJpZGVudGl0eV9udW1iZXIiLCJyZXN1bWVfdXJsIiwiVEVYVCIsInBob25lIiwiYXBwbGllZF9zdGF0dXMiLCJFTlVNIiwiZG9iIiwiREFURU9OTFkiLCJhZGRyZXNzIiwiSm9iX2lkIiwicmVmZXJlbmNlcyIsIm1vZGVsIiwia2V5IiwiSFJTdGFmZl9pZCIsIk1lbWJlcl9pZCIsIm1vZGVsTmFtZSIsInRpbWVzdGFtcHMiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJiZWZvcmVDcmVhdGUiLCJjYW4iXSwic291cmNlUm9vdCI6IkQ6XFxDb2RlXFxGUFRfU3ViamVjdFxcU1dQXFxIUk1TX0JFXFxzcmNcXG1vZGVsc1xcIiwic291cmNlcyI6WyJjYW5kaWRhdGVkZXRhaWxzLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5jb25zdCB7IE1vZGVsIH0gPSByZXF1aXJlKFwic2VxdWVsaXplXCIpO1xyXG5jb25zdCB7XHJcbiAgYXBwbHlTdGF0dXMsXHJcbiAgYXBwbHlTdGF0dXNEZWZhdWx0LFxyXG59ID0gcmVxdWlyZShcIi4uL2NvbnN0YW50L2N2U3RhdHVzLmVudW0uanNcIik7XHJcbmNvbnN0IHsgdjQ6IHV1aWR2NCB9ID0gcmVxdWlyZShcInV1aWRcIik7XHJcbm1vZHVsZS5leHBvcnRzID0gKHNlcXVlbGl6ZSwgRGF0YVR5cGVzKSA9PiB7XHJcbiAgY2xhc3MgQ2FuZGlkYXRlRGV0YWlscyBleHRlbmRzIE1vZGVsIHtcclxuICAgIHN0YXRpYyBhc3NvY2lhdGUobW9kZWxzKSB7XHJcbiAgICAgIC8vIGRlZmluZSBhc3NvY2lhdGlvbiBoZXJlXHJcbiAgICAgIENhbmRpZGF0ZURldGFpbHMuYmVsb25nc1RvKG1vZGVscy5NZW1iZXJzLCB7IGZvcmVpZ25LZXk6IFwiTWVtYmVyX2lkXCIgfSk7XHJcbiAgICAgIENhbmRpZGF0ZURldGFpbHMuYmVsb25nc1RvKG1vZGVscy5TdGFmZnMsIHsgZm9yZWlnbktleTogXCJIUlN0YWZmX2lkXCIgfSk7XHJcbiAgICAgIENhbmRpZGF0ZURldGFpbHMuYmVsb25nc1RvKG1vZGVscy5Kb2JzLCB7IGZvcmVpZ25LZXk6IFwiSm9iX2lkXCIgfSk7XHJcbiAgICAgIENhbmRpZGF0ZURldGFpbHMuaGFzT25lKG1vZGVscy5JbnRlcnZpZXdzLCB7XHJcbiAgICAgICAgZm9yZWlnbktleTogXCJDYW5kaWRhdGVEZXRhaWxfaWRcIixcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIENhbmRpZGF0ZURldGFpbHMuaW5pdChcclxuICAgIHtcclxuICAgICAgaWQ6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHByaW1hcnlLZXk6IHRydWUsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygzNiksXHJcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuVVVJRFY0LFxyXG4gICAgICB9LFxyXG4gICAgICBpZGVudGl0eV9udW1iZXI6IHtcclxuICAgICAgICBhbGxvd051bGw6IHRydWUsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygxMiksXHJcbiAgICAgIH0sXHJcbiAgICAgIHJlc3VtZV91cmw6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5URVhULFxyXG4gICAgICB9LFxyXG4gICAgICBwaG9uZToge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygxMCksXHJcbiAgICAgIH0sXHJcbiAgICAgIGFwcGxpZWRfc3RhdHVzOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuRU5VTShhcHBseVN0YXR1cyksXHJcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBhcHBseVN0YXR1c0RlZmF1bHQsXHJcbiAgICAgIH0sXHJcbiAgICAgIGRvYjoge1xyXG4gICAgICAgIGFsbG93TnVsbDogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURU9OTFksXHJcbiAgICAgIH0sXHJcbiAgICAgIGFkZHJlc3M6IHtcclxuICAgICAgICBhbGxvd051bGw6IHRydWUsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlRFWFQsXHJcbiAgICAgIH0sXHJcbiAgICAgIEpvYl9pZDoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygzNiksXHJcbiAgICAgICAgcmVmZXJlbmNlczoge1xyXG4gICAgICAgICAgbW9kZWw6IFwiSm9ic1wiLFxyXG4gICAgICAgICAga2V5OiBcImlkXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAgSFJTdGFmZl9pZDoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygzNiksXHJcbiAgICAgICAgcmVmZXJlbmNlczoge1xyXG4gICAgICAgICAgbW9kZWw6IFwiU3RhZmZzXCIsXHJcbiAgICAgICAgICBrZXk6IFwiaWRcIixcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICBNZW1iZXJfaWQ6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoMzYpLFxyXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcclxuICAgICAgICAgIG1vZGVsOiBcIk1lbWJlcnNcIixcclxuICAgICAgICAgIGtleTogXCJpZFwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBzZXF1ZWxpemUsXHJcbiAgICAgIG1vZGVsTmFtZTogXCJDYW5kaWRhdGVEZXRhaWxzXCIsXHJcbiAgICAgIHRpbWVzdGFtcHM6IGZhbHNlLFxyXG4gICAgICBjcmVhdGVkQXQ6IGZhbHNlLFxyXG4gICAgICB1cGRhdGVkQXQ6IGZhbHNlLFxyXG4gICAgfVxyXG4gICk7XHJcbiAgQ2FuZGlkYXRlRGV0YWlscy5iZWZvcmVDcmVhdGUoKGNhbikgPT4gKGNhbi5pZCA9IHV1aWR2NCgpKSk7XHJcbiAgcmV0dXJuIENhbmRpZGF0ZURldGFpbHM7XHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0EsTUFBTTtFQUFFQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU07RUFDSkMsV0FESTtFQUVKQztBQUZJLElBR0ZGLE9BQU8sQ0FBQyw4QkFBRCxDQUhYOztBQUlBLE1BQU07RUFBRUcsRUFBRSxFQUFFQztBQUFOLElBQWlCSixPQUFPLENBQUMsTUFBRCxDQUE5Qjs7QUFDQUssTUFBTSxDQUFDQyxPQUFQLEdBQWlCLENBQUNDLFNBQUQsRUFBWUMsU0FBWixLQUEwQjtFQUN6QyxNQUFNQyxnQkFBTixTQUErQlYsS0FBL0IsQ0FBcUM7SUFDbkIsT0FBVFcsU0FBUyxDQUFDQyxNQUFELEVBQVM7TUFDdkI7TUFDQUYsZ0JBQWdCLENBQUNHLFNBQWpCLENBQTJCRCxNQUFNLENBQUNFLE9BQWxDLEVBQTJDO1FBQUVDLFVBQVUsRUFBRTtNQUFkLENBQTNDO01BQ0FMLGdCQUFnQixDQUFDRyxTQUFqQixDQUEyQkQsTUFBTSxDQUFDSSxNQUFsQyxFQUEwQztRQUFFRCxVQUFVLEVBQUU7TUFBZCxDQUExQztNQUNBTCxnQkFBZ0IsQ0FBQ0csU0FBakIsQ0FBMkJELE1BQU0sQ0FBQ0ssSUFBbEMsRUFBd0M7UUFBRUYsVUFBVSxFQUFFO01BQWQsQ0FBeEM7TUFDQUwsZ0JBQWdCLENBQUNRLE1BQWpCLENBQXdCTixNQUFNLENBQUNPLFVBQS9CLEVBQTJDO1FBQ3pDSixVQUFVLEVBQUU7TUFENkIsQ0FBM0M7SUFHRDs7RUFUa0M7O0VBV3JDTCxnQkFBZ0IsQ0FBQ1UsSUFBakIsQ0FDRTtJQUNFQyxFQUFFLEVBQUU7TUFDRkMsU0FBUyxFQUFFLEtBRFQ7TUFFRkMsVUFBVSxFQUFFLElBRlY7TUFHRkMsSUFBSSxFQUFFZixTQUFTLENBQUNnQixNQUFWLENBQWlCLEVBQWpCLENBSEo7TUFJRkMsWUFBWSxFQUFFakIsU0FBUyxDQUFDa0I7SUFKdEIsQ0FETjtJQU9FQyxlQUFlLEVBQUU7TUFDZk4sU0FBUyxFQUFFLElBREk7TUFFZkUsSUFBSSxFQUFFZixTQUFTLENBQUNnQixNQUFWLENBQWlCLEVBQWpCO0lBRlMsQ0FQbkI7SUFXRUksVUFBVSxFQUFFO01BQ1ZQLFNBQVMsRUFBRSxLQUREO01BRVZFLElBQUksRUFBRWYsU0FBUyxDQUFDcUI7SUFGTixDQVhkO0lBZUVDLEtBQUssRUFBRTtNQUNMVCxTQUFTLEVBQUUsS0FETjtNQUVMRSxJQUFJLEVBQUVmLFNBQVMsQ0FBQ2dCLE1BQVYsQ0FBaUIsRUFBakI7SUFGRCxDQWZUO0lBbUJFTyxjQUFjLEVBQUU7TUFDZFYsU0FBUyxFQUFFLEtBREc7TUFFZEUsSUFBSSxFQUFFZixTQUFTLENBQUN3QixJQUFWLENBQWUvQixXQUFmLENBRlE7TUFHZHdCLFlBQVksRUFBRXZCO0lBSEEsQ0FuQmxCO0lBd0JFK0IsR0FBRyxFQUFFO01BQ0haLFNBQVMsRUFBRSxJQURSO01BRUhFLElBQUksRUFBRWYsU0FBUyxDQUFDMEI7SUFGYixDQXhCUDtJQTRCRUMsT0FBTyxFQUFFO01BQ1BkLFNBQVMsRUFBRSxJQURKO01BRVBFLElBQUksRUFBRWYsU0FBUyxDQUFDcUI7SUFGVCxDQTVCWDtJQWdDRU8sTUFBTSxFQUFFO01BQ05mLFNBQVMsRUFBRSxLQURMO01BRU5FLElBQUksRUFBRWYsU0FBUyxDQUFDZ0IsTUFBVixDQUFpQixFQUFqQixDQUZBO01BR05hLFVBQVUsRUFBRTtRQUNWQyxLQUFLLEVBQUUsTUFERztRQUVWQyxHQUFHLEVBQUU7TUFGSztJQUhOLENBaENWO0lBd0NFQyxVQUFVLEVBQUU7TUFDVm5CLFNBQVMsRUFBRSxLQUREO01BRVZFLElBQUksRUFBRWYsU0FBUyxDQUFDZ0IsTUFBVixDQUFpQixFQUFqQixDQUZJO01BR1ZhLFVBQVUsRUFBRTtRQUNWQyxLQUFLLEVBQUUsUUFERztRQUVWQyxHQUFHLEVBQUU7TUFGSztJQUhGLENBeENkO0lBZ0RFRSxTQUFTLEVBQUU7TUFDVHBCLFNBQVMsRUFBRSxLQURGO01BRVRFLElBQUksRUFBRWYsU0FBUyxDQUFDZ0IsTUFBVixDQUFpQixFQUFqQixDQUZHO01BR1RhLFVBQVUsRUFBRTtRQUNWQyxLQUFLLEVBQUUsU0FERztRQUVWQyxHQUFHLEVBQUU7TUFGSztJQUhIO0VBaERiLENBREYsRUEwREU7SUFDRWhDLFNBREY7SUFFRW1DLFNBQVMsRUFBRSxrQkFGYjtJQUdFQyxVQUFVLEVBQUUsS0FIZDtJQUlFQyxTQUFTLEVBQUUsS0FKYjtJQUtFQyxTQUFTLEVBQUU7RUFMYixDQTFERjtFQWtFQXBDLGdCQUFnQixDQUFDcUMsWUFBakIsQ0FBK0JDLEdBQUQsSUFBVUEsR0FBRyxDQUFDM0IsRUFBSixHQUFTaEIsTUFBTSxFQUF2RDtFQUNBLE9BQU9LLGdCQUFQO0FBQ0QsQ0FoRkQifQ==","map":{"version":3,"names":["Model","require","applyStatus","applyStatusDefault","v4","uuidv4","module","exports","sequelize","DataTypes","CandidateDetails","associate","models","belongsTo","Members","foreignKey","Staffs","Jobs","hasOne","Interviews","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","identity_number","resume_url","TEXT","phone","applied_status","ENUM","dob","DATEONLY","address","Job_id","references","model","key","HRStaff_id","Member_id","modelName","timestamps","createdAt","updatedAt","beforeCreate","can"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\models\\","sources":["candidatedetails.model.js"],"sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nconst {\r\n  applyStatus,\r\n  applyStatusDefault,\r\n} = require(\"../constant/cvStatus.enum.js\");\r\nconst { v4: uuidv4 } = require(\"uuid\");\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class CandidateDetails extends Model {\r\n    static associate(models) {\r\n      // define association here\r\n      CandidateDetails.belongsTo(models.Members, { foreignKey: \"Member_id\" });\r\n      CandidateDetails.belongsTo(models.Staffs, { foreignKey: \"HRStaff_id\" });\r\n      CandidateDetails.belongsTo(models.Jobs, { foreignKey: \"Job_id\" });\r\n      CandidateDetails.hasOne(models.Interviews, {\r\n        foreignKey: \"CandidateDetail_id\",\r\n      });\r\n    }\r\n  }\r\n  CandidateDetails.init(\r\n    {\r\n      id: {\r\n        allowNull: false,\r\n        primaryKey: true,\r\n        type: DataTypes.STRING(36),\r\n        defaultValue: DataTypes.UUIDV4,\r\n      },\r\n      identity_number: {\r\n        allowNull: true,\r\n        type: DataTypes.STRING(12),\r\n      },\r\n      resume_url: {\r\n        allowNull: false,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      phone: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(10),\r\n      },\r\n      applied_status: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(applyStatus),\r\n        defaultValue: applyStatusDefault,\r\n      },\r\n      dob: {\r\n        allowNull: true,\r\n        type: DataTypes.DATEONLY,\r\n      },\r\n      address: {\r\n        allowNull: true,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      Job_id: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(36),\r\n        references: {\r\n          model: \"Jobs\",\r\n          key: \"id\",\r\n        },\r\n      },\r\n      HRStaff_id: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(36),\r\n        references: {\r\n          model: \"Staffs\",\r\n          key: \"id\",\r\n        },\r\n      },\r\n      Member_id: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(36),\r\n        references: {\r\n          model: \"Members\",\r\n          key: \"id\",\r\n        },\r\n      },\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"CandidateDetails\",\r\n      timestamps: false,\r\n      createdAt: false,\r\n      updatedAt: false,\r\n    }\r\n  );\r\n  CandidateDetails.beforeCreate((can) => (can.id = uuidv4()));\r\n  return CandidateDetails;\r\n};\r\n"],"mappings":"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"}},"mtime":1666842549683},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\constant\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\constant\\\\cvStatus.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  applyStatus: [\"Pending\", \"Approve\", \"Reject\"],\n  applyStatusDefault: \"Pending\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiYXBwbHlTdGF0dXMiLCJhcHBseVN0YXR1c0RlZmF1bHQiXSwic291cmNlUm9vdCI6IkQ6XFxDb2RlXFxGUFRfU3ViamVjdFxcU1dQXFxIUk1TX0JFXFxzcmNcXGNvbnN0YW50XFwiLCJzb3VyY2VzIjpbImN2U3RhdHVzLmVudW0uanMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgYXBwbHlTdGF0dXM6IFtcIlBlbmRpbmdcIiwgXCJBcHByb3ZlXCIsIFwiUmVqZWN0XCJdLFxyXG4gIGFwcGx5U3RhdHVzRGVmYXVsdDogXCJQZW5kaW5nXCIsXHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2ZDLFdBQVcsRUFBRSxDQUFDLFNBQUQsRUFBWSxTQUFaLEVBQXVCLFFBQXZCLENBREU7RUFFZkMsa0JBQWtCLEVBQUU7QUFGTCxDQUFqQiJ9","map":{"version":3,"names":["module","exports","applyStatus","applyStatusDefault"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\constant\\","sources":["cvStatus.enum.js"],"sourcesContent":["module.exports = {\r\n  applyStatus: [\"Pending\", \"Approve\", \"Reject\"],\r\n  applyStatusDefault: \"Pending\",\r\n};\r\n"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACfC,WAAW,EAAE,CAAC,SAAD,EAAY,SAAZ,EAAuB,QAAvB,CADE;EAEfC,kBAAkB,EAAE;AAFL,CAAjB"}},"mtime":1666892281031},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\models\\\\categories.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nconst {\n  categoryStatus,\n  categoryStatusDefault\n} = require(\"../constant/categoryStatus.enum\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Categories extends Model {\n    static associate(models) {\n      // define association here\n      Categories.hasMany(models.Jobs, {\n        foreignKey: \"Category_id\"\n      });\n    }\n\n  }\n\n  Categories.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    name: {\n      allowNull: false,\n      type: DataTypes.STRING(45)\n    },\n    description: {\n      allowNull: false,\n      type: DataTypes.TEXT\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(categoryStatus),\n      defaultValue: categoryStatusDefault\n    }\n  }, {\n    sequelize,\n    modelName: \"Categories\",\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  return Categories;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJjYXRlZ29yeVN0YXR1cyIsImNhdGVnb3J5U3RhdHVzRGVmYXVsdCIsIm1vZHVsZSIsImV4cG9ydHMiLCJzZXF1ZWxpemUiLCJEYXRhVHlwZXMiLCJDYXRlZ29yaWVzIiwiYXNzb2NpYXRlIiwibW9kZWxzIiwiaGFzTWFueSIsIkpvYnMiLCJmb3JlaWduS2V5IiwiaW5pdCIsImlkIiwiYWxsb3dOdWxsIiwicHJpbWFyeUtleSIsInR5cGUiLCJTVFJJTkciLCJkZWZhdWx0VmFsdWUiLCJVVUlEVjQiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJURVhUIiwic3RhdHVzIiwiRU5VTSIsIm1vZGVsTmFtZSIsInRpbWVzdGFtcHMiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiXSwic291cmNlUm9vdCI6IkQ6XFxDb2RlXFxGUFRfU3ViamVjdFxcU1dQXFxIUk1TX0JFXFxzcmNcXG1vZGVsc1xcIiwic291cmNlcyI6WyJjYXRlZ29yaWVzLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5jb25zdCB7IE1vZGVsIH0gPSByZXF1aXJlKFwic2VxdWVsaXplXCIpO1xyXG5jb25zdCB7IGNhdGVnb3J5U3RhdHVzLCBjYXRlZ29yeVN0YXR1c0RlZmF1bHQgfSA9IHJlcXVpcmUoXCIuLi9jb25zdGFudC9jYXRlZ29yeVN0YXR1cy5lbnVtXCIpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xyXG4gIGNsYXNzIENhdGVnb3JpZXMgZXh0ZW5kcyBNb2RlbCB7XHJcbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xyXG4gICAgICAvLyBkZWZpbmUgYXNzb2NpYXRpb24gaGVyZVxyXG4gICAgICBDYXRlZ29yaWVzLmhhc01hbnkobW9kZWxzLkpvYnMsIHsgZm9yZWlnbktleTogXCJDYXRlZ29yeV9pZFwiIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICBDYXRlZ29yaWVzLmluaXQoXHJcbiAgICB7XHJcbiAgICAgIGlkOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICBwcmltYXJ5S2V5OiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoMzYpLFxyXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLlVVSURWNCxcclxuICAgICAgfSxcclxuICAgICAgbmFtZToge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyg0NSksXHJcbiAgICAgIH0sXHJcbiAgICAgIGRlc2NyaXB0aW9uOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuVEVYVCxcclxuICAgICAgfSxcclxuICAgICAgc3RhdHVzOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuRU5VTShjYXRlZ29yeVN0YXR1cyksXHJcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBjYXRlZ29yeVN0YXR1c0RlZmF1bHRcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHNlcXVlbGl6ZSxcclxuICAgICAgbW9kZWxOYW1lOiBcIkNhdGVnb3JpZXNcIixcclxuICAgICAgdGltZXN0YW1wczogZmFsc2UsXHJcbiAgICAgIGNyZWF0ZWRBdDogZmFsc2UsXHJcbiAgICAgIHVwZGF0ZWRBdDogZmFsc2UsXHJcbiAgICB9XHJcbiAgKTtcclxuICByZXR1cm4gQ2F0ZWdvcmllcztcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQSxNQUFNO0VBQUVBO0FBQUYsSUFBWUMsT0FBTyxDQUFDLFdBQUQsQ0FBekI7O0FBQ0EsTUFBTTtFQUFFQyxjQUFGO0VBQWtCQztBQUFsQixJQUE0Q0YsT0FBTyxDQUFDLGlDQUFELENBQXpEOztBQUNBRyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsQ0FBQ0MsU0FBRCxFQUFZQyxTQUFaLEtBQTBCO0VBQ3pDLE1BQU1DLFVBQU4sU0FBeUJSLEtBQXpCLENBQStCO0lBQ2IsT0FBVFMsU0FBUyxDQUFDQyxNQUFELEVBQVM7TUFDdkI7TUFDQUYsVUFBVSxDQUFDRyxPQUFYLENBQW1CRCxNQUFNLENBQUNFLElBQTFCLEVBQWdDO1FBQUVDLFVBQVUsRUFBRTtNQUFkLENBQWhDO0lBQ0Q7O0VBSjRCOztFQU0vQkwsVUFBVSxDQUFDTSxJQUFYLENBQ0U7SUFDRUMsRUFBRSxFQUFFO01BQ0ZDLFNBQVMsRUFBRSxLQURUO01BRUZDLFVBQVUsRUFBRSxJQUZWO01BR0ZDLElBQUksRUFBRVgsU0FBUyxDQUFDWSxNQUFWLENBQWlCLEVBQWpCLENBSEo7TUFJRkMsWUFBWSxFQUFFYixTQUFTLENBQUNjO0lBSnRCLENBRE47SUFPRUMsSUFBSSxFQUFFO01BQ0pOLFNBQVMsRUFBRSxLQURQO01BRUpFLElBQUksRUFBRVgsU0FBUyxDQUFDWSxNQUFWLENBQWlCLEVBQWpCO0lBRkYsQ0FQUjtJQVdFSSxXQUFXLEVBQUU7TUFDWFAsU0FBUyxFQUFFLEtBREE7TUFFWEUsSUFBSSxFQUFFWCxTQUFTLENBQUNpQjtJQUZMLENBWGY7SUFlRUMsTUFBTSxFQUFFO01BQ05ULFNBQVMsRUFBRSxLQURMO01BRU5FLElBQUksRUFBRVgsU0FBUyxDQUFDbUIsSUFBVixDQUFleEIsY0FBZixDQUZBO01BR05rQixZQUFZLEVBQUVqQjtJQUhSO0VBZlYsQ0FERixFQXNCRTtJQUNFRyxTQURGO0lBRUVxQixTQUFTLEVBQUUsWUFGYjtJQUdFQyxVQUFVLEVBQUUsS0FIZDtJQUlFQyxTQUFTLEVBQUUsS0FKYjtJQUtFQyxTQUFTLEVBQUU7RUFMYixDQXRCRjtFQThCQSxPQUFPdEIsVUFBUDtBQUNELENBdENEIn0=","map":{"version":3,"names":["Model","require","categoryStatus","categoryStatusDefault","module","exports","sequelize","DataTypes","Categories","associate","models","hasMany","Jobs","foreignKey","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","name","description","TEXT","status","ENUM","modelName","timestamps","createdAt","updatedAt"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\models\\","sources":["categories.model.js"],"sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nconst { categoryStatus, categoryStatusDefault } = require(\"../constant/categoryStatus.enum\");\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Categories extends Model {\r\n    static associate(models) {\r\n      // define association here\r\n      Categories.hasMany(models.Jobs, { foreignKey: \"Category_id\" });\r\n    }\r\n  }\r\n  Categories.init(\r\n    {\r\n      id: {\r\n        allowNull: false,\r\n        primaryKey: true,\r\n        type: DataTypes.STRING(36),\r\n        defaultValue: DataTypes.UUIDV4,\r\n      },\r\n      name: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(45),\r\n      },\r\n      description: {\r\n        allowNull: false,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      status: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(categoryStatus),\r\n        defaultValue: categoryStatusDefault\r\n      },\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"Categories\",\r\n      timestamps: false,\r\n      createdAt: false,\r\n      updatedAt: false,\r\n    }\r\n  );\r\n  return Categories;\r\n};\r\n"],"mappings":"AAAA;;AACA,MAAM;EAAEA;AAAF,IAAYC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAM;EAAEC,cAAF;EAAkBC;AAAlB,IAA4CF,OAAO,CAAC,iCAAD,CAAzD;;AACAG,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;EACzC,MAAMC,UAAN,SAAyBR,KAAzB,CAA+B;IACb,OAATS,SAAS,CAACC,MAAD,EAAS;MACvB;MACAF,UAAU,CAACG,OAAX,CAAmBD,MAAM,CAACE,IAA1B,EAAgC;QAAEC,UAAU,EAAE;MAAd,CAAhC;IACD;;EAJ4B;;EAM/BL,UAAU,CAACM,IAAX,CACE;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB,CAHJ;MAIFC,YAAY,EAAEb,SAAS,CAACc;IAJtB,CADN;IAOEC,IAAI,EAAE;MACJN,SAAS,EAAE,KADP;MAEJE,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB;IAFF,CAPR;IAWEI,WAAW,EAAE;MACXP,SAAS,EAAE,KADA;MAEXE,IAAI,EAAEX,SAAS,CAACiB;IAFL,CAXf;IAeEC,MAAM,EAAE;MACNT,SAAS,EAAE,KADL;MAENE,IAAI,EAAEX,SAAS,CAACmB,IAAV,CAAexB,cAAf,CAFA;MAGNkB,YAAY,EAAEjB;IAHR;EAfV,CADF,EAsBE;IACEG,SADF;IAEEqB,SAAS,EAAE,YAFb;IAGEC,UAAU,EAAE,KAHd;IAIEC,SAAS,EAAE,KAJb;IAKEC,SAAS,EAAE;EALb,CAtBF;EA8BA,OAAOtB,UAAP;AACD,CAtCD"}},"mtime":1666281032462},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\constant\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\constant\\\\categoryStatus.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  categoryStatus: [\"Active\", \"Inactive\", \"Hidden\"],\n  categoryStatusDefault: \"Active\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiY2F0ZWdvcnlTdGF0dXMiLCJjYXRlZ29yeVN0YXR1c0RlZmF1bHQiXSwic291cmNlUm9vdCI6IkQ6XFxDb2RlXFxGUFRfU3ViamVjdFxcU1dQXFxIUk1TX0JFXFxzcmNcXGNvbnN0YW50XFwiLCJzb3VyY2VzIjpbImNhdGVnb3J5U3RhdHVzLmVudW0uanMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBjYXRlZ29yeVN0YXR1czogW1wiQWN0aXZlXCIsIFwiSW5hY3RpdmVcIiwgXCJIaWRkZW5cIl0sXHJcbiAgICBjYXRlZ29yeVN0YXR1c0RlZmF1bHQ6IFwiQWN0aXZlXCIsXHJcbn0iXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNiQyxjQUFjLEVBQUUsQ0FBQyxRQUFELEVBQVcsVUFBWCxFQUF1QixRQUF2QixDQURIO0VBRWJDLHFCQUFxQixFQUFFO0FBRlYsQ0FBakIifQ==","map":{"version":3,"names":["module","exports","categoryStatus","categoryStatusDefault"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\constant\\","sources":["categoryStatus.enum.js"],"sourcesContent":["module.exports = {\r\n    categoryStatus: [\"Active\", \"Inactive\", \"Hidden\"],\r\n    categoryStatusDefault: \"Active\",\r\n}"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACbC,cAAc,EAAE,CAAC,QAAD,EAAW,UAAX,EAAuB,QAAvB,CADH;EAEbC,qBAAqB,EAAE;AAFV,CAAjB"}},"mtime":1666281032447},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\models\\\\interviews.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nconst {\n  interviewStatus,\n  interviewStatusDefault\n} = require(\"../constant/interviewStatus.enum.js\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Interviews extends Model {\n    static associate(models) {\n      // define association here\n      Interviews.belongsTo(models.CandidateDetails, {\n        foreignKey: \"CandidateDetail_id\"\n      });\n      Interviews.hasMany(models.Reports, {\n        foreignKey: \"Interview_id\"\n      });\n      Interviews.belongsTo(models.Rooms, {\n        foreignKey: \"room\"\n      });\n    }\n\n  }\n\n  Interviews.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(6),\n      defaultValue: DataTypes.UUIDV4\n    },\n    room: {\n      allowNull: false,\n      type: DataTypes.STRING(20),\n      references: {\n        model: \"Rooms\",\n        key: \"id\"\n      }\n    },\n    slot: {\n      allowNull: false,\n      type: DataTypes.INTEGER\n    },\n    week: {\n      allowNull: false,\n      type: DataTypes.INTEGER\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(interviewStatus),\n      defaultValue: interviewStatusDefault\n    },\n    CandidateDetail_id: {\n      allowNull: false,\n      type: DataTypes.STRING(6),\n      references: {\n        model: \"CandidateDetails\",\n        key: \"id\"\n      }\n    }\n  }, {\n    sequelize,\n    modelName: \"Interviews\",\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  return Interviews;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJpbnRlcnZpZXdTdGF0dXMiLCJpbnRlcnZpZXdTdGF0dXNEZWZhdWx0IiwibW9kdWxlIiwiZXhwb3J0cyIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsIkludGVydmlld3MiLCJhc3NvY2lhdGUiLCJtb2RlbHMiLCJiZWxvbmdzVG8iLCJDYW5kaWRhdGVEZXRhaWxzIiwiZm9yZWlnbktleSIsImhhc01hbnkiLCJSZXBvcnRzIiwiUm9vbXMiLCJpbml0IiwiaWQiLCJhbGxvd051bGwiLCJwcmltYXJ5S2V5IiwidHlwZSIsIlNUUklORyIsImRlZmF1bHRWYWx1ZSIsIlVVSURWNCIsInJvb20iLCJyZWZlcmVuY2VzIiwibW9kZWwiLCJrZXkiLCJzbG90IiwiSU5URUdFUiIsIndlZWsiLCJzdGF0dXMiLCJFTlVNIiwiQ2FuZGlkYXRlRGV0YWlsX2lkIiwibW9kZWxOYW1lIiwidGltZXN0YW1wcyIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCJdLCJzb3VyY2VSb290IjoiRDpcXENvZGVcXEZQVF9TdWJqZWN0XFxTV1BcXEhSTVNfQkVcXHNyY1xcbW9kZWxzXFwiLCJzb3VyY2VzIjpbImludGVydmlld3MubW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbmNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJzZXF1ZWxpemVcIik7XHJcbmNvbnN0IHtcclxuICBpbnRlcnZpZXdTdGF0dXMsXHJcbiAgaW50ZXJ2aWV3U3RhdHVzRGVmYXVsdCxcclxufSA9IHJlcXVpcmUoXCIuLi9jb25zdGFudC9pbnRlcnZpZXdTdGF0dXMuZW51bS5qc1wiKTtcclxubW9kdWxlLmV4cG9ydHMgPSAoc2VxdWVsaXplLCBEYXRhVHlwZXMpID0+IHtcclxuICBjbGFzcyBJbnRlcnZpZXdzIGV4dGVuZHMgTW9kZWwge1xyXG4gICAgc3RhdGljIGFzc29jaWF0ZShtb2RlbHMpIHtcclxuICAgICAgLy8gZGVmaW5lIGFzc29jaWF0aW9uIGhlcmVcclxuICAgICAgSW50ZXJ2aWV3cy5iZWxvbmdzVG8obW9kZWxzLkNhbmRpZGF0ZURldGFpbHMsIHtcclxuICAgICAgICBmb3JlaWduS2V5OiBcIkNhbmRpZGF0ZURldGFpbF9pZFwiLFxyXG4gICAgICB9KTtcclxuICAgICAgSW50ZXJ2aWV3cy5oYXNNYW55KG1vZGVscy5SZXBvcnRzLCB7IGZvcmVpZ25LZXk6IFwiSW50ZXJ2aWV3X2lkXCIgfSk7XHJcbiAgICAgIEludGVydmlld3MuYmVsb25nc1RvKG1vZGVscy5Sb29tcywge1xyXG4gICAgICAgIGZvcmVpZ25LZXk6IFwicm9vbVwiLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgSW50ZXJ2aWV3cy5pbml0KFxyXG4gICAge1xyXG4gICAgICBpZDoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDYpLFxyXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLlVVSURWNCxcclxuICAgICAgfSxcclxuICAgICAgcm9vbToge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygyMCksXHJcbiAgICAgICAgcmVmZXJlbmNlczoge1xyXG4gICAgICAgICAgbW9kZWw6IFwiUm9vbXNcIixcclxuICAgICAgICAgIGtleTogXCJpZFwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIHNsb3Q6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxyXG4gICAgICB9LFxyXG4gICAgICB3ZWVrOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcclxuICAgICAgfSxcclxuICAgICAgc3RhdHVzOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuRU5VTShpbnRlcnZpZXdTdGF0dXMpLFxyXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogaW50ZXJ2aWV3U3RhdHVzRGVmYXVsdCxcclxuICAgICAgfSxcclxuICAgICAgQ2FuZGlkYXRlRGV0YWlsX2lkOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDYpLFxyXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcclxuICAgICAgICAgIG1vZGVsOiBcIkNhbmRpZGF0ZURldGFpbHNcIixcclxuICAgICAgICAgIGtleTogXCJpZFwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBzZXF1ZWxpemUsXHJcbiAgICAgIG1vZGVsTmFtZTogXCJJbnRlcnZpZXdzXCIsXHJcbiAgICAgIHRpbWVzdGFtcHM6IGZhbHNlLFxyXG4gICAgICBjcmVhdGVkQXQ6IGZhbHNlLFxyXG4gICAgICB1cGRhdGVkQXQ6IGZhbHNlLFxyXG4gICAgfVxyXG4gICk7XHJcbiAgcmV0dXJuIEludGVydmlld3M7XHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0EsTUFBTTtFQUFFQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU07RUFDSkMsZUFESTtFQUVKQztBQUZJLElBR0ZGLE9BQU8sQ0FBQyxxQ0FBRCxDQUhYOztBQUlBRyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsQ0FBQ0MsU0FBRCxFQUFZQyxTQUFaLEtBQTBCO0VBQ3pDLE1BQU1DLFVBQU4sU0FBeUJSLEtBQXpCLENBQStCO0lBQ2IsT0FBVFMsU0FBUyxDQUFDQyxNQUFELEVBQVM7TUFDdkI7TUFDQUYsVUFBVSxDQUFDRyxTQUFYLENBQXFCRCxNQUFNLENBQUNFLGdCQUE1QixFQUE4QztRQUM1Q0MsVUFBVSxFQUFFO01BRGdDLENBQTlDO01BR0FMLFVBQVUsQ0FBQ00sT0FBWCxDQUFtQkosTUFBTSxDQUFDSyxPQUExQixFQUFtQztRQUFFRixVQUFVLEVBQUU7TUFBZCxDQUFuQztNQUNBTCxVQUFVLENBQUNHLFNBQVgsQ0FBcUJELE1BQU0sQ0FBQ00sS0FBNUIsRUFBbUM7UUFDakNILFVBQVUsRUFBRTtNQURxQixDQUFuQztJQUdEOztFQVY0Qjs7RUFZL0JMLFVBQVUsQ0FBQ1MsSUFBWCxDQUNFO0lBQ0VDLEVBQUUsRUFBRTtNQUNGQyxTQUFTLEVBQUUsS0FEVDtNQUVGQyxVQUFVLEVBQUUsSUFGVjtNQUdGQyxJQUFJLEVBQUVkLFNBQVMsQ0FBQ2UsTUFBVixDQUFpQixDQUFqQixDQUhKO01BSUZDLFlBQVksRUFBRWhCLFNBQVMsQ0FBQ2lCO0lBSnRCLENBRE47SUFPRUMsSUFBSSxFQUFFO01BQ0pOLFNBQVMsRUFBRSxLQURQO01BRUpFLElBQUksRUFBRWQsU0FBUyxDQUFDZSxNQUFWLENBQWlCLEVBQWpCLENBRkY7TUFHSkksVUFBVSxFQUFFO1FBQ1ZDLEtBQUssRUFBRSxPQURHO1FBRVZDLEdBQUcsRUFBRTtNQUZLO0lBSFIsQ0FQUjtJQWVFQyxJQUFJLEVBQUU7TUFDSlYsU0FBUyxFQUFFLEtBRFA7TUFFSkUsSUFBSSxFQUFFZCxTQUFTLENBQUN1QjtJQUZaLENBZlI7SUFtQkVDLElBQUksRUFBRTtNQUNKWixTQUFTLEVBQUUsS0FEUDtNQUVKRSxJQUFJLEVBQUVkLFNBQVMsQ0FBQ3VCO0lBRlosQ0FuQlI7SUF1QkVFLE1BQU0sRUFBRTtNQUNOYixTQUFTLEVBQUUsS0FETDtNQUVORSxJQUFJLEVBQUVkLFNBQVMsQ0FBQzBCLElBQVYsQ0FBZS9CLGVBQWYsQ0FGQTtNQUdOcUIsWUFBWSxFQUFFcEI7SUFIUixDQXZCVjtJQTRCRStCLGtCQUFrQixFQUFFO01BQ2xCZixTQUFTLEVBQUUsS0FETztNQUVsQkUsSUFBSSxFQUFFZCxTQUFTLENBQUNlLE1BQVYsQ0FBaUIsQ0FBakIsQ0FGWTtNQUdsQkksVUFBVSxFQUFFO1FBQ1ZDLEtBQUssRUFBRSxrQkFERztRQUVWQyxHQUFHLEVBQUU7TUFGSztJQUhNO0VBNUJ0QixDQURGLEVBc0NFO0lBQ0V0QixTQURGO0lBRUU2QixTQUFTLEVBQUUsWUFGYjtJQUdFQyxVQUFVLEVBQUUsS0FIZDtJQUlFQyxTQUFTLEVBQUUsS0FKYjtJQUtFQyxTQUFTLEVBQUU7RUFMYixDQXRDRjtFQThDQSxPQUFPOUIsVUFBUDtBQUNELENBNUREIn0=","map":{"version":3,"names":["Model","require","interviewStatus","interviewStatusDefault","module","exports","sequelize","DataTypes","Interviews","associate","models","belongsTo","CandidateDetails","foreignKey","hasMany","Reports","Rooms","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","room","references","model","key","slot","INTEGER","week","status","ENUM","CandidateDetail_id","modelName","timestamps","createdAt","updatedAt"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\models\\","sources":["interviews.model.js"],"sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nconst {\r\n  interviewStatus,\r\n  interviewStatusDefault,\r\n} = require(\"../constant/interviewStatus.enum.js\");\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Interviews extends Model {\r\n    static associate(models) {\r\n      // define association here\r\n      Interviews.belongsTo(models.CandidateDetails, {\r\n        foreignKey: \"CandidateDetail_id\",\r\n      });\r\n      Interviews.hasMany(models.Reports, { foreignKey: \"Interview_id\" });\r\n      Interviews.belongsTo(models.Rooms, {\r\n        foreignKey: \"room\",\r\n      });\r\n    }\r\n  }\r\n  Interviews.init(\r\n    {\r\n      id: {\r\n        allowNull: false,\r\n        primaryKey: true,\r\n        type: DataTypes.STRING(6),\r\n        defaultValue: DataTypes.UUIDV4,\r\n      },\r\n      room: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(20),\r\n        references: {\r\n          model: \"Rooms\",\r\n          key: \"id\",\r\n        },\r\n      },\r\n      slot: {\r\n        allowNull: false,\r\n        type: DataTypes.INTEGER,\r\n      },\r\n      week: {\r\n        allowNull: false,\r\n        type: DataTypes.INTEGER,\r\n      },\r\n      status: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(interviewStatus),\r\n        defaultValue: interviewStatusDefault,\r\n      },\r\n      CandidateDetail_id: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(6),\r\n        references: {\r\n          model: \"CandidateDetails\",\r\n          key: \"id\",\r\n        },\r\n      },\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"Interviews\",\r\n      timestamps: false,\r\n      createdAt: false,\r\n      updatedAt: false,\r\n    }\r\n  );\r\n  return Interviews;\r\n};\r\n"],"mappings":"AAAA;;AACA,MAAM;EAAEA;AAAF,IAAYC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAM;EACJC,eADI;EAEJC;AAFI,IAGFF,OAAO,CAAC,qCAAD,CAHX;;AAIAG,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;EACzC,MAAMC,UAAN,SAAyBR,KAAzB,CAA+B;IACb,OAATS,SAAS,CAACC,MAAD,EAAS;MACvB;MACAF,UAAU,CAACG,SAAX,CAAqBD,MAAM,CAACE,gBAA5B,EAA8C;QAC5CC,UAAU,EAAE;MADgC,CAA9C;MAGAL,UAAU,CAACM,OAAX,CAAmBJ,MAAM,CAACK,OAA1B,EAAmC;QAAEF,UAAU,EAAE;MAAd,CAAnC;MACAL,UAAU,CAACG,SAAX,CAAqBD,MAAM,CAACM,KAA5B,EAAmC;QACjCH,UAAU,EAAE;MADqB,CAAnC;IAGD;;EAV4B;;EAY/BL,UAAU,CAACS,IAAX,CACE;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEd,SAAS,CAACe,MAAV,CAAiB,CAAjB,CAHJ;MAIFC,YAAY,EAAEhB,SAAS,CAACiB;IAJtB,CADN;IAOEC,IAAI,EAAE;MACJN,SAAS,EAAE,KADP;MAEJE,IAAI,EAAEd,SAAS,CAACe,MAAV,CAAiB,EAAjB,CAFF;MAGJI,UAAU,EAAE;QACVC,KAAK,EAAE,OADG;QAEVC,GAAG,EAAE;MAFK;IAHR,CAPR;IAeEC,IAAI,EAAE;MACJV,SAAS,EAAE,KADP;MAEJE,IAAI,EAAEd,SAAS,CAACuB;IAFZ,CAfR;IAmBEC,IAAI,EAAE;MACJZ,SAAS,EAAE,KADP;MAEJE,IAAI,EAAEd,SAAS,CAACuB;IAFZ,CAnBR;IAuBEE,MAAM,EAAE;MACNb,SAAS,EAAE,KADL;MAENE,IAAI,EAAEd,SAAS,CAAC0B,IAAV,CAAe/B,eAAf,CAFA;MAGNqB,YAAY,EAAEpB;IAHR,CAvBV;IA4BE+B,kBAAkB,EAAE;MAClBf,SAAS,EAAE,KADO;MAElBE,IAAI,EAAEd,SAAS,CAACe,MAAV,CAAiB,CAAjB,CAFY;MAGlBI,UAAU,EAAE;QACVC,KAAK,EAAE,kBADG;QAEVC,GAAG,EAAE;MAFK;IAHM;EA5BtB,CADF,EAsCE;IACEtB,SADF;IAEE6B,SAAS,EAAE,YAFb;IAGEC,UAAU,EAAE,KAHd;IAIEC,SAAS,EAAE,KAJb;IAKEC,SAAS,EAAE;EALb,CAtCF;EA8CA,OAAO9B,UAAP;AACD,CA5DD"}},"mtime":1667324415660},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\constant\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\constant\\\\interviewStatus.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  interviewStatus: [\"Waiting\", \"Done\", \"Absent\", \"Hidden\"],\n  interviewStatusDefault: \"Waiting\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiaW50ZXJ2aWV3U3RhdHVzIiwiaW50ZXJ2aWV3U3RhdHVzRGVmYXVsdCJdLCJzb3VyY2VSb290IjoiRDpcXENvZGVcXEZQVF9TdWJqZWN0XFxTV1BcXEhSTVNfQkVcXHNyY1xcY29uc3RhbnRcXCIsInNvdXJjZXMiOlsiaW50ZXJ2aWV3U3RhdHVzLmVudW0uanMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgaW50ZXJ2aWV3U3RhdHVzOiBbXCJXYWl0aW5nXCIsIFwiRG9uZVwiLCBcIkFic2VudFwiLCBcIkhpZGRlblwiXSxcclxuICBpbnRlcnZpZXdTdGF0dXNEZWZhdWx0OiBcIldhaXRpbmdcIixcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7RUFDZkMsZUFBZSxFQUFFLENBQUMsU0FBRCxFQUFZLE1BQVosRUFBb0IsUUFBcEIsRUFBOEIsUUFBOUIsQ0FERjtFQUVmQyxzQkFBc0IsRUFBRTtBQUZULENBQWpCIn0=","map":{"version":3,"names":["module","exports","interviewStatus","interviewStatusDefault"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\constant\\","sources":["interviewStatus.enum.js"],"sourcesContent":["module.exports = {\r\n  interviewStatus: [\"Waiting\", \"Done\", \"Absent\", \"Hidden\"],\r\n  interviewStatusDefault: \"Waiting\",\r\n};\r\n"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACfC,eAAe,EAAE,CAAC,SAAD,EAAY,MAAZ,EAAoB,QAApB,EAA8B,QAA9B,CADF;EAEfC,sBAAsB,EAAE;AAFT,CAAjB"}},"mtime":1666803915854},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\models\\\\jobs.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _jobStatus = require(\"../constant/jobStatus.enum\");\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Jobs extends Model {\n    static associate(models) {\n      // define association here\n      Jobs.hasMany(models.CandidateDetails, {\n        foreignKey: \"Job_id\"\n      });\n      Jobs.belongsTo(models.Categories, {\n        foreignKey: \"Category_id\"\n      });\n      Jobs.belongsTo(models.Campaigns, {\n        foreignKey: \"Campaign_id\"\n      });\n    }\n\n  }\n\n  Jobs.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    name: {\n      allowNull: false,\n      type: DataTypes.STRING(45)\n    },\n    description: {\n      allowNull: false,\n      type: DataTypes.TEXT\n    },\n    salary: {\n      allowNull: true,\n      type: DataTypes.STRING(45)\n    },\n    quantity: {\n      defaultValue: 0,\n      allowNull: false,\n      type: DataTypes.INTEGER,\n      validate: {\n        min: 0\n      }\n    },\n    start_date: {\n      allowNull: false,\n      type: DataTypes.DATEONLY\n    },\n    end_date: {\n      allowNull: false,\n      type: DataTypes.DATEONLY\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(_jobStatus.jobStatus),\n      defaultValue: _jobStatus.jobStatusDefault\n    },\n    experience: {\n      allowNull: false,\n      type: DataTypes.ENUM(_jobStatus.jobExperienced),\n      defaultValue: _jobStatus.jobExperiencedDefault\n    },\n    isRemote: {\n      allowNull: false,\n      type: DataTypes.BOOLEAN,\n      defaultValue: false\n    },\n    Category_id: {\n      allowNull: false,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4,\n      references: {\n        model: \"Categories\",\n        key: \"id\"\n      }\n    },\n    Campaign_id: {\n      allowNull: false,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4,\n      references: {\n        model: \"Campaigns\",\n        key: \"id\"\n      }\n    }\n  }, {\n    sequelize,\n    modelName: \"Jobs\",\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  return Jobs;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiSm9icyIsImFzc29jaWF0ZSIsIm1vZGVscyIsImhhc01hbnkiLCJDYW5kaWRhdGVEZXRhaWxzIiwiZm9yZWlnbktleSIsImJlbG9uZ3NUbyIsIkNhdGVnb3JpZXMiLCJDYW1wYWlnbnMiLCJpbml0IiwiaWQiLCJhbGxvd051bGwiLCJwcmltYXJ5S2V5IiwidHlwZSIsIlNUUklORyIsImRlZmF1bHRWYWx1ZSIsIlVVSURWNCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsIlRFWFQiLCJzYWxhcnkiLCJxdWFudGl0eSIsIklOVEVHRVIiLCJ2YWxpZGF0ZSIsIm1pbiIsInN0YXJ0X2RhdGUiLCJEQVRFT05MWSIsImVuZF9kYXRlIiwic3RhdHVzIiwiRU5VTSIsImpvYlN0YXR1cyIsImpvYlN0YXR1c0RlZmF1bHQiLCJleHBlcmllbmNlIiwiam9iRXhwZXJpZW5jZWQiLCJqb2JFeHBlcmllbmNlZERlZmF1bHQiLCJpc1JlbW90ZSIsIkJPT0xFQU4iLCJDYXRlZ29yeV9pZCIsInJlZmVyZW5jZXMiLCJtb2RlbCIsImtleSIsIkNhbXBhaWduX2lkIiwibW9kZWxOYW1lIiwidGltZXN0YW1wcyIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCJdLCJzb3VyY2VSb290IjoiRDpcXENvZGVcXEZQVF9TdWJqZWN0XFxTV1BcXEhSTVNfQkVcXHNyY1xcbW9kZWxzXFwiLCJzb3VyY2VzIjpbImpvYnMubW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbmltcG9ydCB7XHJcbiAgam9iRXhwZXJpZW5jZWQsXHJcbiAgam9iRXhwZXJpZW5jZWREZWZhdWx0LFxyXG4gIGpvYlN0YXR1cyxcclxuICBqb2JTdGF0dXNEZWZhdWx0LFxyXG59IGZyb20gXCIuLi9jb25zdGFudC9qb2JTdGF0dXMuZW51bVwiO1xyXG5jb25zdCB7IE1vZGVsIH0gPSByZXF1aXJlKFwic2VxdWVsaXplXCIpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xyXG4gIGNsYXNzIEpvYnMgZXh0ZW5kcyBNb2RlbCB7XHJcbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xyXG4gICAgICAvLyBkZWZpbmUgYXNzb2NpYXRpb24gaGVyZVxyXG4gICAgICBKb2JzLmhhc01hbnkobW9kZWxzLkNhbmRpZGF0ZURldGFpbHMsIHsgZm9yZWlnbktleTogXCJKb2JfaWRcIiB9KTtcclxuICAgICAgSm9icy5iZWxvbmdzVG8obW9kZWxzLkNhdGVnb3JpZXMsIHsgZm9yZWlnbktleTogXCJDYXRlZ29yeV9pZFwiIH0pO1xyXG4gICAgICBKb2JzLmJlbG9uZ3NUbyhtb2RlbHMuQ2FtcGFpZ25zLCB7IGZvcmVpZ25LZXk6IFwiQ2FtcGFpZ25faWRcIiB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgSm9icy5pbml0KFxyXG4gICAge1xyXG4gICAgICBpZDoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDM2KSxcclxuICAgICAgICBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5VVUlEVjQsXHJcbiAgICAgIH0sXHJcbiAgICAgIG5hbWU6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoNDUpLFxyXG4gICAgICB9LFxyXG4gICAgICBkZXNjcmlwdGlvbjoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlRFWFQsXHJcbiAgICAgIH0sXHJcbiAgICAgIHNhbGFyeToge1xyXG4gICAgICAgIGFsbG93TnVsbDogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDQ1KSxcclxuICAgICAgfSxcclxuICAgICAgcXVhbnRpdHk6IHtcclxuICAgICAgICBkZWZhdWx0VmFsdWU6IDAsXHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcclxuICAgICAgICB2YWxpZGF0ZToge1xyXG4gICAgICAgICAgbWluOiAwLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIHN0YXJ0X2RhdGU6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5EQVRFT05MWSxcclxuICAgICAgfSxcclxuICAgICAgZW5kX2RhdGU6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5EQVRFT05MWSxcclxuICAgICAgfSxcclxuICAgICAgc3RhdHVzOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuRU5VTShqb2JTdGF0dXMpLFxyXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogam9iU3RhdHVzRGVmYXVsdCxcclxuICAgICAgfSxcclxuICAgICAgZXhwZXJpZW5jZToge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkVOVU0oam9iRXhwZXJpZW5jZWQpLFxyXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogam9iRXhwZXJpZW5jZWREZWZhdWx0LFxyXG4gICAgICB9LFxyXG4gICAgICBpc1JlbW90ZToge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkJPT0xFQU4sXHJcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBmYWxzZSxcclxuICAgICAgfSxcclxuICAgICAgQ2F0ZWdvcnlfaWQ6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoMzYpLFxyXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLlVVSURWNCxcclxuICAgICAgICByZWZlcmVuY2VzOiB7XHJcbiAgICAgICAgICBtb2RlbDogXCJDYXRlZ29yaWVzXCIsXHJcbiAgICAgICAgICBrZXk6IFwiaWRcIixcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICBDYW1wYWlnbl9pZDoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygzNiksXHJcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuVVVJRFY0LFxyXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcclxuICAgICAgICAgIG1vZGVsOiBcIkNhbXBhaWduc1wiLFxyXG4gICAgICAgICAga2V5OiBcImlkXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHNlcXVlbGl6ZSxcclxuICAgICAgbW9kZWxOYW1lOiBcIkpvYnNcIixcclxuICAgICAgdGltZXN0YW1wczogZmFsc2UsXHJcbiAgICAgIGNyZWF0ZWRBdDogZmFsc2UsXHJcbiAgICAgIHVwZGF0ZWRBdDogZmFsc2UsXHJcbiAgICB9XHJcbiAgKTtcclxuICByZXR1cm4gSm9icztcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQTs7QUFNQSxNQUFNO0VBQUVBO0FBQUYsSUFBWUMsT0FBTyxDQUFDLFdBQUQsQ0FBekI7O0FBQ0FDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixDQUFDQyxTQUFELEVBQVlDLFNBQVosS0FBMEI7RUFDekMsTUFBTUMsSUFBTixTQUFtQk4sS0FBbkIsQ0FBeUI7SUFDUCxPQUFUTyxTQUFTLENBQUNDLE1BQUQsRUFBUztNQUN2QjtNQUNBRixJQUFJLENBQUNHLE9BQUwsQ0FBYUQsTUFBTSxDQUFDRSxnQkFBcEIsRUFBc0M7UUFBRUMsVUFBVSxFQUFFO01BQWQsQ0FBdEM7TUFD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","map":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","Jobs","associate","models","hasMany","CandidateDetails","foreignKey","belongsTo","Categories","Campaigns","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","name","description","TEXT","salary","quantity","INTEGER","validate","min","start_date","DATEONLY","end_date","status","ENUM","jobStatus","jobStatusDefault","experience","jobExperienced","jobExperiencedDefault","isRemote","BOOLEAN","Category_id","references","model","key","Campaign_id","modelName","timestamps","createdAt","updatedAt"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\models\\","sources":["jobs.model.js"],"sourcesContent":["\"use strict\";\r\nimport {\r\n  jobExperienced,\r\n  jobExperiencedDefault,\r\n  jobStatus,\r\n  jobStatusDefault,\r\n} from \"../constant/jobStatus.enum\";\r\nconst { Model } = require(\"sequelize\");\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Jobs extends Model {\r\n    static associate(models) {\r\n      // define association here\r\n      Jobs.hasMany(models.CandidateDetails, { foreignKey: \"Job_id\" });\r\n      Jobs.belongsTo(models.Categories, { foreignKey: \"Category_id\" });\r\n      Jobs.belongsTo(models.Campaigns, { foreignKey: \"Campaign_id\" });\r\n    }\r\n  }\r\n  Jobs.init(\r\n    {\r\n      id: {\r\n        allowNull: false,\r\n        primaryKey: true,\r\n        type: DataTypes.STRING(36),\r\n        defaultValue: DataTypes.UUIDV4,\r\n      },\r\n      name: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(45),\r\n      },\r\n      description: {\r\n        allowNull: false,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      salary: {\r\n        allowNull: true,\r\n        type: DataTypes.STRING(45),\r\n      },\r\n      quantity: {\r\n        defaultValue: 0,\r\n        allowNull: false,\r\n        type: DataTypes.INTEGER,\r\n        validate: {\r\n          min: 0,\r\n        },\r\n      },\r\n      start_date: {\r\n        allowNull: false,\r\n        type: DataTypes.DATEONLY,\r\n      },\r\n      end_date: {\r\n        allowNull: false,\r\n        type: DataTypes.DATEONLY,\r\n      },\r\n      status: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(jobStatus),\r\n        defaultValue: jobStatusDefault,\r\n      },\r\n      experience: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(jobExperienced),\r\n        defaultValue: jobExperiencedDefault,\r\n      },\r\n      isRemote: {\r\n        allowNull: false,\r\n        type: DataTypes.BOOLEAN,\r\n        defaultValue: false,\r\n      },\r\n      Category_id: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(36),\r\n        defaultValue: DataTypes.UUIDV4,\r\n        references: {\r\n          model: \"Categories\",\r\n          key: \"id\",\r\n        },\r\n      },\r\n      Campaign_id: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(36),\r\n        defaultValue: DataTypes.UUIDV4,\r\n        references: {\r\n          model: \"Campaigns\",\r\n          key: \"id\",\r\n        },\r\n      },\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"Jobs\",\r\n      timestamps: false,\r\n      createdAt: false,\r\n      updatedAt: false,\r\n    }\r\n  );\r\n  return Jobs;\r\n};\r\n"],"mappings":"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"}},"mtime":1666281006325},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\constant\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\constant\\\\jobStatus.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  jobStatus: [\"Hiring\", \"Expired\", \"Hidden\"],\n  jobStatusDefault: \"Hiring\",\n  jobExperienced: [\"Experienced\", \"Intern\", \"Fresher\"],\n  jobExperiencedDefault: \"Experienced\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiam9iU3RhdHVzIiwiam9iU3RhdHVzRGVmYXVsdCIsImpvYkV4cGVyaWVuY2VkIiwiam9iRXhwZXJpZW5jZWREZWZhdWx0Il0sInNvdXJjZVJvb3QiOiJEOlxcQ29kZVxcRlBUX1N1YmplY3RcXFNXUFxcSFJNU19CRVxcc3JjXFxjb25zdGFudFxcIiwic291cmNlcyI6WyJqb2JTdGF0dXMuZW51bS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHtcclxuICBqb2JTdGF0dXM6IFtcIkhpcmluZ1wiLCBcIkV4cGlyZWRcIiwgXCJIaWRkZW5cIl0sXHJcbiAgam9iU3RhdHVzRGVmYXVsdDogXCJIaXJpbmdcIixcclxuICBqb2JFeHBlcmllbmNlZDogW1wiRXhwZXJpZW5jZWRcIiwgXCJJbnRlcm5cIiwgXCJGcmVzaGVyXCJdLFxyXG4gIGpvYkV4cGVyaWVuY2VkRGVmYXVsdDogXCJFeHBlcmllbmNlZFwiLFxyXG59O1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmQyxTQUFTLEVBQUUsQ0FBQyxRQUFELEVBQVcsU0FBWCxFQUFzQixRQUF0QixDQURJO0VBRWZDLGdCQUFnQixFQUFFLFFBRkg7RUFHZkMsY0FBYyxFQUFFLENBQUMsYUFBRCxFQUFnQixRQUFoQixFQUEwQixTQUExQixDQUhEO0VBSWZDLHFCQUFxQixFQUFFO0FBSlIsQ0FBakIifQ==","map":{"version":3,"names":["module","exports","jobStatus","jobStatusDefault","jobExperienced","jobExperiencedDefault"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\constant\\","sources":["jobStatus.enum.js"],"sourcesContent":["module.exports = {\r\n  jobStatus: [\"Hiring\", \"Expired\", \"Hidden\"],\r\n  jobStatusDefault: \"Hiring\",\r\n  jobExperienced: [\"Experienced\", \"Intern\", \"Fresher\"],\r\n  jobExperiencedDefault: \"Experienced\",\r\n};\r\n"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACfC,SAAS,EAAE,CAAC,QAAD,EAAW,SAAX,EAAsB,QAAtB,CADI;EAEfC,gBAAgB,EAAE,QAFH;EAGfC,cAAc,EAAE,CAAC,aAAD,EAAgB,QAAhB,EAA0B,SAA1B,CAHD;EAIfC,qBAAqB,EAAE;AAJR,CAAjB"}},"mtime":1666281032451},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\models\\\\members.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nconst {\n  userStatus,\n  userStatusDefault\n} = require(\"../constant/userStatus.enum.js\");\n\nconst {\n  v4: uuidv4\n} = require(\"uuid\");\n\nconst {\n  memberStatus,\n  memberStatusDefault\n} = require(\"../constant/memberStatus.enum.js\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Members extends Model {\n    static associate(models) {\n      // define association here\n      Members.hasMany(models.CandidateDetails, {\n        foreignKey: \"Member_id\"\n      });\n    }\n\n  }\n\n  Members.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    email: {\n      allowNull: false,\n      type: DataTypes.STRING(320)\n    },\n    fullname: {\n      allowNull: false,\n      type: DataTypes.STRING(60)\n    },\n    password: {\n      allowNull: false,\n      type: DataTypes.STRING(60)\n    },\n    avatar: {\n      allowNull: true,\n      type: DataTypes.TEXT\n    },\n    current_resume_url: {\n      allowNull: true,\n      type: DataTypes.TEXT\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(userStatus),\n      defaultValue: userStatusDefault\n    },\n    phone: {\n      allowNull: true,\n      type: DataTypes.STRING(13)\n    },\n    address: {\n      allowNull: true,\n      type: DataTypes.TEXT\n    },\n    verified_code: {\n      allowNull: true,\n      type: DataTypes.STRING(4)\n    },\n    is_employee: {\n      allowNull: false,\n      type: DataTypes.ENUM(memberStatus),\n      defaultValue: memberStatusDefault\n    }\n  }, {\n    sequelize,\n    modelName: \"Members\",\n    createdAt: false,\n    updatedAt: false\n  });\n  Members.beforeCreate(user => user.id = uuidv4());\n  return Members;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJ1c2VyU3RhdHVzIiwidXNlclN0YXR1c0RlZmF1bHQiLCJ2NCIsInV1aWR2NCIsIm1lbWJlclN0YXR1cyIsIm1lbWJlclN0YXR1c0RlZmF1bHQiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiTWVtYmVycyIsImFzc29jaWF0ZSIsIm1vZGVscyIsImhhc01hbnkiLCJDYW5kaWRhdGVEZXRhaWxzIiwiZm9yZWlnbktleSIsImluaXQiLCJpZCIsImFsbG93TnVsbCIsInByaW1hcnlLZXkiLCJ0eXBlIiwiU1RSSU5HIiwiZGVmYXVsdFZhbHVlIiwiVVVJRFY0IiwiZW1haWwiLCJmdWxsbmFtZSIsInBhc3N3b3JkIiwiYXZhdGFyIiwiVEVYVCIsImN1cnJlbnRfcmVzdW1lX3VybCIsInN0YXR1cyIsIkVOVU0iLCJwaG9uZSIsImFkZHJlc3MiLCJ2ZXJpZmllZF9jb2RlIiwiaXNfZW1wbG95ZWUiLCJtb2RlbE5hbWUiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJiZWZvcmVDcmVhdGUiLCJ1c2VyIl0sInNvdXJjZVJvb3QiOiJEOlxcQ29kZVxcRlBUX1N1YmplY3RcXFNXUFxcSFJNU19CRVxcc3JjXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsibWVtYmVycy5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcInNlcXVlbGl6ZVwiKTtcclxuY29uc3Qge1xyXG4gIHVzZXJTdGF0dXMsXHJcbiAgdXNlclN0YXR1c0RlZmF1bHQsXHJcbn0gPSByZXF1aXJlKFwiLi4vY29uc3RhbnQvdXNlclN0YXR1cy5lbnVtLmpzXCIpO1xyXG5jb25zdCB7IHY0OiB1dWlkdjQgfSA9IHJlcXVpcmUoXCJ1dWlkXCIpO1xyXG5jb25zdCB7XHJcbiAgbWVtYmVyU3RhdHVzLFxyXG4gIG1lbWJlclN0YXR1c0RlZmF1bHQsXHJcbn0gPSByZXF1aXJlKFwiLi4vY29uc3RhbnQvbWVtYmVyU3RhdHVzLmVudW0uanNcIik7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xyXG4gIGNsYXNzIE1lbWJlcnMgZXh0ZW5kcyBNb2RlbCB7XHJcbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xyXG4gICAgICAvLyBkZWZpbmUgYXNzb2NpYXRpb24gaGVyZVxyXG4gICAgICBNZW1iZXJzLmhhc01hbnkobW9kZWxzLkNhbmRpZGF0ZURldGFpbHMsIHsgZm9yZWlnbktleTogXCJNZW1iZXJfaWRcIiB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgTWVtYmVycy5pbml0KFxyXG4gICAge1xyXG4gICAgICBpZDoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDM2KSxcclxuICAgICAgICBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5VVUlEVjQsXHJcbiAgICAgIH0sXHJcbiAgICAgIGVtYWlsOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDMyMCksXHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bGxuYW1lOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDYwKSxcclxuICAgICAgfSxcclxuICAgICAgcGFzc3dvcmQ6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoNjApLFxyXG4gICAgICB9LFxyXG4gICAgICBhdmF0YXI6IHtcclxuICAgICAgICBhbGxvd051bGw6IHRydWUsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlRFWFQsXHJcbiAgICAgIH0sXHJcbiAgICAgIGN1cnJlbnRfcmVzdW1lX3VybDoge1xyXG4gICAgICAgIGFsbG93TnVsbDogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuVEVYVCxcclxuICAgICAgfSxcclxuICAgICAgc3RhdHVzOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuRU5VTSh1c2VyU3RhdHVzKSxcclxuICAgICAgICBkZWZhdWx0VmFsdWU6IHVzZXJTdGF0dXNEZWZhdWx0LFxyXG4gICAgICB9LFxyXG4gICAgICBwaG9uZToge1xyXG4gICAgICAgIGFsbG93TnVsbDogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDEzKSxcclxuICAgICAgfSxcclxuICAgICAgYWRkcmVzczoge1xyXG4gICAgICAgIGFsbG93TnVsbDogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuVEVYVCxcclxuICAgICAgfSxcclxuICAgICAgdmVyaWZpZWRfY29kZToge1xyXG4gICAgICAgIGFsbG93TnVsbDogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDQpLFxyXG4gICAgICB9LFxyXG4gICAgICBpc19lbXBsb3llZToge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkVOVU0obWVtYmVyU3RhdHVzKSxcclxuICAgICAgICBkZWZhdWx0VmFsdWU6IG1lbWJlclN0YXR1c0RlZmF1bHQsXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBzZXF1ZWxpemUsXHJcbiAgICAgIG1vZGVsTmFtZTogXCJNZW1iZXJzXCIsXHJcbiAgICAgIGNyZWF0ZWRBdDogZmFsc2UsXHJcbiAgICAgIHVwZGF0ZWRBdDogZmFsc2UsXHJcbiAgICB9XHJcbiAgKTtcclxuICBNZW1iZXJzLmJlZm9yZUNyZWF0ZSgodXNlcikgPT4gKHVzZXIuaWQgPSB1dWlkdjQoKSkpO1xyXG5cclxu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","map":{"version":3,"names":["Model","require","userStatus","userStatusDefault","v4","uuidv4","memberStatus","memberStatusDefault","module","exports","sequelize","DataTypes","Members","associate","models","hasMany","CandidateDetails","foreignKey","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","email","fullname","password","avatar","TEXT","current_resume_url","status","ENUM","phone","address","verified_code","is_employee","modelName","createdAt","updatedAt","beforeCreate","user"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\models\\","sources":["members.model.js"],"sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nconst {\r\n  userStatus,\r\n  userStatusDefault,\r\n} = require(\"../constant/userStatus.enum.js\");\r\nconst { v4: uuidv4 } = require(\"uuid\");\r\nconst {\r\n  memberStatus,\r\n  memberStatusDefault,\r\n} = require(\"../constant/memberStatus.enum.js\");\r\n\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Members extends Model {\r\n    static associate(models) {\r\n      // define association here\r\n      Members.hasMany(models.CandidateDetails, { foreignKey: \"Member_id\" });\r\n    }\r\n  }\r\n  Members.init(\r\n    {\r\n      id: {\r\n        allowNull: false,\r\n        primaryKey: true,\r\n        type: DataTypes.STRING(36),\r\n        defaultValue: DataTypes.UUIDV4,\r\n      },\r\n      email: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(320),\r\n      },\r\n      fullname: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(60),\r\n      },\r\n      password: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(60),\r\n      },\r\n      avatar: {\r\n        allowNull: true,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      current_resume_url: {\r\n        allowNull: true,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      status: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(userStatus),\r\n        defaultValue: userStatusDefault,\r\n      },\r\n      phone: {\r\n        allowNull: true,\r\n        type: DataTypes.STRING(13),\r\n      },\r\n      address: {\r\n        allowNull: true,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      verified_code: {\r\n        allowNull: true,\r\n        type: DataTypes.STRING(4),\r\n      },\r\n      is_employee: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(memberStatus),\r\n        defaultValue: memberStatusDefault,\r\n      },\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"Members\",\r\n      createdAt: false,\r\n      updatedAt: false,\r\n    }\r\n  );\r\n  Members.beforeCreate((user) => (user.id = uuidv4()));\r\n\r\n  return Members;\r\n};\r\n"],"mappings":"AAAA;;AACA,MAAM;EAAEA;AAAF,IAAYC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAM;EACJC,UADI;EAEJC;AAFI,IAGFF,OAAO,CAAC,gCAAD,CAHX;;AAIA,MAAM;EAAEG,EAAE,EAAEC;AAAN,IAAiBJ,OAAO,CAAC,MAAD,CAA9B;;AACA,MAAM;EACJK,YADI;EAEJC;AAFI,IAGFN,OAAO,CAAC,kCAAD,CAHX;;AAKAO,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;EACzC,MAAMC,OAAN,SAAsBZ,KAAtB,CAA4B;IACV,OAATa,SAAS,CAACC,MAAD,EAAS;MACvB;MACAF,OAAO,CAACG,OAAR,CAAgBD,MAAM,CAACE,gBAAvB,EAAyC;QAAEC,UAAU,EAAE;MAAd,CAAzC;IACD;;EAJyB;;EAM5BL,OAAO,CAACM,IAAR,CACE;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB,CAHJ;MAIFC,YAAY,EAAEb,SAAS,CAACc;IAJtB,CADN;IAOEC,KAAK,EAAE;MACLN,SAAS,EAAE,KADN;MAELE,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,GAAjB;IAFD,CAPT;IAWEI,QAAQ,EAAE;MACRP,SAAS,EAAE,KADH;MAERE,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB;IAFE,CAXZ;IAeEK,QAAQ,EAAE;MACRR,SAAS,EAAE,KADH;MAERE,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB;IAFE,CAfZ;IAmBEM,MAAM,EAAE;MACNT,SAAS,EAAE,IADL;MAENE,IAAI,EAAEX,SAAS,CAACmB;IAFV,CAnBV;IAuBEC,kBAAkB,EAAE;MAClBX,SAAS,EAAE,IADO;MAElBE,IAAI,EAAEX,SAAS,CAACmB;IAFE,CAvBtB;IA2BEE,MAAM,EAAE;MACNZ,SAAS,EAAE,KADL;MAENE,IAAI,EAAEX,SAAS,CAACsB,IAAV,CAAe/B,UAAf,CAFA;MAGNsB,YAAY,EAAErB;IAHR,CA3BV;IAgCE+B,KAAK,EAAE;MACLd,SAAS,EAAE,IADN;MAELE,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,EAAjB;IAFD,CAhCT;IAoCEY,OAAO,EAAE;MACPf,SAAS,EAAE,IADJ;MAEPE,IAAI,EAAEX,SAAS,CAACmB;IAFT,CApCX;IAwCEM,aAAa,EAAE;MACbhB,SAAS,EAAE,IADE;MAEbE,IAAI,EAAEX,SAAS,CAACY,MAAV,CAAiB,CAAjB;IAFO,CAxCjB;IA4CEc,WAAW,EAAE;MACXjB,SAAS,EAAE,KADA;MAEXE,IAAI,EAAEX,SAAS,CAACsB,IAAV,CAAe3B,YAAf,CAFK;MAGXkB,YAAY,EAAEjB;IAHH;EA5Cf,CADF,EAmDE;IACEG,SADF;IAEE4B,SAAS,EAAE,SAFb;IAGEC,SAAS,EAAE,KAHb;IAIEC,SAAS,EAAE;EAJb,CAnDF;EA0DA5B,OAAO,CAAC6B,YAAR,CAAsBC,IAAD,IAAWA,IAAI,CAACvB,EAAL,GAAUd,MAAM,EAAhD;EAEA,OAAOO,OAAP;AACD,CApED"}},"mtime":1667114444317},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\constant\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\constant\\\\userStatus.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  userStatus: [\"Active\", \"Inactive\"],\n  userStatusDefault: \"Inactive\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwidXNlclN0YXR1cyIsInVzZXJTdGF0dXNEZWZhdWx0Il0sInNvdXJjZVJvb3QiOiJEOlxcQ29kZVxcRlBUX1N1YmplY3RcXFNXUFxcSFJNU19CRVxcc3JjXFxjb25zdGFudFxcIiwic291cmNlcyI6WyJ1c2VyU3RhdHVzLmVudW0uanMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgdXNlclN0YXR1czogW1wiQWN0aXZlXCIsIFwiSW5hY3RpdmVcIl0sXHJcbiAgdXNlclN0YXR1c0RlZmF1bHQ6IFwiSW5hY3RpdmVcIixcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7RUFDZkMsVUFBVSxFQUFFLENBQUMsUUFBRCxFQUFXLFVBQVgsQ0FERztFQUVmQyxpQkFBaUIsRUFBRTtBQUZKLENBQWpCIn0=","map":{"version":3,"names":["module","exports","userStatus","userStatusDefault"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\constant\\","sources":["userStatus.enum.js"],"sourcesContent":["module.exports = {\r\n  userStatus: [\"Active\", \"Inactive\"],\r\n  userStatusDefault: \"Inactive\",\r\n};\r\n"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACfC,UAAU,EAAE,CAAC,QAAD,EAAW,UAAX,CADG;EAEfC,iBAAiB,EAAE;AAFJ,CAAjB"}},"mtime":1666281006181},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\constant\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\constant\\\\memberStatus.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  memberStatus: [\"Not yet\", \"Approve\", \"Reject\"],\n  memberStatusDefault: \"Not yet\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwibWVtYmVyU3RhdHVzIiwibWVtYmVyU3RhdHVzRGVmYXVsdCJdLCJzb3VyY2VSb290IjoiRDpcXENvZGVcXEZQVF9TdWJqZWN0XFxTV1BcXEhSTVNfQkVcXHNyY1xcY29uc3RhbnRcXCIsInNvdXJjZXMiOlsibWVtYmVyU3RhdHVzLmVudW0uanMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgbWVtYmVyU3RhdHVzOiBbXCJOb3QgeWV0XCIsIFwiQXBwcm92ZVwiLCBcIlJlamVjdFwiXSxcclxuICBtZW1iZXJTdGF0dXNEZWZhdWx0OiBcIk5vdCB5ZXRcIixcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7RUFDZkMsWUFBWSxFQUFFLENBQUMsU0FBRCxFQUFZLFNBQVosRUFBdUIsUUFBdkIsQ0FEQztFQUVmQyxtQkFBbUIsRUFBRTtBQUZOLENBQWpCIn0=","map":{"version":3,"names":["module","exports","memberStatus","memberStatusDefault"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\constant\\","sources":["memberStatus.enum.js"],"sourcesContent":["module.exports = {\r\n  memberStatus: [\"Not yet\", \"Approve\", \"Reject\"],\r\n  memberStatusDefault: \"Not yet\",\r\n};\r\n"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACfC,YAAY,EAAE,CAAC,SAAD,EAAY,SAAZ,EAAuB,QAAvB,CADC;EAEfC,mBAAmB,EAAE;AAFN,CAAjB"}},"mtime":1667116068953},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\models\\\\reports.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nconst {\n  reportStatus,\n  reportStatusDefault\n} = require(\"../constant/reportStatus.enum\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Reports extends Model {\n    static associate(models) {\n      // define association here\n      Reports.belongsTo(models.Staffs, {\n        foreignKey: \"Interviewer_id\"\n      });\n      Reports.belongsTo(models.Interviews, {\n        foreignKey: \"Interview_id\"\n      });\n    }\n\n  }\n\n  Reports.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    Interview_id: {\n      allowNull: false,\n      type: DataTypes.UUID,\n      defaultValue: DataTypes.STRING(36),\n      references: {\n        model: \"Interviews\",\n        key: \"id\"\n      }\n    },\n    Interviewer_id: {\n      allowNull: false,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4,\n      references: {\n        model: \"Staffs\",\n        key: \"id\"\n      }\n    },\n    mark: {\n      allowNull: true,\n      type: DataTypes.INTEGER\n    },\n    comment: {\n      allowNull: true,\n      type: DataTypes.TEXT\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(reportStatus),\n      defaultValue: reportStatusDefault\n    }\n  }, {\n    sequelize,\n    modelName: \"Reports\",\n    createdAt: false,\n    updatedAt: false\n  });\n  return Reports;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJyZXBvcnRTdGF0dXMiLCJyZXBvcnRTdGF0dXNEZWZhdWx0IiwibW9kdWxlIiwiZXhwb3J0cyIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsIlJlcG9ydHMiLCJhc3NvY2lhdGUiLCJtb2RlbHMiLCJiZWxvbmdzVG8iLCJTdGFmZnMiLCJmb3JlaWduS2V5IiwiSW50ZXJ2aWV3cyIsImluaXQiLCJpZCIsImFsbG93TnVsbCIsInByaW1hcnlLZXkiLCJ0eXBlIiwiU1RSSU5HIiwiZGVmYXVsdFZhbHVlIiwiVVVJRFY0IiwiSW50ZXJ2aWV3X2lkIiwiVVVJRCIsInJlZmVyZW5jZXMiLCJtb2RlbCIsImtleSIsIkludGVydmlld2VyX2lkIiwibWFyayIsIklOVEVHRVIiLCJjb21tZW50IiwiVEVYVCIsInN0YXR1cyIsIkVOVU0iLCJtb2RlbE5hbWUiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiXSwic291cmNlUm9vdCI6IkQ6XFxDb2RlXFxGUFRfU3ViamVjdFxcU1dQXFxIUk1TX0JFXFxzcmNcXG1vZGVsc1xcIiwic291cmNlcyI6WyJyZXBvcnRzLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5jb25zdCB7IE1vZGVsIH0gPSByZXF1aXJlKFwic2VxdWVsaXplXCIpO1xyXG5jb25zdCB7XHJcbiAgcmVwb3J0U3RhdHVzLFxyXG4gIHJlcG9ydFN0YXR1c0RlZmF1bHQsXHJcbn0gPSByZXF1aXJlKFwiLi4vY29uc3RhbnQvcmVwb3J0U3RhdHVzLmVudW1cIik7XHJcbm1vZHVsZS5leHBvcnRzID0gKHNlcXVlbGl6ZSwgRGF0YVR5cGVzKSA9PiB7XHJcbiAgY2xhc3MgUmVwb3J0cyBleHRlbmRzIE1vZGVsIHtcclxuICAgIHN0YXRpYyBhc3NvY2lhdGUobW9kZWxzKSB7XHJcbiAgICAgIC8vIGRlZmluZSBhc3NvY2lhdGlvbiBoZXJlXHJcbiAgICAgIFJlcG9ydHMuYmVsb25nc1RvKG1vZGVscy5TdGFmZnMsIHsgZm9yZWlnbktleTogXCJJbnRlcnZpZXdlcl9pZFwiIH0pO1xyXG4gICAgICBSZXBvcnRzLmJlbG9uZ3NUbyhtb2RlbHMuSW50ZXJ2aWV3cywgeyBmb3JlaWduS2V5OiBcIkludGVydmlld19pZFwiIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICBSZXBvcnRzLmluaXQoXHJcbiAgICB7XHJcbiAgICAgIGlkOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICBwcmltYXJ5S2V5OiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoMzYpLFxyXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLlVVSURWNCxcclxuICAgICAgfSxcclxuICAgICAgSW50ZXJ2aWV3X2lkOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuVVVJRCxcclxuICAgICAgICBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5TVFJJTkcoMzYpLFxyXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcclxuICAgICAgICAgIG1vZGVsOiBcIkludGVydmlld3NcIixcclxuICAgICAgICAgIGtleTogXCJpZFwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIEludGVydmlld2VyX2lkOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDM2KSxcclxuICAgICAgICBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5VVUlEVjQsXHJcbiAgICAgICAgcmVmZXJlbmNlczoge1xyXG4gICAgICAgICAgbW9kZWw6IFwiU3RhZmZzXCIsXHJcbiAgICAgICAgICBrZXk6IFwiaWRcIixcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICBtYXJrOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxyXG4gICAgICB9LFxyXG4gICAgICBjb21tZW50OiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5URVhULFxyXG4gICAgICB9LFxyXG4gICAgICBzdGF0dXM6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5FTlVNKHJlcG9ydFN0YXR1cyksXHJcbiAgICAgICAgZGVmYXVsdFZhbHVlOiByZXBvcnRTdGF0dXNEZWZhdWx0LFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgc2VxdWVsaXplLFxyXG4gICAgICBtb2RlbE5hbWU6IFwiUmVwb3J0c1wiLFxyXG4gICAgICBjcmVhdGVkQXQ6IGZhbHNlLFxyXG4gICAgICB1cGRhdGVkQXQ6IGZhbHNlLFxyXG4gICAgfVxyXG4gICk7XHJcbiAgcmV0dXJuIFJlcG9ydHM7XHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0EsTUFBTTtFQUFFQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU07RUFDSkMsWUFESTtFQUVKQztBQUZJLElBR0ZGLE9BQU8sQ0FBQywrQkFBRCxDQUhYOztBQUlBRyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsQ0FBQ0MsU0FBRCxFQUFZQyxTQUFaLEtBQTBCO0VBQ3pDLE1BQU1DLE9BQU4sU0FBc0JSLEtBQXRCLENBQTRCO0lBQ1YsT0FBVFMsU0FBUyxDQUFDQyxNQUFELEVBQVM7TUFDdkI7TUFDQUYsT0FBTyxDQUFDRyxTQUFSLENBQWtCRCxNQUFNLENBQUNFLE1BQXpCLEVBQWlDO1FBQUVDLFVBQVUsRUFBRTtNQUFkLENBQWpDO01BQ0FMLE9BQU8sQ0FBQ0csU0FBUixDQUFrQkQsTUFBTSxDQUFDSSxVQUF6QixFQUFxQztRQUFFRCxVQUFVLEVBQUU7TUFBZCxDQUFyQztJQUNEOztFQUx5Qjs7RUFPNUJMLE9BQU8sQ0FBQ08sSUFBUixDQUNFO0lBQ0VDLEVBQUUsRUFBRTtNQUNGQyxTQUFTLEVBQUUsS0FEVDtNQUVGQyxVQUFVLEVBQUUsSUFGVjtNQUdGQyxJQUFJLEVBQUVaLFNBQVMsQ0FBQ2EsTUFBVixDQUFpQixFQUFqQixDQUhKO01BSUZDLFlBQVksRUFBRWQsU0FBUyxDQUFDZTtJQUp0QixDQUROO0lBT0VDLFlBQVksRUFBRTtNQUNaTixTQUFTLEVBQUUsS0FEQztNQUVaRSxJQUFJLEVBQUVaLFNBQVMsQ0FBQ2lCLElBRko7TUFHWkgsWUFBWSxFQUFFZCxTQUFTLENBQUNhLE1BQVYsQ0FBaUIsRUFBakIsQ0FIRjtNQUlaSyxVQUFVLEVBQUU7UUFDVkMsS0FBSyxFQUFFLFlBREc7UUFFVkMsR0FBRyxFQUFFO01BRks7SUFKQSxDQVBoQjtJQWdCRUMsY0FBYyxFQUFFO01BQ2RYLFNBQVMsRUFBRSxLQURHO01BRWRFLElBQUksRUFBRVosU0FBUyxDQUFDYSxNQUFWLENBQWlCLEVBQWpCLENBRlE7TUFHZEMsWUFBWSxFQUFFZCxTQUFTLENBQUNlLE1BSFY7TUFJZEcsVUFBVSxFQUFFO1FBQ1ZDLEtBQUssRUFBRSxRQURHO1FBRVZDLEdBQUcsRUFBRTtNQUZLO0lBSkUsQ0FoQmxCO0lBeUJFRSxJQUFJLEVBQUU7TUFDSlosU0FBUyxFQUFFLElBRFA7TUFFSkUsSUFBSSxFQUFFWixTQUFTLENBQUN1QjtJQUZaLENBekJSO0lBNkJFQyxPQUFPLEVBQUU7TUFDUGQsU0FBUyxFQUFFLElBREo7TUFFUEUsSUFBSSxFQUFFWixTQUFTLENBQUN5QjtJQUZULENBN0JYO0lBaUNFQyxNQUFNLEVBQUU7TUFDTmhCLFNBQVMsRUFBRSxLQURMO01BRU5FLElBQUksRUFBRVosU0FBUyxDQUFDMkIsSUFBVixDQUFlaEMsWUFBZixDQUZBO01BR05tQixZQUFZLEVBQUVsQjtJQUhSO0VBakNWLENBREYsRUF3Q0U7SUFDRUcsU0FERjtJQUVFNkIsU0FBUyxFQUFFLFNBRmI7SUFHRUMsU0FBUyxFQUFFLEtBSGI7SUFJRUMsU0FBUyxFQUFFO0VBSmIsQ0F4Q0Y7RUErQ0EsT0FBTzdCLE9BQVA7QUFDRCxDQXhERCJ9","map":{"version":3,"names":["Model","require","reportStatus","reportStatusDefault","module","exports","sequelize","DataTypes","Reports","associate","models","belongsTo","Staffs","foreignKey","Interviews","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","Interview_id","UUID","references","model","key","Interviewer_id","mark","INTEGER","comment","TEXT","status","ENUM","modelName","createdAt","updatedAt"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\models\\","sources":["reports.model.js"],"sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nconst {\r\n  reportStatus,\r\n  reportStatusDefault,\r\n} = require(\"../constant/reportStatus.enum\");\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Reports extends Model {\r\n    static associate(models) {\r\n      // define association here\r\n      Reports.belongsTo(models.Staffs, { foreignKey: \"Interviewer_id\" });\r\n      Reports.belongsTo(models.Interviews, { foreignKey: \"Interview_id\" });\r\n    }\r\n  }\r\n  Reports.init(\r\n    {\r\n      id: {\r\n        allowNull: false,\r\n        primaryKey: true,\r\n        type: DataTypes.STRING(36),\r\n        defaultValue: DataTypes.UUIDV4,\r\n      },\r\n      Interview_id: {\r\n        allowNull: false,\r\n        type: DataTypes.UUID,\r\n        defaultValue: DataTypes.STRING(36),\r\n        references: {\r\n          model: \"Interviews\",\r\n          key: \"id\",\r\n        },\r\n      },\r\n      Interviewer_id: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(36),\r\n        defaultValue: DataTypes.UUIDV4,\r\n        references: {\r\n          model: \"Staffs\",\r\n          key: \"id\",\r\n        },\r\n      },\r\n      mark: {\r\n        allowNull: true,\r\n        type: DataTypes.INTEGER,\r\n      },\r\n      comment: {\r\n        allowNull: true,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      status: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(reportStatus),\r\n        defaultValue: reportStatusDefault,\r\n      },\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"Reports\",\r\n      createdAt: false,\r\n      updatedAt: false,\r\n    }\r\n  );\r\n  return Reports;\r\n};\r\n"],"mappings":"AAAA;;AACA,MAAM;EAAEA;AAAF,IAAYC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAM;EACJC,YADI;EAEJC;AAFI,IAGFF,OAAO,CAAC,+BAAD,CAHX;;AAIAG,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;EACzC,MAAMC,OAAN,SAAsBR,KAAtB,CAA4B;IACV,OAATS,SAAS,CAACC,MAAD,EAAS;MACvB;MACAF,OAAO,CAACG,SAAR,CAAkBD,MAAM,CAACE,MAAzB,EAAiC;QAAEC,UAAU,EAAE;MAAd,CAAjC;MACAL,OAAO,CAACG,SAAR,CAAkBD,MAAM,CAACI,UAAzB,EAAqC;QAAED,UAAU,EAAE;MAAd,CAArC;IACD;;EALyB;;EAO5BL,OAAO,CAACO,IAAR,CACE;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEZ,SAAS,CAACa,MAAV,CAAiB,EAAjB,CAHJ;MAIFC,YAAY,EAAEd,SAAS,CAACe;IAJtB,CADN;IAOEC,YAAY,EAAE;MACZN,SAAS,EAAE,KADC;MAEZE,IAAI,EAAEZ,SAAS,CAACiB,IAFJ;MAGZH,YAAY,EAAEd,SAAS,CAACa,MAAV,CAAiB,EAAjB,CAHF;MAIZK,UAAU,EAAE;QACVC,KAAK,EAAE,YADG;QAEVC,GAAG,EAAE;MAFK;IAJA,CAPhB;IAgBEC,cAAc,EAAE;MACdX,SAAS,EAAE,KADG;MAEdE,IAAI,EAAEZ,SAAS,CAACa,MAAV,CAAiB,EAAjB,CAFQ;MAGdC,YAAY,EAAEd,SAAS,CAACe,MAHV;MAIdG,UAAU,EAAE;QACVC,KAAK,EAAE,QADG;QAEVC,GAAG,EAAE;MAFK;IAJE,CAhBlB;IAyBEE,IAAI,EAAE;MACJZ,SAAS,EAAE,IADP;MAEJE,IAAI,EAAEZ,SAAS,CAACuB;IAFZ,CAzBR;IA6BEC,OAAO,EAAE;MACPd,SAAS,EAAE,IADJ;MAEPE,IAAI,EAAEZ,SAAS,CAACyB;IAFT,CA7BX;IAiCEC,MAAM,EAAE;MACNhB,SAAS,EAAE,KADL;MAENE,IAAI,EAAEZ,SAAS,CAAC2B,IAAV,CAAehC,YAAf,CAFA;MAGNmB,YAAY,EAAElB;IAHR;EAjCV,CADF,EAwCE;IACEG,SADF;IAEE6B,SAAS,EAAE,SAFb;IAGEC,SAAS,EAAE,KAHb;IAIEC,SAAS,EAAE;EAJb,CAxCF;EA+CA,OAAO7B,OAAP;AACD,CAxDD"}},"mtime":1666852440454},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\constant\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\constant\\\\reportStatus.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  reportStatus: [\"Pending\", \"Done\"],\n  reportStatusDefault: \"Pending\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwicmVwb3J0U3RhdHVzIiwicmVwb3J0U3RhdHVzRGVmYXVsdCJdLCJzb3VyY2VSb290IjoiRDpcXENvZGVcXEZQVF9TdWJqZWN0XFxTV1BcXEhSTVNfQkVcXHNyY1xcY29uc3RhbnRcXCIsInNvdXJjZXMiOlsicmVwb3J0U3RhdHVzLmVudW0uanMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgcmVwb3J0U3RhdHVzOiBbXCJQZW5kaW5nXCIsIFwiRG9uZVwiXSxcclxuICByZXBvcnRTdGF0dXNEZWZhdWx0OiBcIlBlbmRpbmdcIixcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7RUFDZkMsWUFBWSxFQUFFLENBQUMsU0FBRCxFQUFZLE1BQVosQ0FEQztFQUVmQyxtQkFBbUIsRUFBRTtBQUZOLENBQWpCIn0=","map":{"version":3,"names":["module","exports","reportStatus","reportStatusDefault"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\constant\\","sources":["reportStatus.enum.js"],"sourcesContent":["module.exports = {\r\n  reportStatus: [\"Pending\", \"Done\"],\r\n  reportStatusDefault: \"Pending\",\r\n};\r\n"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACfC,YAAY,EAAE,CAAC,SAAD,EAAY,MAAZ,CADC;EAEfC,mBAAmB,EAAE;AAFN,CAAjB"}},"mtime":1666852332581},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\models\\\\rooms.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nconst {\n  roomType,\n  roomStatus,\n  roomStatusDefault\n} = require(\"../constant/room.enum\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Rooms extends Model {\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\n    static associate(models) {\n      // define association here\n      Rooms.hasMany(models.Interviews, {\n        foreignKey: \"room\"\n      });\n    }\n\n  }\n\n  Rooms.init({\n    interview_id: {\n      allowNull: false,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4,\n      references: {\n        model: \"Interviews\",\n        key: \"id\"\n      }\n    },\n    id: {\n      allowNull: false,\n      autoIncrement: true,\n      primaryKey: true,\n      type: DataTypes.INTEGER\n    },\n    zoom_id: {\n      allowNull: true,\n      type: DataTypes.STRING(20)\n    },\n    topic: {\n      allowNull: true,\n      type: DataTypes.TEXT\n    },\n    join_url: {\n      allowNull: true,\n      type: DataTypes.TEXT\n    },\n    start_url: {\n      allowNull: true,\n      type: DataTypes.TEXT\n    },\n    pwd: {\n      allowNull: true,\n      type: DataTypes.STRING(20)\n    },\n    type: {\n      allowNull: false,\n      type: DataTypes.ENUM(roomType)\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(roomStatus),\n      default: roomStatusDefault\n    }\n  }, {\n    sequelize,\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false,\n    modelName: \"Rooms\"\n  });\n  return Rooms;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJyb29tVHlwZSIsInJvb21TdGF0dXMiLCJyb29tU3RhdHVzRGVmYXVsdCIsIm1vZHVsZSIsImV4cG9ydHMiLCJzZXF1ZWxpemUiLCJEYXRhVHlwZXMiLCJSb29tcyIsImFzc29jaWF0ZSIsIm1vZGVscyIsImhhc01hbnkiLCJJbnRlcnZpZXdzIiwiZm9yZWlnbktleSIsImluaXQiLCJpbnRlcnZpZXdfaWQiLCJhbGxvd051bGwiLCJ0eXBlIiwiU1RSSU5HIiwiZGVmYXVsdFZhbHVlIiwiVVVJRFY0IiwicmVmZXJlbmNlcyIsIm1vZGVsIiwia2V5IiwiaWQiLCJhdXRvSW5jcmVtZW50IiwicHJpbWFyeUtleSIsIklOVEVHRVIiLCJ6b29tX2lkIiwidG9waWMiLCJURVhUIiwiam9pbl91cmwiLCJzdGFydF91cmwiLCJwd2QiLCJFTlVNIiwic3RhdHVzIiwiZGVmYXVsdCIsInRpbWVzdGFtcHMiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJtb2RlbE5hbWUiXSwic291cmNlUm9vdCI6IkQ6XFxDb2RlXFxGUFRfU3ViamVjdFxcU1dQXFxIUk1TX0JFXFxzcmNcXG1vZGVsc1xcIiwic291cmNlcyI6WyJyb29tcy5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcInNlcXVlbGl6ZVwiKTtcclxuY29uc3Qge1xyXG4gIHJvb21UeXBlLFxyXG4gIHJvb21TdGF0dXMsXHJcbiAgcm9vbVN0YXR1c0RlZmF1bHQsXHJcbn0gPSByZXF1aXJlKFwiLi4vY29uc3RhbnQvcm9vbS5lbnVtXCIpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xyXG4gIGNsYXNzIFJvb21zIGV4dGVuZHMgTW9kZWwge1xyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgbWV0aG9kIGZvciBkZWZpbmluZyBhc3NvY2lhdGlvbnMuXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBub3QgYSBwYXJ0IG9mIFNlcXVlbGl6ZSBsaWZlY3ljbGUuXHJcbiAgICAgKiBUaGUgYG1vZGVscy9pbmRleGAgZmlsZSB3aWxsIGNhbGwgdGhpcyBtZXRob2QgYXV0b21hdGljYWxseS5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFzc29jaWF0ZShtb2RlbHMpIHtcclxuICAgICAgLy8gZGVmaW5lIGFzc29jaWF0aW9uIGhlcmVcclxuICAgICAgUm9vbXMuaGFzTWFueShtb2RlbHMuSW50ZXJ2aWV3cywgeyBmb3JlaWduS2V5OiBcInJvb21cIiB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgUm9vbXMuaW5pdChcclxuICAgIHtcclxuICAgICAgaW50ZXJ2aWV3X2lkOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDM2KSxcclxuICAgICAgICBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5VVUlEVjQsXHJcbiAgICAgICAgcmVmZXJlbmNlczoge1xyXG4gICAgICAgICAgbW9kZWw6IFwiSW50ZXJ2aWV3c1wiLFxyXG4gICAgICAgICAga2V5OiBcImlkXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAgaWQ6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIGF1dG9JbmNyZW1lbnQ6IHRydWUsXHJcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcclxuICAgICAgfSxcclxuICAgICAgem9vbV9pZDoge1xyXG4gICAgICAgIGFsbG93TnVsbDogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDIwKSxcclxuICAgICAgfSxcclxuICAgICAgdG9waWM6IHtcclxuICAgICAgICBhbGxvd051bGw6IHRydWUsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlRFWFQsXHJcbiAgICAgIH0sXHJcbiAgICAgIGpvaW5fdXJsOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5URVhULFxyXG4gICAgICB9LFxyXG4gICAgICBzdGFydF91cmw6IHtcclxuICAgICAgICBhbGxvd051bGw6IHRydWUsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlRFWFQsXHJcbiAgICAgIH0sXHJcbiAgICAgIHB3ZDoge1xyXG4gICAgICAgIGFsbG93TnVsbDogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDIwKSxcclxuICAgICAgfSxcclxuICAgICAgdHlwZToge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkVOVU0ocm9vbVR5cGUpLFxyXG4gICAgICB9LFxyXG4gICAgICBzdGF0dXM6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5FTlVNKHJvb21TdGF0dXMpLFxyXG4gICAgICAgIGRlZmF1bHQ6IHJvb21TdGF0dXNEZWZhdWx0LFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgc2VxdWVsaXplLFxyXG4gICAgICB0aW1lc3RhbXBzOiBmYWxzZSxcclxuICAgICAgY3JlYXRlZEF0OiBmYWxzZSxcclxuICAgICAgdXBkYXRlZEF0OiBmYWxzZSxcclxuICAgICAgbW9kZWxOYW1lOiBcIlJvb21zXCIsXHJcbiAgICB9XHJcbiAgKTtcclxuICByZXR1cm4gUm9vbXM7XHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0EsTUFBTTtFQUFFQTtBQUFGLElBQVlDLE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU07RUFDSkMsUUFESTtFQUVKQyxVQUZJO0VBR0pDO0FBSEksSUFJRkgsT0FBTyxDQUFDLHVCQUFELENBSlg7O0FBS0FJLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixDQUFDQyxTQUFELEVBQVlDLFNBQVosS0FBMEI7RUFDekMsTUFBTUMsS0FBTixTQUFvQlQsS0FBcEIsQ0FBMEI7SUFDeEI7QUFDSjtBQUNBO0FBQ0E7QUFDQTtJQUNvQixPQUFUVSxTQUFTLENBQUNDLE1BQUQsRUFBUztNQUN2QjtNQUNBRixLQUFLLENBQUNHLE9BQU4sQ0FBY0QsTUFBTSxDQUFDRSxVQUFyQixFQUFpQztRQUFFQyxVQUFVLEVBQUU7TUFBZCxDQUFqQztJQUNEOztFQVR1Qjs7RUFXMUJMLEtBQUssQ0FBQ00sSUFBTixDQUNFO0lBQ0VDLFlBQVksRUFBRTtNQUNaQyxTQUFTLEVBQUUsS0FEQztNQUVaQyxJQUFJLEVBQUVWLFNBQVMsQ0FBQ1csTUFBVixDQUFpQixFQUFqQixDQUZNO01BR1pDLFlBQVksRUFBRVosU0FBUyxDQUFDYSxNQUhaO01BSVpDLFVBQVUsRUFBRTtRQUNWQyxLQUFLLEVBQUUsWUFERztRQUVWQyxHQUFHLEVBQUU7TUFGSztJQUpBLENBRGhCO0lBVUVDLEVBQUUsRUFBRTtNQUNGUixTQUFTLEVBQUUsS0FEVDtNQUVGUyxhQUFhLEVBQUUsSUFGYjtNQUdGQyxVQUFVLEVBQUUsSUFIVjtNQUlGVCxJQUFJLEVBQUVWLFNBQVMsQ0FBQ29CO0lBSmQsQ0FWTjtJQWdCRUMsT0FBTyxFQUFFO01BQ1BaLFNBQVMsRUFBRSxJQURKO01BRVBDLElBQUksRUFBRVYsU0FBUyxDQUFDVyxNQUFWLENBQWlCLEVBQWpCO0lBRkMsQ0FoQlg7SUFvQkVXLEtBQUssRUFBRTtNQUNMYixTQUFTLEVBQUUsSUFETjtNQUVMQyxJQUFJLEVBQUVWLFNBQVMsQ0FBQ3VCO0lBRlgsQ0FwQlQ7SUF3QkVDLFFBQVEsRUFBRTtNQUNSZixTQUFTLEVBQUUsSUFESDtNQUVSQyxJQUFJLEVBQUVWLFNBQVMsQ0FBQ3VCO0lBRlIsQ0F4Qlo7SUE0QkVFLFNBQVMsRUFBRTtNQUNUaEIsU0FBUyxFQUFFLElBREY7TUFFVEMsSUFBSSxFQUFFVixTQUFTLENBQUN1QjtJQUZQLENBNUJiO0lBZ0NFRyxHQUFHLEVBQUU7TUFDSGpCLFNBQVMsRUFBRSxJQURSO01BRUhDLElBQUksRUFBRVYsU0FBUyxDQUFDVyxNQUFWLENBQWlCLEVBQWpCO0lBRkgsQ0FoQ1A7SUFvQ0VELElBQUksRUFBRTtNQUNKRCxTQUFTLEVBQUUsS0FEUDtNQUVKQyxJQUFJLEVBQUVWLFNBQVMsQ0FBQzJCLElBQVYsQ0FBZWpDLFFBQWY7SUFGRixDQXBDUjtJQXdDRWtDLE1BQU0sRUFBRTtNQUNObkIsU0FBUyxFQUFFLEtBREw7TUFFTkMsSUFBSSxFQUFFVixTQUFTLENBQUMyQixJQUFWLENBQWVoQyxVQUFmLENBRkE7TUFHTmtDLE9BQU8sRUFBRWpDO0lBSEg7RUF4Q1YsQ0FERixFQStDRTtJQUNFRyxTQURGO0lBRUUrQixVQUFVLEVBQUUsS0FGZDtJQUdFQyxTQUFTLEVBQUUsS0FIYjtJQUlFQyxTQUFTLEVBQUUsS0FKYjtJQUtFQyxTQUFTLEVBQUU7RUFMYixDQS9DRjtFQXVEQSxPQUFPaEMsS0FBUDtBQUNELENBcEVEIn0=","map":{"version":3,"names":["Model","require","roomType","roomStatus","roomStatusDefault","module","exports","sequelize","DataTypes","Rooms","associate","models","hasMany","Interviews","foreignKey","init","interview_id","allowNull","type","STRING","defaultValue","UUIDV4","references","model","key","id","autoIncrement","primaryKey","INTEGER","zoom_id","topic","TEXT","join_url","start_url","pwd","ENUM","status","default","timestamps","createdAt","updatedAt","modelName"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\models\\","sources":["rooms.model.js"],"sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nconst {\r\n  roomType,\r\n  roomStatus,\r\n  roomStatusDefault,\r\n} = require(\"../constant/room.enum\");\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Rooms extends Model {\r\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\r\n    static associate(models) {\r\n      // define association here\r\n      Rooms.hasMany(models.Interviews, { foreignKey: \"room\" });\r\n    }\r\n  }\r\n  Rooms.init(\r\n    {\r\n      interview_id: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(36),\r\n        defaultValue: DataTypes.UUIDV4,\r\n        references: {\r\n          model: \"Interviews\",\r\n          key: \"id\",\r\n        },\r\n      },\r\n      id: {\r\n        allowNull: false,\r\n        autoIncrement: true,\r\n        primaryKey: true,\r\n        type: DataTypes.INTEGER,\r\n      },\r\n      zoom_id: {\r\n        allowNull: true,\r\n        type: DataTypes.STRING(20),\r\n      },\r\n      topic: {\r\n        allowNull: true,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      join_url: {\r\n        allowNull: true,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      start_url: {\r\n        allowNull: true,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      pwd: {\r\n        allowNull: true,\r\n        type: DataTypes.STRING(20),\r\n      },\r\n      type: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(roomType),\r\n      },\r\n      status: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(roomStatus),\r\n        default: roomStatusDefault,\r\n      },\r\n    },\r\n    {\r\n      sequelize,\r\n      timestamps: false,\r\n      createdAt: false,\r\n      updatedAt: false,\r\n      modelName: \"Rooms\",\r\n    }\r\n  );\r\n  return Rooms;\r\n};\r\n"],"mappings":"AAAA;;AACA,MAAM;EAAEA;AAAF,IAAYC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAM;EACJC,QADI;EAEJC,UAFI;EAGJC;AAHI,IAIFH,OAAO,CAAC,uBAAD,CAJX;;AAKAI,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;EACzC,MAAMC,KAAN,SAAoBT,KAApB,CAA0B;IACxB;AACJ;AACA;AACA;AACA;IACoB,OAATU,SAAS,CAACC,MAAD,EAAS;MACvB;MACAF,KAAK,CAACG,OAAN,CAAcD,MAAM,CAACE,UAArB,EAAiC;QAAEC,UAAU,EAAE;MAAd,CAAjC;IACD;;EATuB;;EAW1BL,KAAK,CAACM,IAAN,CACE;IACEC,YAAY,EAAE;MACZC,SAAS,EAAE,KADC;MAEZC,IAAI,EAAEV,SAAS,CAACW,MAAV,CAAiB,EAAjB,CAFM;MAGZC,YAAY,EAAEZ,SAAS,CAACa,MAHZ;MAIZC,UAAU,EAAE;QACVC,KAAK,EAAE,YADG;QAEVC,GAAG,EAAE;MAFK;IAJA,CADhB;IAUEC,EAAE,EAAE;MACFR,SAAS,EAAE,KADT;MAEFS,aAAa,EAAE,IAFb;MAGFC,UAAU,EAAE,IAHV;MAIFT,IAAI,EAAEV,SAAS,CAACoB;IAJd,CAVN;IAgBEC,OAAO,EAAE;MACPZ,SAAS,EAAE,IADJ;MAEPC,IAAI,EAAEV,SAAS,CAACW,MAAV,CAAiB,EAAjB;IAFC,CAhBX;IAoBEW,KAAK,EAAE;MACLb,SAAS,EAAE,IADN;MAELC,IAAI,EAAEV,SAAS,CAACuB;IAFX,CApBT;IAwBEC,QAAQ,EAAE;MACRf,SAAS,EAAE,IADH;MAERC,IAAI,EAAEV,SAAS,CAACuB;IAFR,CAxBZ;IA4BEE,SAAS,EAAE;MACThB,SAAS,EAAE,IADF;MAETC,IAAI,EAAEV,SAAS,CAACuB;IAFP,CA5Bb;IAgCEG,GAAG,EAAE;MACHjB,SAAS,EAAE,IADR;MAEHC,IAAI,EAAEV,SAAS,CAACW,MAAV,CAAiB,EAAjB;IAFH,CAhCP;IAoCED,IAAI,EAAE;MACJD,SAAS,EAAE,KADP;MAEJC,IAAI,EAAEV,SAAS,CAAC2B,IAAV,CAAejC,QAAf;IAFF,CApCR;IAwCEkC,MAAM,EAAE;MACNnB,SAAS,EAAE,KADL;MAENC,IAAI,EAAEV,SAAS,CAAC2B,IAAV,CAAehC,UAAf,CAFA;MAGNkC,OAAO,EAAEjC;IAHH;EAxCV,CADF,EA+CE;IACEG,SADF;IAEE+B,UAAU,EAAE,KAFd;IAGEC,SAAS,EAAE,KAHb;IAIEC,SAAS,EAAE,KAJb;IAKEC,SAAS,EAAE;EALb,CA/CF;EAuDA,OAAOhC,KAAP;AACD,CApED"}},"mtime":1667395621157},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\constant\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\constant\\\\room.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  roomStatus: [\"Inactive\", \"Active\"],\n  roomStatusDefault: \"Active\",\n  roomType: [\"Offline\", \"Online\"],\n  roomTypeDefault: [\"Offline\"]\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwicm9vbVN0YXR1cyIsInJvb21TdGF0dXNEZWZhdWx0Iiwicm9vbVR5cGUiLCJyb29tVHlwZURlZmF1bHQiXSwic291cmNlUm9vdCI6IkQ6XFxDb2RlXFxGUFRfU3ViamVjdFxcU1dQXFxIUk1TX0JFXFxzcmNcXGNvbnN0YW50XFwiLCJzb3VyY2VzIjpbInJvb20uZW51bS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHtcclxuICByb29tU3RhdHVzOiBbXCJJbmFjdGl2ZVwiLCBcIkFjdGl2ZVwiXSxcclxuICByb29tU3RhdHVzRGVmYXVsdDogXCJBY3RpdmVcIixcclxuICByb29tVHlwZTogW1wiT2ZmbGluZVwiLCBcIk9ubGluZVwiXSxcclxuICByb29tVHlwZURlZmF1bHQ6IFtcIk9mZmxpbmVcIl0sXHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2ZDLFVBQVUsRUFBRSxDQUFDLFVBQUQsRUFBYSxRQUFiLENBREc7RUFFZkMsaUJBQWlCLEVBQUUsUUFGSjtFQUdmQyxRQUFRLEVBQUUsQ0FBQyxTQUFELEVBQVksUUFBWixDQUhLO0VBSWZDLGVBQWUsRUFBRSxDQUFDLFNBQUQ7QUFKRixDQUFqQiJ9","map":{"version":3,"names":["module","exports","roomStatus","roomStatusDefault","roomType","roomTypeDefault"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\constant\\","sources":["room.enum.js"],"sourcesContent":["module.exports = {\r\n  roomStatus: [\"Inactive\", \"Active\"],\r\n  roomStatusDefault: \"Active\",\r\n  roomType: [\"Offline\", \"Online\"],\r\n  roomTypeDefault: [\"Offline\"],\r\n};\r\n"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACfC,UAAU,EAAE,CAAC,UAAD,EAAa,QAAb,CADG;EAEfC,iBAAiB,EAAE,QAFJ;EAGfC,QAAQ,EAAE,CAAC,SAAD,EAAY,QAAZ,CAHK;EAIfC,eAAe,EAAE,CAAC,SAAD;AAJF,CAAjB"}},"mtime":1667395621155},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\models\\\\staff.model.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\n\nconst {\n  role,\n  roleDefault\n} = require(\"../constant/role.enum.js\");\n\nconst {\n  userStatus,\n  userStatusDefault\n} = require(\"../constant/userStatus.enum.js\");\n\nconst {\n  v4: uuidv4\n} = require(\"uuid\");\n\nmodule.exports = (sequelize, DataTypes) => {\n  class Staffs extends Model {\n    static associate(models) {\n      // define association here\n      Staffs.hasMany(models.Reports, {\n        foreignKey: \"Interviewer_id\"\n      });\n      Staffs.hasMany(models.CandidateDetails, {\n        foreignKey: \"CandidateDetail_id\"\n      });\n    }\n\n  }\n\n  Staffs.init({\n    id: {\n      allowNull: false,\n      primaryKey: true,\n      type: DataTypes.STRING(36),\n      defaultValue: DataTypes.UUIDV4\n    },\n    email: {\n      allowNull: false,\n      type: DataTypes.STRING(320)\n    },\n    fullname: {\n      allowNull: false,\n      type: DataTypes.STRING(60)\n    },\n    avatar: {\n      allowNull: true,\n      type: DataTypes.TEXT\n    },\n    password: {\n      allowNull: false,\n      type: DataTypes.STRING(60)\n    },\n    role: {\n      allowNull: false,\n      type: DataTypes.ENUM(role),\n      defaultValue: roleDefault\n    },\n    status: {\n      allowNull: false,\n      type: DataTypes.ENUM(userStatus),\n      defaultValue: userStatusDefault\n    }\n  }, {\n    sequelize,\n    modelName: \"Staffs\",\n    timestamps: false,\n    createdAt: false,\n    updatedAt: false\n  });\n  Staffs.beforeCreate(user => user.id = uuidv4());\n  return Staffs;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJyb2xlIiwicm9sZURlZmF1bHQiLCJ1c2VyU3RhdHVzIiwidXNlclN0YXR1c0RlZmF1bHQiLCJ2NCIsInV1aWR2NCIsIm1vZHVsZSIsImV4cG9ydHMiLCJzZXF1ZWxpemUiLCJEYXRhVHlwZXMiLCJTdGFmZnMiLCJhc3NvY2lhdGUiLCJtb2RlbHMiLCJoYXNNYW55IiwiUmVwb3J0cyIsImZvcmVpZ25LZXkiLCJDYW5kaWRhdGVEZXRhaWxzIiwiaW5pdCIsImlkIiwiYWxsb3dOdWxsIiwicHJpbWFyeUtleSIsInR5cGUiLCJTVFJJTkciLCJkZWZhdWx0VmFsdWUiLCJVVUlEVjQiLCJlbWFpbCIsImZ1bGxuYW1lIiwiYXZhdGFyIiwiVEVYVCIsInBhc3N3b3JkIiwiRU5VTSIsInN0YXR1cyIsIm1vZGVsTmFtZSIsInRpbWVzdGFtcHMiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJiZWZvcmVDcmVhdGUiLCJ1c2VyIl0sInNvdXJjZVJvb3QiOiJEOlxcQ29kZVxcRlBUX1N1YmplY3RcXFNXUFxcSFJNU19CRVxcc3JjXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsic3RhZmYubW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbmNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJzZXF1ZWxpemVcIik7XHJcbmNvbnN0IHsgcm9sZSwgcm9sZURlZmF1bHQgfSA9IHJlcXVpcmUoXCIuLi9jb25zdGFudC9yb2xlLmVudW0uanNcIik7XHJcbmNvbnN0IHtcclxuICB1c2VyU3RhdHVzLFxyXG4gIHVzZXJTdGF0dXNEZWZhdWx0LFxyXG59ID0gcmVxdWlyZShcIi4uL2NvbnN0YW50L3VzZXJTdGF0dXMuZW51bS5qc1wiKTtcclxuY29uc3QgeyB2NDogdXVpZHY0IH0gPSByZXF1aXJlKFwidXVpZFwiKTtcclxubW9kdWxlLmV4cG9ydHMgPSAoc2VxdWVsaXplLCBEYXRhVHlwZXMpID0+IHtcclxuICBjbGFzcyBTdGFmZnMgZXh0ZW5kcyBNb2RlbCB7XHJcbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xyXG4gICAgICAvLyBkZWZpbmUgYXNzb2NpYXRpb24gaGVyZVxyXG4gICAgICBTdGFmZnMuaGFzTWFueShtb2RlbHMuUmVwb3J0cywgeyBmb3JlaWduS2V5OiBcIkludGVydmlld2VyX2lkXCIgfSk7XHJcbiAgICAgIFN0YWZmcy5oYXNNYW55KG1vZGVscy5DYW5kaWRhdGVEZXRhaWxzLCB7XHJcbiAgICAgICAgZm9yZWlnbktleTogXCJDYW5kaWRhdGVEZXRhaWxfaWRcIixcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFN0YWZmcy5pbml0KFxyXG4gICAge1xyXG4gICAgICBpZDoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDM2KSxcclxuICAgICAgICBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5VVUlEVjQsXHJcbiAgICAgIH0sXHJcbiAgICAgIGVtYWlsOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDMyMCksXHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bGxuYW1lOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDYwKSxcclxuICAgICAgfSxcclxuICAgICAgYXZhdGFyOiB7XHJcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5URVhULFxyXG4gICAgICB9LFxyXG4gICAgICBwYXNzd29yZDoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyg2MCksXHJcbiAgICAgIH0sXHJcbiAgICAgIHJvbGU6IHtcclxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5FTlVNKHJvbGUpLFxyXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogcm9sZURlZmF1bHQsXHJcbiAgICAgIH0sXHJcbiAgICAgIHN0YXR1czoge1xyXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkVOVU0odXNlclN0YXR1cyksXHJcbiAgICAgICAgZGVmYXVsdFZhbHVlOiB1c2VyU3RhdHVzRGVmYXVsdCxcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHNlcXVlbGl6ZSxcclxuICAgICAgbW9kZWxOYW1lOiBcIlN0YWZmc1wiLFxyXG4gICAgICB0aW1lc3RhbXBzOiBmYWxzZSxcclxuICAgICAgY3JlYXRlZEF0OiBmYWxzZSxcclxuICAgICAgdXBkYXRlZEF0OiBmYWxzZSxcclxuICAgIH1cclxuICApO1xyXG4gIFN0YWZmcy5iZWZvcmVDcmVhdGUoKHVzZXIpID0+ICh1c2VyLmlkID0gdXVpZHY0KCkpKTtcclxuICByZXR1cm4gU3RhZmZzO1xyXG59O1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBLE1BQU07RUFBRUE7QUFBRixJQUFZQyxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxNQUFNO0VBQUVDLElBQUY7RUFBUUM7QUFBUixJQUF3QkYsT0FBTyxDQUFDLDBCQUFELENBQXJDOztBQUNBLE1BQU07RUFDSkcsVUFESTtFQUVKQztBQUZJLElBR0ZKLE9BQU8sQ0FBQyxnQ0FBRCxDQUhYOztBQUlBLE1BQU07RUFBRUssRUFBRSxFQUFFQztBQUFOLElBQWlCTixPQUFPLENBQUMsTUFBRCxDQUE5Qjs7QUFDQU8sTUFBTSxDQUFDQyxPQUFQLEdBQWlCLENBQUNDLFNBQUQsRUFBWUMsU0FBWixLQUEwQjtFQUN6QyxNQUFNQyxNQUFOLFNBQXFCWixLQUFyQixDQUEyQjtJQUNULE9BQVRhLFNBQVMsQ0FBQ0MsTUFBRCxFQUFTO01BQ3ZCO01BQ0FGLE1BQU0sQ0FBQ0csT0FBUCxDQUFlRCxNQUFNLENBQUNFLE9BQXRCLEVBQStCO1FBQUVDLFVBQVUsRUFBRTtNQUFkLENBQS9CO01BQ0FMLE1BQU0sQ0FBQ0csT0FBUCxDQUFlRCxNQUFNLENBQUNJLGdCQUF0QixFQUF3QztRQUN0Q0QsVUFBVSxFQUFFO01BRDBCLENBQXhDO0lBR0Q7O0VBUHdCOztFQVMzQkwsTUFBTSxDQUFDTyxJQUFQLENBQ0U7SUFDRUMsRUFBRSxFQUFFO01BQ0ZDLFNBQVMsRUFBRSxLQURUO01BRUZDLFVBQVUsRUFBRSxJQUZWO01BR0ZDLElBQUksRUFBRVosU0FBUyxDQUFDYSxNQUFWLENBQWlCLEVBQWpCLENBSEo7TUFJRkMsWUFBWSxFQUFFZCxTQUFTLENBQUNlO0lBSnRCLENBRE47SUFPRUMsS0FBSyxFQUFFO01BQ0xOLFNBQVMsRUFBRSxLQUROO01BRUxFLElBQUksRUFBRVosU0FBUyxDQUFDYSxNQUFWLENBQWlCLEdBQWpCO0lBRkQsQ0FQVDtJQVdFSSxRQUFRLEVBQUU7TUFDUlAsU0FBUyxFQUFFLEtBREg7TUFFUkUsSUFBSSxFQUFFWixTQUFTLENBQUNhLE1BQVYsQ0FBaUIsRUFBakI7SUFGRSxDQVhaO0lBZUVLLE1BQU0sRUFBRTtNQUNOUixTQUFTLEVBQUUsSUFETDtNQUVORSxJQUFJLEVBQUVaLFNBQVMsQ0FBQ21CO0lBRlYsQ0FmVjtJQW1CRUMsUUFBUSxFQUFFO01BQ1JWLFNBQVMsRUFBRSxLQURIO01BRVJFLElBQUksRUFBRVosU0FBUyxDQUFDYSxNQUFWLENBQWlCLEVBQWpCO0lBRkUsQ0FuQlo7SUF1QkV0QixJQUFJLEVBQUU7TUFDSm1CLFNBQVMsRUFBRSxLQURQO01BRUpFLElBQUksRUFBRVosU0FBUyxDQUFDcUIsSUFBVixDQUFlOUIsSUFBZixDQUZGO01BR0p1QixZQUFZLEVBQUV0QjtJQUhWLENBdkJSO0lBNEJFOEIsTUFBTSxFQUFFO01BQ05aLFNBQVMsRUFBRSxLQURMO01BRU5FLElBQUksRUFBRVosU0FBUyxDQUFDcUIsSUFBVixDQUFlNUIsVUFBZixDQUZBO01BR05xQixZQUFZLEVBQUVwQjtJQUhSO0VBNUJWLENBREYsRUFtQ0U7SUFDRUssU0FERjtJQUVFd0IsU0FBUyxFQUFFLFFBRmI7SUFHRUMsVUFBVSxFQUFFLEtBSGQ7SUFJRUMsU0FBUyxFQUFFLEtBSmI7SUFLRUMsU0FBUyxFQUFFO0VBTGIsQ0FuQ0Y7RUEyQ0F6QixNQUFNLENBQUMwQixZQUFQLENBQXFCQyxJQUFELElBQVdBLElBQUksQ0FBQ25CLEVBQUwsR0FBVWIsTUFBTSxFQUEvQztFQUNBLE9BQU9LLE1BQVA7QUFDRCxDQXZERCJ9","map":{"version":3,"names":["Model","require","role","roleDefault","userStatus","userStatusDefault","v4","uuidv4","module","exports","sequelize","DataTypes","Staffs","associate","models","hasMany","Reports","foreignKey","CandidateDetails","init","id","allowNull","primaryKey","type","STRING","defaultValue","UUIDV4","email","fullname","avatar","TEXT","password","ENUM","status","modelName","timestamps","createdAt","updatedAt","beforeCreate","user"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\models\\","sources":["staff.model.js"],"sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nconst { role, roleDefault } = require(\"../constant/role.enum.js\");\r\nconst {\r\n  userStatus,\r\n  userStatusDefault,\r\n} = require(\"../constant/userStatus.enum.js\");\r\nconst { v4: uuidv4 } = require(\"uuid\");\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Staffs extends Model {\r\n    static associate(models) {\r\n      // define association here\r\n      Staffs.hasMany(models.Reports, { foreignKey: \"Interviewer_id\" });\r\n      Staffs.hasMany(models.CandidateDetails, {\r\n        foreignKey: \"CandidateDetail_id\",\r\n      });\r\n    }\r\n  }\r\n  Staffs.init(\r\n    {\r\n      id: {\r\n        allowNull: false,\r\n        primaryKey: true,\r\n        type: DataTypes.STRING(36),\r\n        defaultValue: DataTypes.UUIDV4,\r\n      },\r\n      email: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(320),\r\n      },\r\n      fullname: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(60),\r\n      },\r\n      avatar: {\r\n        allowNull: true,\r\n        type: DataTypes.TEXT,\r\n      },\r\n      password: {\r\n        allowNull: false,\r\n        type: DataTypes.STRING(60),\r\n      },\r\n      role: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(role),\r\n        defaultValue: roleDefault,\r\n      },\r\n      status: {\r\n        allowNull: false,\r\n        type: DataTypes.ENUM(userStatus),\r\n        defaultValue: userStatusDefault,\r\n      },\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"Staffs\",\r\n      timestamps: false,\r\n      createdAt: false,\r\n      updatedAt: false,\r\n    }\r\n  );\r\n  Staffs.beforeCreate((user) => (user.id = uuidv4()));\r\n  return Staffs;\r\n};\r\n"],"mappings":"AAAA;;AACA,MAAM;EAAEA;AAAF,IAAYC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAM;EAAEC,IAAF;EAAQC;AAAR,IAAwBF,OAAO,CAAC,0BAAD,CAArC;;AACA,MAAM;EACJG,UADI;EAEJC;AAFI,IAGFJ,OAAO,CAAC,gCAAD,CAHX;;AAIA,MAAM;EAAEK,EAAE,EAAEC;AAAN,IAAiBN,OAAO,CAAC,MAAD,CAA9B;;AACAO,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;EACzC,MAAMC,MAAN,SAAqBZ,KAArB,CAA2B;IACT,OAATa,SAAS,CAACC,MAAD,EAAS;MACvB;MACAF,MAAM,CAACG,OAAP,CAAeD,MAAM,CAACE,OAAtB,EAA+B;QAAEC,UAAU,EAAE;MAAd,CAA/B;MACAL,MAAM,CAACG,OAAP,CAAeD,MAAM,CAACI,gBAAtB,EAAwC;QACtCD,UAAU,EAAE;MAD0B,CAAxC;IAGD;;EAPwB;;EAS3BL,MAAM,CAACO,IAAP,CACE;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KADT;MAEFC,UAAU,EAAE,IAFV;MAGFC,IAAI,EAAEZ,SAAS,CAACa,MAAV,CAAiB,EAAjB,CAHJ;MAIFC,YAAY,EAAEd,SAAS,CAACe;IAJtB,CADN;IAOEC,KAAK,EAAE;MACLN,SAAS,EAAE,KADN;MAELE,IAAI,EAAEZ,SAAS,CAACa,MAAV,CAAiB,GAAjB;IAFD,CAPT;IAWEI,QAAQ,EAAE;MACRP,SAAS,EAAE,KADH;MAERE,IAAI,EAAEZ,SAAS,CAACa,MAAV,CAAiB,EAAjB;IAFE,CAXZ;IAeEK,MAAM,EAAE;MACNR,SAAS,EAAE,IADL;MAENE,IAAI,EAAEZ,SAAS,CAACmB;IAFV,CAfV;IAmBEC,QAAQ,EAAE;MACRV,SAAS,EAAE,KADH;MAERE,IAAI,EAAEZ,SAAS,CAACa,MAAV,CAAiB,EAAjB;IAFE,CAnBZ;IAuBEtB,IAAI,EAAE;MACJmB,SAAS,EAAE,KADP;MAEJE,IAAI,EAAEZ,SAAS,CAACqB,IAAV,CAAe9B,IAAf,CAFF;MAGJuB,YAAY,EAAEtB;IAHV,CAvBR;IA4BE8B,MAAM,EAAE;MACNZ,SAAS,EAAE,KADL;MAENE,IAAI,EAAEZ,SAAS,CAACqB,IAAV,CAAe5B,UAAf,CAFA;MAGNqB,YAAY,EAAEpB;IAHR;EA5BV,CADF,EAmCE;IACEK,SADF;IAEEwB,SAAS,EAAE,QAFb;IAGEC,UAAU,EAAE,KAHd;IAIEC,SAAS,EAAE,KAJb;IAKEC,SAAS,EAAE;EALb,CAnCF;EA2CAzB,MAAM,CAAC0B,YAAP,CAAqBC,IAAD,IAAWA,IAAI,CAACnB,EAAL,GAAUb,MAAM,EAA/C;EACA,OAAOK,MAAP;AACD,CAvDD"}},"mtime":1666842043671},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\constant\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\constant\\\\role.enum.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  role: [\"Admin\", \"HR Staff\", \"HR Manager\", \"Interviewer\"],\n  roleDefault: \"HR Staff\",\n  memberRole: \"Member\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwicm9sZSIsInJvbGVEZWZhdWx0IiwibWVtYmVyUm9sZSJdLCJzb3VyY2VSb290IjoiRDpcXENvZGVcXEZQVF9TdWJqZWN0XFxTV1BcXEhSTVNfQkVcXHNyY1xcY29uc3RhbnRcXCIsInNvdXJjZXMiOlsicm9sZS5lbnVtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIHJvbGU6IFtcIkFkbWluXCIsIFwiSFIgU3RhZmZcIiwgXCJIUiBNYW5hZ2VyXCIsIFwiSW50ZXJ2aWV3ZXJcIl0sXHJcbiAgcm9sZURlZmF1bHQ6IFwiSFIgU3RhZmZcIixcclxuICBtZW1iZXJSb2xlOiBcIk1lbWJlclwiLFxyXG59O1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmQyxJQUFJLEVBQUUsQ0FBQyxPQUFELEVBQVUsVUFBVixFQUFzQixZQUF0QixFQUFvQyxhQUFwQyxDQURTO0VBRWZDLFdBQVcsRUFBRSxVQUZFO0VBR2ZDLFVBQVUsRUFBRTtBQUhHLENBQWpCIn0=","map":{"version":3,"names":["module","exports","role","roleDefault","memberRole"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\constant\\","sources":["role.enum.js"],"sourcesContent":["module.exports = {\r\n  role: [\"Admin\", \"HR Staff\", \"HR Manager\", \"Interviewer\"],\r\n  roleDefault: \"HR Staff\",\r\n  memberRole: \"Member\",\r\n};\r\n"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB;EACfC,IAAI,EAAE,CAAC,OAAD,EAAU,UAAV,EAAsB,YAAtB,EAAoC,aAApC,CADS;EAEfC,WAAW,EAAE,UAFE;EAGfC,UAAU,EAAE;AAHG,CAAjB"}},"mtime":1666281006166},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\middleware\\\\auth.middleware.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst httpStatus = require(\"http-status\");\n\nconst jwt = require(\"jsonwebtoken\");\n\nrequire(\"dotenv\").config();\n\nconst {\n  ApiError\n} = require(\"./apiError\");\n\nconst auth = async (req, res, next) => {\n  try {\n    var _req$header;\n\n    const token = (_req$header = req.header(\"Authorization\")) === null || _req$header === void 0 ? void 0 : _req$header.replace(\"Bearer \", \"\");\n\n    if (!token) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"INVALID TOKEN\");\n    }\n\n    const currentUser = jwt.verify(token, process.env.ACCESS_TOKEN_SECRET, (err, payload) => {\n      if (!err) {\n        return payload;\n      }\n\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"BAD REQUEST\");\n    });\n    req.currentUser = currentUser;\n    next();\n  } catch (error) {\n    next(error);\n  } finally {}\n};\n\nmodule.exports = auth;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwU3RhdHVzIiwicmVxdWlyZSIsImp3dCIsImNvbmZpZyIsIkFwaUVycm9yIiwiYXV0aCIsInJlcSIsInJlcyIsIm5leHQiLCJ0b2tlbiIsImhlYWRlciIsInJlcGxhY2UiLCJVTkFVVEhPUklaRUQiLCJjdXJyZW50VXNlciIsInZlcmlmeSIsInByb2Nlc3MiLCJlbnYiLCJBQ0NFU1NfVE9LRU5fU0VDUkVUIiwiZXJyIiwicGF5bG9hZCIsImVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXENvZGVcXEZQVF9TdWJqZWN0XFxTV1BcXEhSTVNfQkVcXHNyY1xcbWlkZGxld2FyZVxcIiwic291cmNlcyI6WyJhdXRoLm1pZGRsZXdhcmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgaHR0cFN0YXR1cyA9IHJlcXVpcmUoXCJodHRwLXN0YXR1c1wiKTtcclxuY29uc3Qgand0ID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTtcclxucmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcclxuY29uc3QgeyBBcGlFcnJvciB9ID0gcmVxdWlyZShcIi4vYXBpRXJyb3JcIik7XHJcbmNvbnN0IGF1dGggPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdG9rZW4gPSByZXEuaGVhZGVyKFwiQXV0aG9yaXphdGlvblwiKT8ucmVwbGFjZShcIkJlYXJlciBcIiwgXCJcIik7XHJcbiAgICBpZiAoIXRva2VuKSB7XHJcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLlVOQVVUSE9SSVpFRCwgXCJJTlZBTElEIFRPS0VOXCIpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgY3VycmVudFVzZXIgPSBqd3QudmVyaWZ5KFxyXG4gICAgICB0b2tlbixcclxuICAgICAgcHJvY2Vzcy5lbnYuQUNDRVNTX1RPS0VOX1NFQ1JFVCxcclxuICAgICAgKGVyciwgcGF5bG9hZCkgPT4ge1xyXG4gICAgICAgIGlmICghZXJyKSB7XHJcbiAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKGh0dHBTdGF0dXMuVU5BVVRIT1JJWkVELCBcIkJBRCBSRVFVRVNUXCIpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gICAgcmVxLmN1cnJlbnRVc2VyID0gY3VycmVudFVzZXI7XHJcblxyXG4gICAgbmV4dCgpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBuZXh0KGVycm9yKTtcclxuICB9IGZpbmFsbHkge1xyXG4gIH1cclxufTtcclxubW9kdWxlLmV4cG9ydHMgPSBhdXRoO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsVUFBVSxHQUFHQyxPQUFPLENBQUMsYUFBRCxDQUExQjs7QUFDQSxNQUFNQyxHQUFHLEdBQUdELE9BQU8sQ0FBQyxjQUFELENBQW5COztBQUNBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCRSxNQUFsQjs7QUFDQSxNQUFNO0VBQUVDO0FBQUYsSUFBZUgsT0FBTyxDQUFDLFlBQUQsQ0FBNUI7O0FBQ0EsTUFBTUksSUFBSSxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDckMsSUFBSTtJQUFBOztJQUNGLE1BQU1DLEtBQUssa0JBQUdILEdBQUcsQ0FBQ0ksTUFBSixDQUFXLGVBQVgsQ0FBSCxnREFBRyxZQUE2QkMsT0FBN0IsQ0FBcUMsU0FBckMsRUFBZ0QsRUFBaEQsQ0FBZDs7SUFDQSxJQUFJLENBQUNGLEtBQUwsRUFBWTtNQUNWLE1BQU0sSUFBSUwsUUFBSixDQUFhSixVQUFVLENBQUNZLFlBQXhCLEVBQXNDLGVBQXRDLENBQU47SUFDRDs7SUFDRCxNQUFNQyxXQUFXLEdBQUdYLEdBQUcsQ0FBQ1ksTUFBSixDQUNsQkwsS0FEa0IsRUFFbEJNLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxtQkFGTSxFQUdsQixDQUFDQyxHQUFELEVBQU1DLE9BQU4sS0FBa0I7TUFDaEIsSUFBSSxDQUFDRCxHQUFMLEVBQVU7UUFDUixPQUFPQyxPQUFQO01BQ0Q7O01BQ0QsTUFBTSxJQUFJZixRQUFKLENBQWFKLFVBQVUsQ0FBQ1ksWUFBeEIsRUFBc0MsYUFBdEMsQ0FBTjtJQUNELENBUmlCLENBQXBCO0lBVUFOLEdBQUcsQ0FBQ08sV0FBSixHQUFrQkEsV0FBbEI7SUFFQUwsSUFBSTtFQUNMLENBbEJELENBa0JFLE9BQU9ZLEtBQVAsRUFBYztJQUNkWixJQUFJLENBQUNZLEtBQUQsQ0FBSjtFQUNELENBcEJELFNBb0JVLENBQ1Q7QUFDRixDQXZCRDs7QUF3QkFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmpCLElBQWpCIn0=","map":{"version":3,"names":["httpStatus","require","jwt","config","ApiError","auth","req","res","next","token","header","replace","UNAUTHORIZED","currentUser","verify","process","env","ACCESS_TOKEN_SECRET","err","payload","error","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\middleware\\","sources":["auth.middleware.js"],"sourcesContent":["const httpStatus = require(\"http-status\");\r\nconst jwt = require(\"jsonwebtoken\");\r\nrequire(\"dotenv\").config();\r\nconst { ApiError } = require(\"./apiError\");\r\nconst auth = async (req, res, next) => {\r\n  try {\r\n    const token = req.header(\"Authorization\")?.replace(\"Bearer \", \"\");\r\n    if (!token) {\r\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"INVALID TOKEN\");\r\n    }\r\n    const currentUser = jwt.verify(\r\n      token,\r\n      process.env.ACCESS_TOKEN_SECRET,\r\n      (err, payload) => {\r\n        if (!err) {\r\n          return payload;\r\n        }\r\n        throw new ApiError(httpStatus.UNAUTHORIZED, \"BAD REQUEST\");\r\n      }\r\n    );\r\n    req.currentUser = currentUser;\r\n\r\n    next();\r\n  } catch (error) {\r\n    next(error);\r\n  } finally {\r\n  }\r\n};\r\nmodule.exports = auth;\r\n"],"mappings":";;AAAA,MAAMA,UAAU,GAAGC,OAAO,CAAC,aAAD,CAA1B;;AACA,MAAMC,GAAG,GAAGD,OAAO,CAAC,cAAD,CAAnB;;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBE,MAAlB;;AACA,MAAM;EAAEC;AAAF,IAAeH,OAAO,CAAC,YAAD,CAA5B;;AACA,MAAMI,IAAI,GAAG,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EACrC,IAAI;IAAA;;IACF,MAAMC,KAAK,kBAAGH,GAAG,CAACI,MAAJ,CAAW,eAAX,CAAH,gDAAG,YAA6BC,OAA7B,CAAqC,SAArC,EAAgD,EAAhD,CAAd;;IACA,IAAI,CAACF,KAAL,EAAY;MACV,MAAM,IAAIL,QAAJ,CAAaJ,UAAU,CAACY,YAAxB,EAAsC,eAAtC,CAAN;IACD;;IACD,MAAMC,WAAW,GAAGX,GAAG,CAACY,MAAJ,CAClBL,KADkB,EAElBM,OAAO,CAACC,GAAR,CAAYC,mBAFM,EAGlB,CAACC,GAAD,EAAMC,OAAN,KAAkB;MAChB,IAAI,CAACD,GAAL,EAAU;QACR,OAAOC,OAAP;MACD;;MACD,MAAM,IAAIf,QAAJ,CAAaJ,UAAU,CAACY,YAAxB,EAAsC,aAAtC,CAAN;IACD,CARiB,CAApB;IAUAN,GAAG,CAACO,WAAJ,GAAkBA,WAAlB;IAEAL,IAAI;EACL,CAlBD,CAkBE,OAAOY,KAAP,EAAc;IACdZ,IAAI,CAACY,KAAD,CAAJ;EACD,CApBD,SAoBU,CACT;AACF,CAvBD;;AAwBAC,MAAM,CAACC,OAAP,GAAiBjB,IAAjB"}},"mtime":1666281006288},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\routes\\\\member.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\n\nconst auth = require(\"../middleware/auth.middleware\");\n\nconst memberController = require(\"../controller/member.controller\");\n\nconst router = express.Router();\nrouter.route(\"/profile\").get(auth, memberController.profile).patch(auth, memberController.updateProfile);\nrouter.get(\"/all\", memberController.getAllMember);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImF1dGgiLCJtZW1iZXJDb250cm9sbGVyIiwicm91dGVyIiwiUm91dGVyIiwicm91dGUiLCJnZXQiLCJwcm9maWxlIiwicGF0Y2giLCJ1cGRhdGVQcm9maWxlIiwiZ2V0QWxsTWVtYmVyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXENvZGVcXEZQVF9TdWJqZWN0XFxTV1BcXEhSTVNfQkVcXHNyY1xccm91dGVzXFwiLCJzb3VyY2VzIjpbIm1lbWJlci5yb3V0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XHJcbmNvbnN0IGF1dGggPSByZXF1aXJlKFwiLi4vbWlkZGxld2FyZS9hdXRoLm1pZGRsZXdhcmVcIik7XHJcbmNvbnN0IG1lbWJlckNvbnRyb2xsZXIgPSByZXF1aXJlKFwiLi4vY29udHJvbGxlci9tZW1iZXIuY29udHJvbGxlclwiKTtcclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxucm91dGVyXHJcbiAgLnJvdXRlKFwiL3Byb2ZpbGVcIilcclxuICAuZ2V0KGF1dGgsIG1lbWJlckNvbnRyb2xsZXIucHJvZmlsZSlcclxuICAucGF0Y2goYXV0aCwgbWVtYmVyQ29udHJvbGxlci51cGRhdGVQcm9maWxlKTtcclxucm91dGVyLmdldChcIi9hbGxcIiwgbWVtYmVyQ29udHJvbGxlci5nZXRBbGxNZW1iZXIpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsTUFBTUMsSUFBSSxHQUFHRCxPQUFPLENBQUMsK0JBQUQsQ0FBcEI7O0FBQ0EsTUFBTUUsZ0JBQWdCLEdBQUdGLE9BQU8sQ0FBQyxpQ0FBRCxDQUFoQzs7QUFDQSxNQUFNRyxNQUFNLEdBQUdKLE9BQU8sQ0FBQ0ssTUFBUixFQUFmO0FBQ0FELE1BQU0sQ0FDSEUsS0FESCxDQUNTLFVBRFQsRUFFR0MsR0FGSCxDQUVPTCxJQUZQLEVBRWFDLGdCQUFnQixDQUFDSyxPQUY5QixFQUdHQyxLQUhILENBR1NQLElBSFQsRUFHZUMsZ0JBQWdCLENBQUNPLGFBSGhDO0FBSUFOLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLE1BQVgsRUFBbUJKLGdCQUFnQixDQUFDUSxZQUFwQztBQUNBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJULE1BQWpCIn0=","map":{"version":3,"names":["express","require","auth","memberController","router","Router","route","get","profile","patch","updateProfile","getAllMember","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\routes\\","sources":["member.route.js"],"sourcesContent":["const express = require(\"express\");\r\nconst auth = require(\"../middleware/auth.middleware\");\r\nconst memberController = require(\"../controller/member.controller\");\r\nconst router = express.Router();\r\nrouter\r\n  .route(\"/profile\")\r\n  .get(auth, memberController.profile)\r\n  .patch(auth, memberController.updateProfile);\r\nrouter.get(\"/all\", memberController.getAllMember);\r\nmodule.exports = router;\r\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,+BAAD,CAApB;;AACA,MAAME,gBAAgB,GAAGF,OAAO,CAAC,iCAAD,CAAhC;;AACA,MAAMG,MAAM,GAAGJ,OAAO,CAACK,MAAR,EAAf;AACAD,MAAM,CACHE,KADH,CACS,UADT,EAEGC,GAFH,CAEOL,IAFP,EAEaC,gBAAgB,CAACK,OAF9B,EAGGC,KAHH,CAGSP,IAHT,EAGeC,gBAAgB,CAACO,aAHhC;AAIAN,MAAM,CAACG,GAAP,CAAW,MAAX,EAAmBJ,gBAAgB,CAACQ,YAApC;AACAC,MAAM,CAACC,OAAP,GAAiBT,MAAjB"}},"mtime":1667154981419},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\controller\\\\member.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _index = require(\"../models/index\");\n\nconst httpStatus = require(\"http-status\");\n\nconst {\n  ApiError\n} = require(\"../middleware/apiError\");\n\nconst {\n  getMemberByEmail,\n  showAllMember\n} = require(\"../repository/members.repository\");\n\nconst {\n  updateMemberProfile\n} = require(\"../service/member.service\");\n\nconst memberController = {\n  async profile(req, res, next) {\n    try {\n      const member = await getMemberByEmail(req.currentUser.email);\n\n      if (!member) {\n        throw new ApiError(httpStatus.NOT_FOUND, \"Member Not Found\");\n      }\n\n      return res.json(member);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async updateProfile(req, res, next) {\n    try {\n      const updatedMember = await updateMemberProfile(req);\n      return res.json(updatedMember);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async getAllMember(req, res) {\n    try {\n      const allMember = await showAllMember();\n\n      if (!allMember) {\n        throw new ApiError(\"Member khong ton tai\");\n      }\n\n      return res.send(allMember);\n    } catch (error) {}\n  }\n\n};\nmodule.exports = memberController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwU3RhdHVzIiwicmVxdWlyZSIsIkFwaUVycm9yIiwiZ2V0TWVtYmVyQnlFbWFpbCIsInNob3dBbGxNZW1iZXIiLCJ1cGRhdGVNZW1iZXJQcm9maWxlIiwibWVtYmVyQ29udHJvbGxlciIsInByb2ZpbGUiLCJyZXEiLCJyZXMiLCJuZXh0IiwibWVtYmVyIiwiY3VycmVudFVzZXIiLCJlbWFpbCIsIk5PVF9GT1VORCIsImpzb24iLCJlcnJvciIsInVwZGF0ZVByb2ZpbGUiLCJ1cGRhdGVkTWVtYmVyIiwiZ2V0QWxsTWVtYmVyIiwiYWxsTWVtYmVyIiwic2VuZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxDb2RlXFxGUFRfU3ViamVjdFxcU1dQXFxIUk1TX0JFXFxzcmNcXGNvbnRyb2xsZXJcXCIsInNvdXJjZXMiOlsibWVtYmVyLmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgaHR0cFN0YXR1cyA9IHJlcXVpcmUoXCJodHRwLXN0YXR1c1wiKTtcclxuY29uc3QgeyBBcGlFcnJvciB9ID0gcmVxdWlyZShcIi4uL21pZGRsZXdhcmUvYXBpRXJyb3JcIik7XHJcbmltcG9ydCB7IHNlcXVlbGl6ZSB9IGZyb20gXCIuLi9tb2RlbHMvaW5kZXhcIjtcclxuY29uc3Qge1xyXG4gIGdldE1lbWJlckJ5RW1haWwsXHJcbiAgc2hvd0FsbE1lbWJlcixcclxufSA9IHJlcXVpcmUoXCIuLi9yZXBvc2l0b3J5L21lbWJlcnMucmVwb3NpdG9yeVwiKTtcclxuY29uc3QgeyB1cGRhdGVNZW1iZXJQcm9maWxlIH0gPSByZXF1aXJlKFwiLi4vc2VydmljZS9tZW1iZXIuc2VydmljZVwiKTtcclxuY29uc3QgbWVtYmVyQ29udHJvbGxlciA9IHtcclxuICBhc3luYyBwcm9maWxlKHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBtZW1iZXIgPSBhd2FpdCBnZXRNZW1iZXJCeUVtYWlsKHJlcS5jdXJyZW50VXNlci5lbWFpbCk7XHJcblxyXG4gICAgICBpZiAoIW1lbWJlcikge1xyXG4gICAgICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLk5PVF9GT1VORCwgXCJNZW1iZXIgTm90IEZvdW5kXCIpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiByZXMuanNvbihtZW1iZXIpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgbmV4dChlcnJvcik7XHJcbiAgICB9XHJcbiAgfSxcclxuICBhc3luYyB1cGRhdGVQcm9maWxlKHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB1cGRhdGVkTWVtYmVyID0gYXdhaXQgdXBkYXRlTWVtYmVyUHJvZmlsZShyZXEpO1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24odXBkYXRlZE1lbWJlcik7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBuZXh0KGVycm9yKTtcclxuICAgIH1cclxuICB9LFxyXG4gIGFzeW5jIGdldEFsbE1lbWJlcihyZXEsIHJlcykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgYWxsTWVtYmVyID0gYXdhaXQgc2hvd0FsbE1lbWJlcigpO1xyXG4gICAgICBpZiAoIWFsbE1lbWJlcikge1xyXG4gICAgICAgIHRocm93IG5ldyBBcGlFcnJvcihcIk1lbWJlciBraG9uZyB0b24gdGFpXCIpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiByZXMuc2VuZChhbGxNZW1iZXIpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHt9XHJcbiAgfSxcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbWVtYmVyQ29udHJvbGxlcjtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUVBOztBQUZBLE1BQU1BLFVBQVUsR0FBR0MsT0FBTyxDQUFDLGFBQUQsQ0FBMUI7O0FBQ0EsTUFBTTtFQUFFQztBQUFGLElBQWVELE9BQU8sQ0FBQyx3QkFBRCxDQUE1Qjs7QUFFQSxNQUFNO0VBQ0pFLGdCQURJO0VBRUpDO0FBRkksSUFHRkgsT0FBTyxDQUFDLGtDQUFELENBSFg7O0FBSUEsTUFBTTtFQUFFSTtBQUFGLElBQTBCSixPQUFPLENBQUMsMkJBQUQsQ0FBdkM7O0FBQ0EsTUFBTUssZ0JBQWdCLEdBQUc7RUFDdkIsTUFBTUMsT0FBTixDQUFjQyxHQUFkLEVBQW1CQyxHQUFuQixFQUF3QkMsSUFBeEIsRUFBOEI7SUFDNUIsSUFBSTtNQUNGLE1BQU1DLE1BQU0sR0FBRyxNQUFNUixnQkFBZ0IsQ0FBQ0ssR0FBRyxDQUFDSSxXQUFKLENBQWdCQyxLQUFqQixDQUFyQzs7TUFFQSxJQUFJLENBQUNGLE1BQUwsRUFBYTtRQUNYLE1BQU0sSUFBSVQsUUFBSixDQUFhRixVQUFVLENBQUNjLFNBQXhCLEVBQW1DLGtCQUFuQyxDQUFOO01BQ0Q7O01BQ0QsT0FBT0wsR0FBRyxDQUFDTSxJQUFKLENBQVNKLE1BQVQsQ0FBUDtJQUNELENBUEQsQ0FPRSxPQUFPSyxLQUFQLEVBQWM7TUFDZE4sSUFBSSxDQUFDTSxLQUFELENBQUo7SUFDRDtFQUNGLENBWnNCOztFQWF2QixNQUFNQyxhQUFOLENBQW9CVCxHQUFwQixFQUF5QkMsR0FBekIsRUFBOEJDLElBQTlCLEVBQW9DO0lBQ2xDLElBQUk7TUFDRixNQUFNUSxhQUFhLEdBQUcsTUFBTWIsbUJBQW1CLENBQUNHLEdBQUQsQ0FBL0M7TUFDQSxPQUFPQyxHQUFHLENBQUNNLElBQUosQ0FBU0csYUFBVCxDQUFQO0lBQ0QsQ0FIRCxDQUdFLE9BQU9GLEtBQVAsRUFBYztNQUNkTixJQUFJLENBQUNNLEtBQUQsQ0FBSjtJQUNEO0VBQ0YsQ0FwQnNCOztFQXFCdkIsTUFBTUcsWUFBTixDQUFtQlgsR0FBbkIsRUFBd0JDLEdBQXhCLEVBQTZCO0lBQzNCLElBQUk7TUFDRixNQUFNVyxTQUFTLEdBQUcsTUFBTWhCLGFBQWEsRUFBckM7O01BQ0EsSUFBSSxDQUFDZ0IsU0FBTCxFQUFnQjtRQUNkLE1BQU0sSUFBSWxCLFFBQUosQ0FBYSxzQkFBYixDQUFOO01BQ0Q7O01BQ0QsT0FBT08sR0FBRyxDQUFDWSxJQUFKLENBQVNELFNBQVQsQ0FBUDtJQUNELENBTkQsQ0FNRSxPQUFPSixLQUFQLEVBQWMsQ0FBRTtFQUNuQjs7QUE3QnNCLENBQXpCO0FBZ0NBTSxNQUFNLENBQUNDLE9BQVAsR0FBaUJqQixnQkFBakIifQ==","map":{"version":3,"names":["httpStatus","require","ApiError","getMemberByEmail","showAllMember","updateMemberProfile","memberController","profile","req","res","next","member","currentUser","email","NOT_FOUND","json","error","updateProfile","updatedMember","getAllMember","allMember","send","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\controller\\","sources":["member.controller.js"],"sourcesContent":["const httpStatus = require(\"http-status\");\r\nconst { ApiError } = require(\"../middleware/apiError\");\r\nimport { sequelize } from \"../models/index\";\r\nconst {\r\n  getMemberByEmail,\r\n  showAllMember,\r\n} = require(\"../repository/members.repository\");\r\nconst { updateMemberProfile } = require(\"../service/member.service\");\r\nconst memberController = {\r\n  async profile(req, res, next) {\r\n    try {\r\n      const member = await getMemberByEmail(req.currentUser.email);\r\n\r\n      if (!member) {\r\n        throw new ApiError(httpStatus.NOT_FOUND, \"Member Not Found\");\r\n      }\r\n      return res.json(member);\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  },\r\n  async updateProfile(req, res, next) {\r\n    try {\r\n      const updatedMember = await updateMemberProfile(req);\r\n      return res.json(updatedMember);\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  },\r\n  async getAllMember(req, res) {\r\n    try {\r\n      const allMember = await showAllMember();\r\n      if (!allMember) {\r\n        throw new ApiError(\"Member khong ton tai\");\r\n      }\r\n      return res.send(allMember);\r\n    } catch (error) {}\r\n  },\r\n};\r\n\r\nmodule.exports = memberController;\r\n"],"mappings":";;AAEA;;AAFA,MAAMA,UAAU,GAAGC,OAAO,CAAC,aAAD,CAA1B;;AACA,MAAM;EAAEC;AAAF,IAAeD,OAAO,CAAC,wBAAD,CAA5B;;AAEA,MAAM;EACJE,gBADI;EAEJC;AAFI,IAGFH,OAAO,CAAC,kCAAD,CAHX;;AAIA,MAAM;EAAEI;AAAF,IAA0BJ,OAAO,CAAC,2BAAD,CAAvC;;AACA,MAAMK,gBAAgB,GAAG;EACvB,MAAMC,OAAN,CAAcC,GAAd,EAAmBC,GAAnB,EAAwBC,IAAxB,EAA8B;IAC5B,IAAI;MACF,MAAMC,MAAM,GAAG,MAAMR,gBAAgB,CAACK,GAAG,CAACI,WAAJ,CAAgBC,KAAjB,CAArC;;MAEA,IAAI,CAACF,MAAL,EAAa;QACX,MAAM,IAAIT,QAAJ,CAAaF,UAAU,CAACc,SAAxB,EAAmC,kBAAnC,CAAN;MACD;;MACD,OAAOL,GAAG,CAACM,IAAJ,CAASJ,MAAT,CAAP;IACD,CAPD,CAOE,OAAOK,KAAP,EAAc;MACdN,IAAI,CAACM,KAAD,CAAJ;IACD;EACF,CAZsB;;EAavB,MAAMC,aAAN,CAAoBT,GAApB,EAAyBC,GAAzB,EAA8BC,IAA9B,EAAoC;IAClC,IAAI;MACF,MAAMQ,aAAa,GAAG,MAAMb,mBAAmB,CAACG,GAAD,CAA/C;MACA,OAAOC,GAAG,CAACM,IAAJ,CAASG,aAAT,CAAP;IACD,CAHD,CAGE,OAAOF,KAAP,EAAc;MACdN,IAAI,CAACM,KAAD,CAAJ;IACD;EACF,CApBsB;;EAqBvB,MAAMG,YAAN,CAAmBX,GAAnB,EAAwBC,GAAxB,EAA6B;IAC3B,IAAI;MACF,MAAMW,SAAS,GAAG,MAAMhB,aAAa,EAArC;;MACA,IAAI,CAACgB,SAAL,EAAgB;QACd,MAAM,IAAIlB,QAAJ,CAAa,sBAAb,CAAN;MACD;;MACD,OAAOO,GAAG,CAACY,IAAJ,CAASD,SAAT,CAAP;IACD,CAND,CAME,OAAOJ,KAAP,EAAc,CAAE;EACnB;;AA7BsB,CAAzB;AAgCAM,MAAM,CAACC,OAAP,GAAiBjB,gBAAjB"}},"mtime":1667231784545},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\service\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\service\\\\member.service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  update,\n  getMemberById\n} = require(\"../repository/members.repository\");\n\nrequire(\"dotenv\").config();\n\nconst updateMemberProfile = async req => {\n  try {\n    await update(req.body, {\n      id: req.currentUser.id\n    });\n    const member = await getMemberById(req.currentUser.id);\n    return member;\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  updateMemberProfile\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1cGRhdGUiLCJnZXRNZW1iZXJCeUlkIiwicmVxdWlyZSIsImNvbmZpZyIsInVwZGF0ZU1lbWJlclByb2ZpbGUiLCJyZXEiLCJib2R5IiwiaWQiLCJjdXJyZW50VXNlciIsIm1lbWJlciIsImVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXENvZGVcXEZQVF9TdWJqZWN0XFxTV1BcXEhSTVNfQkVcXHNyY1xcc2VydmljZVxcIiwic291cmNlcyI6WyJtZW1iZXIuc2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IHVwZGF0ZSwgZ2V0TWVtYmVyQnlJZCB9ID0gcmVxdWlyZShcIi4uL3JlcG9zaXRvcnkvbWVtYmVycy5yZXBvc2l0b3J5XCIpO1xyXG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xyXG5cclxuY29uc3QgdXBkYXRlTWVtYmVyUHJvZmlsZSA9IGFzeW5jIChyZXEpID0+IHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgdXBkYXRlKHJlcS5ib2R5LCB7IGlkOiByZXEuY3VycmVudFVzZXIuaWQgfSk7XHJcbiAgICBjb25zdCBtZW1iZXIgPSBhd2FpdCBnZXRNZW1iZXJCeUlkKHJlcS5jdXJyZW50VXNlci5pZCk7XHJcbiAgICByZXR1cm4gbWVtYmVyO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIHVwZGF0ZU1lbWJlclByb2ZpbGUsXHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNO0VBQUVBLE1BQUY7RUFBVUM7QUFBVixJQUE0QkMsT0FBTyxDQUFDLGtDQUFELENBQXpDOztBQUNBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQjs7QUFFQSxNQUFNQyxtQkFBbUIsR0FBRyxNQUFPQyxHQUFQLElBQWU7RUFDekMsSUFBSTtJQUNGLE1BQU1MLE1BQU0sQ0FBQ0ssR0FBRyxDQUFDQyxJQUFMLEVBQVc7TUFBRUMsRUFBRSxFQUFFRixHQUFHLENBQUNHLFdBQUosQ0FBZ0JEO0lBQXRCLENBQVgsQ0FBWjtJQUNBLE1BQU1FLE1BQU0sR0FBRyxNQUFNUixhQUFhLENBQUNJLEdBQUcsQ0FBQ0csV0FBSixDQUFnQkQsRUFBakIsQ0FBbEM7SUFDQSxPQUFPRSxNQUFQO0VBQ0QsQ0FKRCxDQUlFLE9BQU9DLEtBQVAsRUFBYztJQUNkLE1BQU1BLEtBQU47RUFDRDtBQUNGLENBUkQ7O0FBU0FDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmUjtBQURlLENBQWpCIn0=","map":{"version":3,"names":["update","getMemberById","require","config","updateMemberProfile","req","body","id","currentUser","member","error","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\service\\","sources":["member.service.js"],"sourcesContent":["const { update, getMemberById } = require(\"../repository/members.repository\");\r\nrequire(\"dotenv\").config();\r\n\r\nconst updateMemberProfile = async (req) => {\r\n  try {\r\n    await update(req.body, { id: req.currentUser.id });\r\n    const member = await getMemberById(req.currentUser.id);\r\n    return member;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\nmodule.exports = {\r\n  updateMemberProfile,\r\n};\r\n"],"mappings":";;AAAA,MAAM;EAAEA,MAAF;EAAUC;AAAV,IAA4BC,OAAO,CAAC,kCAAD,CAAzC;;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEA,MAAMC,mBAAmB,GAAG,MAAOC,GAAP,IAAe;EACzC,IAAI;IACF,MAAML,MAAM,CAACK,GAAG,CAACC,IAAL,EAAW;MAAEC,EAAE,EAAEF,GAAG,CAACG,WAAJ,CAAgBD;IAAtB,CAAX,CAAZ;IACA,MAAME,MAAM,GAAG,MAAMR,aAAa,CAACI,GAAG,CAACG,WAAJ,CAAgBD,EAAjB,CAAlC;IACA,OAAOE,MAAP;EACD,CAJD,CAIE,OAAOC,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CARD;;AASAC,MAAM,CAACC,OAAP,GAAiB;EACfR;AADe,CAAjB"}},"mtime":1666281006565},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\routes\\\\staff.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\n\nconst auth = require(\"../middleware/auth.middleware\");\n\nconst staffController = require(\"../controller/staff.controller\");\n\nconst router = express.Router();\nrouter.get(\"/profile\", auth, staffController.profile);\nrouter.patch(\"/profile\", auth, staffController.updateProfile);\nrouter.get(\"/all\", staffController.getAllStaff);\nrouter.get(\"/all-interviewers\", staffController.handleGetAllInterviewers);\nrouter.patch(\"/delete/:id\", staffController.deleteStaff); //   .get(auth, memberController.profile)\n//   .patch(auth, memberController.updateProfile);\n// router.get(\"/all\", memberController.getAllMember);\n\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImF1dGgiLCJzdGFmZkNvbnRyb2xsZXIiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJnZXQiLCJwcm9maWxlIiwicGF0Y2giLCJ1cGRhdGVQcm9maWxlIiwiZ2V0QWxsU3RhZmYiLCJoYW5kbGVHZXRBbGxJbnRlcnZpZXdlcnMiLCJkZWxldGVTdGFmZiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxDb2RlXFxGUFRfU3ViamVjdFxcU1dQXFxIUk1TX0JFXFxzcmNcXHJvdXRlc1xcIiwic291cmNlcyI6WyJzdGFmZi5yb3V0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XHJcbmNvbnN0IGF1dGggPSByZXF1aXJlKFwiLi4vbWlkZGxld2FyZS9hdXRoLm1pZGRsZXdhcmVcIik7XHJcbmNvbnN0IHN0YWZmQ29udHJvbGxlciA9IHJlcXVpcmUoXCIuLi9jb250cm9sbGVyL3N0YWZmLmNvbnRyb2xsZXJcIik7XHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG5yb3V0ZXIuZ2V0KFwiL3Byb2ZpbGVcIiwgYXV0aCwgc3RhZmZDb250cm9sbGVyLnByb2ZpbGUpO1xyXG5yb3V0ZXIucGF0Y2goXCIvcHJvZmlsZVwiLCBhdXRoLCBzdGFmZkNvbnRyb2xsZXIudXBkYXRlUHJvZmlsZSk7XHJcbnJvdXRlci5nZXQoXCIvYWxsXCIsIHN0YWZmQ29udHJvbGxlci5nZXRBbGxTdGFmZik7XHJcbnJvdXRlci5nZXQoXCIvYWxsLWludGVydmlld2Vyc1wiLCBzdGFmZkNvbnRyb2xsZXIuaGFuZGxlR2V0QWxsSW50ZXJ2aWV3ZXJzKTtcclxucm91dGVyLnBhdGNoKFwiL2RlbGV0ZS86aWRcIiwgc3RhZmZDb250cm9sbGVyLmRlbGV0ZVN0YWZmKTtcclxuXHJcbi8vICAgLmdldChhdXRoLCBtZW1iZXJDb250cm9sbGVyLnByb2ZpbGUpXHJcbi8vICAgLnBhdGNoKGF1dGgsIG1lbWJlckNvbnRyb2xsZXIudXBkYXRlUHJvZmlsZSk7XHJcbi8vIHJvdXRlci5nZXQoXCIvYWxsXCIsIG1lbWJlckNvbnRyb2xsZXIuZ2V0QWxsTWVtYmVyKTtcclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBLE1BQU1DLElBQUksR0FBR0QsT0FBTyxDQUFDLCtCQUFELENBQXBCOztBQUNBLE1BQU1FLGVBQWUsR0FBR0YsT0FBTyxDQUFDLGdDQUFELENBQS9COztBQUNBLE1BQU1HLE1BQU0sR0FBR0osT0FBTyxDQUFDSyxNQUFSLEVBQWY7QUFFQUQsTUFBTSxDQUFDRSxHQUFQLENBQVcsVUFBWCxFQUF1QkosSUFBdkIsRUFBNkJDLGVBQWUsQ0FBQ0ksT0FBN0M7QUFDQUgsTUFBTSxDQUFDSSxLQUFQLENBQWEsVUFBYixFQUF5Qk4sSUFBekIsRUFBK0JDLGVBQWUsQ0FBQ00sYUFBL0M7QUFDQUwsTUFBTSxDQUFDRSxHQUFQLENBQVcsTUFBWCxFQUFtQkgsZUFBZSxDQUFDTyxXQUFuQztBQUNBTixNQUFNLENBQUNFLEdBQVAsQ0FBVyxtQkFBWCxFQUFnQ0gsZUFBZSxDQUFDUSx3QkFBaEQ7QUFDQVAsTUFBTSxDQUFDSSxLQUFQLENBQWEsYUFBYixFQUE0QkwsZUFBZSxDQUFDUyxXQUE1QyxFLENBRUE7QUFDQTtBQUNBOztBQUNBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJWLE1BQWpCIn0=","map":{"version":3,"names":["express","require","auth","staffController","router","Router","get","profile","patch","updateProfile","getAllStaff","handleGetAllInterviewers","deleteStaff","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\routes\\","sources":["staff.route.js"],"sourcesContent":["const express = require(\"express\");\r\nconst auth = require(\"../middleware/auth.middleware\");\r\nconst staffController = require(\"../controller/staff.controller\");\r\nconst router = express.Router();\r\n\r\nrouter.get(\"/profile\", auth, staffController.profile);\r\nrouter.patch(\"/profile\", auth, staffController.updateProfile);\r\nrouter.get(\"/all\", staffController.getAllStaff);\r\nrouter.get(\"/all-interviewers\", staffController.handleGetAllInterviewers);\r\nrouter.patch(\"/delete/:id\", staffController.deleteStaff);\r\n\r\n//   .get(auth, memberController.profile)\r\n//   .patch(auth, memberController.updateProfile);\r\n// router.get(\"/all\", memberController.getAllMember);\r\nmodule.exports = router;\r\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,+BAAD,CAApB;;AACA,MAAME,eAAe,GAAGF,OAAO,CAAC,gCAAD,CAA/B;;AACA,MAAMG,MAAM,GAAGJ,OAAO,CAACK,MAAR,EAAf;AAEAD,MAAM,CAACE,GAAP,CAAW,UAAX,EAAuBJ,IAAvB,EAA6BC,eAAe,CAACI,OAA7C;AACAH,MAAM,CAACI,KAAP,CAAa,UAAb,EAAyBN,IAAzB,EAA+BC,eAAe,CAACM,aAA/C;AACAL,MAAM,CAACE,GAAP,CAAW,MAAX,EAAmBH,eAAe,CAACO,WAAnC;AACAN,MAAM,CAACE,GAAP,CAAW,mBAAX,EAAgCH,eAAe,CAACQ,wBAAhD;AACAP,MAAM,CAACI,KAAP,CAAa,aAAb,EAA4BL,eAAe,CAACS,WAA5C,E,CAEA;AACA;AACA;;AACAC,MAAM,CAACC,OAAP,GAAiBV,MAAjB"}},"mtime":1666880512467},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\controller\\\\staff.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _apiError = require(\"../middleware/apiError\");\n\nvar _staffs = require(\"../repository/staffs.repository\");\n\nvar _staff = require(\"../service/staff.service\");\n\nconst httpStatus = require(\"http-status\");\n\nconst staffController = {\n  // #TODO: xiu nua authen roi chinh parameter o getStaffByEmail()\n  async updateProfile(req, res, next) {\n    try {\n      const updatedStaff = await (0, _staff.updateStaffProfile)(req);\n      return res.json(updatedStaff);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async profile(req, res, next) {\n    try {\n      const staff = await (0, _staffs.getStaffByEmail)(req.currentUser.email);\n\n      if (!staff) {\n        throw new _apiError.ApiError(httpStatus.NOT_FOUND, \"Staff Not Found\");\n      }\n\n      return res.json(staff);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async getAllStaff(req, res) {\n    try {\n      const allStaff = await (0, _staffs.showAllStaff)();\n\n      if (!allStaff) {\n        throw new _apiError.ApiError(\"Staff khong ton tai\");\n      }\n\n      return res.json(allStaff);\n    } catch (error) {}\n  },\n\n  async handleGetAllInterviewers(req, res, error) {\n    try {\n      const allInterviewers = await (0, _staffs.getAllInterviewers)();\n      return res.json(allInterviewers);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async deleteStaff(req, res, next) {\n    try {\n      const updateStatusStaffToHidden = await updateStaffStatusToHidden(req);\n      return res.json({\n        message: \"Delete successfully\"\n      });\n    } catch (error) {\n      next(error);\n    }\n  }\n\n};\nmodule.exports = staffController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwU3RhdHVzIiwicmVxdWlyZSIsInN0YWZmQ29udHJvbGxlciIsInVwZGF0ZVByb2ZpbGUiLCJyZXEiLCJyZXMiLCJuZXh0IiwidXBkYXRlZFN0YWZmIiwidXBkYXRlU3RhZmZQcm9maWxlIiwianNvbiIsImVycm9yIiwicHJvZmlsZSIsInN0YWZmIiwiZ2V0U3RhZmZCeUVtYWlsIiwiY3VycmVudFVzZXIiLCJlbWFpbCIsIkFwaUVycm9yIiwiTk9UX0ZPVU5EIiwiZ2V0QWxsU3RhZmYiLCJhbGxTdGFmZiIsInNob3dBbGxTdGFmZiIsImhhbmRsZUdldEFsbEludGVydmlld2VycyIsImFsbEludGVydmlld2VycyIsImdldEFsbEludGVydmlld2VycyIsImRlbGV0ZVN0YWZmIiwidXBkYXRlU3RhdHVzU3RhZmZUb0hpZGRlbiIsInVwZGF0ZVN0YWZmU3RhdHVzVG9IaWRkZW4iLCJtZXNzYWdlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXENvZGVcXEZQVF9TdWJqZWN0XFxTV1BcXEhSTVNfQkVcXHNyY1xcY29udHJvbGxlclxcIiwic291cmNlcyI6WyJzdGFmZi5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGh0dHBTdGF0dXMgPSByZXF1aXJlKFwiaHR0cC1zdGF0dXNcIik7XHJcbmltcG9ydCB7IEFwaUVycm9yIH0gZnJvbSBcIi4uL21pZGRsZXdhcmUvYXBpRXJyb3JcIjtcclxuaW1wb3J0IHtcclxuICBnZXRTdGFmZkJ5RW1haWwsXHJcbiAgc2hvd0FsbFN0YWZmLFxyXG4gIGdldEFsbEludGVydmlld2VycyxcclxufSBmcm9tIFwiLi4vcmVwb3NpdG9yeS9zdGFmZnMucmVwb3NpdG9yeVwiO1xyXG5pbXBvcnQgeyB1cGRhdGVTdGFmZlByb2ZpbGUgfSBmcm9tIFwiLi4vc2VydmljZS9zdGFmZi5zZXJ2aWNlXCI7XHJcbmNvbnN0IHN0YWZmQ29udHJvbGxlciA9IHtcclxuICAvLyAjVE9ETzogeGl1IG51YSBhdXRoZW4gcm9pIGNoaW5oIHBhcmFtZXRlciBvIGdldFN0YWZmQnlFbWFpbCgpXHJcbiAgYXN5bmMgdXBkYXRlUHJvZmlsZShyZXEsIHJlcywgbmV4dCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgdXBkYXRlZFN0YWZmID0gYXdhaXQgdXBkYXRlU3RhZmZQcm9maWxlKHJlcSk7XHJcbiAgICAgIHJldHVybiByZXMuanNvbih1cGRhdGVkU3RhZmYpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgbmV4dChlcnJvcik7XHJcbiAgICB9XHJcbiAgfSxcclxuICBhc3luYyBwcm9maWxlKHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBzdGFmZiA9IGF3YWl0IGdldFN0YWZmQnlFbWFpbChyZXEuY3VycmVudFVzZXIuZW1haWwpO1xyXG4gICAgICBpZiAoIXN0YWZmKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKGh0dHBTdGF0dXMuTk9UX0ZPVU5ELCBcIlN0YWZmIE5vdCBGb3VuZFwiKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzLmpzb24oc3RhZmYpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgbmV4dChlcnJvcik7XHJcbiAgICB9XHJcbiAgfSxcclxuICBhc3luYyBnZXRBbGxTdGFmZihyZXEsIHJlcykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgYWxsU3RhZmYgPSBhd2FpdCBzaG93QWxsU3RhZmYoKTtcclxuICAgICAgaWYgKCFhbGxTdGFmZikge1xyXG4gICAgICAgIHRocm93IG5ldyBBcGlFcnJvcihcIlN0YWZmIGtob25nIHRvbiB0YWlcIik7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHJlcy5qc29uKGFsbFN0YWZmKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7IH1cclxuICB9LFxyXG5cclxuICBhc3luYyBoYW5kbGVHZXRBbGxJbnRlcnZpZXdlcnMocmVxLCByZXMsIGVycm9yKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBhbGxJbnRlcnZpZXdlcnMgPSBhd2FpdCBnZXRBbGxJbnRlcnZpZXdlcnMoKTtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKGFsbEludGVydmlld2Vycyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBuZXh0KGVycm9yKTtcclxuICAgIH1cclxuICB9LFxyXG4gIGFzeW5jIGRlbGV0ZVN0YWZmKHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB1cGRhdGVTdGF0dXNTdGFmZlRvSGlkZGVuID0gYXdhaXQgdXBkYXRlU3RhZmZTdGF0dXNUb0hpZGRlbihyZXEpO1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oeyBtZXNzYWdlOiBcIkRlbGV0ZSBzdWNjZXNzZnVsbHlcIiB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIG5leHQoZXJyb3IpO1xyXG4gICAgfVxyXG4gIH0sXHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHN0YWZmQ29udHJvbGxlcjtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUNBOztBQUNBOztBQUtBOztBQVBBLE1BQU1BLFVBQVUsR0FBR0MsT0FBTyxDQUFDLGFBQUQsQ0FBMUI7O0FBUUEsTUFBTUMsZUFBZSxHQUFHO0VBQ3RCO0VBQ0EsTUFBTUMsYUFBTixDQUFvQkMsR0FBcEIsRUFBeUJDLEdBQXpCLEVBQThCQyxJQUE5QixFQUFvQztJQUNsQyxJQUFJO01BQ0YsTUFBTUMsWUFBWSxHQUFHLE1BQU0sSUFBQUMseUJBQUEsRUFBbUJKLEdBQW5CLENBQTNCO01BQ0EsT0FBT0MsR0FBRyxDQUFDSSxJQUFKLENBQVNGLFlBQVQsQ0FBUDtJQUNELENBSEQsQ0FHRSxPQUFPRyxLQUFQLEVBQWM7TUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7SUFDRDtFQUNGLENBVHFCOztFQVV0QixNQUFNQyxPQUFOLENBQWNQLEdBQWQsRUFBbUJDLEdBQW5CLEVBQXdCQyxJQUF4QixFQUE4QjtJQUM1QixJQUFJO01BQ0YsTUFBTU0sS0FBSyxHQUFHLE1BQU0sSUFBQUMsdUJBQUEsRUFBZ0JULEdBQUcsQ0FBQ1UsV0FBSixDQUFnQkMsS0FBaEMsQ0FBcEI7O01BQ0EsSUFBSSxDQUFDSCxLQUFMLEVBQVk7UUFDVixNQUFNLElBQUlJLGtCQUFKLENBQWFoQixVQUFVLENBQUNpQixTQUF4QixFQUFtQyxpQkFBbkMsQ0FBTjtNQUNEOztNQUNELE9BQU9aLEdBQUcsQ0FBQ0ksSUFBSixDQUFTRyxLQUFULENBQVA7SUFDRCxDQU5ELENBTUUsT0FBT0YsS0FBUCxFQUFjO01BQ2RKLElBQUksQ0FBQ0ksS0FBRCxDQUFKO0lBQ0Q7RUFDRixDQXBCcUI7O0VBcUJ0QixNQUFNUSxXQUFOLENBQWtCZCxHQUFsQixFQUF1QkMsR0FBdkIsRUFBNEI7SUFDMUIsSUFBSTtNQUNGLE1BQU1jLFFBQVEsR0FBRyxNQUFNLElBQUFDLG9CQUFBLEdBQXZCOztNQUNBLElBQUksQ0FBQ0QsUUFBTCxFQUFlO1FBQ2IsTUFBTSxJQUFJSCxrQkFBSixDQUFhLHFCQUFiLENBQU47TUFDRDs7TUFDRCxPQUFPWCxHQUFHLENBQUNJLElBQUosQ0FBU1UsUUFBVCxDQUFQO0lBQ0QsQ0FORCxDQU1FLE9BQU9ULEtBQVAsRUFBYyxDQUFHO0VBQ3BCLENBN0JxQjs7RUErQnRCLE1BQU1XLHdCQUFOLENBQStCakIsR0FBL0IsRUFBb0NDLEdBQXBDLEVBQXlDSyxLQUF6QyxFQUFnRDtJQUM5QyxJQUFJO01BQ0YsTUFBTVksZUFBZSxHQUFHLE1BQU0sSUFBQUMsMEJBQUEsR0FBOUI7TUFDQSxPQUFPbEIsR0FBRyxDQUFDSSxJQUFKLENBQVNhLGVBQVQsQ0FBUDtJQUNELENBSEQsQ0FHRSxPQUFPWixLQUFQLEVBQWM7TUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7SUFDRDtFQUNGLENBdENxQjs7RUF1Q3RCLE1BQU1jLFdBQU4sQ0FBa0JwQixHQUFsQixFQUF1QkMsR0FBdkIsRUFBNEJDLElBQTVCLEVBQWtDO0lBQ2hDLElBQUk7TUFDRixNQUFNbUIseUJBQXlCLEdBQUcsTUFBTUMseUJBQXlCLENBQUN0QixHQUFELENBQWpFO01BQ0EsT0FBT0MsR0FBRyxDQUFDSSxJQUFKLENBQVM7UUFBRWtCLE9BQU8sRUFBRTtNQUFYLENBQVQsQ0FBUDtJQUNELENBSEQsQ0FHRSxPQUFPakIsS0FBUCxFQUFjO01BQ2RKLElBQUksQ0FBQ0ksS0FBRCxDQUFKO0lBQ0Q7RUFDRjs7QUE5Q3FCLENBQXhCO0FBaURBa0IsTUFBTSxDQUFDQyxPQUFQLEdBQWlCM0IsZUFBakIifQ==","map":{"version":3,"names":["httpStatus","require","staffController","updateProfile","req","res","next","updatedStaff","updateStaffProfile","json","error","profile","staff","getStaffByEmail","currentUser","email","ApiError","NOT_FOUND","getAllStaff","allStaff","showAllStaff","handleGetAllInterviewers","allInterviewers","getAllInterviewers","deleteStaff","updateStatusStaffToHidden","updateStaffStatusToHidden","message","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\controller\\","sources":["staff.controller.js"],"sourcesContent":["const httpStatus = require(\"http-status\");\r\nimport { ApiError } from \"../middleware/apiError\";\r\nimport {\r\n  getStaffByEmail,\r\n  showAllStaff,\r\n  getAllInterviewers,\r\n} from \"../repository/staffs.repository\";\r\nimport { updateStaffProfile } from \"../service/staff.service\";\r\nconst staffController = {\r\n  // #TODO: xiu nua authen roi chinh parameter o getStaffByEmail()\r\n  async updateProfile(req, res, next) {\r\n    try {\r\n      const updatedStaff = await updateStaffProfile(req);\r\n      return res.json(updatedStaff);\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  },\r\n  async profile(req, res, next) {\r\n    try {\r\n      const staff = await getStaffByEmail(req.currentUser.email);\r\n      if (!staff) {\r\n        throw new ApiError(httpStatus.NOT_FOUND, \"Staff Not Found\");\r\n      }\r\n      return res.json(staff);\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  },\r\n  async getAllStaff(req, res) {\r\n    try {\r\n      const allStaff = await showAllStaff();\r\n      if (!allStaff) {\r\n        throw new ApiError(\"Staff khong ton tai\");\r\n      }\r\n      return res.json(allStaff);\r\n    } catch (error) { }\r\n  },\r\n\r\n  async handleGetAllInterviewers(req, res, error) {\r\n    try {\r\n      const allInterviewers = await getAllInterviewers();\r\n      return res.json(allInterviewers);\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  },\r\n  async deleteStaff(req, res, next) {\r\n    try {\r\n      const updateStatusStaffToHidden = await updateStaffStatusToHidden(req);\r\n      return res.json({ message: \"Delete successfully\" });\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  },\r\n};\r\n\r\nmodule.exports = staffController;\r\n"],"mappings":";;AACA;;AACA;;AAKA;;AAPA,MAAMA,UAAU,GAAGC,OAAO,CAAC,aAAD,CAA1B;;AAQA,MAAMC,eAAe,GAAG;EACtB;EACA,MAAMC,aAAN,CAAoBC,GAApB,EAAyBC,GAAzB,EAA8BC,IAA9B,EAAoC;IAClC,IAAI;MACF,MAAMC,YAAY,GAAG,MAAM,IAAAC,yBAAA,EAAmBJ,GAAnB,CAA3B;MACA,OAAOC,GAAG,CAACI,IAAJ,CAASF,YAAT,CAAP;IACD,CAHD,CAGE,OAAOG,KAAP,EAAc;MACdJ,IAAI,CAACI,KAAD,CAAJ;IACD;EACF,CATqB;;EAUtB,MAAMC,OAAN,CAAcP,GAAd,EAAmBC,GAAnB,EAAwBC,IAAxB,EAA8B;IAC5B,IAAI;MACF,MAAMM,KAAK,GAAG,MAAM,IAAAC,uBAAA,EAAgBT,GAAG,CAACU,WAAJ,CAAgBC,KAAhC,CAApB;;MACA,IAAI,CAACH,KAAL,EAAY;QACV,MAAM,IAAII,kBAAJ,CAAahB,UAAU,CAACiB,SAAxB,EAAmC,iBAAnC,CAAN;MACD;;MACD,OAAOZ,GAAG,CAACI,IAAJ,CAASG,KAAT,CAAP;IACD,CAND,CAME,OAAOF,KAAP,EAAc;MACdJ,IAAI,CAACI,KAAD,CAAJ;IACD;EACF,CApBqB;;EAqBtB,MAAMQ,WAAN,CAAkBd,GAAlB,EAAuBC,GAAvB,EAA4B;IAC1B,IAAI;MACF,MAAMc,QAAQ,GAAG,MAAM,IAAAC,oBAAA,GAAvB;;MACA,IAAI,CAACD,QAAL,EAAe;QACb,MAAM,IAAIH,kBAAJ,CAAa,qBAAb,CAAN;MACD;;MACD,OAAOX,GAAG,CAACI,IAAJ,CAASU,QAAT,CAAP;IACD,CAND,CAME,OAAOT,KAAP,EAAc,CAAG;EACpB,CA7BqB;;EA+BtB,MAAMW,wBAAN,CAA+BjB,GAA/B,EAAoCC,GAApC,EAAyCK,KAAzC,EAAgD;IAC9C,IAAI;MACF,MAAMY,eAAe,GAAG,MAAM,IAAAC,0BAAA,GAA9B;MACA,OAAOlB,GAAG,CAACI,IAAJ,CAASa,eAAT,CAAP;IACD,CAHD,CAGE,OAAOZ,KAAP,EAAc;MACdJ,IAAI,CAACI,KAAD,CAAJ;IACD;EACF,CAtCqB;;EAuCtB,MAAMc,WAAN,CAAkBpB,GAAlB,EAAuBC,GAAvB,EAA4BC,IAA5B,EAAkC;IAChC,IAAI;MACF,MAAMmB,yBAAyB,GAAG,MAAMC,yBAAyB,CAACtB,GAAD,CAAjE;MACA,OAAOC,GAAG,CAACI,IAAJ,CAAS;QAAEkB,OAAO,EAAE;MAAX,CAAT,CAAP;IACD,CAHD,CAGE,OAAOjB,KAAP,EAAc;MACdJ,IAAI,CAACI,KAAD,CAAJ;IACD;EACF;;AA9CqB,CAAxB;AAiDAkB,MAAM,CAACC,OAAP,GAAiB3B,eAAjB"}},"mtime":1667114895196},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\repository\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\repository\\\\staffs.repository.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _sequelize = require(\"sequelize\");\n\nvar _index = _interopRequireWildcard(require(\"../models/index\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst findOne = async where => {\n  var _await$db$Staffs$find;\n\n  return (_await$db$Staffs$find = await _index.default.Staffs.findOne({\n    where: where\n  })) === null || _await$db$Staffs$find === void 0 ? void 0 : _await$db$Staffs$find.dataValues;\n};\n\nconst createNewStaff = async user => {\n  const staff = await _index.default.Staffs.create({\n    email: user.email,\n    fullname: user.fullname,\n    password: user.password\n  });\n  return staff === null || staff === void 0 ? void 0 : staff.dataValues;\n};\n\nconst getStaffByEmail = async email => {\n  var _await$db$Staffs$find2;\n\n  return (_await$db$Staffs$find2 = await _index.default.Staffs.findOne({\n    where: {\n      email: email\n    }\n  })) === null || _await$db$Staffs$find2 === void 0 ? void 0 : _await$db$Staffs$find2.dataValues;\n};\n\nconst getStaffById = async staffID => {\n  var _await$db$Staffs$find3;\n\n  return (_await$db$Staffs$find3 = await _index.default.Staffs.findOne({\n    where: {\n      id: staffID\n    }\n  })) === null || _await$db$Staffs$find3 === void 0 ? void 0 : _await$db$Staffs$find3.dataValues;\n};\n\nconst update = async (newObj, where) => {\n  await _index.default.Staffs.update(newObj, {\n    where: where\n  });\n};\n\nconst showAllStaff = async () => {\n  const query = \"SELECT * FROM hrms.staffs\"; // staffList = await db.Staffs.findAll({ raw: true });\n\n  const staffList = await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.SELECT\n  });\n  console.log(\"bbbb\");\n  return staffList;\n};\n\nconst updateStatus = async where => {\n  return await _index.default.Staffs.update({\n    status: \"Inactive\"\n  }, {\n    where: where\n  });\n};\n\nconst getAllInterviewers = async () => {\n  const query = \"SELECT * FROM hrms.staffs WHERE role = 'Interviewer' \";\n  return await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.SELECT\n  });\n};\n\nmodule.exports = {\n  findOne,\n  createNewStaff,\n  getStaffByEmail,\n  getStaffById,\n  update,\n  showAllStaff,\n  updateStatus,\n  getAllInterviewers\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmaW5kT25lIiwid2hlcmUiLCJkYiIsIlN0YWZmcyIsImRhdGFWYWx1ZXMiLCJjcmVhdGVOZXdTdGFmZiIsInVzZXIiLCJzdGFmZiIsImNyZWF0ZSIsImVtYWlsIiwiZnVsbG5hbWUiLCJwYXNzd29yZCIsImdldFN0YWZmQnlFbWFpbCIsImdldFN0YWZmQnlJZCIsInN0YWZmSUQiLCJpZCIsInVwZGF0ZSIsIm5ld09iaiIsInNob3dBbGxTdGFmZiIsInF1ZXJ5Iiwic3RhZmZMaXN0Iiwic2VxdWVsaXplIiwidHlwZSIsIlF1ZXJ5VHlwZXMiLCJTRUxFQ1QiLCJjb25zb2xlIiwibG9nIiwidXBkYXRlU3RhdHVzIiwic3RhdHVzIiwiZ2V0QWxsSW50ZXJ2aWV3ZXJzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXENvZGVcXEZQVF9TdWJqZWN0XFxTV1BcXEhSTVNfQkVcXHNyY1xccmVwb3NpdG9yeVxcIiwic291cmNlcyI6WyJzdGFmZnMucmVwb3NpdG9yeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBRdWVyeVR5cGVzIH0gZnJvbSBcInNlcXVlbGl6ZVwiO1xyXG5pbXBvcnQgZGIsIHsgc2VxdWVsaXplIH0gZnJvbSBcIi4uL21vZGVscy9pbmRleFwiO1xyXG5jb25zdCBmaW5kT25lID0gYXN5bmMgKHdoZXJlKSA9PiB7XHJcbiAgcmV0dXJuIChhd2FpdCBkYi5TdGFmZnMuZmluZE9uZSh7IHdoZXJlOiB3aGVyZSB9KSk/LmRhdGFWYWx1ZXM7XHJcbn07XHJcbmNvbnN0IGNyZWF0ZU5ld1N0YWZmID0gYXN5bmMgKHVzZXIpID0+IHtcclxuICBjb25zdCBzdGFmZiA9IGF3YWl0IGRiLlN0YWZmcy5jcmVhdGUoe1xyXG4gICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICBmdWxsbmFtZTogdXNlci5mdWxsbmFtZSxcclxuICAgIHBhc3N3b3JkOiB1c2VyLnBhc3N3b3JkLFxyXG4gIH0pO1xyXG4gIHJldHVybiBzdGFmZj8uZGF0YVZhbHVlcztcclxufTtcclxuY29uc3QgZ2V0U3RhZmZCeUVtYWlsID0gYXN5bmMgKGVtYWlsKSA9PiB7XHJcbiAgcmV0dXJuIChcclxuICAgIGF3YWl0IGRiLlN0YWZmcy5maW5kT25lKHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICBlbWFpbDogZW1haWwsXHJcbiAgICAgIH0sXHJcbiAgICB9KVxyXG4gICk/LmRhdGFWYWx1ZXM7XHJcbn07XHJcblxyXG5jb25zdCBnZXRTdGFmZkJ5SWQgPSBhc3luYyAoc3RhZmZJRCkgPT4ge1xyXG4gIHJldHVybiAoXHJcbiAgICBhd2FpdCBkYi5TdGFmZnMuZmluZE9uZSh7XHJcbiAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgaWQ6IHN0YWZmSUQsXHJcbiAgICAgIH0sXHJcbiAgICB9KVxyXG4gICk/LmRhdGFWYWx1ZXM7XHJcbn07XHJcbmNvbnN0IHVwZGF0ZSA9IGFzeW5jIChuZXdPYmosIHdoZXJlKSA9PiB7XHJcbiAgYXdhaXQgZGIuU3RhZmZzLnVwZGF0ZShuZXdPYmosIHtcclxuICAgIHdoZXJlOiB3aGVyZSxcclxuICB9KTtcclxufTtcclxuY29uc3Qgc2hvd0FsbFN0YWZmID0gYXN5bmMgKCkgPT4ge1xyXG4gIGNvbnN0IHF1ZXJ5ID0gXCJTRUxFQ1QgKiBGUk9NIGhybXMuc3RhZmZzXCI7XHJcbiAgLy8gc3RhZmZMaXN0ID0gYXdhaXQgZGIuU3RhZmZzLmZpbmRBbGwoeyByYXc6IHRydWUgfSk7XHJcbiAgY29uc3Qgc3RhZmZMaXN0ID0gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KHF1ZXJ5LCB7XHJcbiAgICB0eXBlOiBRdWVyeVR5cGVzLlNFTEVDVCxcclxuICB9KTtcclxuICBjb25zb2xlLmxvZyhcImJiYmJcIik7XHJcbiAgcmV0dXJuIHN0YWZmTGlzdDtcclxufTtcclxuXHJcbmNvbnN0IHVwZGF0ZVN0YXR1cyA9IGFzeW5jICh3aGVyZSkgPT4ge1xyXG4gIHJldHVybiAoXHJcblxyXG4gICAgYXdhaXQgZGIuU3RhZmZzLnVwZGF0ZSh7IHN0YXR1czogXCJJbmFjdGl2ZVwiIH0sIHtcclxuICAgICAgd2hlcmU6IHdoZXJlLFxyXG4gICAgfVxyXG4gICAgKVxyXG4gIClcclxufVxyXG5jb25zdCBnZXRBbGxJbnRlcnZpZXdlcnMgPSBhc3luYyAoKSA9PiB7XHJcbiAgY29uc3QgcXVlcnkgPSBcIlNFTEVDVCAqIEZST00gaHJtcy5zdGFmZnMgV0hFUkUgcm9sZSA9ICdJbnRlcnZpZXdlcicgXCI7XHJcbiAgcmV0dXJuIGF3YWl0IHNlcXVlbGl6ZS5xdWVyeShxdWVyeSwge1xyXG4gICAgdHlwZTogUXVlcnlUeXBlcy5TRUxFQ1QsXHJcbiAgfSk7XHJcbn07XHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIGZpbmRPbmUsXHJcbiAgY3JlYXRlTmV3U3RhZmYsXHJcbiAgZ2V0U3RhZmZCeUVtYWlsLFxyXG4gIGdldFN0YWZmQnlJZCxcclxuICB1cGRhdGUsXHJcbiAgc2hvd0FsbFN0YWZmLFxyXG4gIHVwZGF0ZVN0YXR1cyxcclxuICBnZXRBbGxJbnRlcnZpZXdlcnMsXHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7Ozs7O0FBQ0EsTUFBTUEsT0FBTyxHQUFHLE1BQU9DLEtBQVAsSUFBaUI7RUFBQTs7RUFDL0IsZ0NBQVEsTUFBTUMsY0FBQSxDQUFHQyxNQUFILENBQVVILE9BQVYsQ0FBa0I7SUFBRUMsS0FBSyxFQUFFQTtFQUFULENBQWxCLENBQWQsMERBQU8sc0JBQTZDRyxVQUFwRDtBQUNELENBRkQ7O0FBR0EsTUFBTUMsY0FBYyxHQUFHLE1BQU9DLElBQVAsSUFBZ0I7RUFDckMsTUFBTUMsS0FBSyxHQUFHLE1BQU1MLGNBQUEsQ0FBR0MsTUFBSCxDQUFVSyxNQUFWLENBQWlCO0lBQ25DQyxLQUFLLEVBQUVILElBQUksQ0FBQ0csS0FEdUI7SUFFbkNDLFFBQVEsRUFBRUosSUFBSSxDQUFDSSxRQUZvQjtJQUduQ0MsUUFBUSxFQUFFTCxJQUFJLENBQUNLO0VBSG9CLENBQWpCLENBQXBCO0VBS0EsT0FBT0osS0FBUCxhQUFPQSxLQUFQLHVCQUFPQSxLQUFLLENBQUVILFVBQWQ7QUFDRCxDQVBEOztBQVFBLE1BQU1RLGVBQWUsR0FBRyxNQUFPSCxLQUFQLElBQWlCO0VBQUE7O0VBQ3ZDLGlDQUNFLE1BQU1QLGNBQUEsQ0FBR0MsTUFBSCxDQUFVSCxPQUFWLENBQWtCO0lBQ3RCQyxLQUFLLEVBQUU7TUFDTFEsS0FBSyxFQUFFQTtJQURGO0VBRGUsQ0FBbEIsQ0FEUiwyREFBTyx1QkFNSkwsVUFOSDtBQU9ELENBUkQ7O0FBVUEsTUFBTVMsWUFBWSxHQUFHLE1BQU9DLE9BQVAsSUFBbUI7RUFBQTs7RUFDdEMsaUNBQ0UsTUFBTVosY0FBQSxDQUFHQyxNQUFILENBQVVILE9BQVYsQ0FBa0I7SUFDdEJDLEtBQUssRUFBRTtNQUNMYyxFQUFFLEVBQUVEO0lBREM7RUFEZSxDQUFsQixDQURSLDJEQUFPLHVCQU1KVixVQU5IO0FBT0QsQ0FSRDs7QUFTQSxNQUFNWSxNQUFNLEdBQUcsT0FBT0MsTUFBUCxFQUFlaEIsS0FBZixLQUF5QjtFQUN0QyxNQUFNQyxjQUFBLENBQUdDLE1BQUgsQ0FBVWEsTUFBVixDQUFpQkMsTUFBakIsRUFBeUI7SUFDN0JoQixLQUFLLEVBQUVBO0VBRHNCLENBQXpCLENBQU47QUFHRCxDQUpEOztBQUtBLE1BQU1pQixZQUFZLEdBQUcsWUFBWTtFQUMvQixNQUFNQyxLQUFLLEdBQUcsMkJBQWQsQ0FEK0IsQ0FFL0I7O0VBQ0EsTUFBTUMsU0FBUyxHQUFHLE1BQU1DLGdCQUFBLENBQVVGLEtBQVYsQ0FBZ0JBLEtBQWhCLEVBQXVCO0lBQzdDRyxJQUFJLEVBQUVDLHFCQUFBLENBQVdDO0VBRDRCLENBQXZCLENBQXhCO0VBR0FDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLE1BQVo7RUFDQSxPQUFPTixTQUFQO0FBQ0QsQ0FSRDs7QUFVQSxNQUFNTyxZQUFZLEdBQUcsTUFBTzFCLEtBQVAsSUFBaUI7RUFDcEMsT0FFRSxNQUFNQyxjQUFBLENBQUdDLE1BQUgsQ0FBVWEsTUFBVixDQUFpQjtJQUFFWSxNQUFNLEVBQUU7RUFBVixDQUFqQixFQUF5QztJQUM3QzNCLEtBQUssRUFBRUE7RUFEc0MsQ0FBekMsQ0FGUjtBQU9ELENBUkQ7O0FBU0EsTUFBTTRCLGtCQUFrQixHQUFHLFlBQVk7RUFDckMsTUFBTVYsS0FBSyxHQUFHLHVEQUFkO0VBQ0EsT0FBTyxNQUFNRSxnQkFBQSxDQUFVRixLQUFWLENBQWdCQSxLQUFoQixFQUF1QjtJQUNsQ0csSUFBSSxFQUFFQyxxQkFBQSxDQUFXQztFQURpQixDQUF2QixDQUFiO0FBR0QsQ0FMRDs7QUFNQU0sTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2YvQixPQURlO0VBRWZLLGNBRmU7RUFHZk8sZUFIZTtFQUlmQyxZQUplO0VBS2ZHLE1BTGU7RUFNZkUsWUFOZTtFQU9mUyxZQVBlO0VBUWZFO0FBUmUsQ0FBakIifQ==","map":{"version":3,"names":["findOne","where","db","Staffs","dataValues","createNewStaff","user","staff","create","email","fullname","password","getStaffByEmail","getStaffById","staffID","id","update","newObj","showAllStaff","query","staffList","sequelize","type","QueryTypes","SELECT","console","log","updateStatus","status","getAllInterviewers","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\repository\\","sources":["staffs.repository.js"],"sourcesContent":["import { QueryTypes } from \"sequelize\";\r\nimport db, { sequelize } from \"../models/index\";\r\nconst findOne = async (where) => {\r\n  return (await db.Staffs.findOne({ where: where }))?.dataValues;\r\n};\r\nconst createNewStaff = async (user) => {\r\n  const staff = await db.Staffs.create({\r\n    email: user.email,\r\n    fullname: user.fullname,\r\n    password: user.password,\r\n  });\r\n  return staff?.dataValues;\r\n};\r\nconst getStaffByEmail = async (email) => {\r\n  return (\r\n    await db.Staffs.findOne({\r\n      where: {\r\n        email: email,\r\n      },\r\n    })\r\n  )?.dataValues;\r\n};\r\n\r\nconst getStaffById = async (staffID) => {\r\n  return (\r\n    await db.Staffs.findOne({\r\n      where: {\r\n        id: staffID,\r\n      },\r\n    })\r\n  )?.dataValues;\r\n};\r\nconst update = async (newObj, where) => {\r\n  await db.Staffs.update(newObj, {\r\n    where: where,\r\n  });\r\n};\r\nconst showAllStaff = async () => {\r\n  const query = \"SELECT * FROM hrms.staffs\";\r\n  // staffList = await db.Staffs.findAll({ raw: true });\r\n  const staffList = await sequelize.query(query, {\r\n    type: QueryTypes.SELECT,\r\n  });\r\n  console.log(\"bbbb\");\r\n  return staffList;\r\n};\r\n\r\nconst updateStatus = async (where) => {\r\n  return (\r\n\r\n    await db.Staffs.update({ status: \"Inactive\" }, {\r\n      where: where,\r\n    }\r\n    )\r\n  )\r\n}\r\nconst getAllInterviewers = async () => {\r\n  const query = \"SELECT * FROM hrms.staffs WHERE role = 'Interviewer' \";\r\n  return await sequelize.query(query, {\r\n    type: QueryTypes.SELECT,\r\n  });\r\n};\r\nmodule.exports = {\r\n  findOne,\r\n  createNewStaff,\r\n  getStaffByEmail,\r\n  getStaffById,\r\n  update,\r\n  showAllStaff,\r\n  updateStatus,\r\n  getAllInterviewers,\r\n};\r\n"],"mappings":";;AAAA;;AACA;;;;;;AACA,MAAMA,OAAO,GAAG,MAAOC,KAAP,IAAiB;EAAA;;EAC/B,gCAAQ,MAAMC,cAAA,CAAGC,MAAH,CAAUH,OAAV,CAAkB;IAAEC,KAAK,EAAEA;EAAT,CAAlB,CAAd,0DAAO,sBAA6CG,UAApD;AACD,CAFD;;AAGA,MAAMC,cAAc,GAAG,MAAOC,IAAP,IAAgB;EACrC,MAAMC,KAAK,GAAG,MAAML,cAAA,CAAGC,MAAH,CAAUK,MAAV,CAAiB;IACnCC,KAAK,EAAEH,IAAI,CAACG,KADuB;IAEnCC,QAAQ,EAAEJ,IAAI,CAACI,QAFoB;IAGnCC,QAAQ,EAAEL,IAAI,CAACK;EAHoB,CAAjB,CAApB;EAKA,OAAOJ,KAAP,aAAOA,KAAP,uBAAOA,KAAK,CAAEH,UAAd;AACD,CAPD;;AAQA,MAAMQ,eAAe,GAAG,MAAOH,KAAP,IAAiB;EAAA;;EACvC,iCACE,MAAMP,cAAA,CAAGC,MAAH,CAAUH,OAAV,CAAkB;IACtBC,KAAK,EAAE;MACLQ,KAAK,EAAEA;IADF;EADe,CAAlB,CADR,2DAAO,uBAMJL,UANH;AAOD,CARD;;AAUA,MAAMS,YAAY,GAAG,MAAOC,OAAP,IAAmB;EAAA;;EACtC,iCACE,MAAMZ,cAAA,CAAGC,MAAH,CAAUH,OAAV,CAAkB;IACtBC,KAAK,EAAE;MACLc,EAAE,EAAED;IADC;EADe,CAAlB,CADR,2DAAO,uBAMJV,UANH;AAOD,CARD;;AASA,MAAMY,MAAM,GAAG,OAAOC,MAAP,EAAehB,KAAf,KAAyB;EACtC,MAAMC,cAAA,CAAGC,MAAH,CAAUa,MAAV,CAAiBC,MAAjB,EAAyB;IAC7BhB,KAAK,EAAEA;EADsB,CAAzB,CAAN;AAGD,CAJD;;AAKA,MAAMiB,YAAY,GAAG,YAAY;EAC/B,MAAMC,KAAK,GAAG,2BAAd,CAD+B,CAE/B;;EACA,MAAMC,SAAS,GAAG,MAAMC,gBAAA,CAAUF,KAAV,CAAgBA,KAAhB,EAAuB;IAC7CG,IAAI,EAAEC,qBAAA,CAAWC;EAD4B,CAAvB,CAAxB;EAGAC,OAAO,CAACC,GAAR,CAAY,MAAZ;EACA,OAAON,SAAP;AACD,CARD;;AAUA,MAAMO,YAAY,GAAG,MAAO1B,KAAP,IAAiB;EACpC,OAEE,MAAMC,cAAA,CAAGC,MAAH,CAAUa,MAAV,CAAiB;IAAEY,MAAM,EAAE;EAAV,CAAjB,EAAyC;IAC7C3B,KAAK,EAAEA;EADsC,CAAzC,CAFR;AAOD,CARD;;AASA,MAAM4B,kBAAkB,GAAG,YAAY;EACrC,MAAMV,KAAK,GAAG,uDAAd;EACA,OAAO,MAAME,gBAAA,CAAUF,KAAV,CAAgBA,KAAhB,EAAuB;IAClCG,IAAI,EAAEC,qBAAA,CAAWC;EADiB,CAAvB,CAAb;AAGD,CALD;;AAMAM,MAAM,CAACC,OAAP,GAAiB;EACf/B,OADe;EAEfK,cAFe;EAGfO,eAHe;EAIfC,YAJe;EAKfG,MALe;EAMfE,YANe;EAOfS,YAPe;EAQfE;AARe,CAAjB"}},"mtime":1667114895239},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\service\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\service\\\\staff.service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _httpStatus = _interopRequireDefault(require(\"http-status\"));\n\nvar _staffs = require(\"../repository/staffs.repository\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst updateStaffProfile = async req => {\n  try {\n    await (0, _staffs.update)(req.body, {\n      id: req.currentUser.id\n    });\n    const staff = await (0, _staffs.getStaffById)(req.currentUser.id);\n    return staff;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst updateStaffStatusToHidden = async (req, res) => {\n  try {\n    const id = req.params.id;\n    const staff = await (0, _staffs.getStaffById)(id);\n\n    if (!staff) {\n      throw new ApiError(_httpStatus.default.NOT_FOUND, \"Staff not found\");\n    }\n\n    await (0, _staffs.updateStatus)({\n      id: id\n    });\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  updateStaffProfile,\n  updateStaffStatusToHidden\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1cGRhdGVTdGFmZlByb2ZpbGUiLCJyZXEiLCJ1cGRhdGUiLCJib2R5IiwiaWQiLCJjdXJyZW50VXNlciIsInN0YWZmIiwiZ2V0U3RhZmZCeUlkIiwiZXJyb3IiLCJ1cGRhdGVTdGFmZlN0YXR1c1RvSGlkZGVuIiwicmVzIiwicGFyYW1zIiwiQXBpRXJyb3IiLCJodHRwU3RhdHVzIiwiTk9UX0ZPVU5EIiwidXBkYXRlU3RhdHVzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXENvZGVcXEZQVF9TdWJqZWN0XFxTV1BcXEhSTVNfQkVcXHNyY1xcc2VydmljZVxcIiwic291cmNlcyI6WyJzdGFmZi5zZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBodHRwU3RhdHVzIGZyb20gXCJodHRwLXN0YXR1c1wiO1xyXG5pbXBvcnQgeyBnZXRTdGFmZkJ5SWQsIHVwZGF0ZSwgdXBkYXRlU3RhdHVzIH0gZnJvbSBcIi4uL3JlcG9zaXRvcnkvc3RhZmZzLnJlcG9zaXRvcnlcIjtcclxuY29uc3QgdXBkYXRlU3RhZmZQcm9maWxlID0gYXN5bmMgKHJlcSkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCB1cGRhdGUocmVxLmJvZHksIHsgaWQ6IHJlcS5jdXJyZW50VXNlci5pZCB9KTtcclxuICAgIGNvbnN0IHN0YWZmID0gYXdhaXQgZ2V0U3RhZmZCeUlkKHJlcS5jdXJyZW50VXNlci5pZCk7XHJcbiAgICByZXR1cm4gc3RhZmY7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IHVwZGF0ZVN0YWZmU3RhdHVzVG9IaWRkZW4gPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgaWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgY29uc3Qgc3RhZmYgPSBhd2FpdCBnZXRTdGFmZkJ5SWQoaWQpO1xyXG4gICAgaWYgKCFzdGFmZikge1xyXG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5OT1RfRk9VTkQsIFwiU3RhZmYgbm90IGZvdW5kXCIpO1xyXG4gICAgfVxyXG4gICAgYXdhaXQgdXBkYXRlU3RhdHVzKHsgaWQ6IGlkIH0pO1xyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59XHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIHVwZGF0ZVN0YWZmUHJvZmlsZSxcclxuICB1cGRhdGVTdGFmZlN0YXR1c1RvSGlkZGVuXHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7OztBQUNBLE1BQU1BLGtCQUFrQixHQUFHLE1BQU9DLEdBQVAsSUFBZTtFQUN4QyxJQUFJO0lBQ0YsTUFBTSxJQUFBQyxjQUFBLEVBQU9ELEdBQUcsQ0FBQ0UsSUFBWCxFQUFpQjtNQUFFQyxFQUFFLEVBQUVILEdBQUcsQ0FBQ0ksV0FBSixDQUFnQkQ7SUFBdEIsQ0FBakIsQ0FBTjtJQUNBLE1BQU1FLEtBQUssR0FBRyxNQUFNLElBQUFDLG9CQUFBLEVBQWFOLEdBQUcsQ0FBQ0ksV0FBSixDQUFnQkQsRUFBN0IsQ0FBcEI7SUFDQSxPQUFPRSxLQUFQO0VBQ0QsQ0FKRCxDQUlFLE9BQU9FLEtBQVAsRUFBYztJQUNkLE1BQU1BLEtBQU47RUFDRDtBQUNGLENBUkQ7O0FBVUEsTUFBTUMseUJBQXlCLEdBQUcsT0FBT1IsR0FBUCxFQUFZUyxHQUFaLEtBQW9CO0VBQ3BELElBQUk7SUFDRixNQUFNTixFQUFFLEdBQUdILEdBQUcsQ0FBQ1UsTUFBSixDQUFXUCxFQUF0QjtJQUNBLE1BQU1FLEtBQUssR0FBRyxNQUFNLElBQUFDLG9CQUFBLEVBQWFILEVBQWIsQ0FBcEI7O0lBQ0EsSUFBSSxDQUFDRSxLQUFMLEVBQVk7TUFDVixNQUFNLElBQUlNLFFBQUosQ0FBYUMsbUJBQUEsQ0FBV0MsU0FBeEIsRUFBbUMsaUJBQW5DLENBQU47SUFDRDs7SUFDRCxNQUFNLElBQUFDLG9CQUFBLEVBQWE7TUFBRVgsRUFBRSxFQUFFQTtJQUFOLENBQWIsQ0FBTjtFQUVELENBUkQsQ0FRRSxPQUFPSSxLQUFQLEVBQWM7SUFDZCxNQUFNQSxLQUFOO0VBQ0Q7QUFDRixDQVpEOztBQWFBUSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7RUFDZmpCLGtCQURlO0VBRWZTO0FBRmUsQ0FBakIifQ==","map":{"version":3,"names":["updateStaffProfile","req","update","body","id","currentUser","staff","getStaffById","error","updateStaffStatusToHidden","res","params","ApiError","httpStatus","NOT_FOUND","updateStatus","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\service\\","sources":["staff.service.js"],"sourcesContent":["import httpStatus from \"http-status\";\r\nimport { getStaffById, update, updateStatus } from \"../repository/staffs.repository\";\r\nconst updateStaffProfile = async (req) => {\r\n  try {\r\n    await update(req.body, { id: req.currentUser.id });\r\n    const staff = await getStaffById(req.currentUser.id);\r\n    return staff;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst updateStaffStatusToHidden = async (req, res) => {\r\n  try {\r\n    const id = req.params.id;\r\n    const staff = await getStaffById(id);\r\n    if (!staff) {\r\n      throw new ApiError(httpStatus.NOT_FOUND, \"Staff not found\");\r\n    }\r\n    await updateStatus({ id: id });\r\n\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\nmodule.exports = {\r\n  updateStaffProfile,\r\n  updateStaffStatusToHidden\r\n};\r\n"],"mappings":";;AAAA;;AACA;;;;AACA,MAAMA,kBAAkB,GAAG,MAAOC,GAAP,IAAe;EACxC,IAAI;IACF,MAAM,IAAAC,cAAA,EAAOD,GAAG,CAACE,IAAX,EAAiB;MAAEC,EAAE,EAAEH,GAAG,CAACI,WAAJ,CAAgBD;IAAtB,CAAjB,CAAN;IACA,MAAME,KAAK,GAAG,MAAM,IAAAC,oBAAA,EAAaN,GAAG,CAACI,WAAJ,CAAgBD,EAA7B,CAApB;IACA,OAAOE,KAAP;EACD,CAJD,CAIE,OAAOE,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CARD;;AAUA,MAAMC,yBAAyB,GAAG,OAAOR,GAAP,EAAYS,GAAZ,KAAoB;EACpD,IAAI;IACF,MAAMN,EAAE,GAAGH,GAAG,CAACU,MAAJ,CAAWP,EAAtB;IACA,MAAME,KAAK,GAAG,MAAM,IAAAC,oBAAA,EAAaH,EAAb,CAApB;;IACA,IAAI,CAACE,KAAL,EAAY;MACV,MAAM,IAAIM,QAAJ,CAAaC,mBAAA,CAAWC,SAAxB,EAAmC,iBAAnC,CAAN;IACD;;IACD,MAAM,IAAAC,oBAAA,EAAa;MAAEX,EAAE,EAAEA;IAAN,CAAb,CAAN;EAED,CARD,CAQE,OAAOI,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CAZD;;AAaAQ,MAAM,CAACC,OAAP,GAAiB;EACfjB,kBADe;EAEfS;AAFe,CAAjB"}},"mtime":1666879904084},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\routes\\\\staffAuth.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\n\nconst staffAuthController = require(\"../controller/staffAuth.controller.js\");\n\nconst auth = require(\"../middleware/auth.middleware\");\n\nconst router = express.Router();\nrouter.post(\"/register\", staffAuthController.register);\nrouter.post(\"/login\", staffAuthController.login);\nrouter.get(\"/isauth\", auth, staffAuthController.isauth);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInN0YWZmQXV0aENvbnRyb2xsZXIiLCJhdXRoIiwicm91dGVyIiwiUm91dGVyIiwicG9zdCIsInJlZ2lzdGVyIiwibG9naW4iLCJnZXQiLCJpc2F1dGgiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcQ29kZVxcRlBUX1N1YmplY3RcXFNXUFxcSFJNU19CRVxcc3JjXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsic3RhZmZBdXRoLnJvdXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcclxuY29uc3Qgc3RhZmZBdXRoQ29udHJvbGxlciA9IHJlcXVpcmUoXCIuLi9jb250cm9sbGVyL3N0YWZmQXV0aC5jb250cm9sbGVyLmpzXCIpO1xyXG5jb25zdCBhdXRoID0gcmVxdWlyZShcIi4uL21pZGRsZXdhcmUvYXV0aC5taWRkbGV3YXJlXCIpO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgc3RhZmZBdXRoQ29udHJvbGxlci5yZWdpc3Rlcik7XHJcbnJvdXRlci5wb3N0KFwiL2xvZ2luXCIsIHN0YWZmQXV0aENvbnRyb2xsZXIubG9naW4pO1xyXG5yb3V0ZXIuZ2V0KFwiL2lzYXV0aFwiLCBhdXRoLCBzdGFmZkF1dGhDb250cm9sbGVyLmlzYXV0aCk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsTUFBTUMsbUJBQW1CLEdBQUdELE9BQU8sQ0FBQyx1Q0FBRCxDQUFuQzs7QUFDQSxNQUFNRSxJQUFJLEdBQUdGLE9BQU8sQ0FBQywrQkFBRCxDQUFwQjs7QUFDQSxNQUFNRyxNQUFNLEdBQUdKLE9BQU8sQ0FBQ0ssTUFBUixFQUFmO0FBRUFELE1BQU0sQ0FBQ0UsSUFBUCxDQUFZLFdBQVosRUFBeUJKLG1CQUFtQixDQUFDSyxRQUE3QztBQUNBSCxNQUFNLENBQUNFLElBQVAsQ0FBWSxRQUFaLEVBQXNCSixtQkFBbUIsQ0FBQ00sS0FBMUM7QUFDQUosTUFBTSxDQUFDSyxHQUFQLENBQVcsU0FBWCxFQUFzQk4sSUFBdEIsRUFBNEJELG1CQUFtQixDQUFDUSxNQUFoRDtBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJSLE1BQWpCIn0=","map":{"version":3,"names":["express","require","staffAuthController","auth","router","Router","post","register","login","get","isauth","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\routes\\","sources":["staffAuth.route.js"],"sourcesContent":["const express = require(\"express\");\r\nconst staffAuthController = require(\"../controller/staffAuth.controller.js\");\r\nconst auth = require(\"../middleware/auth.middleware\");\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/register\", staffAuthController.register);\r\nrouter.post(\"/login\", staffAuthController.login);\r\nrouter.get(\"/isauth\", auth, staffAuthController.isauth);\r\n\r\nmodule.exports = router;\r\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,mBAAmB,GAAGD,OAAO,CAAC,uCAAD,CAAnC;;AACA,MAAME,IAAI,GAAGF,OAAO,CAAC,+BAAD,CAApB;;AACA,MAAMG,MAAM,GAAGJ,OAAO,CAACK,MAAR,EAAf;AAEAD,MAAM,CAACE,IAAP,CAAY,WAAZ,EAAyBJ,mBAAmB,CAACK,QAA7C;AACAH,MAAM,CAACE,IAAP,CAAY,QAAZ,EAAsBJ,mBAAmB,CAACM,KAA1C;AACAJ,MAAM,CAACK,GAAP,CAAW,SAAX,EAAsBN,IAAtB,EAA4BD,mBAAmB,CAACQ,MAAhD;AAEAC,MAAM,CAACC,OAAP,GAAiBR,MAAjB"}},"mtime":1666281006487},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\controller\\\\staffAuth.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _staffAuth = require(\"../service/staffAuth.service\");\n\nconst staffAuth = {\n  async register(req, res, next) {\n    try {\n      res.header(\"Access-Control-Allow-Headers\", \"*\");\n      res.header(\"Access-Control-Allow-Credentials\", true);\n      res.header(\"Access-Control-Allow-Methods\", \"GET,PUT,POST,DELETE\");\n      const staff = await (0, _staffAuth.createStaff)(req, res);\n      const token = await (0, _staffAuth.genAuthToken)(staff);\n      res.cookie(\"x-access-token\", token).status(200).send({\n        staff,\n        token\n      });\n      console.log(staff);\n    } catch (error) {\n      console.log(error);\n      next(error);\n    }\n  },\n\n  async login(req, res, next) {\n    try {\n      const {\n        email,\n        password\n      } = req.body;\n      const staff = await (0, _staffAuth.signInWithEmailPassword)(email, password);\n      const token = await (0, _staffAuth.genAuthToken)(staff);\n      res.cookie(\"x-access-token\", token).send({\n        staff,\n        token\n      });\n      console.log(staff);\n    } catch (error) {\n      next(error); // res.send({ error: error.statusCode, message: error.message });\n    }\n  },\n\n  async isauth(req, res, next) {\n    return res.json(req.currentUser);\n  }\n\n};\nmodule.exports = staffAuth;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzdGFmZkF1dGgiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsIm5leHQiLCJoZWFkZXIiLCJzdGFmZiIsImNyZWF0ZVN0YWZmIiwidG9rZW4iLCJnZW5BdXRoVG9rZW4iLCJjb29raWUiLCJzdGF0dXMiLCJzZW5kIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwibG9naW4iLCJlbWFpbCIsInBhc3N3b3JkIiwiYm9keSIsInNpZ25JbldpdGhFbWFpbFBhc3N3b3JkIiwiaXNhdXRoIiwianNvbiIsImN1cnJlbnRVc2VyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXENvZGVcXEZQVF9TdWJqZWN0XFxTV1BcXEhSTVNfQkVcXHNyY1xcY29udHJvbGxlclxcIiwic291cmNlcyI6WyJzdGFmZkF1dGguY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gIGNyZWF0ZVN0YWZmLFxyXG4gIGdlbkF1dGhUb2tlbixcclxuICBzaWduSW5XaXRoRW1haWxQYXNzd29yZCxcclxufSBmcm9tIFwiLi4vc2VydmljZS9zdGFmZkF1dGguc2VydmljZVwiO1xyXG5jb25zdCBzdGFmZkF1dGggPSB7XHJcbiAgYXN5bmMgcmVnaXN0ZXIocmVxLCByZXMsIG5leHQpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHJlcy5oZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzXCIsIFwiKlwiKTtcclxuICAgICAgcmVzLmhlYWRlcihcIkFjY2Vzcy1Db250cm9sLUFsbG93LUNyZWRlbnRpYWxzXCIsIHRydWUpO1xyXG4gICAgICByZXMuaGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kc1wiLCBcIkdFVCxQVVQsUE9TVCxERUxFVEVcIik7XHJcbiAgICAgIGNvbnN0IHN0YWZmID0gYXdhaXQgY3JlYXRlU3RhZmYocmVxLCByZXMpO1xyXG4gICAgICBjb25zdCB0b2tlbiA9IGF3YWl0IGdlbkF1dGhUb2tlbihzdGFmZik7XHJcblxyXG4gICAgICByZXMuY29va2llKFwieC1hY2Nlc3MtdG9rZW5cIiwgdG9rZW4pLnN0YXR1cygyMDApLnNlbmQoe1xyXG4gICAgICAgIHN0YWZmLFxyXG4gICAgICAgIHRva2VuLFxyXG4gICAgICB9KTtcclxuICAgICAgY29uc29sZS5sb2coc3RhZmYpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICBuZXh0KGVycm9yKTtcclxuICAgIH1cclxuICB9LFxyXG4gIGFzeW5jIGxvZ2luKHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XHJcbiAgICAgIGNvbnN0IHN0YWZmID0gYXdhaXQgc2lnbkluV2l0aEVtYWlsUGFzc3dvcmQoZW1haWwsIHBhc3N3b3JkKTtcclxuICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBnZW5BdXRoVG9rZW4oc3RhZmYpO1xyXG4gICAgICByZXMuY29va2llKFwieC1hY2Nlc3MtdG9rZW5cIiwgdG9rZW4pLnNlbmQoe1xyXG4gICAgICAgIHN0YWZmLFxyXG4gICAgICAgIHRva2VuLFxyXG4gICAgICB9KTtcclxuICAgICAgY29uc29sZS5sb2coc3RhZmYpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgbmV4dChlcnJvcik7XHJcbiAgICAgIC8vIHJlcy5zZW5kKHsgZXJyb3I6IGVycm9yLnN0YXR1c0NvZGUsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBhc3luYyBpc2F1dGgocmVxLCByZXMsIG5leHQpIHtcclxuICAgIHJldHVybiByZXMuanNvbihyZXEuY3VycmVudFVzZXIpO1xyXG4gIH0sXHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHN0YWZmQXV0aDtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUtBLE1BQU1BLFNBQVMsR0FBRztFQUNoQixNQUFNQyxRQUFOLENBQWVDLEdBQWYsRUFBb0JDLEdBQXBCLEVBQXlCQyxJQUF6QixFQUErQjtJQUM3QixJQUFJO01BQ0ZELEdBQUcsQ0FBQ0UsTUFBSixDQUFXLDhCQUFYLEVBQTJDLEdBQTNDO01BQ0FGLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLGtDQUFYLEVBQStDLElBQS9DO01BQ0FGLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLDhCQUFYLEVBQTJDLHFCQUEzQztNQUNBLE1BQU1DLEtBQUssR0FBRyxNQUFNLElBQUFDLHNCQUFBLEVBQVlMLEdBQVosRUFBaUJDLEdBQWpCLENBQXBCO01BQ0EsTUFBTUssS0FBSyxHQUFHLE1BQU0sSUFBQUMsdUJBQUEsRUFBYUgsS0FBYixDQUFwQjtNQUVBSCxHQUFHLENBQUNPLE1BQUosQ0FBVyxnQkFBWCxFQUE2QkYsS0FBN0IsRUFBb0NHLE1BQXBDLENBQTJDLEdBQTNDLEVBQWdEQyxJQUFoRCxDQUFxRDtRQUNuRE4sS0FEbUQ7UUFFbkRFO01BRm1ELENBQXJEO01BSUFLLE9BQU8sQ0FBQ0MsR0FBUixDQUFZUixLQUFaO0lBQ0QsQ0FaRCxDQVlFLE9BQU9TLEtBQVAsRUFBYztNQUNkRixPQUFPLENBQUNDLEdBQVIsQ0FBWUMsS0FBWjtNQUNBWCxJQUFJLENBQUNXLEtBQUQsQ0FBSjtJQUNEO0VBQ0YsQ0FsQmU7O0VBbUJoQixNQUFNQyxLQUFOLENBQVlkLEdBQVosRUFBaUJDLEdBQWpCLEVBQXNCQyxJQUF0QixFQUE0QjtJQUMxQixJQUFJO01BQ0YsTUFBTTtRQUFFYSxLQUFGO1FBQVNDO01BQVQsSUFBc0JoQixHQUFHLENBQUNpQixJQUFoQztNQUNBLE1BQU1iLEtBQUssR0FBRyxNQUFNLElBQUFjLGtDQUFBLEVBQXdCSCxLQUF4QixFQUErQkMsUUFBL0IsQ0FBcEI7TUFDQSxNQUFNVixLQUFLLEdBQUcsTUFBTSxJQUFBQyx1QkFBQSxFQUFhSCxLQUFiLENBQXBCO01BQ0FILEdBQUcsQ0FBQ08sTUFBSixDQUFXLGdCQUFYLEVBQTZCRixLQUE3QixFQUFvQ0ksSUFBcEMsQ0FBeUM7UUFDdkNOLEtBRHVDO1FBRXZDRTtNQUZ1QyxDQUF6QztNQUlBSyxPQUFPLENBQUNDLEdBQVIsQ0FBWVIsS0FBWjtJQUNELENBVEQsQ0FTRSxPQUFPUyxLQUFQLEVBQWM7TUFDZFgsSUFBSSxDQUFDVyxLQUFELENBQUosQ0FEYyxDQUVkO0lBQ0Q7RUFDRixDQWpDZTs7RUFrQ2hCLE1BQU1NLE1BQU4sQ0FBYW5CLEdBQWIsRUFBa0JDLEdBQWxCLEVBQXVCQyxJQUF2QixFQUE2QjtJQUMzQixPQUFPRCxHQUFHLENBQUNtQixJQUFKLENBQVNwQixHQUFHLENBQUNxQixXQUFiLENBQVA7RUFDRDs7QUFwQ2UsQ0FBbEI7QUF1Q0FDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnpCLFNBQWpCIn0=","map":{"version":3,"names":["staffAuth","register","req","res","next","header","staff","createStaff","token","genAuthToken","cookie","status","send","console","log","error","login","email","password","body","signInWithEmailPassword","isauth","json","currentUser","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\controller\\","sources":["staffAuth.controller.js"],"sourcesContent":["import {\r\n  createStaff,\r\n  genAuthToken,\r\n  signInWithEmailPassword,\r\n} from \"../service/staffAuth.service\";\r\nconst staffAuth = {\r\n  async register(req, res, next) {\r\n    try {\r\n      res.header(\"Access-Control-Allow-Headers\", \"*\");\r\n      res.header(\"Access-Control-Allow-Credentials\", true);\r\n      res.header(\"Access-Control-Allow-Methods\", \"GET,PUT,POST,DELETE\");\r\n      const staff = await createStaff(req, res);\r\n      const token = await genAuthToken(staff);\r\n\r\n      res.cookie(\"x-access-token\", token).status(200).send({\r\n        staff,\r\n        token,\r\n      });\r\n      console.log(staff);\r\n    } catch (error) {\r\n      console.log(error);\r\n      next(error);\r\n    }\r\n  },\r\n  async login(req, res, next) {\r\n    try {\r\n      const { email, password } = req.body;\r\n      const staff = await signInWithEmailPassword(email, password);\r\n      const token = await genAuthToken(staff);\r\n      res.cookie(\"x-access-token\", token).send({\r\n        staff,\r\n        token,\r\n      });\r\n      console.log(staff);\r\n    } catch (error) {\r\n      next(error);\r\n      // res.send({ error: error.statusCode, message: error.message });\r\n    }\r\n  },\r\n  async isauth(req, res, next) {\r\n    return res.json(req.currentUser);\r\n  },\r\n};\r\n\r\nmodule.exports = staffAuth;\r\n"],"mappings":";;AAAA;;AAKA,MAAMA,SAAS,GAAG;EAChB,MAAMC,QAAN,CAAeC,GAAf,EAAoBC,GAApB,EAAyBC,IAAzB,EAA+B;IAC7B,IAAI;MACFD,GAAG,CAACE,MAAJ,CAAW,8BAAX,EAA2C,GAA3C;MACAF,GAAG,CAACE,MAAJ,CAAW,kCAAX,EAA+C,IAA/C;MACAF,GAAG,CAACE,MAAJ,CAAW,8BAAX,EAA2C,qBAA3C;MACA,MAAMC,KAAK,GAAG,MAAM,IAAAC,sBAAA,EAAYL,GAAZ,EAAiBC,GAAjB,CAApB;MACA,MAAMK,KAAK,GAAG,MAAM,IAAAC,uBAAA,EAAaH,KAAb,CAApB;MAEAH,GAAG,CAACO,MAAJ,CAAW,gBAAX,EAA6BF,KAA7B,EAAoCG,MAApC,CAA2C,GAA3C,EAAgDC,IAAhD,CAAqD;QACnDN,KADmD;QAEnDE;MAFmD,CAArD;MAIAK,OAAO,CAACC,GAAR,CAAYR,KAAZ;IACD,CAZD,CAYE,OAAOS,KAAP,EAAc;MACdF,OAAO,CAACC,GAAR,CAAYC,KAAZ;MACAX,IAAI,CAACW,KAAD,CAAJ;IACD;EACF,CAlBe;;EAmBhB,MAAMC,KAAN,CAAYd,GAAZ,EAAiBC,GAAjB,EAAsBC,IAAtB,EAA4B;IAC1B,IAAI;MACF,MAAM;QAAEa,KAAF;QAASC;MAAT,IAAsBhB,GAAG,CAACiB,IAAhC;MACA,MAAMb,KAAK,GAAG,MAAM,IAAAc,kCAAA,EAAwBH,KAAxB,EAA+BC,QAA/B,CAApB;MACA,MAAMV,KAAK,GAAG,MAAM,IAAAC,uBAAA,EAAaH,KAAb,CAApB;MACAH,GAAG,CAACO,MAAJ,CAAW,gBAAX,EAA6BF,KAA7B,EAAoCI,IAApC,CAAyC;QACvCN,KADuC;QAEvCE;MAFuC,CAAzC;MAIAK,OAAO,CAACC,GAAR,CAAYR,KAAZ;IACD,CATD,CASE,OAAOS,KAAP,EAAc;MACdX,IAAI,CAACW,KAAD,CAAJ,CADc,CAEd;IACD;EACF,CAjCe;;EAkChB,MAAMM,MAAN,CAAanB,GAAb,EAAkBC,GAAlB,EAAuBC,IAAvB,EAA6B;IAC3B,OAAOD,GAAG,CAACmB,IAAJ,CAASpB,GAAG,CAACqB,WAAb,CAAP;EACD;;AApCe,CAAlB;AAuCAC,MAAM,CAACC,OAAP,GAAiBzB,SAAjB"}},"mtime":1666771520276},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\service\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\service\\\\staffAuth.service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _staffs = require(\"../repository/staffs.repository\");\n\nrequire(\"dotenv\").config();\n\nconst bcrypt = require(\"bcrypt\");\n\nconst jwt = require(\"jsonwebtoken\");\n\nconst httpStatus = require(\"http-status\");\n\nconst {\n  ApiError\n} = require(\"../middleware/apiError\");\n\nconst hashPassword = async password => {\n  const salt = await bcrypt.genSalt(10);\n  const hashedPass = await bcrypt.hash(password, salt);\n  return hashedPass;\n};\n\nconst createStaff = async (req, res) => {\n  try {\n    const staff = req.body;\n    const staffExisted = await (0, _staffs.getStaffByEmail)(staff.email);\n\n    if (staffExisted) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Email already taken\");\n    }\n\n    const hashPass = await hashPassword(staff.password);\n    const newStaff = await (0, _staffs.createNewStaff)({\n      email: staff.email,\n      fullname: staff.fullname,\n      password: hashPass,\n      avatar: null\n    });\n    console.log(newStaff);\n\n    if (!newStaff) {\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Register fail\");\n    }\n\n    return newStaff;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst genAuthToken = async user => {\n  const userObj = {\n    sub: user.id,\n    email: user.email,\n    id: user.id\n  };\n  const token = jwt.sign(userObj, process.env.ACCESS_TOKEN_SECRET, {\n    expiresIn: \"1d\"\n  });\n  return token;\n};\n\nconst comparePassword = async (candidatePassword, hashPassword) => {\n  // candidate password = hash password\n  const match = await bcrypt.compare(candidatePassword, hashPassword);\n  return match;\n};\n\nconst signInWithEmailPassword = async (email, password) => {\n  try {\n    // check email\n    const staff = await (0, _staffs.getStaffByEmail)(email);\n\n    if (!staff) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"Sorry Bad Email\");\n    }\n\n    if (!(await comparePassword(password, staff.password))) {\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"Tài khoản hoặc mật khẩu không chính xác\");\n    }\n\n    return staff;\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  createStaff,\n  genAuthToken,\n  signInWithEmailPassword\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiYmNyeXB0Iiwiand0IiwiaHR0cFN0YXR1cyIsIkFwaUVycm9yIiwiaGFzaFBhc3N3b3JkIiwicGFzc3dvcmQiLCJzYWx0IiwiZ2VuU2FsdCIsImhhc2hlZFBhc3MiLCJoYXNoIiwiY3JlYXRlU3RhZmYiLCJyZXEiLCJyZXMiLCJzdGFmZiIsImJvZHkiLCJzdGFmZkV4aXN0ZWQiLCJnZXRTdGFmZkJ5RW1haWwiLCJlbWFpbCIsIkJBRF9SRVFVRVNUIiwiaGFzaFBhc3MiLCJuZXdTdGFmZiIsImNyZWF0ZU5ld1N0YWZmIiwiZnVsbG5hbWUiLCJhdmF0YXIiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJnZW5BdXRoVG9rZW4iLCJ1c2VyIiwidXNlck9iaiIsInN1YiIsImlkIiwidG9rZW4iLCJzaWduIiwicHJvY2VzcyIsImVudiIsIkFDQ0VTU19UT0tFTl9TRUNSRVQiLCJleHBpcmVzSW4iLCJjb21wYXJlUGFzc3dvcmQiLCJjYW5kaWRhdGVQYXNzd29yZCIsIm1hdGNoIiwiY29tcGFyZSIsInNpZ25JbldpdGhFbWFpbFBhc3N3b3JkIiwiVU5BVVRIT1JJWkVEIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXENvZGVcXEZQVF9TdWJqZWN0XFxTV1BcXEhSTVNfQkVcXHNyY1xcc2VydmljZVxcIiwic291cmNlcyI6WyJzdGFmZkF1dGguc2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xyXG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKFwiYmNyeXB0XCIpO1xyXG5jb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xyXG5jb25zdCBodHRwU3RhdHVzID0gcmVxdWlyZShcImh0dHAtc3RhdHVzXCIpO1xyXG5cclxuY29uc3QgeyBBcGlFcnJvciB9ID0gcmVxdWlyZShcIi4uL21pZGRsZXdhcmUvYXBpRXJyb3JcIik7XHJcbmltcG9ydCB7XHJcbiAgZ2V0U3RhZmZCeUVtYWlsLFxyXG4gIGNyZWF0ZU5ld1N0YWZmLFxyXG59IGZyb20gXCIuLi9yZXBvc2l0b3J5L3N0YWZmcy5yZXBvc2l0b3J5XCI7XHJcblxyXG5jb25zdCBoYXNoUGFzc3dvcmQgPSBhc3luYyAocGFzc3dvcmQpID0+IHtcclxuICBjb25zdCBzYWx0ID0gYXdhaXQgYmNyeXB0LmdlblNhbHQoMTApO1xyXG4gIGNvbnN0IGhhc2hlZFBhc3MgPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgc2FsdCk7XHJcbiAgcmV0dXJuIGhhc2hlZFBhc3M7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVTdGFmZiA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzdGFmZiA9IHJlcS5ib2R5O1xyXG4gICAgY29uc3Qgc3RhZmZFeGlzdGVkID0gYXdhaXQgZ2V0U3RhZmZCeUVtYWlsKHN0YWZmLmVtYWlsKTtcclxuICAgIGlmIChzdGFmZkV4aXN0ZWQpIHtcclxuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKGh0dHBTdGF0dXMuQkFEX1JFUVVFU1QsIFwiRW1haWwgYWxyZWFkeSB0YWtlblwiKTtcclxuICAgIH1cclxuICAgIGNvbnN0IGhhc2hQYXNzID0gYXdhaXQgaGFzaFBhc3N3b3JkKHN0YWZmLnBhc3N3b3JkKTtcclxuICAgIGNvbnN0IG5ld1N0YWZmID0gYXdhaXQgY3JlYXRlTmV3U3RhZmYoe1xyXG4gICAgICBlbWFpbDogc3RhZmYuZW1haWwsXHJcbiAgICAgIGZ1bGxuYW1lOiBzdGFmZi5mdWxsbmFtZSxcclxuICAgICAgcGFzc3dvcmQ6IGhhc2hQYXNzLFxyXG4gICAgICBhdmF0YXI6IG51bGwsXHJcbiAgICB9KTtcclxuICAgIGNvbnNvbGUubG9nKG5ld1N0YWZmKTtcclxuICAgIGlmICghbmV3U3RhZmYpIHtcclxuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKGh0dHBTdGF0dXMuQkFEX1JFUVVFU1QsIFwiUmVnaXN0ZXIgZmFpbFwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXdTdGFmZjtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59O1xyXG5jb25zdCBnZW5BdXRoVG9rZW4gPSBhc3luYyAodXNlcikgPT4ge1xyXG4gIGNvbnN0IHVzZXJPYmogPSB7XHJcbiAgICBzdWI6IHVzZXIuaWQsXHJcbiAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgIGlkOiB1c2VyLmlkLFxyXG4gIH07XHJcbiAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih1c2VyT2JqLCBwcm9jZXNzLmVudi5BQ0NFU1NfVE9LRU5fU0VDUkVULCB7XHJcbiAgICBleHBpcmVzSW46IFwiMWRcIixcclxuICB9KTtcclxuICByZXR1cm4gdG9rZW47XHJcbn07XHJcbmNvbnN0IGNvbXBhcmVQYXNzd29yZCA9IGFzeW5jIChjYW5kaWRhdGVQYXNzd29yZCwgaGFzaFBhc3N3b3JkKSA9PiB7XHJcbiAgLy8gY2FuZGlkYXRlIHBhc3N3b3JkID0gaGFzaCBwYXNzd29yZFxyXG5cclxuICBjb25zdCBtYXRjaCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKGNhbmRpZGF0ZVBhc3N3b3JkLCBoYXNoUGFzc3dvcmQpO1xyXG4gIHJldHVybiBtYXRjaDtcclxufTtcclxuY29uc3Qgc2lnbkluV2l0aEVtYWlsUGFzc3dvcmQgPSBhc3luYyAoZW1haWwsIHBhc3N3b3JkKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIGNoZWNrIGVtYWlsXHJcbiAgICBjb25zdCBzdGFmZiA9IGF3YWl0IGdldFN0YWZmQnlFbWFpbChlbWFpbCk7XHJcbiAgICBpZiAoIXN0YWZmKSB7XHJcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLlVOQVVUSE9SSVpFRCwgXCJTb3JyeSBCYWQgRW1haWxcIik7XHJcbiAgICB9XHJcbiAgICBpZiAoIShhd2FpdCBjb21wYXJlUGFzc3dvcmQocGFzc3dvcmQsIHN0YWZmLnBhc3N3b3JkKSkpIHtcclxuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKFxyXG4gICAgICAgIGh0dHBTdGF0dXMuVU5BVVRIT1JJWkVELFxyXG4gICAgICAgIFwiVMOgaSBraG/huqNuIGhv4bq3YyBt4bqtdCBraOG6qXUga2jDtG5nIGNow61uaCB4w6FjXCJcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIHJldHVybiBzdGFmZjtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgY3JlYXRlU3RhZmYsXHJcbiAgZ2VuQXV0aFRva2VuLFxyXG4gIHNpZ25JbldpdGhFbWFpbFBhc3N3b3JkLFxyXG59O1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBTUE7O0FBTkFBLE9BQU8sQ0FBQyxRQUFELENBQVAsQ0FBa0JDLE1BQWxCOztBQUNBLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDLFFBQUQsQ0FBdEI7O0FBQ0EsTUFBTUcsR0FBRyxHQUFHSCxPQUFPLENBQUMsY0FBRCxDQUFuQjs7QUFDQSxNQUFNSSxVQUFVLEdBQUdKLE9BQU8sQ0FBQyxhQUFELENBQTFCOztBQUVBLE1BQU07RUFBRUs7QUFBRixJQUFlTCxPQUFPLENBQUMsd0JBQUQsQ0FBNUI7O0FBTUEsTUFBTU0sWUFBWSxHQUFHLE1BQU9DLFFBQVAsSUFBb0I7RUFDdkMsTUFBTUMsSUFBSSxHQUFHLE1BQU1OLE1BQU0sQ0FBQ08sT0FBUCxDQUFlLEVBQWYsQ0FBbkI7RUFDQSxNQUFNQyxVQUFVLEdBQUcsTUFBTVIsTUFBTSxDQUFDUyxJQUFQLENBQVlKLFFBQVosRUFBc0JDLElBQXRCLENBQXpCO0VBQ0EsT0FBT0UsVUFBUDtBQUNELENBSkQ7O0FBTUEsTUFBTUUsV0FBVyxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtFQUN0QyxJQUFJO0lBQ0YsTUFBTUMsS0FBSyxHQUFHRixHQUFHLENBQUNHLElBQWxCO0lBQ0EsTUFBTUMsWUFBWSxHQUFHLE1B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","map":{"version":3,"names":["require","config","bcrypt","jwt","httpStatus","ApiError","hashPassword","password","salt","genSalt","hashedPass","hash","createStaff","req","res","staff","body","staffExisted","getStaffByEmail","email","BAD_REQUEST","hashPass","newStaff","createNewStaff","fullname","avatar","console","log","error","genAuthToken","user","userObj","sub","id","token","sign","process","env","ACCESS_TOKEN_SECRET","expiresIn","comparePassword","candidatePassword","match","compare","signInWithEmailPassword","UNAUTHORIZED","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\service\\","sources":["staffAuth.service.js"],"sourcesContent":["require(\"dotenv\").config();\r\nconst bcrypt = require(\"bcrypt\");\r\nconst jwt = require(\"jsonwebtoken\");\r\nconst httpStatus = require(\"http-status\");\r\n\r\nconst { ApiError } = require(\"../middleware/apiError\");\r\nimport {\r\n  getStaffByEmail,\r\n  createNewStaff,\r\n} from \"../repository/staffs.repository\";\r\n\r\nconst hashPassword = async (password) => {\r\n  const salt = await bcrypt.genSalt(10);\r\n  const hashedPass = await bcrypt.hash(password, salt);\r\n  return hashedPass;\r\n};\r\n\r\nconst createStaff = async (req, res) => {\r\n  try {\r\n    const staff = req.body;\r\n    const staffExisted = await getStaffByEmail(staff.email);\r\n    if (staffExisted) {\r\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Email already taken\");\r\n    }\r\n    const hashPass = await hashPassword(staff.password);\r\n    const newStaff = await createNewStaff({\r\n      email: staff.email,\r\n      fullname: staff.fullname,\r\n      password: hashPass,\r\n      avatar: null,\r\n    });\r\n    console.log(newStaff);\r\n    if (!newStaff) {\r\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Register fail\");\r\n    }\r\n    return newStaff;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\nconst genAuthToken = async (user) => {\r\n  const userObj = {\r\n    sub: user.id,\r\n    email: user.email,\r\n    id: user.id,\r\n  };\r\n  const token = jwt.sign(userObj, process.env.ACCESS_TOKEN_SECRET, {\r\n    expiresIn: \"1d\",\r\n  });\r\n  return token;\r\n};\r\nconst comparePassword = async (candidatePassword, hashPassword) => {\r\n  // candidate password = hash password\r\n\r\n  const match = await bcrypt.compare(candidatePassword, hashPassword);\r\n  return match;\r\n};\r\nconst signInWithEmailPassword = async (email, password) => {\r\n  try {\r\n    // check email\r\n    const staff = await getStaffByEmail(email);\r\n    if (!staff) {\r\n      throw new ApiError(httpStatus.UNAUTHORIZED, \"Sorry Bad Email\");\r\n    }\r\n    if (!(await comparePassword(password, staff.password))) {\r\n      throw new ApiError(\r\n        httpStatus.UNAUTHORIZED,\r\n        \"Tài khoản hoặc mật khẩu không chính xác\"\r\n      );\r\n    }\r\n    return staff;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nmodule.exports = {\r\n  createStaff,\r\n  genAuthToken,\r\n  signInWithEmailPassword,\r\n};\r\n"],"mappings":"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"}},"mtime":1666281006567},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\routes\\\\categories.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _categoryController = require(\"../controller/category.controller.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.get(\"/\", _categoryController.handleGetAllCategory);\nrouter.post(\"/add\", _categoryController.handleCreateNewCategory);\nrouter.patch(\"/update\", _categoryController.handleUpdateCategory);\nrouter.patch(\"/delete/:id\", _categoryController.handleDeleteCategory);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwiaGFuZGxlR2V0QWxsQ2F0ZWdvcnkiLCJwb3N0IiwiaGFuZGxlQ3JlYXRlTmV3Q2F0ZWdvcnkiLCJwYXRjaCIsImhhbmRsZVVwZGF0ZUNhdGVnb3J5IiwiaGFuZGxlRGVsZXRlQ2F0ZWdvcnkiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcQ29kZVxcRlBUX1N1YmplY3RcXFNXUFxcSFJNU19CRVxcc3JjXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsiY2F0ZWdvcmllcy5yb3V0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQge1xyXG4gIGhhbmRsZUNyZWF0ZU5ld0NhdGVnb3J5LFxyXG4gIGhhbmRsZUdldEFsbENhdGVnb3J5LFxyXG4gIGhhbmRsZVVwZGF0ZUNhdGVnb3J5LFxyXG4gIGhhbmRsZURlbGV0ZUNhdGVnb3J5LFxyXG59IGZyb20gXCIuLi9jb250cm9sbGVyL2NhdGVnb3J5LmNvbnRyb2xsZXIuanNcIjtcclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvXCIsIGhhbmRsZUdldEFsbENhdGVnb3J5KTtcclxucm91dGVyLnBvc3QoXCIvYWRkXCIsIGhhbmRsZUNyZWF0ZU5ld0NhdGVnb3J5KTtcclxucm91dGVyLnBhdGNoKFwiL3VwZGF0ZVwiLCBoYW5kbGVVcGRhdGVDYXRlZ29yeSk7XHJcbnJvdXRlci5wYXRjaChcIi9kZWxldGUvOmlkXCIsIGhhbmRsZURlbGV0ZUNhdGVnb3J5KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7Ozs7QUFNQSxNQUFNQSxNQUFNLEdBQUdDLGdCQUFBLENBQVFDLE1BQVIsRUFBZjs7QUFFQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsR0FBWCxFQUFnQkMsd0NBQWhCO0FBQ0FKLE1BQU0sQ0FBQ0ssSUFBUCxDQUFZLE1BQVosRUFBb0JDLDJDQUFwQjtBQUNBTixNQUFNLENBQUNPLEtBQVAsQ0FBYSxTQUFiLEVBQXdCQyx3Q0FBeEI7QUFDQVIsTUFBTSxDQUFDTyxLQUFQLENBQWEsYUFBYixFQUE0QkUsd0NBQTVCO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlgsTUFBakIifQ==","map":{"version":3,"names":["router","express","Router","get","handleGetAllCategory","post","handleCreateNewCategory","patch","handleUpdateCategory","handleDeleteCategory","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\routes\\","sources":["categories.route.js"],"sourcesContent":["import express from \"express\";\r\nimport {\r\n  handleCreateNewCategory,\r\n  handleGetAllCategory,\r\n  handleUpdateCategory,\r\n  handleDeleteCategory,\r\n} from \"../controller/category.controller.js\";\r\nconst router = express.Router();\r\n\r\nrouter.get(\"/\", handleGetAllCategory);\r\nrouter.post(\"/add\", handleCreateNewCategory);\r\nrouter.patch(\"/update\", handleUpdateCategory);\r\nrouter.patch(\"/delete/:id\", handleDeleteCategory);\r\n\r\nmodule.exports = router;\r\n"],"mappings":";;AAAA;;AACA;;;;AAMA,MAAMA,MAAM,GAAGC,gBAAA,CAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgBC,wCAAhB;AACAJ,MAAM,CAACK,IAAP,CAAY,MAAZ,EAAoBC,2CAApB;AACAN,MAAM,CAACO,KAAP,CAAa,SAAb,EAAwBC,wCAAxB;AACAR,MAAM,CAACO,KAAP,CAAa,aAAb,EAA4BE,wCAA5B;AAEAC,MAAM,CAACC,OAAP,GAAiBX,MAAjB"}},"mtime":1666281032510},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\controller\\\\category.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst categoryService = require(\"../service/categoryService.js\");\n\nconst handleGetAllCategory = async (req, res) => {\n  let categories = await categoryService.getAllCategory();\n  return res.json({\n    categories\n  });\n};\n\nconst handleCreateNewCategory = async (req, res, next) => {\n  try {\n    let message = await categoryService.createNewCategory(req.body);\n    return res.json(message);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleUpdateCategory = async (req, res, next) => {\n  try {\n    let data = req.body;\n    let category = await categoryService.updateCategory(data);\n    return res.json(category);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleDeleteCategory = async (req, res) => {\n  if (!req.params.id) {\n    return res.json({\n      errCode: 1,\n      errMsg: \"Missing category id\"\n    });\n  }\n\n  let message = await categoryService.deleteCategory(req.params.id);\n  return res.json(message);\n};\n\nmodule.exports = {\n  handleGetAllCategory,\n  handleCreateNewCategory,\n  handleUpdateCategory,\n  handleDeleteCategory\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXRlZ29yeVNlcnZpY2UiLCJyZXF1aXJlIiwiaGFuZGxlR2V0QWxsQ2F0ZWdvcnkiLCJyZXEiLCJyZXMiLCJjYXRlZ29yaWVzIiwiZ2V0QWxsQ2F0ZWdvcnkiLCJqc29uIiwiaGFuZGxlQ3JlYXRlTmV3Q2F0ZWdvcnkiLCJuZXh0IiwibWVzc2FnZSIsImNyZWF0ZU5ld0NhdGVnb3J5IiwiYm9keSIsImVycm9yIiwiaGFuZGxlVXBkYXRlQ2F0ZWdvcnkiLCJkYXRhIiwiY2F0ZWdvcnkiLCJ1cGRhdGVDYXRlZ29yeSIsImhhbmRsZURlbGV0ZUNhdGVnb3J5IiwicGFyYW1zIiwiaWQiLCJlcnJDb2RlIiwiZXJyTXNnIiwiZGVsZXRlQ2F0ZWdvcnkiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcQ29kZVxcRlBUX1N1YmplY3RcXFNXUFxcSFJNU19CRVxcc3JjXFxjb250cm9sbGVyXFwiLCJzb3VyY2VzIjpbImNhdGVnb3J5LmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY2F0ZWdvcnlTZXJ2aWNlID0gcmVxdWlyZShcIi4uL3NlcnZpY2UvY2F0ZWdvcnlTZXJ2aWNlLmpzXCIpO1xyXG5cclxuY29uc3QgaGFuZGxlR2V0QWxsQ2F0ZWdvcnkgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBsZXQgY2F0ZWdvcmllcyA9IGF3YWl0IGNhdGVnb3J5U2VydmljZS5nZXRBbGxDYXRlZ29yeSgpO1xyXG4gIHJldHVybiByZXMuanNvbih7IGNhdGVnb3JpZXMgfSk7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVDcmVhdGVOZXdDYXRlZ29yeSA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBsZXQgbWVzc2FnZSA9IGF3YWl0IGNhdGVnb3J5U2VydmljZS5jcmVhdGVOZXdDYXRlZ29yeShyZXEuYm9keSk7XHJcbiAgICByZXR1cm4gcmVzLmpzb24obWVzc2FnZSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIG5leHQoZXJyb3IpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZVVwZGF0ZUNhdGVnb3J5ID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcbiAgICBsZXQgY2F0ZWdvcnkgPSBhd2FpdCBjYXRlZ29yeVNlcnZpY2UudXBkYXRlQ2F0ZWdvcnkoZGF0YSk7XHJcbiAgICByZXR1cm4gcmVzLmpzb24oY2F0ZWdvcnkpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBuZXh0KGVycm9yKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVEZWxldGVDYXRlZ29yeSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGlmICghcmVxLnBhcmFtcy5pZCkge1xyXG4gICAgcmV0dXJuIHJlcy5qc29uKHtcclxuICAgICAgZXJyQ29kZTogMSxcclxuICAgICAgZXJyTXNnOiBcIk1pc3NpbmcgY2F0ZWdvcnkgaWRcIixcclxuICAgIH0pO1xyXG4gIH1cclxuICBsZXQgbWVzc2FnZSA9IGF3YWl0IGNhdGVnb3J5U2VydmljZS5kZWxldGVDYXRlZ29yeShyZXEucGFyYW1zLmlkKTtcclxuICByZXR1cm4gcmVzLmpzb24obWVzc2FnZSk7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBoYW5kbGVHZXRBbGxDYXRlZ29yeSxcclxuICBoYW5kbGVDcmVhdGVOZXdDYXRlZ29yeSxcclxuICBoYW5kbGVVcGRhdGVDYXRlZ29yeSxcclxuICBoYW5kbGVEZWxldGVDYXRlZ29yeSxcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLGVBQWUsR0FBR0MsT0FBTyxDQUFDLCtCQUFELENBQS9COztBQUVBLE1BQU1DLG9CQUFvQixHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtFQUMvQyxJQUFJQyxVQUFVLEdBQUcsTUFBTUwsZUFBZSxDQUFDTSxjQUFoQixFQUF2QjtFQUNBLE9BQU9GLEdBQUcsQ0FBQ0csSUFBSixDQUFTO0lBQUVGO0VBQUYsQ0FBVCxDQUFQO0FBQ0QsQ0FIRDs7QUFLQSxNQUFNRyx1QkFBdUIsR0FBRyxPQUFPTCxHQUFQLEVBQVlDLEdBQVosRUFBaUJLLElBQWpCLEtBQTBCO0VBQ3hELElBQUk7SUFDRixJQUFJQyxPQUFPLEdBQUcsTUFBTVYsZUFBZSxDQUFDVyxpQkFBaEIsQ0FBa0NSLEdBQUcsQ0FBQ1MsSUFBdEMsQ0FBcEI7SUFDQSxPQUFPUixHQUFHLENBQUNHLElBQUosQ0FBU0csT0FBVCxDQUFQO0VBQ0QsQ0FIRCxDQUdFLE9BQU9HLEtBQVAsRUFBYztJQUNkSixJQUFJLENBQUNJLEtBQUQsQ0FBSjtFQUNEO0FBQ0YsQ0FQRDs7QUFTQSxNQUFNQyxvQkFBb0IsR0FBRyxPQUFPWCxHQUFQLEVBQVlDLEdBQVosRUFBaUJLLElBQWpCLEtBQTBCO0VBQ3JELElBQUk7SUFDRixJQUFJTSxJQUFJLEdBQUdaLEdBQUcsQ0FBQ1MsSUFBZjtJQUNBLElBQUlJLFFBQVEsR0FBRyxNQUFNaEIsZUFBZSxDQUFDaUIsY0FBaEIsQ0FBK0JGLElBQS9CLENBQXJCO0lBQ0EsT0FBT1gsR0FBRyxDQUFDRyxJQUFKLENBQVNTLFFBQVQsQ0FBUDtFQUNELENBSkQsQ0FJRSxPQUFPSCxLQUFQLEVBQWM7SUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7RUFDRDtBQUNGLENBUkQ7O0FBVUEsTUFBTUssb0JBQW9CLEdBQUcsT0FBT2YsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0VBQy9DLElBQUksQ0FBQ0QsR0FBRyxDQUFDZ0IsTUFBSixDQUFXQyxFQUFoQixFQUFvQjtJQUNsQixPQUFPaEIsR0FBRyxDQUFDRyxJQUFKLENBQVM7TUFDZGMsT0FBTyxFQUFFLENBREs7TUFFZEMsTUFBTSxFQUFFO0lBRk0sQ0FBVCxDQUFQO0VBSUQ7O0VBQ0QsSUFBSVosT0FBTyxHQUFHLE1BQU1WLGVBQWUsQ0FBQ3VCLGNBQWhCLENBQStCcEIsR0FBRyxDQUFDZ0IsTUFBSixDQUFXQyxFQUExQyxDQUFwQjtFQUNBLE9BQU9oQixHQUFHLENBQUNHLElBQUosQ0FBU0csT0FBVCxDQUFQO0FBQ0QsQ0FURDs7QUFXQWMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2Z2QixvQkFEZTtFQUVmTSx1QkFGZTtFQUdmTSxvQkFIZTtFQUlmSTtBQUplLENBQWpCIn0=","map":{"version":3,"names":["categoryService","require","handleGetAllCategory","req","res","categories","getAllCategory","json","handleCreateNewCategory","next","message","createNewCategory","body","error","handleUpdateCategory","data","category","updateCategory","handleDeleteCategory","params","id","errCode","errMsg","deleteCategory","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\controller\\","sources":["category.controller.js"],"sourcesContent":["const categoryService = require(\"../service/categoryService.js\");\r\n\r\nconst handleGetAllCategory = async (req, res) => {\r\n  let categories = await categoryService.getAllCategory();\r\n  return res.json({ categories });\r\n};\r\n\r\nconst handleCreateNewCategory = async (req, res, next) => {\r\n  try {\r\n    let message = await categoryService.createNewCategory(req.body);\r\n    return res.json(message);\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\n\r\nconst handleUpdateCategory = async (req, res, next) => {\r\n  try {\r\n    let data = req.body;\r\n    let category = await categoryService.updateCategory(data);\r\n    return res.json(category);\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\n\r\nconst handleDeleteCategory = async (req, res) => {\r\n  if (!req.params.id) {\r\n    return res.json({\r\n      errCode: 1,\r\n      errMsg: \"Missing category id\",\r\n    });\r\n  }\r\n  let message = await categoryService.deleteCategory(req.params.id);\r\n  return res.json(message);\r\n};\r\n\r\nmodule.exports = {\r\n  handleGetAllCategory,\r\n  handleCreateNewCategory,\r\n  handleUpdateCategory,\r\n  handleDeleteCategory,\r\n};\r\n"],"mappings":";;AAAA,MAAMA,eAAe,GAAGC,OAAO,CAAC,+BAAD,CAA/B;;AAEA,MAAMC,oBAAoB,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;EAC/C,IAAIC,UAAU,GAAG,MAAML,eAAe,CAACM,cAAhB,EAAvB;EACA,OAAOF,GAAG,CAACG,IAAJ,CAAS;IAAEF;EAAF,CAAT,CAAP;AACD,CAHD;;AAKA,MAAMG,uBAAuB,GAAG,OAAOL,GAAP,EAAYC,GAAZ,EAAiBK,IAAjB,KAA0B;EACxD,IAAI;IACF,IAAIC,OAAO,GAAG,MAAMV,eAAe,CAACW,iBAAhB,CAAkCR,GAAG,CAACS,IAAtC,CAApB;IACA,OAAOR,GAAG,CAACG,IAAJ,CAASG,OAAT,CAAP;EACD,CAHD,CAGE,OAAOG,KAAP,EAAc;IACdJ,IAAI,CAACI,KAAD,CAAJ;EACD;AACF,CAPD;;AASA,MAAMC,oBAAoB,GAAG,OAAOX,GAAP,EAAYC,GAAZ,EAAiBK,IAAjB,KAA0B;EACrD,IAAI;IACF,IAAIM,IAAI,GAAGZ,GAAG,CAACS,IAAf;IACA,IAAII,QAAQ,GAAG,MAAMhB,eAAe,CAACiB,cAAhB,CAA+BF,IAA/B,CAArB;IACA,OAAOX,GAAG,CAACG,IAAJ,CAASS,QAAT,CAAP;EACD,CAJD,CAIE,OAAOH,KAAP,EAAc;IACdJ,IAAI,CAACI,KAAD,CAAJ;EACD;AACF,CARD;;AAUA,MAAMK,oBAAoB,GAAG,OAAOf,GAAP,EAAYC,GAAZ,KAAoB;EAC/C,IAAI,CAACD,GAAG,CAACgB,MAAJ,CAAWC,EAAhB,EAAoB;IAClB,OAAOhB,GAAG,CAACG,IAAJ,CAAS;MACdc,OAAO,EAAE,CADK;MAEdC,MAAM,EAAE;IAFM,CAAT,CAAP;EAID;;EACD,IAAIZ,OAAO,GAAG,MAAMV,eAAe,CAACuB,cAAhB,CAA+BpB,GAAG,CAACgB,MAAJ,CAAWC,EAA1C,CAApB;EACA,OAAOhB,GAAG,CAACG,IAAJ,CAASG,OAAT,CAAP;AACD,CATD;;AAWAc,MAAM,CAACC,OAAP,GAAiB;EACfvB,oBADe;EAEfM,uBAFe;EAGfM,oBAHe;EAIfI;AAJe,CAAjB"}},"mtime":1667232055375},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\service\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\service\\\\categoryService.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst categoriesRepository = require(\"../repository/categories.repository\"); // lấy tất cả category ngoại trừ Hidden category(DONE)\n\n\nconst getAllCategory = () => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const where = {\n        status: ['Active', 'Inactive']\n      };\n      const category = await categoriesRepository.findAllCate(where); // console.log(category)\n\n      resolve(category);\n    } catch (error) {\n      reject(error);\n    }\n  });\n}; //===============================================================================\n\n\nconst createNewCategory = data => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const category = await categoriesRepository.createCategory(data);\n      resolve(category === null || category === void 0 ? void 0 : category.dataValues);\n    } catch (error) {\n      reject(error);\n    }\n  });\n}; //===============================================================================\n\n\nconst updateCategory = data => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      if (!data.id) {\n        resolve({\n          errCode: 2,\n          errMsg: \"Missing required parameters\"\n        });\n      }\n\n      let category = await categoriesRepository.findOne(data.id);\n\n      if (category) {\n        await categoriesRepository.update(data, {\n          id: data.id\n        });\n        resolve({\n          errCode: 0,\n          message: \"Update category successfully!!\"\n        });\n      } else {\n        resolve({\n          errCode: 1,\n          errMsg: \"Category is not found\"\n        });\n      }\n    } catch (error) {\n      reject(error);\n    }\n  });\n}; //===============================================================================\n\n\nconst deleteCategory = categoryID => {\n  return new Promise(async (resolve, reject) => {\n    let category = await categoriesRepository.findOne(categoryID);\n\n    if (!category) {\n      resolve({\n        errCode: 2,\n        errMsg: \"Category not found\"\n      });\n    }\n\n    await categoriesRepository.updateStatus({\n      id: categoryID\n    });\n    resolve({\n      errCode: 0,\n      errMsg: \"Category is deleted\"\n    });\n  });\n};\n\nmodule.exports = {\n  getAllCategory,\n  createNewCategory,\n  updateCategory,\n  deleteCategory\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXRlZ29yaWVzUmVwb3NpdG9yeSIsInJlcXVpcmUiLCJnZXRBbGxDYXRlZ29yeSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwid2hlcmUiLCJzdGF0dXMiLCJjYXRlZ29yeSIsImZpbmRBbGxDYXRlIiwiZXJyb3IiLCJjcmVhdGVOZXdDYXRlZ29yeSIsImRhdGEiLCJjcmVhdGVDYXRlZ29yeSIsImRhdGFWYWx1ZXMiLCJ1cGRhdGVDYXRlZ29yeSIsImlkIiwiZXJyQ29kZSIsImVyck1zZyIsImZpbmRPbmUiLCJ1cGRhdGUiLCJtZXNzYWdlIiwiZGVsZXRlQ2F0ZWdvcnkiLCJjYXRlZ29yeUlEIiwidXBkYXRlU3RhdHVzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXENvZGVcXEZQVF9TdWJqZWN0XFxTV1BcXEhSTVNfQkVcXHNyY1xcc2VydmljZVxcIiwic291cmNlcyI6WyJjYXRlZ29yeVNlcnZpY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY2F0ZWdvcmllc1JlcG9zaXRvcnkgPSByZXF1aXJlKFwiLi4vcmVwb3NpdG9yeS9jYXRlZ29yaWVzLnJlcG9zaXRvcnlcIik7XHJcblxyXG5cclxuLy8gbOG6pXkgdOG6pXQgY+G6oyBjYXRlZ29yeSBuZ2/huqFpIHRy4burIEhpZGRlbiBjYXRlZ29yeShET05FKVxyXG5jb25zdCBnZXRBbGxDYXRlZ29yeSA9ICgpID0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgd2hlcmUgPSB7IHN0YXR1czogWydBY3RpdmUnLCAnSW5hY3RpdmUnXSB9XHJcbiAgICAgIGNvbnN0IGNhdGVnb3J5ID0gYXdhaXQgY2F0ZWdvcmllc1JlcG9zaXRvcnkuZmluZEFsbENhdGUod2hlcmUpO1xyXG4gICAgICAvLyBjb25zb2xlLmxvZyhjYXRlZ29yeSlcclxuICAgICAgcmVzb2x2ZShjYXRlZ29yeSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5jb25zdCBjcmVhdGVOZXdDYXRlZ29yeSA9IChkYXRhKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGNhdGVnb3J5ID0gYXdhaXQgY2F0ZWdvcmllc1JlcG9zaXRvcnkuY3JlYXRlQ2F0ZWdvcnkoZGF0YSk7XHJcbiAgICAgIHJlc29sdmUoY2F0ZWdvcnk/LmRhdGFWYWx1ZXMpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuY29uc3QgdXBkYXRlQ2F0ZWdvcnkgPSAoZGF0YSkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoIWRhdGEuaWQpIHtcclxuICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgIGVyckNvZGU6IDIsXHJcbiAgICAgICAgICBlcnJNc2c6IFwiTWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXJzXCIsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgbGV0IGNhdGVnb3J5ID0gYXdhaXQgY2F0ZWdvcmllc1JlcG9zaXRvcnkuZmluZE9uZShkYXRhLmlkKTtcclxuICAgICAgaWYgKGNhdGVnb3J5KSB7XHJcbiAgICAgICAgYXdhaXQgY2F0ZWdvcmllc1JlcG9zaXRvcnkudXBkYXRlKGRhdGEsIHsgaWQ6IGRhdGEuaWQgfSlcclxuICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgIGVyckNvZGU6IDAsXHJcbiAgICAgICAgICBtZXNzYWdlOiBcIlVwZGF0ZSBjYXRlZ29yeSBzdWNjZXNzZnVsbHkhIVwiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgICAgZXJyQ29kZTogMSxcclxuICAgICAgICAgIGVyck1zZzogXCJDYXRlZ29yeSBpcyBub3QgZm91bmRcIixcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuY29uc3QgZGVsZXRlQ2F0ZWdvcnkgPSAoY2F0ZWdvcnlJRCkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICBsZXQgY2F0ZWdvcnkgPSBhd2FpdCBjYXRlZ29yaWVzUmVwb3NpdG9yeS5maW5kT25lKGNhdGVnb3J5SUQpO1xyXG4gICAgaWYgKCFjYXRlZ29yeSkge1xyXG4gICAgICByZXNvbHZlKHtcclxuICAgICAgICBlcnJDb2RlOiAyLFxyXG4gICAgICAgIGVyck1zZzogXCJDYXRlZ29yeSBub3QgZm91bmRcIixcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBhd2FpdCBjYXRlZ29yaWVzUmVwb3NpdG9yeS51cGRhdGVTdGF0dXMoeyBpZDogY2F0ZWdvcnlJRCB9KTtcclxuICAgIHJlc29sdmUoe1xyXG4gICAgICBlcnJDb2RlOiAwLFxyXG4gICAgICBlcnJNc2c6IFwiQ2F0ZWdvcnkgaXMgZGVsZXRlZFwiLFxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBnZXRBbGxDYXRlZ29yeSxcclxuICBjcmVhdGVOZXdDYXRlZ29yeSxcclxuICB1cGRhdGVDYXRlZ29yeSxcclxuICBkZWxldGVDYXRlZ29yeSxcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLG9CQUFvQixHQUFHQyxPQUFPLENBQUMscUNBQUQsQ0FBcEMsQyxDQUdBOzs7QUFDQSxNQUFNQyxjQUFjLEdBQUcsTUFBTTtFQUMzQixPQUFPLElBQUlDLE9BQUosQ0FBWSxPQUFPQyxPQUFQLEVBQWdCQyxNQUFoQixLQUEyQjtJQUM1QyxJQUFJO01BQ0YsTUFBTUMsS0FBSyxHQUFHO1FBQUVDLE1BQU0sRUFBRSxDQUFDLFFBQUQsRUFBVyxVQUFYO01BQVYsQ0FBZDtNQUNBLE1BQU1DLFFBQVEsR0FBRyxNQUFNUixvQkFBb0IsQ0FBQ1MsV0FBckIsQ0FBaUNILEtBQWpDLENBQXZCLENBRkUsQ0FHRjs7TUFDQUYsT0FBTyxDQUFDSSxRQUFELENBQVA7SUFDRCxDQUxELENBS0UsT0FBT0UsS0FBUCxFQUFjO01BQ2RMLE1BQU0sQ0FBQ0ssS0FBRCxDQUFOO0lBQ0Q7RUFDRixDQVRNLENBQVA7QUFVRCxDQVhELEMsQ0FhQTs7O0FBRUEsTUFBTUMsaUJBQWlCLEdBQUlDLElBQUQsSUFBVTtFQUNsQyxPQUFPLElBQUlULE9BQUosQ0FBWSxPQUFPQyxPQUFQLEVBQWdCQyxNQUFoQixLQUEyQjtJQUM1QyxJQUFJO01BQ0YsTUFBTUcsUUFBUSxHQUFHLE1BQU1SLG9CQUFvQixDQUFDYSxjQUFyQixDQUFvQ0QsSUFBcEMsQ0FBdkI7TUFDQVIsT0FBTyxDQUFDSSxRQUFELGFBQUNBLFFBQUQsdUJBQUNBLFFBQVEsQ0FBRU0sVUFBWCxDQUFQO0lBQ0QsQ0FIRCxDQUdFLE9BQU9KLEtBQVAsRUFBYztNQUNkTCxNQUFNLENBQUNLLEtBQUQsQ0FBTjtJQUNEO0VBQ0YsQ0FQTSxDQUFQO0FBUUQsQ0FURCxDLENBV0E7OztBQUVBLE1BQU1LLGNBQWMsR0FBSUgsSUFBRCxJQUFVO0VBQy9CLE9BQU8sSUFBSVQsT0FBSixDQUFZLE9BQU9DLE9BQVAsRUFBZ0JDLE1BQWhCLEtBQTJCO0lBQzVDLElBQUk7TUFDRixJQUFJLENBQUNPLElBQUksQ0FBQ0ksRUFBVixFQUFjO1FBQ1paLE9BQU8sQ0FBQztVQUNOYSxPQUFPLEVBQUUsQ0FESDtVQUVOQyxNQUFNLEVBQUU7UUFGRixDQUFELENBQVA7TUFJRDs7TUFDRCxJQUFJVixRQUFRLEdBQUcsTUFBTVIsb0JBQW9CLENBQUNtQixPQUFyQixDQUE2QlAsSUFBSSxDQUFDSSxFQUFsQyxDQUFyQjs7TUFDQSxJQUFJUixRQUFKLEVBQWM7UUFDWixNQUFNUixvQkFBb0IsQ0FBQ29CLE1BQXJCLENBQTRCUixJQUE1QixFQUFrQztVQUFFSSxFQUFFLEVBQUVKLElBQUksQ0FBQ0k7UUFBWCxDQUFsQyxDQUFOO1FBQ0FaLE9BQU8sQ0FBQztVQUNOYSxPQUFPLEVBQUUsQ0FESDtVQUVOSSxPQUFPLEVBQUU7UUFGSCxDQUFELENBQVA7TUFJRCxDQU5ELE1BTU87UUFDTGpCLE9BQU8sQ0FBQztVQUNOYSxPQUFPLEVBQUUsQ0FESDtVQUVOQyxNQUFNLEVBQUU7UUFGRixDQUFELENBQVA7TUFJRDtJQUNGLENBcEJELENBb0JFLE9BQU9SLEtBQVAsRUFBYztNQUNkTCxNQUFNLENBQUNLLEtBQUQsQ0FBTjtJQUNEO0VBQ0YsQ0F4Qk0sQ0FBUDtBQXlCRCxDQTFCRCxDLENBNEJBOzs7QUFFQSxNQUFNWSxjQUFjLEdBQUlDLFVBQUQsSUFBZ0I7RUFDckMsT0FBTyxJQUFJcEIsT0FBSixDQUFZLE9BQU9DLE9BQVAsRUFBZ0JDLE1BQWhCLEtBQTJCO0lBQzVDLElBQUlHLFFBQVEsR0FBRyxNQUFNUixvQkFBb0IsQ0FBQ21CLE9BQXJCLENBQTZCSSxVQUE3QixDQUFyQjs7SUFDQSxJQUFJLENBQUNmLFFBQUwsRUFBZTtNQUNiSixPQUFPLENBQUM7UUFDTmEsT0FBTyxFQUFFLENBREg7UUFFTkMsTUFBTSxFQUFFO01BRkYsQ0FBRCxDQUFQO0lBSUQ7O0lBQ0QsTUFBTWxCLG9CQUFvQixDQUFDd0IsWUFBckIsQ0FBa0M7TUFBRVIsRUFBRSxFQUFFTztJQUFOLENBQWxDLENBQU47SUFDQW5CLE9BQU8sQ0FBQztNQUNOYSxPQUFPLEVBQUUsQ0FESDtNQUVOQyxNQUFNLEVBQUU7SUFGRixDQUFELENBQVA7RUFJRCxDQWJNLENBQVA7QUFjRCxDQWZEOztBQWlCQU8sTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2Z4QixjQURlO0VBRWZTLGlCQUZlO0VBR2ZJLGNBSGU7RUFJZk87QUFKZSxDQUFqQiJ9","map":{"version":3,"names":["categoriesRepository","require","getAllCategory","Promise","resolve","reject","where","status","category","findAllCate","error","createNewCategory","data","createCategory","dataValues","updateCategory","id","errCode","errMsg","findOne","update","message","deleteCategory","categoryID","updateStatus","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\service\\","sources":["categoryService.js"],"sourcesContent":["const categoriesRepository = require(\"../repository/categories.repository\");\r\n\r\n\r\n// lấy tất cả category ngoại trừ Hidden category(DONE)\r\nconst getAllCategory = () => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      const where = { status: ['Active', 'Inactive'] }\r\n      const category = await categoriesRepository.findAllCate(where);\r\n      // console.log(category)\r\n      resolve(category);\r\n    } catch (error) {\r\n      reject(error);\r\n    }\r\n  });\r\n};\r\n\r\n//===============================================================================\r\n\r\nconst createNewCategory = (data) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      const category = await categoriesRepository.createCategory(data);\r\n      resolve(category?.dataValues);\r\n    } catch (error) {\r\n      reject(error);\r\n    }\r\n  });\r\n};\r\n\r\n//===============================================================================\r\n\r\nconst updateCategory = (data) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      if (!data.id) {\r\n        resolve({\r\n          errCode: 2,\r\n          errMsg: \"Missing required parameters\",\r\n        });\r\n      }\r\n      let category = await categoriesRepository.findOne(data.id);\r\n      if (category) {\r\n        await categoriesRepository.update(data, { id: data.id })\r\n        resolve({\r\n          errCode: 0,\r\n          message: \"Update category successfully!!\",\r\n        });\r\n      } else {\r\n        resolve({\r\n          errCode: 1,\r\n          errMsg: \"Category is not found\",\r\n        });\r\n      }\r\n    } catch (error) {\r\n      reject(error);\r\n    }\r\n  });\r\n};\r\n\r\n//===============================================================================\r\n\r\nconst deleteCategory = (categoryID) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    let category = await categoriesRepository.findOne(categoryID);\r\n    if (!category) {\r\n      resolve({\r\n        errCode: 2,\r\n        errMsg: \"Category not found\",\r\n      });\r\n    }\r\n    await categoriesRepository.updateStatus({ id: categoryID });\r\n    resolve({\r\n      errCode: 0,\r\n      errMsg: \"Category is deleted\",\r\n    });\r\n  });\r\n};\r\n\r\nmodule.exports = {\r\n  getAllCategory,\r\n  createNewCategory,\r\n  updateCategory,\r\n  deleteCategory,\r\n};\r\n"],"mappings":";;AAAA,MAAMA,oBAAoB,GAAGC,OAAO,CAAC,qCAAD,CAApC,C,CAGA;;;AACA,MAAMC,cAAc,GAAG,MAAM;EAC3B,OAAO,IAAIC,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;IAC5C,IAAI;MACF,MAAMC,KAAK,GAAG;QAAEC,MAAM,EAAE,CAAC,QAAD,EAAW,UAAX;MAAV,CAAd;MACA,MAAMC,QAAQ,GAAG,MAAMR,oBAAoB,CAACS,WAArB,CAAiCH,KAAjC,CAAvB,CAFE,CAGF;;MACAF,OAAO,CAACI,QAAD,CAAP;IACD,CALD,CAKE,OAAOE,KAAP,EAAc;MACdL,MAAM,CAACK,KAAD,CAAN;IACD;EACF,CATM,CAAP;AAUD,CAXD,C,CAaA;;;AAEA,MAAMC,iBAAiB,GAAIC,IAAD,IAAU;EAClC,OAAO,IAAIT,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;IAC5C,IAAI;MACF,MAAMG,QAAQ,GAAG,MAAMR,oBAAoB,CAACa,cAArB,CAAoCD,IAApC,CAAvB;MACAR,OAAO,CAACI,QAAD,aAACA,QAAD,uBAACA,QAAQ,CAAEM,UAAX,CAAP;IACD,CAHD,CAGE,OAAOJ,KAAP,EAAc;MACdL,MAAM,CAACK,KAAD,CAAN;IACD;EACF,CAPM,CAAP;AAQD,CATD,C,CAWA;;;AAEA,MAAMK,cAAc,GAAIH,IAAD,IAAU;EAC/B,OAAO,IAAIT,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;IAC5C,IAAI;MACF,IAAI,CAACO,IAAI,CAACI,EAAV,EAAc;QACZZ,OAAO,CAAC;UACNa,OAAO,EAAE,CADH;UAENC,MAAM,EAAE;QAFF,CAAD,CAAP;MAID;;MACD,IAAIV,QAAQ,GAAG,MAAMR,oBAAoB,CAACmB,OAArB,CAA6BP,IAAI,CAACI,EAAlC,CAArB;;MACA,IAAIR,QAAJ,EAAc;QACZ,MAAMR,oBAAoB,CAACoB,MAArB,CAA4BR,IAA5B,EAAkC;UAAEI,EAAE,EAAEJ,IAAI,CAACI;QAAX,CAAlC,CAAN;QACAZ,OAAO,CAAC;UACNa,OAAO,EAAE,CADH;UAENI,OAAO,EAAE;QAFH,CAAD,CAAP;MAID,CAND,MAMO;QACLjB,OAAO,CAAC;UACNa,OAAO,EAAE,CADH;UAENC,MAAM,EAAE;QAFF,CAAD,CAAP;MAID;IACF,CApBD,CAoBE,OAAOR,KAAP,EAAc;MACdL,MAAM,CAACK,KAAD,CAAN;IACD;EACF,CAxBM,CAAP;AAyBD,CA1BD,C,CA4BA;;;AAEA,MAAMY,cAAc,GAAIC,UAAD,IAAgB;EACrC,OAAO,IAAIpB,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;IAC5C,IAAIG,QAAQ,GAAG,MAAMR,oBAAoB,CAACmB,OAArB,CAA6BI,UAA7B,CAArB;;IACA,IAAI,CAACf,QAAL,EAAe;MACbJ,OAAO,CAAC;QACNa,OAAO,EAAE,CADH;QAENC,MAAM,EAAE;MAFF,CAAD,CAAP;IAID;;IACD,MAAMlB,oBAAoB,CAACwB,YAArB,CAAkC;MAAER,EAAE,EAAEO;IAAN,CAAlC,CAAN;IACAnB,OAAO,CAAC;MACNa,OAAO,EAAE,CADH;MAENC,MAAM,EAAE;IAFF,CAAD,CAAP;EAID,CAbM,CAAP;AAcD,CAfD;;AAiBAO,MAAM,CAACC,OAAP,GAAiB;EACfxB,cADe;EAEfS,iBAFe;EAGfI,cAHe;EAIfO;AAJe,CAAjB"}},"mtime":1666771520618},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\repository\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\repository\\\\categories.repository.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _sequelize = require(\"sequelize\");\n\nvar _index = require(\"../models/index.js\");\n\nconst db = require(\"../models\");\n\nconst Categories = db.Categories;\n\nconst findOne = async id => {\n  return await Categories.findOne({\n    where: {\n      id: id\n    }\n  });\n};\n\nconst findAllCate = async where => {\n  // console.log()\n  return await Categories.findAll({\n    where: where\n  });\n};\n\nconst update = async (newObj, where) => {\n  await Categories.update(newObj, {\n    where: where\n  });\n};\n\nconst updateStatus = async where => {\n  return await Categories.update({\n    status: \"Hidden\"\n  }, {\n    where: where\n  });\n};\n\nconst createCategory = async data => {\n  return await Categories.create({\n    name: data.name,\n    description: data.description\n  });\n};\n\nmodule.exports = {\n  update,\n  updateStatus,\n  findAllCate,\n  findOne,\n  createCategory\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYiIsInJlcXVpcmUiLCJDYXRlZ29yaWVzIiwiZmluZE9uZSIsImlkIiwid2hlcmUiLCJmaW5kQWxsQ2F0ZSIsImZpbmRBbGwiLCJ1cGRhdGUiLCJuZXdPYmoiLCJ1cGRhdGVTdGF0dXMiLCJzdGF0dXMiLCJjcmVhdGVDYXRlZ29yeSIsImRhdGEiLCJjcmVhdGUiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcQ29kZVxcRlBUX1N1YmplY3RcXFNXUFxcSFJNU19CRVxcc3JjXFxyZXBvc2l0b3J5XFwiLCJzb3VyY2VzIjpbImNhdGVnb3JpZXMucmVwb3NpdG9yeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBkYiA9IHJlcXVpcmUoXCIuLi9tb2RlbHNcIik7XHJcbmltcG9ydCB7IE9wLCB3aGVyZSB9IGZyb20gXCJzZXF1ZWxpemVcIjtcclxuLy8gaW1wb3J0IHsgd2hlcmUgfSBmcm9tIFwic2VxdWVsaXplXCI7XHJcbmltcG9ydCB7IHNlcXVlbGl6ZSB9IGZyb20gXCIuLi9tb2RlbHMvaW5kZXguanNcIjtcclxuY29uc3QgQ2F0ZWdvcmllcyA9IGRiLkNhdGVnb3JpZXM7XHJcblxyXG5jb25zdCBmaW5kT25lID0gYXN5bmMgKGlkKSA9PiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIGF3YWl0IENhdGVnb3JpZXMuZmluZE9uZSh7XHJcbiAgICAgICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICAgICAgICBpZDogaWQsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgKVxyXG59XHJcblxyXG5jb25zdCBmaW5kQWxsQ2F0ZSA9IGFzeW5jICh3aGVyZSkgPT4ge1xyXG4gICAgLy8gY29uc29sZS5sb2coKVxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICBhd2FpdCBDYXRlZ29yaWVzLmZpbmRBbGwoe1xyXG4gICAgICAgICAgICB3aGVyZTogd2hlcmVcclxuICAgICAgICB9KVxyXG4gICAgKVxyXG5cclxufVxyXG5cclxuY29uc3QgdXBkYXRlID0gYXN5bmMgKG5ld09iaiwgd2hlcmUpID0+IHtcclxuICAgIGF3YWl0IENhdGVnb3JpZXMudXBkYXRlKG5ld09iaiwge1xyXG4gICAgICAgIHdoZXJlOiB3aGVyZSxcclxuICAgIH0pO1xyXG59O1xyXG5cclxuY29uc3QgdXBkYXRlU3RhdHVzID0gYXN5bmMgKHdoZXJlKSA9PiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIGF3YWl0IENhdGVnb3JpZXMudXBkYXRlKHsgc3RhdHVzOiBcIkhpZGRlblwiIH0sIHtcclxuICAgICAgICAgICAgd2hlcmU6IHdoZXJlLFxyXG4gICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICApXHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVDYXRlZ29yeSA9IGFzeW5jIChkYXRhKSA9PiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIGF3YWl0IENhdGVnb3JpZXMuY3JlYXRlKHtcclxuICAgICAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGF0YS5kZXNjcmlwdGlvbixcclxuICAgICAgICB9KVxyXG4gICAgKVxyXG59XHJcbm1vZHVsZS5leHBvcnRzID0geyB1cGRhdGUsIHVwZGF0ZVN0YXR1cywgZmluZEFsbENhdGUsIGZpbmRPbmUsIGNyZWF0ZUNhdGVnb3J5IH07Il0sIm1hcHBpbmdzIjoiOztBQUNBOztBQUVBOztBQUhBLE1BQU1BLEVBQUUsR0FBR0MsT0FBTyxDQUFDLFdBQUQsQ0FBbEI7O0FBSUEsTUFBTUMsVUFBVSxHQUFHRixFQUFFLENBQUNFLFVBQXRCOztBQUVBLE1BQU1DLE9BQU8sR0FBRyxNQUFPQyxFQUFQLElBQWM7RUFDMUIsT0FDSSxNQUFNRixVQUFVLENBQUNDLE9BQVgsQ0FBbUI7SUFDckJFLEtBQUssRUFBRTtNQUNIRCxFQUFFLEVBQUVBO0lBREQ7RUFEYyxDQUFuQixDQURWO0FBT0gsQ0FSRDs7QUFVQSxNQUFNRSxXQUFXLEdBQUcsTUFBT0QsS0FBUCxJQUFpQjtFQUNqQztFQUNBLE9BQ0ksTUFBTUgsVUFBVSxDQUFDSyxPQUFYLENBQW1CO0lBQ3JCRixLQUFLLEVBQUVBO0VBRGMsQ0FBbkIsQ0FEVjtBQU1ILENBUkQ7O0FBVUEsTUFBTUcsTUFBTSxHQUFHLE9BQU9DLE1BQVAsRUFBZUosS0FBZixLQUF5QjtFQUNwQyxNQUFNSCxVQUFVLENBQUNNLE1BQVgsQ0FBa0JDLE1BQWxCLEVBQTBCO0lBQzVCSixLQUFLLEVBQUVBO0VBRHFCLENBQTFCLENBQU47QUFHSCxDQUpEOztBQU1BLE1BQU1LLFlBQVksR0FBRyxNQUFPTCxLQUFQLElBQWlCO0VBQ2xDLE9BQ0ksTUFBTUgsVUFBVSxDQUFDTSxNQUFYLENBQWtCO0lBQUVHLE1BQU0sRUFBRTtFQUFWLENBQWxCLEVBQXdDO0lBQzFDTixLQUFLLEVBQUVBO0VBRG1DLENBQXhDLENBRFY7QUFNSCxDQVBEOztBQVNBLE1BQU1PLGNBQWMsR0FBRyxNQUFPQyxJQUFQLElBQWdCO0VBQ25DLE9BQ0ksTUFBTVgsVUFBVSxDQUFDWSxNQUFYLENBQWtCO0lBQ3BCQyxJQUFJLEVBQUVGLElBQUksQ0FBQ0UsSUFEUztJQUVwQkMsV0FBVyxFQUFFSCxJQUFJLENBQUNHO0VBRkUsQ0FBbEIsQ0FEVjtBQU1ILENBUEQ7O0FBUUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUFFVixNQUFGO0VBQVVFLFlBQVY7RUFBd0JKLFdBQXhCO0VBQXFDSCxPQUFyQztFQUE4Q1M7QUFBOUMsQ0FBakIifQ==","map":{"version":3,"names":["db","require","Categories","findOne","id","where","findAllCate","findAll","update","newObj","updateStatus","status","createCategory","data","create","name","description","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\repository\\","sources":["categories.repository.js"],"sourcesContent":["const db = require(\"../models\");\r\nimport { Op, where } from \"sequelize\";\r\n// import { where } from \"sequelize\";\r\nimport { sequelize } from \"../models/index.js\";\r\nconst Categories = db.Categories;\r\n\r\nconst findOne = async (id) => {\r\n    return (\r\n        await Categories.findOne({\r\n            where: {\r\n                id: id,\r\n            }\r\n        })\r\n    )\r\n}\r\n\r\nconst findAllCate = async (where) => {\r\n    // console.log()\r\n    return (\r\n        await Categories.findAll({\r\n            where: where\r\n        })\r\n    )\r\n\r\n}\r\n\r\nconst update = async (newObj, where) => {\r\n    await Categories.update(newObj, {\r\n        where: where,\r\n    });\r\n};\r\n\r\nconst updateStatus = async (where) => {\r\n    return (\r\n        await Categories.update({ status: \"Hidden\" }, {\r\n            where: where,\r\n        }\r\n        )\r\n    )\r\n};\r\n\r\nconst createCategory = async (data) => {\r\n    return (\r\n        await Categories.create({\r\n            name: data.name,\r\n            description: data.description,\r\n        })\r\n    )\r\n}\r\nmodule.exports = { update, updateStatus, findAllCate, findOne, createCategory };"],"mappings":";;AACA;;AAEA;;AAHA,MAAMA,EAAE,GAAGC,OAAO,CAAC,WAAD,CAAlB;;AAIA,MAAMC,UAAU,GAAGF,EAAE,CAACE,UAAtB;;AAEA,MAAMC,OAAO,GAAG,MAAOC,EAAP,IAAc;EAC1B,OACI,MAAMF,UAAU,CAACC,OAAX,CAAmB;IACrBE,KAAK,EAAE;MACHD,EAAE,EAAEA;IADD;EADc,CAAnB,CADV;AAOH,CARD;;AAUA,MAAME,WAAW,GAAG,MAAOD,KAAP,IAAiB;EACjC;EACA,OACI,MAAMH,UAAU,CAACK,OAAX,CAAmB;IACrBF,KAAK,EAAEA;EADc,CAAnB,CADV;AAMH,CARD;;AAUA,MAAMG,MAAM,GAAG,OAAOC,MAAP,EAAeJ,KAAf,KAAyB;EACpC,MAAMH,UAAU,CAACM,MAAX,CAAkBC,MAAlB,EAA0B;IAC5BJ,KAAK,EAAEA;EADqB,CAA1B,CAAN;AAGH,CAJD;;AAMA,MAAMK,YAAY,GAAG,MAAOL,KAAP,IAAiB;EAClC,OACI,MAAMH,UAAU,CAACM,MAAX,CAAkB;IAAEG,MAAM,EAAE;EAAV,CAAlB,EAAwC;IAC1CN,KAAK,EAAEA;EADmC,CAAxC,CADV;AAMH,CAPD;;AASA,MAAMO,cAAc,GAAG,MAAOC,IAAP,IAAgB;EACnC,OACI,MAAMX,UAAU,CAACY,MAAX,CAAkB;IACpBC,IAAI,EAAEF,IAAI,CAACE,IADS;IAEpBC,WAAW,EAAEH,IAAI,CAACG;EAFE,CAAlB,CADV;AAMH,CAPD;;AAQAC,MAAM,CAACC,OAAP,GAAiB;EAAEV,MAAF;EAAUE,YAAV;EAAwBJ,WAAxB;EAAqCH,OAArC;EAA8CS;AAA9C,CAAjB"}},"mtime":1666281032466},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\routes\\\\campaigns.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _campaign = require(\"../controller/campaign.controller\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.get(\"/\", _campaign.handleGetAllCampaign);\nrouter.post(\"/add\", _campaign.handleCreateNewCampaign);\nrouter.patch(\"/update\", _campaign.updateCampaign); //delete nhung ma la update status == 'Finished'\n\nrouter.patch(\"/delete/:id\", _campaign.deleteCampaignV2);\nrouter.get(\"/:id\", _campaign.handleGetCampaignById);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwiaGFuZGxlR2V0QWxsQ2FtcGFpZ24iLCJwb3N0IiwiaGFuZGxlQ3JlYXRlTmV3Q2FtcGFpZ24iLCJwYXRjaCIsInVwZGF0ZUNhbXBhaWduIiwiZGVsZXRlQ2FtcGFpZ25WMiIsImhhbmRsZUdldENhbXBhaWduQnlJZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxDb2RlXFxGUFRfU3ViamVjdFxcU1dQXFxIUk1TX0JFXFxzcmNcXHJvdXRlc1xcIiwic291cmNlcyI6WyJjYW1wYWlnbnMucm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IHtcclxuICBoYW5kbGVHZXRBbGxDYW1wYWlnbixcclxuICBoYW5kbGVDcmVhdGVOZXdDYW1wYWlnbixcclxuICB1cGRhdGVDYW1wYWlnbixcclxuICBkZWxldGVDYW1wYWlnblYyLFxyXG4gIGhhbmRsZUdldENhbXBhaWduQnlJZCxcclxufSBmcm9tIFwiLi4vY29udHJvbGxlci9jYW1wYWlnbi5jb250cm9sbGVyXCI7XHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyLmdldChcIi9cIiwgaGFuZGxlR2V0QWxsQ2FtcGFpZ24pO1xyXG5yb3V0ZXIucG9zdChcIi9hZGRcIiwgaGFuZGxlQ3JlYXRlTmV3Q2FtcGFpZ24pO1xyXG5yb3V0ZXIucGF0Y2goXCIvdXBkYXRlXCIsIHVwZGF0ZUNhbXBhaWduKTtcclxuLy9kZWxldGUgbmh1bmcgbWEgbGEgdXBkYXRlIHN0YXR1cyA9PSAnRmluaXNoZWQnXHJcbnJvdXRlci5wYXRjaChcIi9kZWxldGUvOmlkXCIsIGRlbGV0ZUNhbXBhaWduVjIpO1xyXG5yb3V0ZXIuZ2V0KFwiLzppZFwiLCBoYW5kbGVHZXRDYW1wYWlnbkJ5SWQpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7OztBQVFBLE1BQU1BLE1BQU0sR0FBR0MsZ0JBQUEsQ0FBUUMsTUFBUixFQUFmOztBQUVBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxHQUFYLEVBQWdCQyw4QkFBaEI7QUFDQUosTUFBTSxDQUFDSyxJQUFQLENBQVksTUFBWixFQUFvQkMsaUNBQXBCO0FBQ0FOLE1BQU0sQ0FBQ08sS0FBUCxDQUFhLFNBQWIsRUFBd0JDLHdCQUF4QixFLENBQ0E7O0FBQ0FSLE1BQU0sQ0FBQ08sS0FBUCxDQUFhLGFBQWIsRUFBNEJFLDBCQUE1QjtBQUNBVCxNQUFNLENBQUNHLEdBQVAsQ0FBVyxNQUFYLEVBQW1CTywrQkFBbkI7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCWixNQUFqQiJ9","map":{"version":3,"names":["router","express","Router","get","handleGetAllCampaign","post","handleCreateNewCampaign","patch","updateCampaign","deleteCampaignV2","handleGetCampaignById","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\routes\\","sources":["campaigns.route.js"],"sourcesContent":["import express from \"express\";\r\nimport {\r\n  handleGetAllCampaign,\r\n  handleCreateNewCampaign,\r\n  updateCampaign,\r\n  deleteCampaignV2,\r\n  handleGetCampaignById,\r\n} from \"../controller/campaign.controller\";\r\n\r\nconst router = express.Router();\r\n\r\nrouter.get(\"/\", handleGetAllCampaign);\r\nrouter.post(\"/add\", handleCreateNewCampaign);\r\nrouter.patch(\"/update\", updateCampaign);\r\n//delete nhung ma la update status == 'Finished'\r\nrouter.patch(\"/delete/:id\", deleteCampaignV2);\r\nrouter.get(\"/:id\", handleGetCampaignById);\r\n\r\nmodule.exports = router;\r\n"],"mappings":";;AAAA;;AACA;;;;AAQA,MAAMA,MAAM,GAAGC,gBAAA,CAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgBC,8BAAhB;AACAJ,MAAM,CAACK,IAAP,CAAY,MAAZ,EAAoBC,iCAApB;AACAN,MAAM,CAACO,KAAP,CAAa,SAAb,EAAwBC,wBAAxB,E,CACA;;AACAR,MAAM,CAACO,KAAP,CAAa,aAAb,EAA4BE,0BAA5B;AACAT,MAAM,CAACG,GAAP,CAAW,MAAX,EAAmBO,+BAAnB;AAEAC,MAAM,CAACC,OAAP,GAAiBZ,MAAjB"}},"mtime":1666314233022},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\controller\\\\campaign.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst campaignService = require(\"../service/campaignService\");\n\nconst campaignRepository = require(\"../repository/campaign.repository\");\n\nconst handleGetAllCampaign = async (req, res) => {\n  let campaigns = await campaignService.getAllCampaign();\n  return res.json({\n    campaigns\n  });\n};\n\nconst handleCreateNewCampaign = async (req, res, next) => {\n  try {\n    let message = await campaignService.createNewCampaign(req.body);\n    return res.status(200).json(message);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst updateCampaign = async (req, res, next) => {\n  try {\n    await campaignService.updateCampaign(req, res);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst deleteCampaignV2 = async (req, res, next) => {\n  try {\n    await campaignService.updateStatus(req, res);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetCampaignById = async (req, res, next) => {\n  try {\n    const id = req.params.id;\n    let campaign = await campaignRepository.getCampaignById(id);\n    return res.json({\n      campaign\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\nmodule.exports = {\n  handleGetAllCampaign,\n  handleCreateNewCampaign,\n  updateCampaign,\n  deleteCampaignV2,\n  handleGetCampaignById\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYW1wYWlnblNlcnZpY2UiLCJyZXF1aXJlIiwiY2FtcGFpZ25SZXBvc2l0b3J5IiwiaGFuZGxlR2V0QWxsQ2FtcGFpZ24iLCJyZXEiLCJyZXMiLCJjYW1wYWlnbnMiLCJnZXRBbGxDYW1wYWlnbiIsImpzb24iLCJoYW5kbGVDcmVhdGVOZXdDYW1wYWlnbiIsIm5leHQiLCJtZXNzYWdlIiwiY3JlYXRlTmV3Q2FtcGFpZ24iLCJib2R5Iiwic3RhdHVzIiwiZXJyb3IiLCJ1cGRhdGVDYW1wYWlnbiIsImRlbGV0ZUNhbXBhaWduVjIiLCJ1cGRhdGVTdGF0dXMiLCJoYW5kbGVHZXRDYW1wYWlnbkJ5SWQiLCJpZCIsInBhcmFtcyIsImNhbXBhaWduIiwiZ2V0Q2FtcGFpZ25CeUlkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXENvZGVcXEZQVF9TdWJqZWN0XFxTV1BcXEhSTVNfQkVcXHNyY1xcY29udHJvbGxlclxcIiwic291cmNlcyI6WyJjYW1wYWlnbi5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNhbXBhaWduU2VydmljZSA9IHJlcXVpcmUoXCIuLi9zZXJ2aWNlL2NhbXBhaWduU2VydmljZVwiKTtcclxuY29uc3QgY2FtcGFpZ25SZXBvc2l0b3J5ID0gcmVxdWlyZShcIi4uL3JlcG9zaXRvcnkvY2FtcGFpZ24ucmVwb3NpdG9yeVwiKTtcclxuXHJcbmNvbnN0IGhhbmRsZUdldEFsbENhbXBhaWduID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgbGV0IGNhbXBhaWducyA9IGF3YWl0IGNhbXBhaWduU2VydmljZS5nZXRBbGxDYW1wYWlnbigpO1xyXG4gIHJldHVybiByZXMuanNvbih7IGNhbXBhaWducyB9KTtcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZUNyZWF0ZU5ld0NhbXBhaWduID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGxldCBtZXNzYWdlID0gYXdhaXQgY2FtcGFpZ25TZXJ2aWNlLmNyZWF0ZU5ld0NhbXBhaWduKHJlcS5ib2R5KTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihtZXNzYWdlKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgbmV4dChlcnJvcik7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgdXBkYXRlQ2FtcGFpZ24gPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgY2FtcGFpZ25TZXJ2aWNlLnVwZGF0ZUNhbXBhaWduKHJlcSwgcmVzKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgbmV4dChlcnJvcik7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgZGVsZXRlQ2FtcGFpZ25WMiA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCBjYW1wYWlnblNlcnZpY2UudXBkYXRlU3RhdHVzKHJlcSwgcmVzKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgbmV4dChlcnJvcik7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlR2V0Q2FtcGFpZ25CeUlkID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGlkID0gcmVxLnBhcmFtcy5pZDtcclxuICAgIGxldCBjYW1wYWlnbiA9IGF3YWl0IGNhbXBhaWduUmVwb3NpdG9yeS5nZXRDYW1wYWlnbkJ5SWQoaWQpO1xyXG4gICAgcmV0dXJuIHJlcy5qc29uKHsgY2FtcGFpZ24gfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIG5leHQoZXJyb3IpO1xyXG4gIH1cclxufTtcclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgaGFuZGxlR2V0QWxsQ2FtcGFpZ24sXHJcbiAgaGFuZGxlQ3JlYXRlTmV3Q2FtcGFpZ24sXHJcbiAgdXBkYXRlQ2FtcGFpZ24sXHJcbiAgZGVsZXRlQ2FtcGFpZ25WMixcclxuICBoYW5kbGVHZXRDYW1wYWlnbkJ5SWQsXHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxlQUFlLEdBQUdDLE9BQU8sQ0FBQyw0QkFBRCxDQUEvQjs7QUFDQSxNQUFNQyxrQkFBa0IsR0FBR0QsT0FBTyxDQUFDLG1DQUFELENBQWxDOztBQUVBLE1BQU1FLG9CQUFvQixHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtFQUMvQyxJQUFJQyxTQUFTLEdBQUcsTUFBTU4sZUFBZSxDQUFDTyxjQUFoQixFQUF0QjtFQUNBLE9BQU9GLEdBQUcsQ0FBQ0csSUFBSixDQUFTO0lBQUVGO0VBQUYsQ0FBVCxDQUFQO0FBQ0QsQ0FIRDs7QUFLQSxNQUFNRyx1QkFBdUIsR0FBRyxPQUFPTCxHQUFQLEVBQVlDLEdBQVosRUFBaUJLLElBQWpCLEtBQTBCO0VBQ3hELElBQUk7SUFDRixJQUFJQyxPQUFPLEdBQUcsTUFBTVgsZUFBZSxDQUFDWSxpQkFBaEIsQ0FBa0NSLEdBQUcsQ0FBQ1MsSUFBdEMsQ0FBcEI7SUFDQSxPQUFPUixHQUFHLENBQUNTLE1BQUosQ0FBVyxHQUFYLEVBQWdCTixJQUFoQixDQUFxQkcsT0FBckIsQ0FBUDtFQUNELENBSEQsQ0FHRSxPQUFPSSxLQUFQLEVBQWM7SUFDZEwsSUFBSSxDQUFDSyxLQUFELENBQUo7RUFDRDtBQUNGLENBUEQ7O0FBU0EsTUFBTUMsY0FBYyxHQUFHLE9BQU9aLEdBQVAsRUFBWUMsR0FBWixFQUFpQkssSUFBakIsS0FBMEI7RUFDL0MsSUFBSTtJQUNGLE1BQU1WLGVBQWUsQ0FBQ2dCLGNBQWhCLENBQStCWixHQUEvQixFQUFvQ0MsR0FBcEMsQ0FBTjtFQUNELENBRkQsQ0FFRSxPQUFPVSxLQUFQLEVBQWM7SUFDZEwsSUFBSSxDQUFDSyxLQUFELENBQUo7RUFDRDtBQUNGLENBTkQ7O0FBUUEsTUFBTUUsZ0JBQWdCLEdBQUcsT0FBT2IsR0FBUCxFQUFZQyxHQUFaLEVBQWlCSyxJQUFqQixLQUEwQjtFQUNqRCxJQUFJO0lBQ0YsTUFBTVYsZUFBZSxDQUFDa0IsWUFBaEIsQ0FBNkJkLEdBQTdCLEVBQWtDQyxHQUFsQyxDQUFOO0VBQ0QsQ0FGRCxDQUVFLE9BQU9VLEtBQVAsRUFBYztJQUNkTCxJQUFJLENBQUNLLEtBQUQsQ0FBSjtFQUNEO0FBQ0YsQ0FORDs7QUFRQSxNQUFNSSxxQkFBcUIsR0FBRyxPQUFPZixHQUFQLEVBQVlDLEdBQVosRUFBaUJLLElBQWpCLEtBQTBCO0VBQ3RELElBQUk7SUFDRixNQUFNVSxFQUFFLEdBQUdoQixHQUFHLENBQUNpQixNQUFKLENBQVdELEVBQXRCO0lBQ0EsSUFBSUUsUUFBUSxHQUFHLE1BQU1wQixrQkFBa0IsQ0FBQ3FCLGVBQW5CLENBQW1DSCxFQUFuQyxDQUFyQjtJQUNBLE9BQU9mLEdBQUcsQ0FBQ0csSUFBSixDQUFTO01BQUVjO0lBQUYsQ0FBVCxDQUFQO0VBQ0QsQ0FKRCxDQUlFLE9BQU9QLEtBQVAsRUFBYztJQUNkTCxJQUFJLENBQUNLLEtBQUQsQ0FBSjtFQUNEO0FBQ0YsQ0FSRDs7QUFTQVMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2Z0QixvQkFEZTtFQUVmTSx1QkFGZTtFQUdmTyxjQUhlO0VBSWZDLGdCQUplO0VBS2ZFO0FBTGUsQ0FBakIifQ==","map":{"version":3,"names":["campaignService","require","campaignRepository","handleGetAllCampaign","req","res","campaigns","getAllCampaign","json","handleCreateNewCampaign","next","message","createNewCampaign","body","status","error","updateCampaign","deleteCampaignV2","updateStatus","handleGetCampaignById","id","params","campaign","getCampaignById","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\controller\\","sources":["campaign.controller.js"],"sourcesContent":["const campaignService = require(\"../service/campaignService\");\r\nconst campaignRepository = require(\"../repository/campaign.repository\");\r\n\r\nconst handleGetAllCampaign = async (req, res) => {\r\n  let campaigns = await campaignService.getAllCampaign();\r\n  return res.json({ campaigns });\r\n};\r\n\r\nconst handleCreateNewCampaign = async (req, res, next) => {\r\n  try {\r\n    let message = await campaignService.createNewCampaign(req.body);\r\n    return res.status(200).json(message);\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\n\r\nconst updateCampaign = async (req, res, next) => {\r\n  try {\r\n    await campaignService.updateCampaign(req, res);\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\n\r\nconst deleteCampaignV2 = async (req, res, next) => {\r\n  try {\r\n    await campaignService.updateStatus(req, res);\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\n\r\nconst handleGetCampaignById = async (req, res, next) => {\r\n  try {\r\n    const id = req.params.id;\r\n    let campaign = await campaignRepository.getCampaignById(id);\r\n    return res.json({ campaign });\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\nmodule.exports = {\r\n  handleGetAllCampaign,\r\n  handleCreateNewCampaign,\r\n  updateCampaign,\r\n  deleteCampaignV2,\r\n  handleGetCampaignById,\r\n};\r\n"],"mappings":";;AAAA,MAAMA,eAAe,GAAGC,OAAO,CAAC,4BAAD,CAA/B;;AACA,MAAMC,kBAAkB,GAAGD,OAAO,CAAC,mCAAD,CAAlC;;AAEA,MAAME,oBAAoB,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;EAC/C,IAAIC,SAAS,GAAG,MAAMN,eAAe,CAACO,cAAhB,EAAtB;EACA,OAAOF,GAAG,CAACG,IAAJ,CAAS;IAAEF;EAAF,CAAT,CAAP;AACD,CAHD;;AAKA,MAAMG,uBAAuB,GAAG,OAAOL,GAAP,EAAYC,GAAZ,EAAiBK,IAAjB,KAA0B;EACxD,IAAI;IACF,IAAIC,OAAO,GAAG,MAAMX,eAAe,CAACY,iBAAhB,CAAkCR,GAAG,CAACS,IAAtC,CAApB;IACA,OAAOR,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBN,IAAhB,CAAqBG,OAArB,CAAP;EACD,CAHD,CAGE,OAAOI,KAAP,EAAc;IACdL,IAAI,CAACK,KAAD,CAAJ;EACD;AACF,CAPD;;AASA,MAAMC,cAAc,GAAG,OAAOZ,GAAP,EAAYC,GAAZ,EAAiBK,IAAjB,KAA0B;EAC/C,IAAI;IACF,MAAMV,eAAe,CAACgB,cAAhB,CAA+BZ,GAA/B,EAAoCC,GAApC,CAAN;EACD,CAFD,CAEE,OAAOU,KAAP,EAAc;IACdL,IAAI,CAACK,KAAD,CAAJ;EACD;AACF,CAND;;AAQA,MAAME,gBAAgB,GAAG,OAAOb,GAAP,EAAYC,GAAZ,EAAiBK,IAAjB,KAA0B;EACjD,IAAI;IACF,MAAMV,eAAe,CAACkB,YAAhB,CAA6Bd,GAA7B,EAAkCC,GAAlC,CAAN;EACD,CAFD,CAEE,OAAOU,KAAP,EAAc;IACdL,IAAI,CAACK,KAAD,CAAJ;EACD;AACF,CAND;;AAQA,MAAMI,qBAAqB,GAAG,OAAOf,GAAP,EAAYC,GAAZ,EAAiBK,IAAjB,KAA0B;EACtD,IAAI;IACF,MAAMU,EAAE,GAAGhB,GAAG,CAACiB,MAAJ,CAAWD,EAAtB;IACA,IAAIE,QAAQ,GAAG,MAAMpB,kBAAkB,CAACqB,eAAnB,CAAmCH,EAAnC,CAArB;IACA,OAAOf,GAAG,CAACG,IAAJ,CAAS;MAAEc;IAAF,CAAT,CAAP;EACD,CAJD,CAIE,OAAOP,KAAP,EAAc;IACdL,IAAI,CAACK,KAAD,CAAJ;EACD;AACF,CARD;;AASAS,MAAM,CAACC,OAAP,GAAiB;EACftB,oBADe;EAEfM,uBAFe;EAGfO,cAHe;EAIfC,gBAJe;EAKfE;AALe,CAAjB"}},"mtime":1666411097456},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\service\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\service\\\\campaignService.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _httpStatus = _interopRequireDefault(require(\"http-status\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst campaignRepository = require(\"../repository/campaign.repository\");\n\nconst {\n  ApiError\n} = require(\"../middleware/apiError\"); // lấy tất cả campaign ngoại trừ Hidden campaign(DONE)\n\n\nconst getAllCampaign = () => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const where = {\n        status: [\"Not started\", \"Processing\", \"Finished\"]\n      };\n      let campaign = await campaignRepository.findAll(where);\n      resolve(campaign);\n    } catch (error) {\n      reject(error);\n    }\n  });\n}; //===============================================================================\n\n\nconst createNewCampaign = data => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const iStatus = data.status;\n\n      if (!(iStatus === \"Not started\" || iStatus === \"Processing\" || iStatus === \"Finished\")) {\n        reject({\n          errMsg: \"wrong status\"\n        });\n      }\n\n      const campaign = await campaignRepository.createNewCampaign(data, iStatus);\n      resolve(campaign);\n    } catch (error) {\n      reject(error);\n    }\n  });\n}; //===============================================================================\n\n\nconst updateCampaign = async (req, res) => {\n  try {\n    const data = req.body;\n\n    if (!data.id) {\n      throw new ApiError(_httpStatus.default.BAD_REQUEST, \"Missing id\");\n    }\n\n    const campaign = await campaignRepository.getCampaignById(data.id);\n\n    if (campaign) {\n      await campaignRepository.update(data, {\n        id: data.id\n      });\n      return res.send(\"Updated campaign successfully\");\n    }\n  } catch (error) {\n    throw error;\n  }\n}; //===============================================================================\n//update campaign status to Finished = delete it\n//Delete campaign\n\n\nconst updateStatus = async (req, res) => {\n  try {\n    const id = req.params.id;\n    let campaign = await campaignRepository.getCampaignById(id);\n\n    if (!campaign) {\n      throw new ApiError(_httpStatus.default.BAD_REQUEST, \"Campaign not found...\");\n    }\n\n    await campaignRepository.updateStatus({\n      id: id\n    });\n    return res.send(\"delete successfully\");\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getCampaignById = campaignId => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let campaign = await campaignRepository.findOne({\n        where: {\n          id: campaignId\n        }\n      });\n\n      if (!campaign) {\n        resolve({\n          errCode: 2,\n          errMsg: \"Campaign not found\"\n        });\n      }\n\n      resolve(campaign);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nmodule.exports = {\n  getAllCampaign,\n  createNewCampaign,\n  updateCampaign,\n  getCampaignById,\n  updateStatus\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYW1wYWlnblJlcG9zaXRvcnkiLCJyZXF1aXJlIiwiQXBpRXJyb3IiLCJnZXRBbGxDYW1wYWlnbiIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwid2hlcmUiLCJzdGF0dXMiLCJjYW1wYWlnbiIsImZpbmRBbGwiLCJlcnJvciIsImNyZWF0ZU5ld0NhbXBhaWduIiwiZGF0YSIsImlTdGF0dXMiLCJlcnJNc2ciLCJ1cGRhdGVDYW1wYWlnbiIsInJlcSIsInJlcyIsImJvZHkiLCJpZCIsImh0dHBTdGF0dXMiLCJCQURfUkVRVUVTVCIsImdldENhbXBhaWduQnlJZCIsInVwZGF0ZSIsInNlbmQiLCJ1cGRhdGVTdGF0dXMiLCJwYXJhbXMiLCJjYW1wYWlnbklkIiwiZmluZE9uZSIsImVyckNvZGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcQ29kZVxcRlBUX1N1YmplY3RcXFNXUFxcSFJNU19CRVxcc3JjXFxzZXJ2aWNlXFwiLCJzb3VyY2VzIjpbImNhbXBhaWduU2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaHR0cFN0YXR1cyBmcm9tIFwiaHR0cC1zdGF0dXNcIjtcclxuY29uc3QgY2FtcGFpZ25SZXBvc2l0b3J5ID0gcmVxdWlyZShcIi4uL3JlcG9zaXRvcnkvY2FtcGFpZ24ucmVwb3NpdG9yeVwiKTtcclxuY29uc3QgeyBBcGlFcnJvciB9ID0gcmVxdWlyZShcIi4uL21pZGRsZXdhcmUvYXBpRXJyb3JcIik7XHJcblxyXG4vLyBs4bqleSB04bqldCBj4bqjIGNhbXBhaWduIG5nb+G6oWkgdHLhu6sgSGlkZGVuIGNhbXBhaWduKERPTkUpXHJcbmNvbnN0IGdldEFsbENhbXBhaWduID0gKCkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB3aGVyZSA9IHsgc3RhdHVzOiBbXCJOb3Qgc3RhcnRlZFwiLCBcIlByb2Nlc3NpbmdcIiwgXCJGaW5pc2hlZFwiXSB9O1xyXG4gICAgICBsZXQgY2FtcGFpZ24gPSBhd2FpdCBjYW1wYWlnblJlcG9zaXRvcnkuZmluZEFsbCh3aGVyZSk7XHJcbiAgICAgIHJlc29sdmUoY2FtcGFpZ24pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuY29uc3QgY3JlYXRlTmV3Q2FtcGFpZ24gPSAoZGF0YSkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBpU3RhdHVzID0gZGF0YS5zdGF0dXM7XHJcbiAgICAgIGlmIChcclxuICAgICAgICAhKFxyXG4gICAgICAgICAgaVN0YXR1cyA9PT0gXCJOb3Qgc3RhcnRlZFwiIHx8XHJcbiAgICAgICAgICBpU3RhdHVzID09PSBcIlByb2Nlc3NpbmdcIiB8fFxyXG4gICAgICAgICAgaVN0YXR1cyA9PT0gXCJGaW5pc2hlZFwiXHJcbiAgICAgICAgKVxyXG4gICAgICApIHtcclxuICAgICAgICByZWplY3Qoe1xyXG4gICAgICAgICAgZXJyTXNnOiBcIndyb25nIHN0YXR1c1wiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IGNhbXBhaWduID0gYXdhaXQgY2FtcGFpZ25SZXBvc2l0b3J5LmNyZWF0ZU5ld0NhbXBhaWduKFxyXG4gICAgICAgIGRhdGEsXHJcbiAgICAgICAgaVN0YXR1c1xyXG4gICAgICApO1xyXG4gICAgICByZXNvbHZlKGNhbXBhaWduKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmNvbnN0IHVwZGF0ZUNhbXBhaWduID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRhdGEgPSByZXEuYm9keTtcclxuICAgIGlmICghZGF0YS5pZCkge1xyXG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5CQURfUkVRVUVTVCwgXCJNaXNzaW5nIGlkXCIpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgY2FtcGFpZ24gPSBhd2FpdCBjYW1wYWlnblJlcG9zaXRvcnkuZ2V0Q2FtcGFpZ25CeUlkKGRhdGEuaWQpO1xyXG5cclxuICAgIGlmIChjYW1wYWlnbikge1xyXG4gICAgICBhd2FpdCBjYW1wYWlnblJlcG9zaXRvcnkudXBkYXRlKGRhdGEsIHsgaWQ6IGRhdGEuaWQgfSk7XHJcbiAgICAgIHJldHVybiByZXMuc2VuZChcIlVwZGF0ZWQgY2FtcGFpZ24gc3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcblxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8vdXBkYXRlIGNhbXBhaWduIHN0YXR1cyB0byBGaW5pc2hlZCA9IGRlbGV0ZSBpdFxyXG4vL0RlbGV0ZSBjYW1wYWlnblxyXG5jb25zdCB1cGRhdGVTdGF0dXMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgaWQgPSByZXEucGFyYW1zLmlkO1xyXG5cclxuICAgIGxldCBjYW1wYWlnbiA9IGF3YWl0IGNhbXBhaWduUmVwb3NpdG9yeS5nZXRDYW1wYWlnbkJ5SWQoaWQpO1xyXG4gICAgaWYgKCFjYW1wYWlnbikge1xyXG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5CQURfUkVRVUVTVCwgXCJDYW1wYWlnbiBub3QgZm91bmQuLi5cIik7XHJcbiAgICB9XHJcbiAgICBhd2FpdCBjYW1wYWlnblJlcG9zaXRvcnkudXBkYXRlU3RhdHVzKHsgaWQ6IGlkIH0pO1xyXG4gICAgcmV0dXJuIHJlcy5zZW5kKFwiZGVsZXRlIHN1Y2Nlc3NmdWxseVwiKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgZ2V0Q2FtcGFpZ25CeUlkID0gKGNhbXBhaWduSWQpID0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IGNhbXBhaWduID0gYXdhaXQgY2FtcGFpZ25SZXBvc2l0b3J5LmZpbmRPbmUoe1xyXG4gICAgICAgIHdoZXJlOiB7IGlkOiBjYW1wYWlnbklkIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAoIWNhbXBhaWduKSB7XHJcbiAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICBlcnJDb2RlOiAyLFxyXG4gICAgICAgICAgZXJyTXNnOiBcIkNhbXBhaWduIG5vdCBmb3VuZFwiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIHJlc29sdmUoY2FtcGFpZ24pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIGdldEFsbENhbXBhaWduLFxyXG4gIGNyZWF0ZU5ld0NhbXBhaWduLFxyXG4gIHVwZGF0ZUNhbXBhaWduLFxyXG4gIGdldENhbXBhaWduQnlJZCxcclxuICB1cGRhdGVTdGF0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","map":{"version":3,"names":["campaignRepository","require","ApiError","getAllCampaign","Promise","resolve","reject","where","status","campaign","findAll","error","createNewCampaign","data","iStatus","errMsg","updateCampaign","req","res","body","id","httpStatus","BAD_REQUEST","getCampaignById","update","send","updateStatus","params","campaignId","findOne","errCode","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\service\\","sources":["campaignService.js"],"sourcesContent":["import httpStatus from \"http-status\";\r\nconst campaignRepository = require(\"../repository/campaign.repository\");\r\nconst { ApiError } = require(\"../middleware/apiError\");\r\n\r\n// lấy tất cả campaign ngoại trừ Hidden campaign(DONE)\r\nconst getAllCampaign = () => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      const where = { status: [\"Not started\", \"Processing\", \"Finished\"] };\r\n      let campaign = await campaignRepository.findAll(where);\r\n      resolve(campaign);\r\n    } catch (error) {\r\n      reject(error);\r\n    }\r\n  });\r\n};\r\n\r\n//===============================================================================\r\n\r\nconst createNewCampaign = (data) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      const iStatus = data.status;\r\n      if (\r\n        !(\r\n          iStatus === \"Not started\" ||\r\n          iStatus === \"Processing\" ||\r\n          iStatus === \"Finished\"\r\n        )\r\n      ) {\r\n        reject({\r\n          errMsg: \"wrong status\",\r\n        });\r\n      }\r\n      const campaign = await campaignRepository.createNewCampaign(\r\n        data,\r\n        iStatus\r\n      );\r\n      resolve(campaign);\r\n    } catch (error) {\r\n      reject(error);\r\n    }\r\n  });\r\n};\r\n\r\n//===============================================================================\r\n\r\nconst updateCampaign = async (req, res) => {\r\n  try {\r\n    const data = req.body;\r\n    if (!data.id) {\r\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Missing id\");\r\n    }\r\n    const campaign = await campaignRepository.getCampaignById(data.id);\r\n\r\n    if (campaign) {\r\n      await campaignRepository.update(data, { id: data.id });\r\n      return res.send(\"Updated campaign successfully\");\r\n    }\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n//===============================================================================\r\n\r\n//update campaign status to Finished = delete it\r\n//Delete campaign\r\nconst updateStatus = async (req, res) => {\r\n  try {\r\n    const id = req.params.id;\r\n\r\n    let campaign = await campaignRepository.getCampaignById(id);\r\n    if (!campaign) {\r\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Campaign not found...\");\r\n    }\r\n    await campaignRepository.updateStatus({ id: id });\r\n    return res.send(\"delete successfully\");\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getCampaignById = (campaignId) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let campaign = await campaignRepository.findOne({\r\n        where: { id: campaignId },\r\n      });\r\n      if (!campaign) {\r\n        resolve({\r\n          errCode: 2,\r\n          errMsg: \"Campaign not found\",\r\n        });\r\n      }\r\n      resolve(campaign);\r\n    } catch (error) {\r\n      reject(error);\r\n    }\r\n  });\r\n};\r\n\r\nmodule.exports = {\r\n  getAllCampaign,\r\n  createNewCampaign,\r\n  updateCampaign,\r\n  getCampaignById,\r\n  updateStatus,\r\n};\r\n"],"mappings":"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"}},"mtime":1666409068567},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\repository\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\repository\\\\campaign.repository.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _sequelize = require(\"sequelize\");\n\nvar _index = require(\"../models/index.js\");\n\nconst db = require(\"../models\");\n\nconst findAll = async where => {\n  return await db.Campaigns.findAll({\n    where: where\n  });\n};\n\nconst createNewCampaign = async (data, iStatus) => {\n  return await db.Campaigns.create({\n    title: data.title,\n    description: data.description,\n    start_date: data.start_date,\n    end_date: data.end_date,\n    status: iStatus\n  });\n};\n\nconst getCampaignById = async id => {\n  var _await$db$Campaigns$f;\n\n  return (_await$db$Campaigns$f = await db.Campaigns.findOne({\n    where: {\n      id: id\n    }\n  })) === null || _await$db$Campaigns$f === void 0 ? void 0 : _await$db$Campaigns$f.dataValues;\n};\n\nconst update = async (newObj, where) => {\n  await db.Campaigns.update(newObj, {\n    where: where\n  });\n};\n\nconst updateStatus = async where => {\n  return await db.Campaigns.update({\n    status: \"Hidden\"\n  }, {\n    where: where\n  });\n};\n\nmodule.exports = {\n  findAll,\n  createNewCampaign,\n  update,\n  updateStatus,\n  getCampaignById\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYiIsInJlcXVpcmUiLCJmaW5kQWxsIiwid2hlcmUiLCJDYW1wYWlnbnMiLCJjcmVhdGVOZXdDYW1wYWlnbiIsImRhdGEiLCJpU3RhdHVzIiwiY3JlYXRlIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInN0YXJ0X2RhdGUiLCJlbmRfZGF0ZSIsInN0YXR1cyIsImdldENhbXBhaWduQnlJZCIsImlkIiwiZmluZE9uZSIsImRhdGFWYWx1ZXMiLCJ1cGRhdGUiLCJuZXdPYmoiLCJ1cGRhdGVTdGF0dXMiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcQ29kZVxcRlBUX1N1YmplY3RcXFNXUFxcSFJNU19CRVxcc3JjXFxyZXBvc2l0b3J5XFwiLCJzb3VyY2VzIjpbImNhbXBhaWduLnJlcG9zaXRvcnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGIgPSByZXF1aXJlKFwiLi4vbW9kZWxzXCIpO1xyXG5pbXBvcnQgeyB3aGVyZSB9IGZyb20gXCJzZXF1ZWxpemVcIjtcclxuaW1wb3J0IHsgc2VxdWVsaXplIH0gZnJvbSBcIi4uL21vZGVscy9pbmRleC5qc1wiO1xyXG5cclxuY29uc3QgZmluZEFsbCA9IGFzeW5jICh3aGVyZSkgPT4ge1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgYXdhaXQgZGIuQ2FtcGFpZ25zLmZpbmRBbGwoe1xyXG4gICAgICAgICAgICB3aGVyZTogd2hlcmVcclxuICAgICAgICB9KVxyXG4gICAgKVxyXG59XHJcbmNvbnN0IGNyZWF0ZU5ld0NhbXBhaWduID0gYXN5bmMgKGRhdGEsIGlTdGF0dXMpID0+IHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgYXdhaXQgZGIuQ2FtcGFpZ25zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIHRpdGxlOiBkYXRhLnRpdGxlLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGF0YS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgc3RhcnRfZGF0ZTogZGF0YS5zdGFydF9kYXRlLFxyXG4gICAgICAgICAgICBlbmRfZGF0ZTogZGF0YS5lbmRfZGF0ZSxcclxuICAgICAgICAgICAgc3RhdHVzOiBpU3RhdHVzLFxyXG4gICAgICAgIH0pXHJcbiAgICApXHJcblxyXG59XHJcbmNvbnN0IGdldENhbXBhaWduQnlJZCA9IGFzeW5jIChpZCkgPT4ge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICBhd2FpdCBkYi5DYW1wYWlnbnMuZmluZE9uZSh7XHJcbiAgICAgICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICAgICAgICBpZDogaWQsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSlcclxuICAgICk/LmRhdGFWYWx1ZXM7XHJcbn07XHJcblxyXG5jb25zdCB1cGRhdGUgPSBhc3luYyAobmV3T2JqLCB3aGVyZSkgPT4ge1xyXG4gICAgYXdhaXQgZGIuQ2FtcGFpZ25zLnVwZGF0ZShuZXdPYmosIHtcclxuICAgICAgICB3aGVyZTogd2hlcmUsXHJcbiAgICB9KTtcclxufTtcclxuY29uc3QgdXBkYXRlU3RhdHVzID0gYXN5bmMgKHdoZXJlKSA9PiB7XHJcbiAgICByZXR1cm4gKFxyXG5cclxuICAgICAgICBhd2FpdCBkYi5DYW1wYWlnbnMudXBkYXRlKHsgc3RhdHVzOiBcIkhpZGRlblwiIH0sIHtcclxuICAgICAgICAgICAgd2hlcmU6IHdoZXJlLFxyXG4gICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICApXHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGZpbmRBbGwsXHJcbiAgICBjcmVhdGVOZXdDYW1wYWlnbixcclxuICAgIHVwZGF0ZSxcclxuICAgIHVwZGF0ZVN0YXR1cyxcclxuICAgIGdldENhbXBhaWduQnlJZCxcclxufSJdLCJtYXBwaW5ncyI6Ijs7QUFDQTs7QUFDQTs7QUFGQSxNQUFNQSxFQUFFLEdBQUdDLE9BQU8sQ0FBQyxXQUFELENBQWxCOztBQUlBLE1BQU1DLE9BQU8sR0FBRyxNQUFPQyxLQUFQLElBQWlCO0VBRTdCLE9BQ0ksTUFBTUgsRUFBRSxDQUFDSSxTQUFILENBQWFGLE9BQWIsQ0FBcUI7SUFDdkJDLEtBQUssRUFBRUE7RUFEZ0IsQ0FBckIsQ0FEVjtBQUtILENBUEQ7O0FBUUEsTUFBTUUsaUJBQWlCLEdBQUcsT0FBT0MsSUFBUCxFQUFhQyxPQUFiLEtBQXlCO0VBQy9DLE9BQ0ksTUFBTVAsRUFBRSxDQUFDSSxTQUFILENBQWFJLE1BQWIsQ0FBb0I7SUFDdEJDLEtBQUssRUFBRUgsSUFBSSxDQUFDRyxLQURVO0lBRXRCQyxXQUFXLEVBQUVKLElBQUksQ0FBQ0ksV0FGSTtJQUd0QkMsVUFBVSxFQUFFTCxJQUFJLENBQUNLLFVBSEs7SUFJdEJDLFFBQVEsRUFBRU4sSUFBSSxDQUFDTSxRQUpPO0lBS3RCQyxNQUFNLEVBQUVOO0VBTGMsQ0FBcEIsQ0FEVjtBQVVILENBWEQ7O0FBWUEsTUFBTU8sZUFBZSxHQUFHLE1BQU9DLEVBQVAsSUFBYztFQUFBOztFQUNsQyxnQ0FDSSxNQUFNZixFQUFFLENBQUNJLFNBQUgsQ0FBYVksT0FBYixDQUFxQjtJQUN2QmIsS0FBSyxFQUFFO01BQ0hZLEVBQUUsRUFBRUE7SUFERDtFQURnQixDQUFyQixDQURWLDBEQUFPLHNCQU1KRSxVQU5IO0FBT0gsQ0FSRDs7QUFVQSxNQUFNQyxNQUFNLEdBQUcsT0FBT0MsTUFBUCxFQUFlaEIsS0FBZixLQUF5QjtFQUNwQyxNQUFNSCxFQUFFLENBQUNJLFNBQUgsQ0FBYWMsTUFBYixDQUFvQkMsTUFBcEIsRUFBNEI7SUFDOUJoQixLQUFLLEVBQUVBO0VBRHVCLENBQTVCLENBQU47QUFHSCxDQUpEOztBQUtBLE1BQU1pQixZQUFZLEdBQUcsTUFBT2pCLEtBQVAsSUFBaUI7RUFDbEMsT0FFSSxNQUFNSCxFQUFFLENBQUNJLFNBQUgsQ0FBYWMsTUFBYixDQUFvQjtJQUFFTCxNQUFNLEVBQUU7RUFBVixDQUFwQixFQUEwQztJQUM1Q1YsS0FBSyxFQUFFQTtFQURxQyxDQUExQyxDQUZWO0FBT0gsQ0FSRDs7QUFVQWtCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNicEIsT0FEYTtFQUViRyxpQkFGYTtFQUdiYSxNQUhhO0VBSWJFLFlBSmE7RUFLYk47QUFMYSxDQUFqQiJ9","map":{"version":3,"names":["db","require","findAll","where","Campaigns","createNewCampaign","data","iStatus","create","title","description","start_date","end_date","status","getCampaignById","id","findOne","dataValues","update","newObj","updateStatus","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\repository\\","sources":["campaign.repository.js"],"sourcesContent":["const db = require(\"../models\");\r\nimport { where } from \"sequelize\";\r\nimport { sequelize } from \"../models/index.js\";\r\n\r\nconst findAll = async (where) => {\r\n\r\n    return (\r\n        await db.Campaigns.findAll({\r\n            where: where\r\n        })\r\n    )\r\n}\r\nconst createNewCampaign = async (data, iStatus) => {\r\n    return (\r\n        await db.Campaigns.create({\r\n            title: data.title,\r\n            description: data.description,\r\n            start_date: data.start_date,\r\n            end_date: data.end_date,\r\n            status: iStatus,\r\n        })\r\n    )\r\n\r\n}\r\nconst getCampaignById = async (id) => {\r\n    return (\r\n        await db.Campaigns.findOne({\r\n            where: {\r\n                id: id,\r\n            },\r\n        })\r\n    )?.dataValues;\r\n};\r\n\r\nconst update = async (newObj, where) => {\r\n    await db.Campaigns.update(newObj, {\r\n        where: where,\r\n    });\r\n};\r\nconst updateStatus = async (where) => {\r\n    return (\r\n\r\n        await db.Campaigns.update({ status: \"Hidden\" }, {\r\n            where: where,\r\n        }\r\n        )\r\n    )\r\n};\r\n\r\nmodule.exports = {\r\n    findAll,\r\n    createNewCampaign,\r\n    update,\r\n    updateStatus,\r\n    getCampaignById,\r\n}"],"mappings":";;AACA;;AACA;;AAFA,MAAMA,EAAE,GAAGC,OAAO,CAAC,WAAD,CAAlB;;AAIA,MAAMC,OAAO,GAAG,MAAOC,KAAP,IAAiB;EAE7B,OACI,MAAMH,EAAE,CAACI,SAAH,CAAaF,OAAb,CAAqB;IACvBC,KAAK,EAAEA;EADgB,CAArB,CADV;AAKH,CAPD;;AAQA,MAAME,iBAAiB,GAAG,OAAOC,IAAP,EAAaC,OAAb,KAAyB;EAC/C,OACI,MAAMP,EAAE,CAACI,SAAH,CAAaI,MAAb,CAAoB;IACtBC,KAAK,EAAEH,IAAI,CAACG,KADU;IAEtBC,WAAW,EAAEJ,IAAI,CAACI,WAFI;IAGtBC,UAAU,EAAEL,IAAI,CAACK,UAHK;IAItBC,QAAQ,EAAEN,IAAI,CAACM,QAJO;IAKtBC,MAAM,EAAEN;EALc,CAApB,CADV;AAUH,CAXD;;AAYA,MAAMO,eAAe,GAAG,MAAOC,EAAP,IAAc;EAAA;;EAClC,gCACI,MAAMf,EAAE,CAACI,SAAH,CAAaY,OAAb,CAAqB;IACvBb,KAAK,EAAE;MACHY,EAAE,EAAEA;IADD;EADgB,CAArB,CADV,0DAAO,sBAMJE,UANH;AAOH,CARD;;AAUA,MAAMC,MAAM,GAAG,OAAOC,MAAP,EAAehB,KAAf,KAAyB;EACpC,MAAMH,EAAE,CAACI,SAAH,CAAac,MAAb,CAAoBC,MAApB,EAA4B;IAC9BhB,KAAK,EAAEA;EADuB,CAA5B,CAAN;AAGH,CAJD;;AAKA,MAAMiB,YAAY,GAAG,MAAOjB,KAAP,IAAiB;EAClC,OAEI,MAAMH,EAAE,CAACI,SAAH,CAAac,MAAb,CAAoB;IAAEL,MAAM,EAAE;EAAV,CAApB,EAA0C;IAC5CV,KAAK,EAAEA;EADqC,CAA1C,CAFV;AAOH,CARD;;AAUAkB,MAAM,CAACC,OAAP,GAAiB;EACbpB,OADa;EAEbG,iBAFa;EAGba,MAHa;EAIbE,YAJa;EAKbN;AALa,CAAjB"}},"mtime":1666281032463},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\routes\\\\jobs.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _jobController = require(\"../controller/job.controller.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.get(\"/\", _jobController.handleGetAllJob);\nrouter.post(\"/add\", _jobController.handleCreateNewJob);\nrouter.patch(\"/delete/:id\", _jobController.handleDeleteJob);\nrouter.patch(\"/update\", _jobController.handleUpdateJob);\nrouter.post(\"/by-campaign\", _jobController.handleGetJobsByCampaignId);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwiaGFuZGxlR2V0QWxsSm9iIiwicG9zdCIsImhhbmRsZUNyZWF0ZU5ld0pvYiIsInBhdGNoIiwiaGFuZGxlRGVsZXRlSm9iIiwiaGFuZGxlVXBkYXRlSm9iIiwiaGFuZGxlR2V0Sm9ic0J5Q2FtcGFpZ25JZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxDb2RlXFxGUFRfU3ViamVjdFxcU1dQXFxIUk1TX0JFXFxzcmNcXHJvdXRlc1xcIiwic291cmNlcyI6WyJqb2JzLnJvdXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XHJcblxyXG5pbXBvcnQge1xyXG4gIGhhbmRsZUdldEFsbEpvYixcclxuICBoYW5kbGVDcmVhdGVOZXdKb2IsXHJcbiAgaGFuZGxlRGVsZXRlSm9iLFxyXG4gIGhhbmRsZVVwZGF0ZUpvYixcclxuICBoYW5kbGVHZXRKb2JzQnlDYW1wYWlnbklkLFxyXG59IGZyb20gXCIuLi9jb250cm9sbGVyL2pvYi5jb250cm9sbGVyLmpzXCI7XHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyLmdldChcIi9cIiwgaGFuZGxlR2V0QWxsSm9iKTtcclxucm91dGVyLnBvc3QoXCIvYWRkXCIsIGhhbmRsZUNyZWF0ZU5ld0pvYik7XHJcbnJvdXRlci5wYXRjaChcIi9kZWxldGUvOmlkXCIsIGhhbmRsZURlbGV0ZUpvYik7XHJcbnJvdXRlci5wYXRjaChcIi91cGRhdGVcIiwgaGFuZGxlVXBkYXRlSm9iKTtcclxucm91dGVyLnBvc3QoXCIvYnktY2FtcGFpZ25cIiwgaGFuZGxlR2V0Sm9ic0J5Q2FtcGFpZ25JZCk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUVBOzs7O0FBUUEsTUFBTUEsTUFBTSxHQUFHQyxnQkFBQSxDQUFRQyxNQUFSLEVBQWY7O0FBRUFGLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLEdBQVgsRUFBZ0JDLDhCQUFoQjtBQUNBSixNQUFNLENBQUNLLElBQVAsQ0FBWSxNQUFaLEVBQW9CQyxpQ0FBcEI7QUFDQU4sTUFBTSxDQUFDTyxLQUFQLENBQWEsYUFBYixFQUE0QkMsOEJBQTVCO0FBQ0FSLE1BQU0sQ0FBQ08sS0FBUCxDQUFhLFNBQWIsRUFBd0JFLDhCQUF4QjtBQUNBVCxNQUFNLENBQUNLLElBQVAsQ0FBWSxjQUFaLEVBQTRCSyx3Q0FBNUI7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCWixNQUFqQiJ9","map":{"version":3,"names":["router","express","Router","get","handleGetAllJob","post","handleCreateNewJob","patch","handleDeleteJob","handleUpdateJob","handleGetJobsByCampaignId","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\routes\\","sources":["jobs.route.js"],"sourcesContent":["import express from \"express\";\r\n\r\nimport {\r\n  handleGetAllJob,\r\n  handleCreateNewJob,\r\n  handleDeleteJob,\r\n  handleUpdateJob,\r\n  handleGetJobsByCampaignId,\r\n} from \"../controller/job.controller.js\";\r\n\r\nconst router = express.Router();\r\n\r\nrouter.get(\"/\", handleGetAllJob);\r\nrouter.post(\"/add\", handleCreateNewJob);\r\nrouter.patch(\"/delete/:id\", handleDeleteJob);\r\nrouter.patch(\"/update\", handleUpdateJob);\r\nrouter.post(\"/by-campaign\", handleGetJobsByCampaignId);\r\n\r\nmodule.exports = router;\r\n"],"mappings":";;AAAA;;AAEA;;;;AAQA,MAAMA,MAAM,GAAGC,gBAAA,CAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgBC,8BAAhB;AACAJ,MAAM,CAACK,IAAP,CAAY,MAAZ,EAAoBC,iCAApB;AACAN,MAAM,CAACO,KAAP,CAAa,aAAb,EAA4BC,8BAA5B;AACAR,MAAM,CAACO,KAAP,CAAa,SAAb,EAAwBE,8BAAxB;AACAT,MAAM,CAACK,IAAP,CAAY,cAAZ,EAA4BK,wCAA5B;AAEAC,MAAM,CAACC,OAAP,GAAiBZ,MAAjB"}},"mtime":1666311692891},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\controller\\\\job.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst jobService = require(\"../service/jobService.js\");\n\nconst handleGetAllJob = async (req, res, next) => {\n  try {\n    let jobs = await jobService.getAllJob();\n    return res.json({\n      jobs\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleCreateNewJob = async (req, res, next) => {\n  try {\n    let job = await jobService.createNewJob(req.body);\n    return res.json({\n      job\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleDeleteJob = async (req, res, next) => {\n  try {\n    const deleJob = await jobService.deleteJob(req.params.id);\n    return res.json({\n      deleJob\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleUpdateJob = async (req, res, next) => {\n  try {\n    const data = req.body;\n    const updateJob = await jobService.updateJob(data);\n    return res.json({\n      msg: \"Job updated\",\n      updateJob\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetJobsByCampaignId = async (req, res, next) => {\n  try {\n    const data = req.body;\n    console.log(data.campaignId);\n    const jobs = await jobService.getJobsByCampaignId(data.campaignId);\n    return res.json({\n      jobs\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\nmodule.exports = {\n  handleGetAllJob,\n  handleCreateNewJob,\n  handleDeleteJob,\n  handleUpdateJob,\n  handleGetJobsByCampaignId\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJqb2JTZXJ2aWNlIiwicmVxdWlyZSIsImhhbmRsZUdldEFsbEpvYiIsInJlcSIsInJlcyIsIm5leHQiLCJqb2JzIiwiZ2V0QWxsSm9iIiwianNvbiIsImVycm9yIiwiaGFuZGxlQ3JlYXRlTmV3Sm9iIiwiam9iIiwiY3JlYXRlTmV3Sm9iIiwiYm9keSIsImhhbmRsZURlbGV0ZUpvYiIsImRlbGVKb2IiLCJkZWxldGVKb2IiLCJwYXJhbXMiLCJpZCIsImhhbmRsZVVwZGF0ZUpvYiIsImRhdGEiLCJ1cGRhdGVKb2IiLCJtc2ciLCJoYW5kbGVHZXRKb2JzQnlDYW1wYWlnbklkIiwiY29uc29sZSIsImxvZyIsImNhbXBhaWduSWQiLCJnZXRKb2JzQnlDYW1wYWlnbklkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXENvZGVcXEZQVF9TdWJqZWN0XFxTV1BcXEhSTVNfQkVcXHNyY1xcY29udHJvbGxlclxcIiwic291cmNlcyI6WyJqb2IuY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBqb2JTZXJ2aWNlID0gcmVxdWlyZShcIi4uL3NlcnZpY2Uvam9iU2VydmljZS5qc1wiKTtcclxuXHJcbmNvbnN0IGhhbmRsZUdldEFsbEpvYiA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBsZXQgam9icyA9IGF3YWl0IGpvYlNlcnZpY2UuZ2V0QWxsSm9iKCk7XHJcbiAgICByZXR1cm4gcmVzLmpzb24oeyBqb2JzIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBuZXh0KGVycm9yKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVDcmVhdGVOZXdKb2IgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICB0cnkge1xyXG4gICAgbGV0IGpvYiA9IGF3YWl0IGpvYlNlcnZpY2UuY3JlYXRlTmV3Sm9iKHJlcS5ib2R5KTtcclxuICAgIHJldHVybiByZXMuanNvbih7IGpvYiB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgbmV4dChlcnJvcik7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlRGVsZXRlSm9iID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRlbGVKb2IgPSBhd2FpdCBqb2JTZXJ2aWNlLmRlbGV0ZUpvYihyZXEucGFyYW1zLmlkKTtcclxuICAgIHJldHVybiByZXMuanNvbih7IGRlbGVKb2IgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIG5leHQoZXJyb3IpO1xyXG4gIH1cclxufTtcclxuY29uc3QgaGFuZGxlVXBkYXRlSm9iID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRhdGEgPSByZXEuYm9keTtcclxuICAgIGNvbnN0IHVwZGF0ZUpvYiA9IGF3YWl0IGpvYlNlcnZpY2UudXBkYXRlSm9iKGRhdGEpO1xyXG4gICAgcmV0dXJuIHJlcy5qc29uKHtcclxuICAgICAgbXNnOiBcIkpvYiB1cGRhdGVkXCIsXHJcbiAgICAgIHVwZGF0ZUpvYixcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBuZXh0KGVycm9yKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVHZXRKb2JzQnlDYW1wYWlnbklkID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRhdGEgPSByZXEuYm9keTtcclxuICAgIGNvbnNvbGUubG9nKGRhdGEuY2FtcGFpZ25JZCk7XHJcbiAgICBjb25zdCBqb2JzID0gYXdhaXQgam9iU2VydmljZS5nZXRKb2JzQnlDYW1wYWlnbklkKGRhdGEuY2FtcGFpZ25JZCk7XHJcbiAgICByZXR1cm4gcmVzLmpzb24oeyBqb2JzIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBuZXh0KGVycm9yKTtcclxuICB9XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBoYW5kbGVHZXRBbGxKb2IsXHJcbiAgaGFuZGxlQ3JlYXRlTmV3Sm9iLFxyXG4gIGhhbmRsZURlbGV0ZUpvYixcclxuICBoYW5kbGVVcGRhdGVKb2IsXHJcbiAgaGFuZGxlR2V0Sm9ic0J5Q2FtcGFpZ25JZCxcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLFVBQVUsR0FBR0MsT0FBTyxDQUFDLDBCQUFELENBQTFCOztBQUVBLE1BQU1DLGVBQWUsR0FBRyxPQUFPQyxHQUFQLEVBQVlDLEdBQVosRUFBaUJDLElBQWpCLEtBQTBCO0VBQ2hELElBQUk7SUFDRixJQUFJQyxJQUFJLEdBQUcsTUFBTU4sVUFBVSxDQUFDTyxTQUFYLEVBQWpCO0lBQ0EsT0FBT0gsR0FBRyxDQUFDSSxJQUFKLENBQVM7TUFBRUY7SUFBRixDQUFULENBQVA7RUFDRCxDQUhELENBR0UsT0FBT0csS0FBUCxFQUFjO0lBQ2RKLElBQUksQ0FBQ0ksS0FBRCxDQUFKO0VBQ0Q7QUFDRixDQVBEOztBQVNBLE1BQU1DLGtCQUFrQixHQUFHLE9BQU9QLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDbkQsSUFBSTtJQUNGLElBQUlNLEdBQUcsR0FBRyxNQUFNWCxVQUFVLENBQUNZLFlBQVgsQ0FBd0JULEdBQUcsQ0FBQ1UsSUFBNUIsQ0FBaEI7SUFDQSxPQUFPVCxHQUFHLENBQUNJLElBQUosQ0FBUztNQUFFRztJQUFGLENBQVQsQ0FBUDtFQUNELENBSEQsQ0FHRSxPQUFPRixLQUFQLEVBQWM7SUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7RUFDRDtBQUNGLENBUEQ7O0FBU0EsTUFBTUssZUFBZSxHQUFHLE9BQU9YLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDaEQsSUFBSTtJQUNGLE1BQU1VLE9BQU8sR0FBRyxNQUFNZixVQUFVLENBQUNnQixTQUFYLENBQXFCYixHQUFHLENBQUNjLE1BQUosQ0FBV0MsRUFBaEMsQ0FBdEI7SUFDQSxPQUFPZCxHQUFHLENBQUNJLElBQUosQ0FBUztNQUFFTztJQUFGLENBQVQsQ0FBUDtFQUNELENBSEQsQ0FHRSxPQUFPTixLQUFQLEVBQWM7SUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7RUFDRDtBQUNGLENBUEQ7O0FBUUEsTUFBTVUsZUFBZSxHQUFHLE9BQU9oQixHQUFQLEVBQVlDLEdBQVosRUFBaUJDLElBQWpCLEtBQTBCO0VBQ2hELElBQUk7SUFDRixNQUFNZSxJQUFJLEdBQUdqQixHQUFHLENBQUNVLElBQWpCO0lBQ0EsTUFBTVEsU0FBUyxHQUFHLE1BQU1yQixVQUFVLENBQUNxQixTQUFYLENBQXFCRCxJQUFyQixDQUF4QjtJQUNBLE9BQU9oQixHQUFHLENBQUNJLElBQUosQ0FBUztNQUNkYyxHQUFHLEVBQUUsYUFEUztNQUVkRDtJQUZjLENBQVQsQ0FBUDtFQUlELENBUEQsQ0FPRSxPQUFPWixLQUFQLEVBQWM7SUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7RUFDRDtBQUNGLENBWEQ7O0FBYUEsTUFBTWMseUJBQXlCLEdBQUcsT0FBT3BCLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDMUQsSUFBSTtJQUNGLE1BQU1lLElBQUksR0FBR2pCLEdBQUcsQ0FBQ1UsSUFBakI7SUFDQVcsT0FBTyxDQUFDQyxHQUFSLENBQVlMLElBQUksQ0FBQ00sVUFBakI7SUFDQSxNQUFNcEIsSUFBSSxHQUFHLE1BQU1OLFVBQVUsQ0FBQzJCLG1CQUFYLENBQStCUCxJQUFJLENBQUNNLFVBQXBDLENBQW5CO0lBQ0EsT0FBT3RCLEdBQUcsQ0FBQ0ksSUFBSixDQUFTO01BQUVGO0lBQUYsQ0FBVCxDQUFQO0VBQ0QsQ0FMRCxDQUtFLE9BQU9HLEtBQVAsRUFBYztJQUNkSixJQUFJLENBQUNJLEtBQUQsQ0FBSjtFQUNEO0FBQ0YsQ0FURDs7QUFXQW1CLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmM0IsZUFEZTtFQUVmUSxrQkFGZTtFQUdmSSxlQUhlO0VBSWZLLGVBSmU7RUFLZkk7QUFMZSxDQUFqQiJ9","map":{"version":3,"names":["jobService","require","handleGetAllJob","req","res","next","jobs","getAllJob","json","error","handleCreateNewJob","job","createNewJob","body","handleDeleteJob","deleJob","deleteJob","params","id","handleUpdateJob","data","updateJob","msg","handleGetJobsByCampaignId","console","log","campaignId","getJobsByCampaignId","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\controller\\","sources":["job.controller.js"],"sourcesContent":["const jobService = require(\"../service/jobService.js\");\r\n\r\nconst handleGetAllJob = async (req, res, next) => {\r\n  try {\r\n    let jobs = await jobService.getAllJob();\r\n    return res.json({ jobs });\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\n\r\nconst handleCreateNewJob = async (req, res, next) => {\r\n  try {\r\n    let job = await jobService.createNewJob(req.body);\r\n    return res.json({ job });\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\n\r\nconst handleDeleteJob = async (req, res, next) => {\r\n  try {\r\n    const deleJob = await jobService.deleteJob(req.params.id);\r\n    return res.json({ deleJob });\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\nconst handleUpdateJob = async (req, res, next) => {\r\n  try {\r\n    const data = req.body;\r\n    const updateJob = await jobService.updateJob(data);\r\n    return res.json({\r\n      msg: \"Job updated\",\r\n      updateJob,\r\n    });\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\n\r\nconst handleGetJobsByCampaignId = async (req, res, next) => {\r\n  try {\r\n    const data = req.body;\r\n    console.log(data.campaignId);\r\n    const jobs = await jobService.getJobsByCampaignId(data.campaignId);\r\n    return res.json({ jobs });\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\n\r\nmodule.exports = {\r\n  handleGetAllJob,\r\n  handleCreateNewJob,\r\n  handleDeleteJob,\r\n  handleUpdateJob,\r\n  handleGetJobsByCampaignId,\r\n};\r\n"],"mappings":";;AAAA,MAAMA,UAAU,GAAGC,OAAO,CAAC,0BAAD,CAA1B;;AAEA,MAAMC,eAAe,GAAG,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EAChD,IAAI;IACF,IAAIC,IAAI,GAAG,MAAMN,UAAU,CAACO,SAAX,EAAjB;IACA,OAAOH,GAAG,CAACI,IAAJ,CAAS;MAAEF;IAAF,CAAT,CAAP;EACD,CAHD,CAGE,OAAOG,KAAP,EAAc;IACdJ,IAAI,CAACI,KAAD,CAAJ;EACD;AACF,CAPD;;AASA,MAAMC,kBAAkB,GAAG,OAAOP,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EACnD,IAAI;IACF,IAAIM,GAAG,GAAG,MAAMX,UAAU,CAACY,YAAX,CAAwBT,GAAG,CAACU,IAA5B,CAAhB;IACA,OAAOT,GAAG,CAACI,IAAJ,CAAS;MAAEG;IAAF,CAAT,CAAP;EACD,CAHD,CAGE,OAAOF,KAAP,EAAc;IACdJ,IAAI,CAACI,KAAD,CAAJ;EACD;AACF,CAPD;;AASA,MAAMK,eAAe,GAAG,OAAOX,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EAChD,IAAI;IACF,MAAMU,OAAO,GAAG,MAAMf,UAAU,CAACgB,SAAX,CAAqBb,GAAG,CAACc,MAAJ,CAAWC,EAAhC,CAAtB;IACA,OAAOd,GAAG,CAACI,IAAJ,CAAS;MAAEO;IAAF,CAAT,CAAP;EACD,CAHD,CAGE,OAAON,KAAP,EAAc;IACdJ,IAAI,CAACI,KAAD,CAAJ;EACD;AACF,CAPD;;AAQA,MAAMU,eAAe,GAAG,OAAOhB,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EAChD,IAAI;IACF,MAAMe,IAAI,GAAGjB,GAAG,CAACU,IAAjB;IACA,MAAMQ,SAAS,GAAG,MAAMrB,UAAU,CAACqB,SAAX,CAAqBD,IAArB,CAAxB;IACA,OAAOhB,GAAG,CAACI,IAAJ,CAAS;MACdc,GAAG,EAAE,aADS;MAEdD;IAFc,CAAT,CAAP;EAID,CAPD,CAOE,OAAOZ,KAAP,EAAc;IACdJ,IAAI,CAACI,KAAD,CAAJ;EACD;AACF,CAXD;;AAaA,MAAMc,yBAAyB,GAAG,OAAOpB,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EAC1D,IAAI;IACF,MAAMe,IAAI,GAAGjB,GAAG,CAACU,IAAjB;IACAW,OAAO,CAACC,GAAR,CAAYL,IAAI,CAACM,UAAjB;IACA,MAAMpB,IAAI,GAAG,MAAMN,UAAU,CAAC2B,mBAAX,CAA+BP,IAAI,CAACM,UAApC,CAAnB;IACA,OAAOtB,GAAG,CAACI,IAAJ,CAAS;MAAEF;IAAF,CAAT,CAAP;EACD,CALD,CAKE,OAAOG,KAAP,EAAc;IACdJ,IAAI,CAACI,KAAD,CAAJ;EACD;AACF,CATD;;AAWAmB,MAAM,CAACC,OAAP,GAAiB;EACf3B,eADe;EAEfQ,kBAFe;EAGfI,eAHe;EAIfK,eAJe;EAKfI;AALe,CAAjB"}},"mtime":1666412082383},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\service\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\service\\\\jobService.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _sequelize = require(\"sequelize\");\n\nvar _index = _interopRequireWildcard(require(\"../models/index.js\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst Jobs = _index.default.Jobs;\n\nconst jobRepository = require(\"../repository/jobs.repository\");\n\nconst getAllJob = () => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      //jobs without status == hidden\n      const [results, metadata] = await _index.sequelize.query(process.env.GETALLJOB_QUERY);\n      resolve(results);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nconst createNewJob = data => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const job = await jobRepository.createNewJobs(data); // console.log(data.campaign);\n\n      resolve({\n        errCode: 0,\n        message: \"Create job successfully\",\n        job\n      });\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nconst deleteJob = jobID => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let job = await jobRepository.getJobsById(jobID);\n\n      if (!job) {\n        resolve({\n          errMsg: \"Job not found\"\n        });\n      }\n\n      await jobRepository.updateStatus({\n        id: jobID\n      });\n      resolve({\n        errCode: 0,\n        errMsg: \"Job is deleted\"\n      });\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nconst getJobsByCampaignId = async campaignId => {\n  try {\n    const results = await jobRepository.getJobsByCampaignId(campaignId);\n    return results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst updateJob = async data => {\n  try {\n    const job = await jobRepository.getJobsById(data.id);\n    console.log(job);\n\n    if (job) {\n      await jobRepository.update(data, {\n        id: data.id\n      });\n    }\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  getAllJob,\n  createNewJob,\n  deleteJob,\n  getJobsByCampaignId,\n  updateJob\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJKb2JzIiwiZGIiLCJqb2JSZXBvc2l0b3J5IiwicmVxdWlyZSIsImdldEFsbEpvYiIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVzdWx0cyIsIm1ldGFkYXRhIiwic2VxdWVsaXplIiwicXVlcnkiLCJwcm9jZXNzIiwiZW52IiwiR0VUQUxMSk9CX1FVRVJZIiwiZXJyb3IiLCJjcmVhdGVOZXdKb2IiLCJkYXRhIiwiam9iIiwiY3JlYXRlTmV3Sm9icyIsImVyckNvZGUiLCJtZXNzYWdlIiwiZGVsZXRlSm9iIiwiam9iSUQiLCJnZXRKb2JzQnlJZCIsImVyck1zZyIsInVwZGF0ZVN0YXR1cyIsImlkIiwiZ2V0Sm9ic0J5Q2FtcGFpZ25JZCIsImNhbXBhaWduSWQiLCJjb25zb2xlIiwibG9nIiwidXBkYXRlSm9iIiwidXBkYXRlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXENvZGVcXEZQVF9TdWJqZWN0XFxTV1BcXEhSTVNfQkVcXHNyY1xcc2VydmljZVxcIiwic291cmNlcyI6WyJqb2JTZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFF1ZXJ5VHlwZXMgfSBmcm9tIFwic2VxdWVsaXplXCI7XHJcbmltcG9ydCBkYiwgeyBzZXF1ZWxpemUgfSBmcm9tIFwiLi4vbW9kZWxzL2luZGV4LmpzXCI7XHJcbmNvbnN0IEpvYnMgPSBkYi5Kb2JzO1xyXG5jb25zdCBqb2JSZXBvc2l0b3J5ID0gcmVxdWlyZShcIi4uL3JlcG9zaXRvcnkvam9icy5yZXBvc2l0b3J5XCIpO1xyXG5jb25zdCBnZXRBbGxKb2IgPSAoKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vam9icyB3aXRob3V0IHN0YXR1cyA9PSBoaWRkZW5cclxuICAgICAgY29uc3QgW3Jlc3VsdHMsIG1ldGFkYXRhXSA9IGF3YWl0IHNlcXVlbGl6ZS5xdWVyeShcclxuICAgICAgICBwcm9jZXNzLmVudi5HRVRBTExKT0JfUVVFUllcclxuICAgICAgKTtcclxuICAgICAgcmVzb2x2ZShyZXN1bHRzKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVOZXdKb2IgPSAoZGF0YSkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBqb2IgPSBhd2FpdCBqb2JSZXBvc2l0b3J5LmNyZWF0ZU5ld0pvYnMoZGF0YSk7XHJcblxyXG4gICAgICAvLyBjb25zb2xlLmxvZyhkYXRhLmNhbXBhaWduKTtcclxuICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgZXJyQ29kZTogMCxcclxuICAgICAgICBtZXNzYWdlOiBcIkNyZWF0ZSBqb2Igc3VjY2Vzc2Z1bGx5XCIsXHJcbiAgICAgICAgam9iLFxyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCBkZWxldGVKb2IgPSAoam9iSUQpID0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IGpvYiA9IGF3YWl0IGpvYlJlcG9zaXRvcnkuZ2V0Sm9ic0J5SWQoam9iSUQpO1xyXG4gICAgICBpZiAoIWpvYikge1xyXG4gICAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgICAgZXJyTXNnOiBcIkpvYiBub3QgZm91bmRcIixcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICBhd2FpdCBqb2JSZXBvc2l0b3J5LnVwZGF0ZVN0YXR1cyh7IGlkOiBqb2JJRCB9KTtcclxuXHJcbiAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgIGVyckNvZGU6IDAsXHJcbiAgICAgICAgZXJyTXNnOiBcIkpvYiBpcyBkZWxldGVkXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbmNvbnN0IGdldEpvYnNCeUNhbXBhaWduSWQgPSBhc3luYyAoY2FtcGFpZ25JZCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgam9iUmVwb3NpdG9yeS5nZXRKb2JzQnlDYW1wYWlnbklkKGNhbXBhaWduSWQpO1xyXG4gICAgcmV0dXJuIHJlc3VsdHM7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICB9XHJcbn07XHJcbmNvbnN0IHVwZGF0ZUpvYiA9IGFzeW5jIChkYXRhKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGpvYiA9IGF3YWl0IGpvYlJlcG9zaXRvcnkuZ2V0Sm9ic0J5SWQoZGF0YS5pZCk7XHJcbiAgICBjb25zb2xlLmxvZyhqb2IpO1xyXG5cclxuICAgIGlmIChqb2IpIHtcclxuICAgICAgYXdhaXQgam9iUmVwb3NpdG9yeS51cGRhdGUoZGF0YSwgeyBpZDogZGF0YS5pZCB9KTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgZ2V0QWxsSm9iLFxyXG4gIGNyZWF0ZU5ld0pvYixcclxuICBkZWxldGVKb2IsXHJcbiAgZ2V0Sm9ic0J5Q2FtcGFpZ25JZCxcclxuICB1cGRhdGVKb2IsXHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7Ozs7O0FBQ0EsTUFBTUEsSUFBSSxHQUFHQyxjQUFBLENBQUdELElBQWhCOztBQUNBLE1BQU1FLGFBQWEsR0FBR0Ms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","map":{"version":3,"names":["Jobs","db","jobRepository","require","getAllJob","Promise","resolve","reject","results","metadata","sequelize","query","process","env","GETALLJOB_QUERY","error","createNewJob","data","job","createNewJobs","errCode","message","deleteJob","jobID","getJobsById","errMsg","updateStatus","id","getJobsByCampaignId","campaignId","console","log","updateJob","update","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\service\\","sources":["jobService.js"],"sourcesContent":["import { QueryTypes } from \"sequelize\";\r\nimport db, { sequelize } from \"../models/index.js\";\r\nconst Jobs = db.Jobs;\r\nconst jobRepository = require(\"../repository/jobs.repository\");\r\nconst getAllJob = () => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      //jobs without status == hidden\r\n      const [results, metadata] = await sequelize.query(\r\n        process.env.GETALLJOB_QUERY\r\n      );\r\n      resolve(results);\r\n    } catch (error) {\r\n      reject(error);\r\n    }\r\n  });\r\n};\r\n\r\nconst createNewJob = (data) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      const job = await jobRepository.createNewJobs(data);\r\n\r\n      // console.log(data.campaign);\r\n      resolve({\r\n        errCode: 0,\r\n        message: \"Create job successfully\",\r\n        job,\r\n      });\r\n    } catch (error) {\r\n      reject(error);\r\n    }\r\n  });\r\n};\r\n\r\nconst deleteJob = (jobID) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let job = await jobRepository.getJobsById(jobID);\r\n      if (!job) {\r\n        resolve({\r\n          errMsg: \"Job not found\",\r\n        });\r\n      }\r\n      await jobRepository.updateStatus({ id: jobID });\r\n\r\n      resolve({\r\n        errCode: 0,\r\n        errMsg: \"Job is deleted\",\r\n      });\r\n    } catch (error) {\r\n      reject(error);\r\n    }\r\n  });\r\n};\r\n\r\nconst getJobsByCampaignId = async (campaignId) => {\r\n  try {\r\n    const results = await jobRepository.getJobsByCampaignId(campaignId);\r\n    return results;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\nconst updateJob = async (data) => {\r\n  try {\r\n    const job = await jobRepository.getJobsById(data.id);\r\n    console.log(job);\r\n\r\n    if (job) {\r\n      await jobRepository.update(data, { id: data.id });\r\n    }\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nmodule.exports = {\r\n  getAllJob,\r\n  createNewJob,\r\n  deleteJob,\r\n  getJobsByCampaignId,\r\n  updateJob,\r\n};\r\n"],"mappings":";;AAAA;;AACA;;;;;;AACA,MAAMA,IAAI,GAAGC,cAAA,CAAGD,IAAhB;;AACA,MAAME,aAAa,GAAGC,OAAO,CAAC,+BAAD,CAA7B;;AACA,MAAMC,SAAS,GAAG,MAAM;EACtB,OAAO,IAAIC,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;IAC5C,IAAI;MACF;MACA,MAAM,CAACC,OAAD,EAAUC,QAAV,IAAsB,MAAMC,gBAAA,CAAUC,KAAV,CAChCC,OAAO,CAACC,GAAR,CAAYC,eADoB,CAAlC;MAGAR,OAAO,CAACE,OAAD,CAAP;IACD,CAND,CAME,OAAOO,KAAP,EAAc;MACdR,MAAM,CAACQ,KAAD,CAAN;IACD;EACF,CAVM,CAAP;AAWD,CAZD;;AAcA,MAAMC,YAAY,GAAIC,IAAD,IAAU;EAC7B,OAAO,IAAIZ,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;IAC5C,IAAI;MACF,MAAMW,GAAG,GAAG,MAAMhB,aAAa,CAACiB,aAAd,CAA4BF,IAA5B,CAAlB,CADE,CAGF;;MACAX,OAAO,CAAC;QACNc,OAAO,EAAE,CADH;QAENC,OAAO,EAAE,yBAFH;QAGNH;MAHM,CAAD,CAAP;IAKD,CATD,CASE,OAAOH,KAAP,EAAc;MACdR,MAAM,CAACQ,KAAD,CAAN;IACD;EACF,CAbM,CAAP;AAcD,CAfD;;AAiBA,MAAMO,SAAS,GAAIC,KAAD,IAAW;EAC3B,OAAO,IAAIlB,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;IAC5C,IAAI;MACF,IAAIW,GAAG,GAAG,MAAMhB,aAAa,CAACsB,WAAd,CAA0BD,KAA1B,CAAhB;;MACA,IAAI,CAACL,GAAL,EAAU;QACRZ,OAAO,CAAC;UACNmB,MAAM,EAAE;QADF,CAAD,CAAP;MAGD;;MACD,MAAMvB,aAAa,CAACwB,YAAd,CAA2B;QAAEC,EAAE,EAAEJ;MAAN,CAA3B,CAAN;MAEAjB,OAAO,CAAC;QACNc,OAAO,EAAE,CADH;QAENK,MAAM,EAAE;MAFF,CAAD,CAAP;IAID,CAbD,CAaE,OAAOV,KAAP,EAAc;MACdR,MAAM,CAACQ,KAAD,CAAN;IACD;EACF,CAjBM,CAAP;AAkBD,CAnBD;;AAqBA,MAAMa,mBAAmB,GAAG,MAAOC,UAAP,IAAsB;EAChD,IAAI;IACF,MAAMrB,OAAO,GAAG,MAAMN,aAAa,CAAC0B,mBAAd,CAAkCC,UAAlC,CAAtB;IACA,OAAOrB,OAAP;EACD,CAHD,CAGE,OAAOO,KAAP,EAAc;IACde,OAAO,CAACC,GAAR,CAAYhB,KAAZ;EACD;AACF,CAPD;;AAQA,MAAMiB,SAAS,GAAG,MAAOf,IAAP,IAAgB;EAChC,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMhB,aAAa,CAACsB,WAAd,CAA0BP,IAAI,CAACU,EAA/B,CAAlB;IACAG,OAAO,CAACC,GAAR,CAAYb,GAAZ;;IAEA,IAAIA,GAAJ,EAAS;MACP,MAAMhB,aAAa,CAAC+B,MAAd,CAAqBhB,IAArB,EAA2B;QAAEU,EAAE,EAAEV,IAAI,CAACU;MAAX,CAA3B,CAAN;IACD;EACF,CAPD,CAOE,OAAOZ,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CAXD;;AAaAmB,MAAM,CAACC,OAAP,GAAiB;EACf/B,SADe;EAEfY,YAFe;EAGfM,SAHe;EAIfM,mBAJe;EAKfI;AALe,CAAjB"}},"mtime":1666413575204},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\repository\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\repository\\\\jobs.repository.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _sequelize = require(\"sequelize\");\n\nvar _index = _interopRequireWildcard(require(\"../models/index.js\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst Jobs = _index.default.Jobs;\n\nconst getJobsById = async id => {\n  var _await$Jobs$findOne;\n\n  return (_await$Jobs$findOne = await Jobs.findOne({\n    where: {\n      id: id\n    }\n  })) === null || _await$Jobs$findOne === void 0 ? void 0 : _await$Jobs$findOne.dataValues;\n};\n\nconst createNewJobs = async data => {\n  return await Jobs.create({\n    name: data.name,\n    description: data.description,\n    salary: data.salary,\n    quantity: data.quantity,\n    start_date: data.start_date,\n    end_date: data.end_date,\n    status: data.status,\n    experience: data.experience,\n    Category_id: data.categoryId,\n    Campaign_id: data.campaignId\n  });\n};\n\nconst updateStatus = async where => {\n  return await Jobs.update({\n    status: \"Hidden\"\n  }, {\n    where: where\n  });\n};\n\nconst update = async (newObj, where) => {\n  await Jobs.update(newObj, {\n    where: where\n  });\n};\n\nconst getJobsByCampaignId = async campaignId => {\n  const getJobsByCampaignIdQuery = \"SELECT J.id, J.name, J.description, J.salary, J.quantity, J.experience, J.isRemote, J.start_date, J.end_date FROM hrms.jobs AS J WHERE J.Campaign_id = ?\";\n  const data = await _index.sequelize.query(getJobsByCampaignIdQuery, {\n    replacements: [campaignId],\n    type: _sequelize.QueryTypes.SELECT,\n    plain: false\n  });\n  return data;\n};\n\nmodule.exports = {\n  getJobsById,\n  createNewJobs,\n  updateStatus,\n  update,\n  getJobsByCampaignId\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJKb2JzIiwiZGIiLCJnZXRKb2JzQnlJZCIsImlkIiwiZmluZE9uZSIsIndoZXJlIiwiZGF0YVZhbHVlcyIsImNyZWF0ZU5ld0pvYnMiLCJkYXRhIiwiY3JlYXRlIiwibmFtZSIsImRlc2NyaXB0aW9uIiwic2FsYXJ5IiwicXVhbnRpdHkiLCJzdGFydF9kYXRlIiwiZW5kX2RhdGUiLCJzdGF0dXMiLCJleHBlcmllbmNlIiwiQ2F0ZWdvcnlfaWQiLCJjYXRlZ29yeUlkIiwiQ2FtcGFpZ25faWQiLCJjYW1wYWlnbklkIiwidXBkYXRlU3RhdHVzIiwidXBkYXRlIiwibmV3T2JqIiwiZ2V0Sm9ic0J5Q2FtcGFpZ25JZCIsImdldEpvYnNCeUNhbXBhaWduSWRRdWVyeSIsInNlcXVlbGl6ZSIsInF1ZXJ5IiwicmVwbGFjZW1lbnRzIiwidHlwZSIsIlF1ZXJ5VHlwZXMiLCJTRUxFQ1QiLCJwbGFpbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxDb2RlXFxGUFRfU3ViamVjdFxcU1dQXFxIUk1TX0JFXFxzcmNcXHJlcG9zaXRvcnlcXCIsInNvdXJjZXMiOlsiam9icy5yZXBvc2l0b3J5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFF1ZXJ5VHlwZXMgfSBmcm9tIFwic2VxdWVsaXplXCI7XHJcbmltcG9ydCBkYiwgeyBzZXF1ZWxpemUgfSBmcm9tIFwiLi4vbW9kZWxzL2luZGV4LmpzXCI7XHJcbmNvbnN0IEpvYnMgPSBkYi5Kb2JzO1xyXG5cclxuY29uc3QgZ2V0Sm9ic0J5SWQgPSBhc3luYyAoaWQpID0+IHtcclxuICByZXR1cm4gKFxyXG4gICAgYXdhaXQgSm9icy5maW5kT25lKHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICBpZDogaWQsXHJcbiAgICAgIH0sXHJcbiAgICB9KVxyXG4gICk/LmRhdGFWYWx1ZXM7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVOZXdKb2JzID0gYXN5bmMgKGRhdGEpID0+IHtcclxuICByZXR1cm4gYXdhaXQgSm9icy5jcmVhdGUoe1xyXG4gICAgbmFtZTogZGF0YS5uYW1lLFxyXG4gICAgZGVzY3JpcHRpb246IGRhdGEuZGVzY3JpcHRpb24sXHJcbiAgICBzYWxhcnk6IGRhdGEuc2FsYXJ5LFxyXG4gICAgcXVhbnRpdHk6IGRhdGEucXVhbnRpdHksXHJcbiAgICBzdGFydF9kYXRlOiBkYXRhLnN0YXJ0X2RhdGUsXHJcbiAgICBlbmRfZGF0ZTogZGF0YS5lbmRfZGF0ZSxcclxuICAgIHN0YXR1czogZGF0YS5zdGF0dXMsXHJcbiAgICBleHBlcmllbmNlOiBkYXRhLmV4cGVyaWVuY2UsXHJcbiAgICBDYXRlZ29yeV9pZDogZGF0YS5jYXRlZ29yeUlkLFxyXG4gICAgQ2FtcGFpZ25faWQ6IGRhdGEuY2FtcGFpZ25JZCxcclxuICB9KTtcclxufTtcclxuY29uc3QgdXBkYXRlU3RhdHVzID0gYXN5bmMgKHdoZXJlKSA9PiB7XHJcbiAgcmV0dXJuIGF3YWl0IEpvYnMudXBkYXRlKFxyXG4gICAgeyBzdGF0dXM6IFwiSGlkZGVuXCIgfSxcclxuICAgIHtcclxuICAgICAgd2hlcmU6IHdoZXJlLFxyXG4gICAgfVxyXG4gICk7XHJcbn07XHJcblxyXG5jb25zdCB1cGRhdGUgPSBhc3luYyAobmV3T2JqLCB3aGVyZSkgPT4ge1xyXG4gIGF3YWl0IEpvYnMudXBkYXRlKG5ld09iaiwge1xyXG4gICAgd2hlcmU6IHdoZXJlLFxyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3QgZ2V0Sm9ic0J5Q2FtcGFpZ25JZCA9IGFzeW5jIChjYW1wYWlnbklkKSA9PiB7XHJcbiAgY29uc3QgZ2V0Sm9ic0J5Q2FtcGFpZ25JZFF1ZXJ5ID1cclxuICAgIFwiU0VMRUNUIEouaWQsIEoubmFtZSwgSi5kZXNjcmlwdGlvbiwgSi5zYWxhcnksIEoucXVhbnRpdHksIEouZXhwZXJpZW5jZSwgSi5pc1JlbW90ZSwgSi5zdGFydF9kYXRlLCBKLmVuZF9kYXRlIEZST00gaHJtcy5qb2JzIEFTIEogV0hFUkUgSi5DYW1wYWlnbl9pZCA9ID9cIjtcclxuICBjb25zdCBkYXRhID0gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KGdldEpvYnNCeUNhbXBhaWduSWRRdWVyeSwge1xyXG4gICAgcmVwbGFjZW1lbnRzOiBbY2FtcGFpZ25JZF0sXHJcbiAgICB0eXBlOiBRdWVyeVR5cGVzLlNFTEVDVCxcclxuICAgIHBsYWluOiBmYWxzZSxcclxuICB9KTtcclxuICByZXR1cm4gZGF0YTtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIGdldEpvYnNCeUlkLFxyXG4gIGNyZWF0ZU5ld0pvYnMsXHJcbiAgdXBkYXRlU3RhdHVzLFxyXG4gIHVwZGF0ZSxcclxuICBnZXRKb2JzQnlDYW1wYWlnbklkLFxyXG59O1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7Ozs7OztBQUNBLE1BQU1BLElBQUksR0FBR0MsY0FBQSxDQUFHRCxJQUFoQjs7QUFFQSxNQUFNRSxXQUFXLEdBQUcsTUFBT0MsRUFBUCxJQUFjO0VBQUE7O0VBQ2hDLDhCQUNFLE1BQU1ILElBQUksQ0FBQ0ksT0FBTCxDQUFhO0lBQ2pCQyxLQUFLLEVBQUU7TUFDTEYsRUFBRSxFQUFFQTtJQURDO0VBRFUsQ0FBYixDQURSLHdEQUFPLG9CQU1KRyxVQU5IO0FBT0QsQ0FSRDs7QUFVQSxNQUFNQyxhQUFhLEdBQUcsTUFBT0MsSUFBUCxJQUFnQjtFQUNwQyxPQUFPLE1BQU1SLElBQUksQ0FBQ1MsTUFBTCxDQUFZO0lBQ3ZCQyxJQUFJLEVBQUVGLElBQUksQ0FBQ0UsSUFEWTtJQUV2QkMsV0FBVyxFQUFFSCxJQUFJLENBQUNHLFdBRks7SUFHdkJDLE1BQU0sRUFBRUosSUFBSSxDQUFDSSxNQUhVO0lBSXZCQyxRQUFRLEVBQUVMLElBQUksQ0FBQ0ssUUFKUTtJQUt2QkMsVUFBVSxFQUFFTixJQUFJLENBQUNNLFVBTE07SUFNdkJDLFFBQVEsRUFBRVAsSUFBSSxDQUFDTyxRQU5RO0lBT3ZCQyxNQUFNLEVBQUVSLElBQUksQ0FBQ1EsTUFQVTtJQVF2QkMsVUFBVSxFQUFFVCxJQUFJLENBQUNTLFVBUk07SUFTdkJDLFdBQVcsRUFBRVYsSUFBSSxDQUFDVyxVQVRLO0lBVXZCQyxXQUFXLEVBQUVaLElBQUksQ0FBQ2E7RUFWSyxDQUFaLENBQWI7QUFZRCxDQWJEOztBQWNBLE1BQU1DLFlBQVksR0FBRyxNQUFPakIsS0FBUCxJQUFpQjtFQUNwQyxPQUFPLE1BQU1MLElBQUksQ0FBQ3VCLE1BQUwsQ0FDWDtJQUFFUCxNQUFNLEVBQUU7RUFBVixDQURXLEVBRVg7SUFDRVgsS0FBSyxFQUFFQTtFQURULENBRlcsQ0FBYjtBQU1ELENBUEQ7O0FBU0EsTUFBTWtCLE1BQU0sR0FBRyxPQUFPQyxNQUFQLEVBQWVuQixLQUFmLEtBQXlCO0VBQ3RDLE1BQU1MLElBQUksQ0FBQ3VCLE1BQUwsQ0FBWUMsTUFBWixFQUFvQjtJQUN4Qm5CLEtBQUssRUFBRUE7RUFEaUIsQ0FBcEIsQ0FBTjtBQUdELENBSkQ7O0FBTUEsTUFBTW9CLG1CQUFtQixHQUFHLE1BQU9KLFVBQVAsSUFBc0I7RUFDaEQsTUFBTUssd0JBQXdCLEdBQzVCLDBKQURGO0VBRUEsTUFBTWxCLElBQUksR0FBRyxNQUFNbUIsZ0JBQUEsQ0FBVUMsS0FBVixDQUFnQkYsd0JBQWhCLEVBQTBDO0lBQzNERyxZQUFZLEVBQUUsQ0FBQ1IsVUFBRCxDQUQ2QztJQUUzRFMsSUFBSSxFQUFFQyxxQkFBQSxDQUFXQyxNQUYwQztJQUczREMsS0FBSyxFQUFFO0VBSG9ELENBQTFDLENBQW5CO0VBS0EsT0FBT3pCLElBQVA7QUFDRCxDQVREOztBQVdBMEIsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2ZqQyxXQURlO0VBRWZLLGFBRmU7RUFHZmUsWUFIZTtFQUlmQyxNQUplO0VBS2ZFO0FBTGUsQ0FBakIifQ==","map":{"version":3,"names":["Jobs","db","getJobsById","id","findOne","where","dataValues","createNewJobs","data","create","name","description","salary","quantity","start_date","end_date","status","experience","Category_id","categoryId","Campaign_id","campaignId","updateStatus","update","newObj","getJobsByCampaignId","getJobsByCampaignIdQuery","sequelize","query","replacements","type","QueryTypes","SELECT","plain","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\repository\\","sources":["jobs.repository.js"],"sourcesContent":["import { QueryTypes } from \"sequelize\";\r\nimport db, { sequelize } from \"../models/index.js\";\r\nconst Jobs = db.Jobs;\r\n\r\nconst getJobsById = async (id) => {\r\n  return (\r\n    await Jobs.findOne({\r\n      where: {\r\n        id: id,\r\n      },\r\n    })\r\n  )?.dataValues;\r\n};\r\n\r\nconst createNewJobs = async (data) => {\r\n  return await Jobs.create({\r\n    name: data.name,\r\n    description: data.description,\r\n    salary: data.salary,\r\n    quantity: data.quantity,\r\n    start_date: data.start_date,\r\n    end_date: data.end_date,\r\n    status: data.status,\r\n    experience: data.experience,\r\n    Category_id: data.categoryId,\r\n    Campaign_id: data.campaignId,\r\n  });\r\n};\r\nconst updateStatus = async (where) => {\r\n  return await Jobs.update(\r\n    { status: \"Hidden\" },\r\n    {\r\n      where: where,\r\n    }\r\n  );\r\n};\r\n\r\nconst update = async (newObj, where) => {\r\n  await Jobs.update(newObj, {\r\n    where: where,\r\n  });\r\n};\r\n\r\nconst getJobsByCampaignId = async (campaignId) => {\r\n  const getJobsByCampaignIdQuery =\r\n    \"SELECT J.id, J.name, J.description, J.salary, J.quantity, J.experience, J.isRemote, J.start_date, J.end_date FROM hrms.jobs AS J WHERE J.Campaign_id = ?\";\r\n  const data = await sequelize.query(getJobsByCampaignIdQuery, {\r\n    replacements: [campaignId],\r\n    type: QueryTypes.SELECT,\r\n    plain: false,\r\n  });\r\n  return data;\r\n};\r\n\r\nmodule.exports = {\r\n  getJobsById,\r\n  createNewJobs,\r\n  updateStatus,\r\n  update,\r\n  getJobsByCampaignId,\r\n};\r\n"],"mappings":";;AAAA;;AACA;;;;;;AACA,MAAMA,IAAI,GAAGC,cAAA,CAAGD,IAAhB;;AAEA,MAAME,WAAW,GAAG,MAAOC,EAAP,IAAc;EAAA;;EAChC,8BACE,MAAMH,IAAI,CAACI,OAAL,CAAa;IACjBC,KAAK,EAAE;MACLF,EAAE,EAAEA;IADC;EADU,CAAb,CADR,wDAAO,oBAMJG,UANH;AAOD,CARD;;AAUA,MAAMC,aAAa,GAAG,MAAOC,IAAP,IAAgB;EACpC,OAAO,MAAMR,IAAI,CAACS,MAAL,CAAY;IACvBC,IAAI,EAAEF,IAAI,CAACE,IADY;IAEvBC,WAAW,EAAEH,IAAI,CAACG,WAFK;IAGvBC,MAAM,EAAEJ,IAAI,CAACI,MAHU;IAIvBC,QAAQ,EAAEL,IAAI,CAACK,QAJQ;IAKvBC,UAAU,EAAEN,IAAI,CAACM,UALM;IAMvBC,QAAQ,EAAEP,IAAI,CAACO,QANQ;IAOvBC,MAAM,EAAER,IAAI,CAACQ,MAPU;IAQvBC,UAAU,EAAET,IAAI,CAACS,UARM;IASvBC,WAAW,EAAEV,IAAI,CAACW,UATK;IAUvBC,WAAW,EAAEZ,IAAI,CAACa;EAVK,CAAZ,CAAb;AAYD,CAbD;;AAcA,MAAMC,YAAY,GAAG,MAAOjB,KAAP,IAAiB;EACpC,OAAO,MAAML,IAAI,CAACuB,MAAL,CACX;IAAEP,MAAM,EAAE;EAAV,CADW,EAEX;IACEX,KAAK,EAAEA;EADT,CAFW,CAAb;AAMD,CAPD;;AASA,MAAMkB,MAAM,GAAG,OAAOC,MAAP,EAAenB,KAAf,KAAyB;EACtC,MAAML,IAAI,CAACuB,MAAL,CAAYC,MAAZ,EAAoB;IACxBnB,KAAK,EAAEA;EADiB,CAApB,CAAN;AAGD,CAJD;;AAMA,MAAMoB,mBAAmB,GAAG,MAAOJ,UAAP,IAAsB;EAChD,MAAMK,wBAAwB,GAC5B,0JADF;EAEA,MAAMlB,IAAI,GAAG,MAAMmB,gBAAA,CAAUC,KAAV,CAAgBF,wBAAhB,EAA0C;IAC3DG,YAAY,EAAE,CAACR,UAAD,CAD6C;IAE3DS,IAAI,EAAEC,qBAAA,CAAWC,MAF0C;IAG3DC,KAAK,EAAE;EAHoD,CAA1C,CAAnB;EAKA,OAAOzB,IAAP;AACD,CATD;;AAWA0B,MAAM,CAACC,OAAP,GAAiB;EACfjC,WADe;EAEfK,aAFe;EAGfe,YAHe;EAIfC,MAJe;EAKfE;AALe,CAAjB"}},"mtime":1666711052601},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\routes\\\\candidate.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\n\nconst auth = require(\"../middleware/auth.middleware\");\n\nconst candidateController = require(\"../controller/candidate.controller\");\n\nconst router = express.Router();\nrouter.route(\"/\").post(candidateController.createCandidate).patch(candidateController.changeCandidateStatus);\nrouter.get(\"/all\", candidateController.getAllCandidate);\nrouter.post(\"/memberID\", candidateController.getCandidateByMember);\nrouter.post(\"/staffID\", candidateController.getCandidateByStaff);\nrouter.patch(\"/changeStatus\", candidateController.changeCandidateStatus); //get all candidates detail with job name member name  staff name\n\nrouter.get(\"/allV2\", candidateController.getAllCandidateDetails);\nrouter.patch(\"/profile\", candidateController.handleUpdateCandidateProfile);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImF1dGgiLCJjYW5kaWRhdGVDb250cm9sbGVyIiwicm91dGVyIiwiUm91dGVyIiwicm91dGUiLCJwb3N0IiwiY3JlYXRlQ2FuZGlkYXRlIiwicGF0Y2giLCJjaGFuZ2VDYW5kaWRhdGVTdGF0dXMiLCJnZXQiLCJnZXRBbGxDYW5kaWRhdGUiLCJnZXRDYW5kaWRhdGVCeU1lbWJlciIsImdldENhbmRpZGF0ZUJ5U3RhZmYiLCJnZXRBbGxDYW5kaWRhdGVEZXRhaWxzIiwiaGFuZGxlVXBkYXRlQ2FuZGlkYXRlUHJvZmlsZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxDb2RlXFxGUFRfU3ViamVjdFxcU1dQXFxIUk1TX0JFXFxzcmNcXHJvdXRlc1xcIiwic291cmNlcyI6WyJjYW5kaWRhdGUucm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xyXG5jb25zdCBhdXRoID0gcmVxdWlyZShcIi4uL21pZGRsZXdhcmUvYXV0aC5taWRkbGV3YXJlXCIpO1xyXG5jb25zdCBjYW5kaWRhdGVDb250cm9sbGVyID0gcmVxdWlyZShcIi4uL2NvbnRyb2xsZXIvY2FuZGlkYXRlLmNvbnRyb2xsZXJcIik7XHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbnJvdXRlclxyXG4gIC5yb3V0ZShcIi9cIilcclxuICAucG9zdChjYW5kaWRhdGVDb250cm9sbGVyLmNyZWF0ZUNhbmRpZGF0ZSlcclxuICAucGF0Y2goY2FuZGlkYXRlQ29udHJvbGxlci5jaGFuZ2VDYW5kaWRhdGVTdGF0dXMpO1xyXG5yb3V0ZXIuZ2V0KFwiL2FsbFwiLCBjYW5kaWRhdGVDb250cm9sbGVyLmdldEFsbENhbmRpZGF0ZSk7XHJcbnJvdXRlci5wb3N0KFwiL21lbWJlcklEXCIsIGNhbmRpZGF0ZUNvbnRyb2xsZXIuZ2V0Q2FuZGlkYXRlQnlNZW1iZXIpO1xyXG5yb3V0ZXIucG9zdChcIi9zdGFmZklEXCIsIGNhbmRpZGF0ZUNvbnRyb2xsZXIuZ2V0Q2FuZGlkYXRlQnlTdGFmZik7XHJcbnJvdXRlci5wYXRjaChcIi9jaGFuZ2VTdGF0dXNcIiwgY2FuZGlkYXRlQ29udHJvbGxlci5jaGFuZ2VDYW5kaWRhdGVTdGF0dXMpO1xyXG5cclxuLy9nZXQgYWxsIGNhbmRpZGF0ZXMgZGV0YWlsIHdpdGggam9iIG5hbWUgbWVtYmVyIG5hbWUgIHN0YWZmIG5hbWVcclxucm91dGVyLmdldChcIi9hbGxWMlwiLCBjYW5kaWRhdGVDb250cm9sbGVyLmdldEFsbENhbmRpZGF0ZURldGFpbHMpO1xyXG5yb3V0ZXIucGF0Y2goXCIvcHJvZmlsZVwiLCBjYW5kaWRhdGVDb250cm9sbGVyLmhhbmRsZVVwZGF0ZUNhbmRpZGF0ZVByb2ZpbGUpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBLE1BQU1DLElBQUksR0FBR0QsT0FBTyxDQUFDLCtCQUFELENBQXBCOztBQUNBLE1BQU1FLG1CQUFtQixHQUFHRixPQUFPLENBQUMsb0NBQUQsQ0FBbkM7O0FBQ0EsTUFBTUcsTUFBTSxHQUFHSixPQUFPLENBQUNLLE1BQVIsRUFBZjtBQUNBRCxNQUFNLENBQ0hFLEtBREgsQ0FDUyxHQURULEVBRUdDLElBRkgsQ0FFUUosbUJBQW1CLENBQUNLLGVBRjVCLEVBR0dDLEtBSEgsQ0FHU04sbUJBQW1CLENBQUNPLHFCQUg3QjtBQUlBTixNQUFNLENBQUNPLEdBQVAsQ0FBVyxNQUFYLEVBQW1CUixtQkFBbUIsQ0FBQ1MsZUFBdkM7QUFDQVIsTUFBTSxDQUFDRyxJQUFQLENBQVksV0FBWixFQUF5QkosbUJBQW1CLENBQUNVLG9CQUE3QztBQUNBVCxNQUFNLENBQUNHLElBQVAsQ0FBWSxVQUFaLEVBQXdCSixtQkFBbUIsQ0FBQ1csbUJBQTVDO0FBQ0FWLE1BQU0sQ0FBQ0ssS0FBUCxDQUFhLGVBQWIsRUFBOEJOLG1CQUFtQixDQUFDTyxxQkFBbEQsRSxDQUVBOztBQUNBTixNQUFNLENBQUNPLEdBQVAsQ0FBVyxRQUFYLEVBQXFCUixtQkFBbUIsQ0FBQ1ksc0JBQXpDO0FBQ0FYLE1BQU0sQ0FBQ0ssS0FBUCxDQUFhLFVBQWIsRUFBeUJOLG1CQUFtQixDQUFDYSw0QkFBN0M7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCZCxNQUFqQiJ9","map":{"version":3,"names":["express","require","auth","candidateController","router","Router","route","post","createCandidate","patch","changeCandidateStatus","get","getAllCandidate","getCandidateByMember","getCandidateByStaff","getAllCandidateDetails","handleUpdateCandidateProfile","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\routes\\","sources":["candidate.route.js"],"sourcesContent":["const express = require(\"express\");\r\nconst auth = require(\"../middleware/auth.middleware\");\r\nconst candidateController = require(\"../controller/candidate.controller\");\r\nconst router = express.Router();\r\nrouter\r\n  .route(\"/\")\r\n  .post(candidateController.createCandidate)\r\n  .patch(candidateController.changeCandidateStatus);\r\nrouter.get(\"/all\", candidateController.getAllCandidate);\r\nrouter.post(\"/memberID\", candidateController.getCandidateByMember);\r\nrouter.post(\"/staffID\", candidateController.getCandidateByStaff);\r\nrouter.patch(\"/changeStatus\", candidateController.changeCandidateStatus);\r\n\r\n//get all candidates detail with job name member name  staff name\r\nrouter.get(\"/allV2\", candidateController.getAllCandidateDetails);\r\nrouter.patch(\"/profile\", candidateController.handleUpdateCandidateProfile);\r\n\r\nmodule.exports = router;\r\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,+BAAD,CAApB;;AACA,MAAME,mBAAmB,GAAGF,OAAO,CAAC,oCAAD,CAAnC;;AACA,MAAMG,MAAM,GAAGJ,OAAO,CAACK,MAAR,EAAf;AACAD,MAAM,CACHE,KADH,CACS,GADT,EAEGC,IAFH,CAEQJ,mBAAmB,CAACK,eAF5B,EAGGC,KAHH,CAGSN,mBAAmB,CAACO,qBAH7B;AAIAN,MAAM,CAACO,GAAP,CAAW,MAAX,EAAmBR,mBAAmB,CAACS,eAAvC;AACAR,MAAM,CAACG,IAAP,CAAY,WAAZ,EAAyBJ,mBAAmB,CAACU,oBAA7C;AACAT,MAAM,CAACG,IAAP,CAAY,UAAZ,EAAwBJ,mBAAmB,CAACW,mBAA5C;AACAV,MAAM,CAACK,KAAP,CAAa,eAAb,EAA8BN,mBAAmB,CAACO,qBAAlD,E,CAEA;;AACAN,MAAM,CAACO,GAAP,CAAW,QAAX,EAAqBR,mBAAmB,CAACY,sBAAzC;AACAX,MAAM,CAACK,KAAP,CAAa,UAAb,EAAyBN,mBAAmB,CAACa,4BAA7C;AAEAC,MAAM,CAACC,OAAP,GAAiBd,MAAjB"}},"mtime":1666894741051},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\controller\\\\candidate.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _express = require(\"express\");\n\nvar _candidate = require(\"../service/candidate.service\");\n\n// import { showAllCandidateDetails } from \"../repository/candidates.repository\";\nconst candidateController = {\n  async createCandidate(req, res, next) {\n    try {\n      const candidate = await (0, _candidate.createNewCandidate)(req, res);\n      return res.send(candidate);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async getCandidateByMember(req, res, next) {\n    try {\n      const candidateByMemberID = await (0, _candidate.getListCandidateByMemberID)(req);\n      return res.send(candidateByMemberID);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async getAllCandidate(req, res, next) {\n    try {\n      const candidateList = await (0, _candidate.getListCandidate)();\n      return res.send(candidateList);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async getCandidateByStaff(req, res, next) {\n    try {\n      const candidateList = await (0, _candidate.getAllCandidateByStaffID)(req, res);\n      return res.send(candidateList);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async changeCandidateStatus(req, res, next) {\n    try {\n      const candidateChange = await (0, _candidate.candidateStatusChange)(req);\n      return res.send(candidateChange);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async getAllCandidateDetails(req, res, next) {\n    try {\n      const candidateInformation = await (0, _candidate.getAllCandidateDetailWithStaffIDMemberIDJobID)();\n      return res.send(candidateInformation);\n    } catch (error) {\n      next(error);\n    }\n  },\n\n  async handleUpdateCandidateProfile(req, res, next) {\n    try {\n      console.log(req.body);\n      const reportId = req.body.reportId;\n      const appliedResult = req.body.result;\n      const result = await (0, _candidate.updateCandidateProfileStatus)(reportId, appliedResult);\n      return res.json(result);\n    } catch (error) {\n      next(error);\n    }\n  }\n\n};\nmodule.exports = candidateController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYW5kaWRhdGVDb250cm9sbGVyIiwiY3JlYXRlQ2FuZGlkYXRlIiwicmVxIiwicmVzIiwibmV4dCIsImNhbmRpZGF0ZSIsImNyZWF0ZU5ld0NhbmRpZGF0ZSIsInNlbmQiLCJlcnJvciIsImdldENhbmRpZGF0ZUJ5TWVtYmVyIiwiY2FuZGlkYXRlQnlNZW1iZXJJRCIsImdldExpc3RDYW5kaWRhdGVCeU1lbWJlcklEIiwiZ2V0QWxsQ2FuZGlkYXRlIiwiY2FuZGlkYXRlTGlzdCIsImdldExpc3RDYW5kaWRhdGUiLCJnZXRDYW5kaWRhdGVCeVN0YWZmIiwiZ2V0QWxsQ2FuZGlkYXRlQnlTdGFmZklEIiwiY2hhbmdlQ2FuZGlkYXRlU3RhdHVzIiwiY2FuZGlkYXRlQ2hhbmdlIiwiY2FuZGlkYXRlU3RhdHVzQ2hhbmdlIiwiZ2V0QWxsQ2FuZGlkYXRlRGV0YWlscyIsImNhbmRpZGF0ZUluZm9ybWF0aW9uIiwiZ2V0QWxsQ2FuZGlkYXRlRGV0YWlsV2l0aFN0YWZmSURNZW1iZXJJREpvYklEIiwiaGFuZGxlVXBkYXRlQ2FuZGlkYXRlUHJvZmlsZSIsImNvbnNvbGUiLCJsb2ciLCJib2R5IiwicmVwb3J0SWQiLCJhcHBsaWVkUmVzdWx0IiwicmVzdWx0IiwidXBkYXRlQ2FuZGlkYXRlUHJvZmlsZVN0YXR1cyIsImpzb24iLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcQ29kZVxcRlBUX1N1YmplY3RcXFNXUFxcSFJNU19CRVxcc3JjXFxjb250cm9sbGVyXFwiLCJzb3VyY2VzIjpbImNhbmRpZGF0ZS5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGltcG9ydCB7IHNob3dBbGxDYW5kaWRhdGVEZXRhaWxzIH0gZnJvbSBcIi4uL3JlcG9zaXRvcnkvY2FuZGlkYXRlcy5yZXBvc2l0b3J5XCI7XHJcbmltcG9ydCB7IHJlcXVlc3QgfSBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQge1xyXG4gIGNyZWF0ZU5ld0NhbmRpZGF0ZSxcclxuICBnZXRMaXN0Q2FuZGlkYXRlLFxyXG4gIGdldExpc3RDYW5kaWRhdGVCeU1lbWJlcklELFxyXG4gIGNhbmRpZGF0ZVN0YXR1c0NoYW5nZSxcclxuICBnZXRBbGxDYW5kaWRhdGVCeVN0YWZmSUQsXHJcbiAgZ2V0QWxsQ2FuZGlkYXRlRGV0YWlsV2l0aFN0YWZmSURNZW1iZXJJREpvYklELFxyXG4gIHVwZGF0ZUNhbmRpZGF0ZVByb2ZpbGVTdGF0dXMsXHJcbn0gZnJvbSBcIi4uL3NlcnZpY2UvY2FuZGlkYXRlLnNlcnZpY2VcIjtcclxuXHJcbmNvbnN0IGNhbmRpZGF0ZUNvbnRyb2xsZXIgPSB7XHJcbiAgYXN5bmMgY3JlYXRlQ2FuZGlkYXRlKHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBjYW5kaWRhdGUgPSBhd2FpdCBjcmVhdGVOZXdDYW5kaWRhdGUocmVxLCByZXMpO1xyXG4gICAgICByZXR1cm4gcmVzLnNlbmQoY2FuZGlkYXRlKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIG5leHQoZXJyb3IpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgYXN5bmMgZ2V0Q2FuZGlkYXRlQnlNZW1iZXIocmVxLCByZXMsIG5leHQpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGNhbmRpZGF0ZUJ5TWVtYmVySUQgPSBhd2FpdCBnZXRMaXN0Q2FuZGlkYXRlQnlNZW1iZXJJRChyZXEpO1xyXG4gICAgICByZXR1cm4gcmVzLnNlbmQoY2FuZGlkYXRlQnlNZW1iZXJJRCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBuZXh0KGVycm9yKTtcclxuICAgIH1cclxuICB9LFxyXG4gIGFzeW5jIGdldEFsbENhbmRpZGF0ZShyZXEsIHJlcywgbmV4dCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgY2FuZGlkYXRlTGlzdCA9IGF3YWl0IGdldExpc3RDYW5kaWRhdGUoKTtcclxuICAgICAgcmV0dXJuIHJlcy5zZW5kKGNhbmRpZGF0ZUxpc3QpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgbmV4dChlcnJvcik7XHJcbiAgICB9XHJcbiAgfSxcclxuICBhc3luYyBnZXRDYW5kaWRhdGVCeVN0YWZmKHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBjYW5kaWRhdGVMaXN0ID0gYXdhaXQgZ2V0QWxsQ2FuZGlkYXRlQnlTdGFmZklEKHJlcSwgcmVzKTtcclxuICAgICAgcmV0dXJuIHJlcy5zZW5kKGNhbmRpZGF0ZUxpc3QpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgbmV4dChlcnJvcik7XHJcbiAgICB9XHJcbiAgfSxcclxuICBhc3luYyBjaGFuZ2VDYW5kaWRhdGVTdGF0dXMocmVxLCByZXMsIG5leHQpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGNhbmRpZGF0ZUNoYW5nZSA9IGF3YWl0IGNhbmRpZGF0ZVN0YXR1c0NoYW5nZShyZXEpO1xyXG4gICAgICByZXR1cm4gcmVzLnNlbmQoY2FuZGlkYXRlQ2hhbmdlKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIG5leHQoZXJyb3IpO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGFzeW5jIGdldEFsbENhbmRpZGF0ZURldGFpbHMocmVxLCByZXMsIG5leHQpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGNhbmRpZGF0ZUluZm9ybWF0aW9uID1cclxuICAgICAgICBhd2FpdCBnZXRBbGxDYW5kaWRhdGVEZXRhaWxXaXRoU3RhZmZJRE1lbWJlcklESm9iSUQoKTtcclxuICAgICAgcmV0dXJuIHJlcy5zZW5kKGNhbmRpZGF0ZUluZm9ybWF0aW9uKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIG5leHQoZXJyb3IpO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGFzeW5jIGhhbmRsZVVwZGF0ZUNhbmRpZGF0ZVByb2ZpbGUocmVxLCByZXMsIG5leHQpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKHJlcS5ib2R5KTtcclxuICAgICAgY29uc3QgcmVwb3J0SWQgPSByZXEuYm9keS5yZXBvcnRJZDtcclxuICAgICAgY29uc3QgYXBwbGllZFJlc3VsdCA9IHJlcS5ib2R5LnJlc3VsdDtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXBkYXRlQ2FuZGlkYXRlUHJvZmlsZVN0YXR1cyhcclxuICAgICAgICByZXBvcnRJZCxcclxuICAgICAgICBhcHBsaWVkUmVzdWx0XHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybiByZXMuanNvbihyZXN1bHQpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgbmV4dChlcnJvcik7XHJcbiAgICB9XHJcbiAgfSxcclxufTtcclxubW9kdWxlLmV4cG9ydHMgPSBjYW5kaWRhdGVDb250cm9sbGVyO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQ0E7O0FBQ0E7O0FBRkE7QUFZQSxNQUFNQSxtQkFBbUIsR0FBRztFQUMxQixNQUFNQyxlQUFOLENBQXNCQyxHQUF0QixFQUEyQkMsR0FBM0IsRUFBZ0NDLElBQWhDLEVBQXNDO0lBQ3BDLElBQUk7TUFDRixNQUFNQyxTQUFTLEdBQUcsTUFBTSxJQUFBQyw2QkFBQSxFQUFtQkosR0FBbkIsRUFBd0JDLEdBQXhCLENBQXhCO01BQ0EsT0FBT0EsR0FBRyxDQUFDSSxJQUFKLENBQVNGLFNBQVQsQ0FBUDtJQUNELENBSEQsQ0FHRSxPQUFPRyxLQUFQLEVBQWM7TUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7SUFDRDtFQUNGLENBUnlCOztFQVMxQixNQUFNQyxvQkFBTixDQUEyQlAsR0FBM0IsRUFBZ0NDLEdBQWhDLEVBQXFDQyxJQUFyQyxFQUEyQztJQUN6QyxJQUFJO01BQ0YsTUFBTU0sbUJBQW1CLEdBQUcsTUFBTSxJQUFBQyxxQ0FBQSxFQUEyQlQsR0FBM0IsQ0FBbEM7TUFDQSxPQUFPQyxHQUFHLENBQUNJLElBQUosQ0FBU0csbUJBQVQsQ0FB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","map":{"version":3,"names":["candidateController","createCandidate","req","res","next","candidate","createNewCandidate","send","error","getCandidateByMember","candidateByMemberID","getListCandidateByMemberID","getAllCandidate","candidateList","getListCandidate","getCandidateByStaff","getAllCandidateByStaffID","changeCandidateStatus","candidateChange","candidateStatusChange","getAllCandidateDetails","candidateInformation","getAllCandidateDetailWithStaffIDMemberIDJobID","handleUpdateCandidateProfile","console","log","body","reportId","appliedResult","result","updateCandidateProfileStatus","json","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\controller\\","sources":["candidate.controller.js"],"sourcesContent":["// import { showAllCandidateDetails } from \"../repository/candidates.repository\";\r\nimport { request } from \"express\";\r\nimport {\r\n  createNewCandidate,\r\n  getListCandidate,\r\n  getListCandidateByMemberID,\r\n  candidateStatusChange,\r\n  getAllCandidateByStaffID,\r\n  getAllCandidateDetailWithStaffIDMemberIDJobID,\r\n  updateCandidateProfileStatus,\r\n} from \"../service/candidate.service\";\r\n\r\nconst candidateController = {\r\n  async createCandidate(req, res, next) {\r\n    try {\r\n      const candidate = await createNewCandidate(req, res);\r\n      return res.send(candidate);\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  },\r\n  async getCandidateByMember(req, res, next) {\r\n    try {\r\n      const candidateByMemberID = await getListCandidateByMemberID(req);\r\n      return res.send(candidateByMemberID);\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  },\r\n  async getAllCandidate(req, res, next) {\r\n    try {\r\n      const candidateList = await getListCandidate();\r\n      return res.send(candidateList);\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  },\r\n  async getCandidateByStaff(req, res, next) {\r\n    try {\r\n      const candidateList = await getAllCandidateByStaffID(req, res);\r\n      return res.send(candidateList);\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  },\r\n  async changeCandidateStatus(req, res, next) {\r\n    try {\r\n      const candidateChange = await candidateStatusChange(req);\r\n      return res.send(candidateChange);\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  },\r\n\r\n  async getAllCandidateDetails(req, res, next) {\r\n    try {\r\n      const candidateInformation =\r\n        await getAllCandidateDetailWithStaffIDMemberIDJobID();\r\n      return res.send(candidateInformation);\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  },\r\n\r\n  async handleUpdateCandidateProfile(req, res, next) {\r\n    try {\r\n      console.log(req.body);\r\n      const reportId = req.body.reportId;\r\n      const appliedResult = req.body.result;\r\n      const result = await updateCandidateProfileStatus(\r\n        reportId,\r\n        appliedResult\r\n      );\r\n      return res.json(result);\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  },\r\n};\r\nmodule.exports = candidateController;\r\n"],"mappings":"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"}},"mtime":1667115055673},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\service\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\service\\\\candidate.service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _apiError = require(\"../middleware/apiError\");\n\nvar _staffs = require(\"../repository/staffs.repository\");\n\nvar _candidates = require(\"../repository/candidates.repository\");\n\nvar _httpStatus = _interopRequireDefault(require(\"http-status\"));\n\nvar _index = _interopRequireWildcard(require(\"../models/index\"));\n\nvar _mailSending = require(\"../utils/mailSending\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"dotenv\").config();\n\nconst createNewCandidate = async (req, res) => {\n  try {\n    const staffList = await (0, _staffs.showAllStaff)();\n    const getRandomStaff = staffList[Math.floor(Math.random() * staffList.length)];\n\n    if (!getRandomStaff) {\n      throw new _apiError.ApiError(_httpStatus.default.BAD_REQUEST, \"Dont have any Staff to approve\");\n    }\n\n    const {\n      member,\n      job_id,\n      ...rest\n    } = req.body;\n    let myResumeURL = req.body.my_resume_url;\n    const candidateList = await getListCandidate();\n\n    if (candidateList.length > 0) {\n      candidateList.forEach(candidate => {\n        if (candidate.Job_id === job_id && candidate.Member_id === member.id) {\n          throw new _apiError.ApiError(_httpStatus.default.BAD_REQUEST, \"this Member already apply this job\");\n        }\n      });\n    }\n\n    if (!myResumeURL) {\n      myResumeURL = member.current_resume_url;\n    }\n\n    const candidateDetailData = {\n      resume_url: myResumeURL,\n      phone: member.phone,\n      Job_id: job_id,\n      HRStaff_id: getRandomStaff.id,\n      Member_id: member.id,\n      ...rest\n    };\n    const candidateDetail = await (0, _candidates.createNewCandidateDetails)(candidateDetailData);\n\n    if (!candidateDetail) {\n      throw new _apiError.ApiError(_httpStatus.default.BAD_REQUEST, \"ERROR cant create candidate\");\n    } // console.log(candidateDetail);\n\n\n    return candidateDetail;\n  } catch (error) {\n    // console.log(error);\n    throw error;\n  }\n};\n\nconst getListCandidate = async (req, res) => {\n  try {\n    let candidateList = [];\n    const [results] = await _index.sequelize.query(\"select * from CandidateDetails\");\n    candidateList = results;\n    return candidateList;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getListCandidateByMemberID = async (req, res) => {\n  try {\n    const [results] = await _index.sequelize.query(`select c.id, c.resume_url, c.phone, c.applied_status, j.name as job_name from CandidateDetails c inner join Jobs J on c.Job_id = J.id where c.Member_id = ?`, {\n      replacements: [`${req.body.id}`]\n    }); // const candidateByMember = await getCandidateDetailsByMemberID(memberID);\n    // console.log(results);\n\n    if (results.length === 0) {\n      throw new _apiError.ApiError(_httpStatus.default.BAD_REQUEST, \"This member dont have any request job\");\n    }\n\n    return results; // return candidateByMember;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getAllCandidateByStaffID = async (req, res) => {\n  try {\n    const [results] = await _index.sequelize.query(`select c.id, c.resume_url, c.phone, c.applied_status, j.name as job_name, M.fullname as member_name, M.avatar as member_avatar, M.id as member_id from CandidateDetails c inner join Jobs J on c.Job_id = J.id inner join Staffs S on c.HRStaff_id = S.id inner join Members M on c.Member_id = M.id where S.id = ?`, {\n      replacements: [`${req.body.id}`]\n    });\n\n    if (results.length === 0) {\n      throw new _apiError.ApiError(_httpStatus.default.BAD_REQUEST, \"This staff dont have any request job\");\n    }\n\n    return results;\n  } catch (error) {\n    throw error;\n  }\n}; //\n\n\nconst candidateStatusChange = async (req, res) => {\n  try {\n    const [res] = await _index.sequelize.query(`select * from CandidateDetails where Member_id = ? and applied_status = 'Approve'`, {\n      replacements: [`${req.body.member_id}`]\n    });\n\n    if (res.length > 0 && req.body.status === \"Approve\") {\n      throw new _apiError.ApiError(_httpStatus.default.BAD_REQUEST, \"This Member has already been approved for another job\");\n    }\n\n    const [results] = await _index.sequelize.query(`update CandidateDetails set applied_status = ? where id = ?`, {\n      replacements: [`${req.body.status}`, `${req.body.id}`]\n    });\n\n    if (results.length === 0) {\n      throw new _apiError.ApiError(_httpStatus.default.BAD_REQUEST, \"Error with applied status\");\n    } // sendMail\n\n\n    const candidate = await (0, _candidates.getSpecificCandidateById)(req.body.id);\n    console.log(candidate);\n    const cvResult = req.body.status === \"Approve\" ? \"\\nCongratulations on passing the resume round, HR will contact you as soon as possible to continue for the interview round.\" : \"\\nWe're sorry to inform you that your resume has been rejected, hope to see you next time\";\n    (0, _mailSending.mailSending)(candidate.member_email, `Resume result about ${candidate.job_name}`, `\n        ${cvResult}\n        Best, FCode eCruitment\n      `).then(res => console.log(`send mail successfully`));\n    return results;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getAllCandidateDetailWithStaffIDMemberIDJobID = async () => {\n  const query = `SELECT \n    CD.id, CD.identity_number, CD.resume_url, CD.phone, CD.applied_status, CD.dob, CD.address, J.name as job, S.fullname as hr_staff, M.fullname as member,\n    case \n      when CD.id in (select i.candidatedetail_id from hrms.interviews as i) then 'YES' \n      else 'NO' \n    end as booking_status \n  FROM hrms.candidatedetails CD \n  INNER JOIN hrms.jobs J \n  ON CD.Job_id = J.id \n  INNER JOIN hrms.members M \n  ON CD.Member_id = M.id \n  INNER JOIN hrms.staffs S \n  ON CD.HRStaff_id = S.id \n  WHERE S.role = 'HR Staff'\n      AND CD.applied_status = 'Approve'`;\n\n  try {\n    let candidateList = [];\n    const [results] = await _index.sequelize.query(query);\n    candidateList = results;\n    return candidateList;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst updateCandidateProfileStatus = async (reportId, appliedResult) => {\n  try {\n    const result = await (0, _candidates.updateCandidateProfile)(reportId, appliedResult);\n    return result;\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  createNewCandidate,\n  getListCandidate,\n  getListCandidateByMemberID,\n  candidateStatusChange,\n  getAllCandidateByStaffID,\n  getAllCandidateDetailWithStaffIDMemberIDJobID,\n  updateCandidateProfileStatus\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiY3JlYXRlTmV3Q2FuZGlkYXRlIiwicmVxIiwicmVzIiwic3RhZmZMaXN0Iiwic2hvd0FsbFN0YWZmIiwiZ2V0UmFuZG9tU3RhZmYiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJsZW5ndGgiLCJBcGlFcnJvciIsImh0dHBTdGF0dXMiLCJCQURfUkVRVUVTVCIsIm1lbWJlciIsImpvYl9pZCIsInJlc3QiLCJib2R5IiwibXlSZXN1bWVVUkwiLCJteV9yZXN1bWVfdXJsIiwiY2FuZGlkYXRlTGlzdCIsImdldExpc3RDYW5kaWRhdGUiLCJmb3JFYWNoIiwiY2FuZGlkYXRlIiwiSm9iX2lkIiwiTWVtYmVyX2lkIiwiaWQiLCJjdXJyZW50X3Jlc3VtZV91cmwiLCJjYW5kaWRhdGVEZXRhaWxEYXRhIiwicmVzdW1lX3VybCIsInBob25lIiwiSFJTdGFmZl9pZCIsImNhbmRpZGF0ZURldGFpbCIsImNyZWF0ZU5ld0NhbmRpZGF0ZURldGFpbHMiLCJlcnJvciIsInJlc3VsdHMiLCJzZXF1ZWxpemUiLCJxdWVyeSIsImdldExpc3RDYW5kaWRhdGVCeU1lbWJlcklEIiwicmVwbGFjZW1lbnRzIiwiZ2V0QWxsQ2FuZGlkYXRlQnlTdGFmZklEIiwiY2FuZGlkYXRlU3RhdHVzQ2hhbmdlIiwibWVtYmVyX2lkIiwic3RhdHVzIiwiZ2V0U3BlY2lmaWNDYW5kaWRhdGVCeUlkIiwiY29uc29sZSIsImxvZyIsImN2UmVzdWx0IiwibWFpbFNlbmRpbmciLCJtZW1iZXJfZW1haWwiLCJqb2JfbmFtZSIsInRoZW4iLCJnZXRBbGxDYW5kaWRhdGVEZXRhaWxXaXRoU3RhZmZJRE1lbWJlcklESm9iSUQiLCJ1cGRhdGVDYW5kaWRhdGVQcm9maWxlU3RhdHVzIiwicmVwb3J0SWQiLCJhcHBsaWVkUmVzdWx0IiwicmVzdWx0IiwidXBkYXRlQ2FuZGlkYXRlUHJvZmlsZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxDb2RlXFxGUFRfU3ViamVjdFxcU1dQXFxIUk1TX0JFXFxzcmNcXHNlcnZpY2VcXCIsInNvdXJjZXMiOlsiY2FuZGlkYXRlLnNlcnZpY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBpRXJyb3IgfSBmcm9tIFwiLi4vbWlkZGxld2FyZS9hcGlFcnJvclwiO1xyXG5pbXBvcnQgeyBzaG93QWxsU3RhZmYgfSBmcm9tIFwiLi4vcmVwb3NpdG9yeS9zdGFmZnMucmVwb3NpdG9yeVwiO1xyXG5pbXBvcnQge1xyXG4gIGNyZWF0ZU5ld0NhbmRpZGF0ZURldGFpbHMsXHJcbiAgLy8gZ2V0Q2FuZGlkYXRlRGV0YWlsc0J5TWVtYmVySUQsXHJcbiAgZ2V0U3BlY2lmaWNDYW5kaWRhdGVCeUlkLFxyXG4gIHVwZGF0ZUNhbmRpZGF0ZVByb2ZpbGUsXHJcbn0gZnJvbSBcIi4uL3JlcG9zaXRvcnkvY2FuZGlkYXRlcy5yZXBvc2l0b3J5XCI7XHJcbmltcG9ydCBodHRwU3RhdHVzIGZyb20gXCJodHRwLXN0YXR1c1wiO1xyXG5pbXBvcnQgZGIsIHsgc2VxdWVsaXplIH0gZnJvbSBcIi4uL21vZGVscy9pbmRleFwiO1xyXG5pbXBvcnQgeyBtYWlsU2VuZGluZyB9IGZyb20gXCIuLi91dGlscy9tYWlsU2VuZGluZ1wiO1xyXG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xyXG5cclxuY29uc3QgY3JlYXRlTmV3Q2FuZGlkYXRlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHN0YWZmTGlzdCA9IGF3YWl0IHNob3dBbGxTdGFmZigpO1xyXG4gICAgY29uc3QgZ2V0UmFuZG9tU3RhZmYgPVxyXG4gICAgICBzdGFmZkxpc3RbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogc3RhZmZMaXN0Lmxlbmd0aCldO1xyXG4gICAgaWYgKCFnZXRSYW5kb21TdGFmZikge1xyXG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoXHJcbiAgICAgICAgaHR0cFN0YXR1cy5CQURfUkVRVUVTVCxcclxuICAgICAgICBcIkRvbnQgaGF2ZSBhbnkgU3RhZmYgdG8gYXBwcm92ZVwiXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB7IG1lbWJlciwgam9iX2lkLCAuLi5yZXN0IH0gPSByZXEuYm9keTtcclxuICAgIGxldCBteVJlc3VtZVVSTCA9IHJlcS5ib2R5Lm15X3Jlc3VtZV91cmw7XHJcbiAgICBjb25zdCBjYW5kaWRhdGVMaXN0ID0gYXdhaXQgZ2V0TGlzdENhbmRpZGF0ZSgpO1xyXG4gICAgaWYgKGNhbmRpZGF0ZUxpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICBjYW5kaWRhdGVMaXN0LmZvckVhY2goKGNhbmRpZGF0ZSkgPT4ge1xyXG4gICAgICAgIGlmIChjYW5kaWRhdGUuSm9iX2lkID09PSBqb2JfaWQgJiYgY2FuZGlkYXRlLk1lbWJlcl9pZCA9PT0gbWVtYmVyLmlkKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoXHJcbiAgICAgICAgICAgIGh0dHBTdGF0dXMuQkFEX1JFUVVFU1QsXHJcbiAgICAgICAgICAgIFwidGhpcyBNZW1iZXIgYWxyZWFkeSBhcHBseSB0aGlzIGpvYlwiXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoIW15UmVzdW1lVVJMKSB7XHJcbiAgICAgIG15UmVzdW1lVVJMID0gbWVtYmVyLmN1cnJlbnRfcmVzdW1lX3VybDtcclxuICAgIH1cclxuICAgIGNvbnN0IGNhbmRpZGF0ZURldGFpbERhdGEgPSB7XHJcbiAgICAgIHJlc3VtZV91cmw6IG15UmVzdW1lVVJMLFxyXG4gICAgICBwaG9uZTogbWVtYmVyLnBob25lLFxyXG4gICAgICBKb2JfaWQ6IGpvYl9pZCxcclxuICAgICAgSFJTdGFmZl9pZDogZ2V0UmFuZG9tU3RhZmYuaWQsXHJcbiAgICAgIE1lbWJlcl9pZDogbWVtYmVyLmlkLFxyXG4gICAgICAuLi5yZXN0LFxyXG4gICAgfTtcclxuICAgIGNvbnN0IGNhbmRpZGF0ZURldGFpbCA9IGF3YWl0IGNyZWF0ZU5ld0NhbmRpZGF0ZURldGFpbHMoXHJcbiAgICAgIGNhbmRpZGF0ZURldGFpbERhdGFcclxuICAgICk7XHJcbiAgICBpZiAoIWNhbmRpZGF0ZURldGFpbCkge1xyXG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5CQURfUkVRVUVTVCwgXCJFUlJPUiBjYW50IGNyZWF0ZSBjYW5kaWRhdGVcIik7XHJcbiAgICB9XHJcbiAgICAvLyBjb25zb2xlLmxvZyhjYW5kaWRhdGVEZXRhaWwpO1xyXG4gICAgcmV0dXJuIGNhbmRpZGF0ZURldGFpbDtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgLy8gY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59O1xyXG5jb25zdCBnZXRMaXN0Q2FuZGlkYXRlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGxldCBjYW5kaWRhdGVMaXN0ID0gW107XHJcbiAgICBjb25zdCBbcmVzdWx0c10gPSBhd2FpdCBzZXF1ZWxpemUucXVlcnkoXCJzZWxlY3QgKiBmcm9tIENhbmRpZGF0ZURldGFpbHNcIik7XHJcbiAgICBjYW5kaWRhdGVMaXN0ID0gcmVzdWx0cztcclxuICAgIHJldHVybiBjYW5kaWRhdGVMaXN0O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcbmNvbnN0IGdldExpc3RDYW5kaWRhdGVCeU1lbWJlcklEID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IFtyZXN1bHRzXSA9IGF3YWl0IHNlcXVlbGl6ZS5xdWVyeShcclxuICAgICAgYHNlbGVjdCBjLmlkLCBjLnJlc3VtZV91cmwsIGMucGhvbmUsIGMuYXBwbGllZF9zdGF0dXMsIGoubmFtZSBhcyBqb2JfbmFtZSBmcm9tIENhbmRpZGF0ZURldGFpbHMgYyBpbm5lciBqb2luIEpvYnMgSiBvbiBjLkpvYl9pZCA9IEouaWQgd2hlcmUgYy5NZW1iZXJfaWQgPSA/YCxcclxuICAgICAge1xyXG4gICAgICAgIHJlcGxhY2VtZW50czogW2Ake3JlcS5ib2R5LmlkfWBdLFxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gICAgLy8gY29uc3QgY2FuZGlkYXRlQnlNZW1iZXIgPSBhd2FpdCBnZXRDYW5kaWRhdGVEZXRhaWxzQnlNZW1iZXJJRChtZW1iZXJJRCk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhyZXN1bHRzKTtcclxuXHJcbiAgICBpZiAocmVzdWx0cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKFxyXG4gICAgICAgIGh0dHBTdGF0dXMuQkFEX1JFUVVFU1QsXHJcbiAgICAgICAgXCJUaGlzIG1lbWJlciBkb250IGhhdmUgYW55IHJlcXVlc3Qgam9iXCJcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHRzO1xyXG4gICAgLy8gcmV0dXJuIGNhbmRpZGF0ZUJ5TWVtYmVyO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcbmNvbnN0IGdldEFsbENhbmRpZGF0ZUJ5U3RhZmZJRCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBbcmVzdWx0c10gPSBhd2FpdCBzZXF1ZWxpemUucXVlcnkoXHJcbiAgICAgIGBzZWxlY3QgYy5pZCwgYy5yZXN1bWVfdXJsLCBjLnBob25lLCBjLmFwcGxpZWRfc3RhdHVzLCBqLm5hbWUgYXMgam9iX25hbWUsIE0uZnVsbG5hbWUgYXMgbWVtYmVyX25hbWUsIE0uYXZhdGFyIGFzIG1lbWJlcl9hdmF0YXIsIE0uaWQgYXMgbWVtYmVyX2lkIGZyb20gQ2FuZGlkYXRlRGV0YWlscyBjIGlubmVyIGpvaW4gSm9icyBKIG9uIGMuSm9iX2lkID0gSi5pZCBpbm5lciBqb2luIFN0YWZmcyBTIG9uIGMuSFJTdGFmZl9pZCA9IFMuaWQgaW5uZXIgam9pbiBNZW1iZXJzIE0gb24gYy5NZW1iZXJfaWQgPSBNLmlkIHdoZXJlIFMuaWQgPSA/YCxcclxuICAgICAge1xyXG4gICAgICAgIHJlcGxhY2VtZW50czogW2Ake3JlcS5ib2R5LmlkfWBdLFxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gICAgaWYgKHJlc3VsdHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcihcclxuICAgICAgICBodHRwU3RhdHVzLkJBRF9SRVFVRVNULFxyXG4gICAgICAgIFwiVGhpcyBzdGFmZiBkb250IGhhdmUgYW55IHJlcXVlc3Qgam9iXCJcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHRzO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcbi8vXHJcbmNvbnN0IGNhbmRpZGF0ZVN0YXR1c0NoYW5nZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBbcmVzXSA9IGF3YWl0IHNlcXVlbGl6ZS5xdWVyeShcclxuICAgICAgYHNlbGVjdCAqIGZyb20gQ2FuZGlkYXRlRGV0YWlscyB3aGVyZSBNZW1iZXJfaWQgPSA/IGFuZCBhcHBsaWVkX3N0YXR1cyA9ICdBcHByb3ZlJ2AsXHJcbiAgICAgIHtcclxuICAgICAgICByZXBsYWNlbWVudHM6IFtgJHtyZXEuYm9keS5tZW1iZXJfaWR9YF0sXHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgICBpZiAocmVzLmxlbmd0aCA+IDAgJiYgcmVxLmJvZHkuc3RhdHVzID09PSBcIkFwcHJvdmVcIikge1xyXG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoXHJcbiAgICAgICAgaHR0cFN0YXR1cy5CQURfUkVRVUVTVCxcclxuICAgICAgICBcIlRoaXMgTWVtYmVyIGhhcyBhbHJlYWR5IGJlZW4gYXBwcm92ZWQgZm9yIGFub3RoZXIgam9iXCJcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIGNvbnN0IFtyZXN1bHRzXSA9IGF3YWl0IHNlcXVlbGl6ZS5xdWVyeShcclxuICAgICAgYHVwZGF0ZSBDYW5kaWRhdGVEZXRhaWxzIHNldCBhcHBsaWVkX3N0YXR1cyA9ID8gd2hlcmUgaWQgPSA/YCxcclxuICAgICAge1xyXG4gICAgICAgIHJlcGxhY2VtZW50czogW2Ake3JlcS5ib2R5LnN0YXR1c31gLCBgJHtyZXEuYm9keS5pZH1gXSxcclxuICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAocmVzdWx0cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKGh0dHBTdGF0dXMuQkFEX1JFUVVFU1QsIFwiRXJyb3Igd2l0aCBhcHBsaWVkIHN0YXR1c1wiKTtcclxuICAgIH1cclxuICAgIC8vIHNlbmRNYWlsXHJcbiAgICBjb25zdCBjYW5kaWRhdGUgPSBhd2FpdCBnZXRTcGVjaWZpY0NhbmRpZGF0ZUJ5SWQocmVxLmJvZHkuaWQpO1xyXG4gICAgY29uc29sZS5sb2coY2FuZGlkYXRlKTtcclxuXHJcbiAgICBjb25zdCBjdlJlc3VsdCA9XHJcbiAgICAgIHJlcS5ib2R5LnN0YXR1cyA9PT0gXCJBcHByb3ZlXCJcclxuICAgICAgICA/IFwiXFxuQ29uZ3JhdHVsYXRpb25zIG9uIHBhc3NpbmcgdGhlIHJlc3VtZSByb3VuZCwgSFIgd2lsbCBjb250YWN0IHlvdSBhcyBzb29uIGFzIHBvc3NpYmxlIHRvIGNvbnRpbnVlIGZvciB0aGUgaW50ZXJ2aWV3IHJvdW5kLlwiXHJcbiAgICAgICAgOiBcIlxcbldlJ3JlIHNvcnJ5IHRvIGluZm9ybSB5b3UgdGhhdCB5b3VyIHJlc3VtZSBoYXMgYmVlbiByZWplY3RlZCwgaG9wZSB0byBzZWUgeW91IG5leHQgdGltZVwiO1xyXG4gICAgbWFpbFNlbmRpbmcoXHJcbiAgICAgIGNhbmRpZGF0ZS5tZW1iZXJfZW1haWwsXHJcbiAgICAgIGBSZXN1bWUgcmVzdWx0IGFib3V0ICR7Y2FuZGlkYXRlLmpvYl9uYW1lfWAsXHJcbiAgICAgIGBcclxuICAgICAgICAke2N2UmVzdWx0fVxyXG4gICAgICAgIEJlc3QsIEZDb2RlIGVDcnVpdG1lbnRcclxuICAgICAgYFxyXG4gICAgKS50aGVuKChyZXMpID0+IGNvbnNvbGUubG9nKGBzZW5kIG1haWwgc3VjY2Vzc2Z1bGx5YCkpO1xyXG4gICAgcmV0dXJuIHJlc3VsdHM7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGdldEFsbENhbmRpZGF0ZURldGFpbFdpdGhTdGFmZklETWVtYmVySURKb2JJRCA9IGFzeW5jICgpID0+IHtcclxuICBjb25zdCBxdWVyeSA9IGBTRUxFQ1QgXHJcbiAgICBDRC5pZCwgQ0QuaWRlbnRpdHlfbnVtYmVyLCBDRC5yZXN1bWVfdXJsLCBDRC5waG9uZSwgQ0QuYXBwbGllZF9zdGF0dXMsIENELmRvYiwgQ0QuYWRkcmVzcywgSi5uYW1lIGFzIGpvYiwgUy5mdWxsbmFtZSBhcyBocl9zdGFmZiwgTS5mdWxsbmFtZSBhcyBtZW1iZXIsXHJcbiAgICBjYXNlIFxyXG4gICAgICB3aGVuIENELmlkIGluIChzZWxlY3QgaS5jYW5kaWRhdGVkZXRhaWxfaWQgZnJvbSBocm1zLmludGVydmlld3MgYXMgaSkgdGhlbiAnWUVTJyBcclxuICAgICAgZWxzZSAnTk8nIFxyXG4gICAgZW5kIGFzIGJvb2tpbmdfc3RhdHVzIFxyXG4gIEZST00gaHJtcy5jYW5kaWRhdGVkZXRhaWxzIENEIFxyXG4gIElOTkVSIEpPSU4gaHJtcy5qb2JzIEogXHJcbiAgT04gQ0QuSm9iX2lkID0gSi5pZCBcclxuICBJTk5FUiBKT0lOIGhybXMubWVtYmVycyBNIFxyXG4gIE9OIENELk1lbWJlcl9pZCA9IE0uaWQgXHJcbiAgSU5ORVIgSk9JTiBocm1zLnN0YWZmcyBTIFxyXG4gIE9OIENELkhSU3RhZmZfaWQgPSBTLmlkIFxyXG4gIFdIRVJFIFMucm9sZSA9ICdIUiBTdGFmZidcclxuICAgICAgQU5EIENELmFwcGxpZWRfc3RhdHVzID0gJ0FwcHJvdmUnYDtcclxuICB0cnkge1xyXG4gICAgbGV0IGNhbmRpZGF0ZUxpc3QgPSBbXTtcclxuICAgIGNvbnN0IFtyZXN1bHRzXSA9IGF3YWl0IHNlcXVlbGl6ZS5xdWVyeShxdWVyeSk7XHJcbiAgICBjYW5kaWRhdGVMaXN0ID0gcmVzdWx0cztcclxuICAgIHJldHVybiBjYW5kaWRhdGVMaXN0O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCB1cGRhdGVDYW5kaWRhdGVQcm9maWxlU3RhdHVzID0gYXN5bmMgKHJlcG9ydElkLCBhcHBsaWVkUmVzdWx0KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVwZGF0ZUNhbmRpZGF0ZVByb2ZpbGUocmVwb3J0SWQsIGFwcGxpZWRSZXN1bHQpO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgY3JlYXRlTmV3Q2FuZGlkYXRlLFxyXG4gIGdldExpc3RDYW5kaWRhdGUsXHJcbiAgZ2V0TGlzdENhbmRpZGF0ZUJ5TWVtYmVySUQsXHJcbiAgY2FuZGlkYXRlU3RhdHVzQ2hhbmdlLFxyXG4gIGdldEFsbENhbmRpZGF0ZUJ5U3RhZmZJRCxcclxuICBnZXRBbGxDYW5kaWRhdGVEZXRhaWxXaXRoU3RhZmZJRE1lbWJlcklESm9iSUQsXHJcbiAgdXBkYXRlQ2FuZGlkYXRlUHJvZmlsZVN0YXR1cyxcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOztBQU1BOztBQUNBOztBQUNBOzs7Ozs7OztBQUNBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQjs7QUFFQSxNQUFNQyxrQkFBa0IsR0FBRyxPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7RUFDN0MsSUFBSTtJQUNGLE1BQU1DLFNBQVMsR0FBRyxNQUFNLElBQUFDLG9CQUFBLEdBQXhCO0lBQ0EsTUFBTUMsY0FBYyxHQUNsQkYsU0FBUyxDQUFDRyxJQUFJLENBQUNDLEtBQUwsQ0FBV0QsSUFBSSxDQUFDRSxNQUFMLEtBQWdCTCxTQUFTLENBQUNNLE1BQXJDLENBQUQsQ0FEWDs7SUFFQSxJQUFJLENBQUNKLGNBQUwsRUFBcUI7TUFDbkIsTUFBTSxJQUFJSyxrQkFBSixDQUNKQyxtQkFBQSxDQUFXQyxXQURQLEVBRUosZ0NBRkksQ0FBTjtJQUlEOztJQUNELE1BQU07TUFBRUMsTUFBRjtNQUFVQyxNQUFWO01BQWtCLEdBQUdDO0lBQXJCLElBQThCZCxHQUFHLENBQUNlLElBQXhDO0lBQ0EsSUFBSUMsV0FBVyxHQUFHaEIsR0FBRyxDQUFDZSxJQUFKLENBQVNFLGFBQTNCO0lBQ0EsTUFBTUMsYUFBYSxHQUFHLE1BQU1DLGdCQUFnQixFQUE1Qzs7SUFDQSxJQUFJRCxhQUFhLENBQUNWLE1BQWQsR0FBdUIsQ0FBM0IsRUFBOEI7TUFDNUJVLGFBQWEsQ0FBQ0UsT0FBZCxDQUF1QkMsU0FBRCxJQUFlO1FBQ25DLElBQUlBLFNBQVMsQ0FBQ0MsTUFBVixLQUFxQlQsTUFBckIsSUFBK0JRLFNBQVMsQ0FBQ0UsU0FBVixLQUF3QlgsTUFBTSxDQUFDWSxFQUFsRSxFQUFzRTtVQUNwRSxNQUFNLElBQUlmLGtCQUFKLENBQ0pDLG1CQUFBLENBQVdDLFdBRFAsRUFFSixvQ0FGSSxDQUFOO1FBSUQ7TUFDRixDQVBEO0lBUUQ7O0lBQ0QsSUFBSSxDQUFDSyxXQUFMLEVBQWtCO01BQ2hCQSxXQUFXLEdBQUdKLE1BQU0sQ0FBQ2Esa0JBQXJCO0lBQ0Q7O0lBQ0QsTUFBTUMsbUJBQW1CLEdBQUc7TUFDMUJDLFVBQVUsRUFBRVgsV0FEYztNQUUxQlksS0FBSyxFQUFFaEIsTUFBTSxDQUFDZ0IsS0FGWTtNQUcxQk4sTUFBTSxFQUFFVCxNQUhrQjtNQUkxQmdCLFVBQVUsRUFBRXpCLGNBQWMsQ0FBQ29CLEVBSkQ7TUFLMUJELFNBQVMsRUFBRVgsTUFBTSxDQUFDWSxFQUxRO01BTTFCLEdBQUdWO0lBTnVCLENBQTVCO0lBUUEsTUFBTWdCLGVBQWUsR0FBRyxNQUFNLElBQUFDLHFDQUFBLEVBQzVCTCxtQkFENEIsQ0FBOUI7O0lBR0EsSUFBSSxDQUFDSSxlQUFMLEVBQXNCO01BQ3BCLE1BQU0sSUFBSXJCLGtCQUFKLENBQWFDLG1CQUFBLENBQVdDLFdBQXhCLEVBQXFDLDZCQUFyQyxDQUFOO0lBQ0QsQ0F2Q0MsQ0F3Q0Y7OztJQUNBLE9BQU9tQixlQUFQO0VBQ0QsQ0ExQ0QsQ0EwQ0UsT0FBT0UsS0FBUCxFQUFjO0lBQ2Q7SUFDQSxNQUFNQSxLQUFOO0VBQ0Q7QUFDRixDQS9DRDs7QUFnREEsTUFBTWIsZ0JBQWdCLEdBQUcsT0FBT25CLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtFQUMzQyxJQUFJO0lBQ0YsSUFBSWlCLGFBQWEsR0FBRyxFQUFwQjtJQUNBLE1BQU0sQ0FBQ2UsT0FBRCxJQUFZLE1BQU1DLGdCQUFBLENBQVVDLEtBQVYsQ0FBZ0IsZ0NBQWhCLENBQXhCO0lBQ0FqQixhQUFhLEdBQUdlLE9BQWhCO0lBQ0EsT0FBT2YsYUFBUDtFQUNELENBTEQsQ0FLRSxPQUFPYyxLQUFQLEVBQWM7SUFDZCxNQUFNQSxLQUFOO0VBQ0Q7QUFDRixDQVREOztBQVVBLE1BQU1JLDBCQUEwQixHQUFHLE9BQU9wQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7RUFDckQsSUFBSTtJQUNGLE1BQU0sQ0FBQ2dDLE9BQUQsSUFBWSxNQUFNQyxnQkFBQSxDQUFVQyxLQUFWLENBQ3JCLDZKQURxQixFQUV0QjtNQUNFRSxZQUFZLEVBQUUsQ0FBRSxHQUFFckMsR0FBRyxDQUFDZSxJQUFKLENBQVNTLEVBQUcsRUFBaEI7SUFEaEIsQ0FGc0IsQ0FBeEIsQ0FERSxDQU9GO0lBQ0E7O0lBRUEsSUFBSVMsT0FBTyxDQUFDekIsTUFBUixLQUFtQixDQUF2QixFQUEwQjtNQUN4QixNQUFNLElBQUlDLGtCQUFKLENBQ0pDLG1CQUFBLENBQVdDLFdBRFAsRUFFSix1Q0FGSSxDQUFOO0lBSUQ7O0lBQ0QsT0FBT3NCLE9BQVAsQ0FoQkUsQ0FpQkY7RUFDRCxDQWxCRCxDQWtCRSxPQUFPRCxLQUFQLEVBQWM7SUFDZCxNQUFNQSxLQUFOO0VBQ0Q7QUFDRixDQXRCRDs7QUF1QkEsTUFBTU0sd0JBQXdCLEdBQUcsT0FBT3RDLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtFQUNuRCxJQUFJO0lBQ0YsTUFBTSxDQUFDZ0MsT0FBRCxJQUFZLE1BQU1DLGdCQUFBLENBQVVDLEtBQVYsQ0FDckIscVRBRHFCLEVBRXRCO01BQ0VFLFlBQVksRUFBRSxDQUFFLEdBQUVyQyxHQUFHLENBQUNlLElBQUosQ0FBU1MsRUFBRyxFQUFoQjtJQURoQixDQUZzQixDQUF4Qjs7SUFNQSxJQUFJUyxPQUFPLENBQUN6QixNQUFSLEtBQW1CLENBQXZCLEVBQTBCO01BQ3hCLE1BQU0sSUFBSUMsa0JBQUosQ0FDSkMsbUJBQUEsQ0FBV0MsV0FEUCxFQUVKLHNDQUZJLENBQU47SUFJRDs7SUFDRCxPQUFPc0IsT0FBUDtFQUNELENBZEQsQ0FjRSxPQUFPRCxLQUFQLEVBQWM7SUFDZCxNQUFNQSxLQUFOO0VBQ0Q7QUFDRixDQWxCRCxDLENBbUJBOzs7QUFDQSxNQUFNTyxxQkFBcUIsR0FBRyxPQUFPdkMsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0VBQ2hELElBQUk7SUFDRixNQUFNLENBQUNBLEdBQUQsSUFBUSxNQUFNaUMsZ0JBQUEsQ0FBVUMsS0FBVixDQUNqQixtRkFEaUIsRUFFbEI7TUFDRUUsWUFBWSxFQUFFLENBQUUsR0FBRXJDLEdBQUcsQ0FBQ2UsSUFBSixDQUFTeUIsU0FBVSxFQUF2QjtJQURoQixDQUZrQixDQUFwQjs7SUFNQSxJQUFJdkMsR0FBRyxDQUFDTyxNQUFKLEdBQWEsQ0FBYixJQUFrQlIsR0FBRyxDQUFDZSxJQUFKLENBQVMwQixNQUFULEtBQW9CLFNBQTFDLEVBQXFEO01BQ25ELE1BQU0sSUFBSWhDLGtCQUFKLENBQ0pDLG1CQUFBLENBQVdDLFdBRFAsRUFFSix1REFGSSxDQUFOO0lBSUQ7O0lBQ0QsTUFBTSxDQUFDc0IsT0FBRCxJQUFZLE1BQU1DLGdCQUFBLENBQVVDLEtBQVYsQ0FDckIsNkRBRHFCLEVBRXRCO01BQ0VFLFlBQVksRUFBRSxDQUFFLEdBQUVyQyxHQUFHLENBQUNlLElBQUosQ0FBUzBCLE1BQU8sRUFBcEIsRUFBd0IsR0FBRXpDLEdBQUcsQ0FBQ2UsSUFBSixDQUFTUyxFQUFHLEVBQXRDO0lBRGhCLENBRnNCLENBQXhCOztJQU9BLElBQUlTLE9BQU8sQ0FBQ3pCLE1BQVIsS0FBbUIsQ0FBdkIsRUFBMEI7TUFDeEIsTUFBTSxJQUFJQyxrQkFBSixDQUFhQyxtQkFBQSxDQUFXQyxXQUF4QixFQUFxQywyQkFBckMsQ0FBTjtJQUNELENBdEJDLENBdUJGOzs7SUFDQSxNQUFNVSxTQUFTLEdBQUcsTUFBTSxJQUFBcUIsb0NBQUEsRUFBeUIxQyxHQUFHLENBQUNlLElBQUosQ0FBU1MsRUFBbEMsQ0FBeEI7SUFDQW1CLE9BQU8sQ0FBQ0MsR0FBUixDQUFZdkIsU0FBWjtJQUVBLE1BQU13QixRQUFRLEdBQ1o3QyxHQUFHLENBQUNlLElBQUosQ0FBUzBCLE1BQVQsS0FBb0IsU0FBcEIsR0FDSSw2SEFESixHQUVJLDJGQUhOO0lBSUEsSUFBQUssd0JBQUEsRUFDRXpCLFNBQVMsQ0FBQzBCLFlBRFosRUFFRyx1QkFBc0IxQixTQUFTLENBQUMyQixRQUFTLEVBRjVDLEVBR0c7QUFDUCxVQUFVSCxRQUFTO0FBQ25CO0FBQ0EsT0FOSSxFQU9FSSxJQVBGLENBT1FoRCxHQUFELElBQVMwQyxPQUFPLENBQUNDLEdBQVIsQ0FBYSx3QkFBYixDQVBoQjtJQVFBLE9BQU9YLE9BQVA7RUFDRCxDQXhDRCxDQXdDRSxPQUFPRCxLQUFQLEVBQWM7SUFDZCxNQUFNQSxLQUFOO0VBQ0Q7QUFDRixDQTVDRDs7QUE4Q0EsTUFBTWtCLDZDQUE2QyxHQUFHLFlBQVk7RUFDaEUsTUFBTWYsS0FBSyxHQUFJO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBZEU7O0VBZUEsSUFBSTtJQUNGLElBQUlqQixhQUFhLEdBQUcsRUFBcEI7SUFDQSxNQUFNLENBQUNlLE9BQUQsSUFBWSxNQUFNQyxnQkFBQSxDQUFVQyxLQUFWLENBQWdCQSxLQUFoQixDQUF4QjtJQUNBakIsYUFBYSxHQUFHZSxPQUFoQjtJQUNBLE9BQU9mLGFBQVA7RUFDRCxDQUxELENBS0UsT0FBT2MsS0FBUCxFQUFjO0lBQ2QsTUFBTUEsS0FBTjtFQUNEO0FBQ0YsQ0F4QkQ7O0FBMEJBLE1BQU1tQiw0QkFBNEIsR0FBRyxPQUFPQyxRQUFQLEVBQWlCQyxhQUFqQixLQUFtQztFQUN0RSxJQUFJO0lBQ0YsTUFBTUMsTUFBTSxHQUFHLE1BQU0sSUFBQUMsa0NBQUEsRUFBdUJILFFBQXZCLEVBQWlDQyxhQUFqQyxDQUFyQjtJQUNBLE9BQU9DLE1BQVA7RUFDRCxDQUhELENBR0UsT0FBT3RCLEtBQVAsRUFBYztJQUNkLE1BQU1BLEtBQU47RUFDRDtBQUNGLENBUEQ7O0FBU0F3QixNQUFNLENBQUNDLE9BQVAsR0FBaUI7RUFDZjFELGtCQURlO0VBRWZvQixnQkFGZTtFQUdmaUIsMEJBSGU7RUFJZkcscUJBSmU7RUFLZkQsd0JBTGU7RUFNZlksNkNBTmU7RUFPZkM7QUFQZSxDQUFqQiJ9","map":{"version":3,"names":["require","config","createNewCandidate","req","res","staffList","showAllStaff","getRandomStaff","Math","floor","random","length","ApiError","httpStatus","BAD_REQUEST","member","job_id","rest","body","myResumeURL","my_resume_url","candidateList","getListCandidate","forEach","candidate","Job_id","Member_id","id","current_resume_url","candidateDetailData","resume_url","phone","HRStaff_id","candidateDetail","createNewCandidateDetails","error","results","sequelize","query","getListCandidateByMemberID","replacements","getAllCandidateByStaffID","candidateStatusChange","member_id","status","getSpecificCandidateById","console","log","cvResult","mailSending","member_email","job_name","then","getAllCandidateDetailWithStaffIDMemberIDJobID","updateCandidateProfileStatus","reportId","appliedResult","result","updateCandidateProfile","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\service\\","sources":["candidate.service.js"],"sourcesContent":["import { ApiError } from \"../middleware/apiError\";\r\nimport { showAllStaff } from \"../repository/staffs.repository\";\r\nimport {\r\n  createNewCandidateDetails,\r\n  // getCandidateDetailsByMemberID,\r\n  getSpecificCandidateById,\r\n  updateCandidateProfile,\r\n} from \"../repository/candidates.repository\";\r\nimport httpStatus from \"http-status\";\r\nimport db, { sequelize } from \"../models/index\";\r\nimport { mailSending } from \"../utils/mailSending\";\r\nrequire(\"dotenv\").config();\r\n\r\nconst createNewCandidate = async (req, res) => {\r\n  try {\r\n    const staffList = await showAllStaff();\r\n    const getRandomStaff =\r\n      staffList[Math.floor(Math.random() * staffList.length)];\r\n    if (!getRandomStaff) {\r\n      throw new ApiError(\r\n        httpStatus.BAD_REQUEST,\r\n        \"Dont have any Staff to approve\"\r\n      );\r\n    }\r\n    const { member, job_id, ...rest } = req.body;\r\n    let myResumeURL = req.body.my_resume_url;\r\n    const candidateList = await getListCandidate();\r\n    if (candidateList.length > 0) {\r\n      candidateList.forEach((candidate) => {\r\n        if (candidate.Job_id === job_id && candidate.Member_id === member.id) {\r\n          throw new ApiError(\r\n            httpStatus.BAD_REQUEST,\r\n            \"this Member already apply this job\"\r\n          );\r\n        }\r\n      });\r\n    }\r\n    if (!myResumeURL) {\r\n      myResumeURL = member.current_resume_url;\r\n    }\r\n    const candidateDetailData = {\r\n      resume_url: myResumeURL,\r\n      phone: member.phone,\r\n      Job_id: job_id,\r\n      HRStaff_id: getRandomStaff.id,\r\n      Member_id: member.id,\r\n      ...rest,\r\n    };\r\n    const candidateDetail = await createNewCandidateDetails(\r\n      candidateDetailData\r\n    );\r\n    if (!candidateDetail) {\r\n      throw new ApiError(httpStatus.BAD_REQUEST, \"ERROR cant create candidate\");\r\n    }\r\n    // console.log(candidateDetail);\r\n    return candidateDetail;\r\n  } catch (error) {\r\n    // console.log(error);\r\n    throw error;\r\n  }\r\n};\r\nconst getListCandidate = async (req, res) => {\r\n  try {\r\n    let candidateList = [];\r\n    const [results] = await sequelize.query(\"select * from CandidateDetails\");\r\n    candidateList = results;\r\n    return candidateList;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\nconst getListCandidateByMemberID = async (req, res) => {\r\n  try {\r\n    const [results] = await sequelize.query(\r\n      `select c.id, c.resume_url, c.phone, c.applied_status, j.name as job_name from CandidateDetails c inner join Jobs J on c.Job_id = J.id where c.Member_id = ?`,\r\n      {\r\n        replacements: [`${req.body.id}`],\r\n      }\r\n    );\r\n    // const candidateByMember = await getCandidateDetailsByMemberID(memberID);\r\n    // console.log(results);\r\n\r\n    if (results.length === 0) {\r\n      throw new ApiError(\r\n        httpStatus.BAD_REQUEST,\r\n        \"This member dont have any request job\"\r\n      );\r\n    }\r\n    return results;\r\n    // return candidateByMember;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\nconst getAllCandidateByStaffID = async (req, res) => {\r\n  try {\r\n    const [results] = await sequelize.query(\r\n      `select c.id, c.resume_url, c.phone, c.applied_status, j.name as job_name, M.fullname as member_name, M.avatar as member_avatar, M.id as member_id from CandidateDetails c inner join Jobs J on c.Job_id = J.id inner join Staffs S on c.HRStaff_id = S.id inner join Members M on c.Member_id = M.id where S.id = ?`,\r\n      {\r\n        replacements: [`${req.body.id}`],\r\n      }\r\n    );\r\n    if (results.length === 0) {\r\n      throw new ApiError(\r\n        httpStatus.BAD_REQUEST,\r\n        \"This staff dont have any request job\"\r\n      );\r\n    }\r\n    return results;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n//\r\nconst candidateStatusChange = async (req, res) => {\r\n  try {\r\n    const [res] = await sequelize.query(\r\n      `select * from CandidateDetails where Member_id = ? and applied_status = 'Approve'`,\r\n      {\r\n        replacements: [`${req.body.member_id}`],\r\n      }\r\n    );\r\n    if (res.length > 0 && req.body.status === \"Approve\") {\r\n      throw new ApiError(\r\n        httpStatus.BAD_REQUEST,\r\n        \"This Member has already been approved for another job\"\r\n      );\r\n    }\r\n    const [results] = await sequelize.query(\r\n      `update CandidateDetails set applied_status = ? where id = ?`,\r\n      {\r\n        replacements: [`${req.body.status}`, `${req.body.id}`],\r\n      }\r\n    );\r\n\r\n    if (results.length === 0) {\r\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Error with applied status\");\r\n    }\r\n    // sendMail\r\n    const candidate = await getSpecificCandidateById(req.body.id);\r\n    console.log(candidate);\r\n\r\n    const cvResult =\r\n      req.body.status === \"Approve\"\r\n        ? \"\\nCongratulations on passing the resume round, HR will contact you as soon as possible to continue for the interview round.\"\r\n        : \"\\nWe're sorry to inform you that your resume has been rejected, hope to see you next time\";\r\n    mailSending(\r\n      candidate.member_email,\r\n      `Resume result about ${candidate.job_name}`,\r\n      `\r\n        ${cvResult}\r\n        Best, FCode eCruitment\r\n      `\r\n    ).then((res) => console.log(`send mail successfully`));\r\n    return results;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getAllCandidateDetailWithStaffIDMemberIDJobID = async () => {\r\n  const query = `SELECT \r\n    CD.id, CD.identity_number, CD.resume_url, CD.phone, CD.applied_status, CD.dob, CD.address, J.name as job, S.fullname as hr_staff, M.fullname as member,\r\n    case \r\n      when CD.id in (select i.candidatedetail_id from hrms.interviews as i) then 'YES' \r\n      else 'NO' \r\n    end as booking_status \r\n  FROM hrms.candidatedetails CD \r\n  INNER JOIN hrms.jobs J \r\n  ON CD.Job_id = J.id \r\n  INNER JOIN hrms.members M \r\n  ON CD.Member_id = M.id \r\n  INNER JOIN hrms.staffs S \r\n  ON CD.HRStaff_id = S.id \r\n  WHERE S.role = 'HR Staff'\r\n      AND CD.applied_status = 'Approve'`;\r\n  try {\r\n    let candidateList = [];\r\n    const [results] = await sequelize.query(query);\r\n    candidateList = results;\r\n    return candidateList;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst updateCandidateProfileStatus = async (reportId, appliedResult) => {\r\n  try {\r\n    const result = await updateCandidateProfile(reportId, appliedResult);\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nmodule.exports = {\r\n  createNewCandidate,\r\n  getListCandidate,\r\n  getListCandidateByMemberID,\r\n  candidateStatusChange,\r\n  getAllCandidateByStaffID,\r\n  getAllCandidateDetailWithStaffIDMemberIDJobID,\r\n  updateCandidateProfileStatus,\r\n};\r\n"],"mappings":"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"}},"mtime":1667114895252},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\repository\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\repository\\\\candidates.repository.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst {\n  QueryTypes\n} = require(\"sequelize\");\n\nconst {\n  sequelize\n} = require(\"../models\");\n\nconst db = require(\"../models\"); // db column name = CandidateDetails\n\n\nconst findOne = async where => {\n  var _await$db$CandidateDe;\n\n  return (_await$db$CandidateDe = await db.CandidateDetails.findOne({\n    where: where\n  })) === null || _await$db$CandidateDe === void 0 ? void 0 : _await$db$CandidateDe.dataValues;\n};\n\nconst createNewCandidateDetails = async obj => {\n  // const testObj = {\n  //   id: \"b32c8efc-381c-4ff8-b82e-ea3b38a50298\",\n  //   ...obj,\n  // };\n  // console.log(obj)\n  const candidate = await db.CandidateDetails.create({ ...obj\n  });\n  return candidate === null || candidate === void 0 ? void 0 : candidate.dataValues;\n};\n\nconst getCandidateDetailsByMemberID = async memberID => {\n  var _await$db$CandidateDe2;\n\n  console.log({ ...db.CandidateDetails\n  });\n  return (_await$db$CandidateDe2 = await db.CandidateDetails.findAll({\n    where: {\n      Member_id: memberID\n    }\n  })) === null || _await$db$CandidateDe2 === void 0 ? void 0 : _await$db$CandidateDe2.dataValues;\n};\n\nconst getCandidateDetailsByStaffID = async staffID => {\n  var _await$db$CandidateDe3;\n\n  return (_await$db$CandidateDe3 = await db.CandidateDetails.findOne({\n    where: {\n      HRStaff_id: staffID\n    }\n  })) === null || _await$db$CandidateDe3 === void 0 ? void 0 : _await$db$CandidateDe3.dataValues;\n};\n\nconst getCandidateDetailsById = async candidateDetailsID => {\n  var _await$db$CandidateDe4;\n\n  return (_await$db$CandidateDe4 = await db.CandidateDetails.findOne({\n    where: {\n      id: candidateDetailsID\n    }\n  })) === null || _await$db$CandidateDe4 === void 0 ? void 0 : _await$db$CandidateDe4.dataValues;\n};\n\nconst update = async (newObj, where) => {\n  await db.CandidateDetails.update(newObj, {\n    where: where\n  });\n};\n\nconst showAllCandidateDetails = async () => {\n  let candidateDetailList = [];\n  candidateDetailList = await db.CandidateDetails.findAll({\n    raw: true\n  });\n  return candidateDetailList;\n};\n\nconst getSpecificCandidateById = async candidateID => {\n  const [result] = await sequelize.query(`select \n        C.id, C.identity_number, C.resume_url, C.phone, C.applied_status, C.dob, C.address, C.Job_id, C.HRStaff_id, C.Member_id, M.email as member_email, M.fullname as member_fullname, J.name as job_name\n    from CandidateDetails AS C\n    inner join Members M \n    on C.Member_id = M.id \n    inner join Jobs J \n    on J.id = C.Job_id \n    where C.id = ?`, {\n    replacements: [`${candidateID}`]\n  });\n  return result[0];\n};\n\nconst updateCandidateProfile = async (reportId, appliedResult) => {\n  const query = `UPDATE hrms.reports as R\n  INNER JOIN hrms.interviews as I\n  ON R.interview_id = I.id\n  INNER JOIN hrms.candidatedetails as C\n  ON C.id = I.CandidateDetail_id\n  INNER JOIN hrms.members as M\n  ON C.Member_id = M.id\n  SET M.is_employee = ?  \n  WHERE R.id = ?`;\n  const result = await sequelize.query(query, {\n    type: QueryTypes.UPDATE,\n    replacements: [appliedResult, reportId]\n  });\n  return result;\n};\n\nmodule.exports = {\n  findOne,\n  createNewCandidateDetails,\n  getCandidateDetailsByMemberID,\n  getCandidateDetailsByStaffID,\n  getCandidateDetailsById,\n  update,\n  showAllCandidateDetails,\n  getSpecificCandidateById,\n  updateCandidateProfile\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJRdWVyeVR5cGVzIiwicmVxdWlyZSIsInNlcXVlbGl6ZSIsImRiIiwiZmluZE9uZSIsIndoZXJlIiwiQ2FuZGlkYXRlRGV0YWlscyIsImRhdGFWYWx1ZXMiLCJjcmVhdGVOZXdDYW5kaWRhdGVEZXRhaWxzIiwib2JqIiwiY2FuZGlkYXRlIiwiY3JlYXRlIiwiZ2V0Q2FuZGlkYXRlRGV0YWlsc0J5TWVtYmVySUQiLCJtZW1iZXJJRCIsImNvbnNvbGUiLCJsb2ciLCJmaW5kQWxsIiwiTWVtYmVyX2lkIiwiZ2V0Q2FuZGlkYXRlRGV0YWlsc0J5U3RhZmZJRCIsInN0YWZmSUQiLCJIUlN0YWZmX2lkIiwiZ2V0Q2FuZGlkYXRlRGV0YWlsc0J5SWQiLCJjYW5kaWRhdGVEZXRhaWxzSUQiLCJpZCIsInVwZGF0ZSIsIm5ld09iaiIsInNob3dBbGxDYW5kaWRhdGVEZXRhaWxzIiwiY2FuZGlkYXRlRGV0YWlsTGlzdCIsInJhdyIsImdldFNwZWNpZmljQ2FuZGlkYXRlQnlJZCIsImNhbmRpZGF0ZUlEIiwicmVzdWx0IiwicXVlcnkiLCJyZXBsYWNlbWVudHMiLCJ1cGRhdGVDYW5kaWRhdGVQcm9maWxlIiwicmVwb3J0SWQiLCJhcHBsaWVkUmVzdWx0IiwidHlwZSIsIlVQREFURSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxDb2RlXFxGUFRfU3ViamVjdFxcU1dQXFxIUk1TX0JFXFxzcmNcXHJlcG9zaXRvcnlcXCIsInNvdXJjZXMiOlsiY2FuZGlkYXRlcy5yZXBvc2l0b3J5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgUXVlcnlUeXBlcyB9ID0gcmVxdWlyZShcInNlcXVlbGl6ZVwiKTtcclxuY29uc3QgeyBzZXF1ZWxpemUgfSA9IHJlcXVpcmUoXCIuLi9tb2RlbHNcIik7XHJcbmNvbnN0IGRiID0gcmVxdWlyZShcIi4uL21vZGVsc1wiKTtcclxuLy8gZGIgY29sdW1uIG5hbWUgPSBDYW5kaWRhdGVEZXRhaWxzXHJcbmNvbnN0IGZpbmRPbmUgPSBhc3luYyAod2hlcmUpID0+IHtcclxuICByZXR1cm4gKGF3YWl0IGRiLkNhbmRpZGF0ZURldGFpbHMuZmluZE9uZSh7IHdoZXJlOiB3aGVyZSB9KSk/LmRhdGFWYWx1ZXM7XHJcbn07XHJcbmNvbnN0IGNyZWF0ZU5ld0NhbmRpZGF0ZURldGFpbHMgPSBhc3luYyAob2JqKSA9PiB7XHJcbiAgLy8gY29uc3QgdGVzdE9iaiA9IHtcclxuICAvLyAgIGlkOiBcImIzMmM4ZWZjLTM4MWMtNGZmOC1iODJlLWVhM2IzOGE1MDI5OFwiLFxyXG4gIC8vICAgLi4ub2JqLFxyXG4gIC8vIH07XHJcbiAgLy8gY29uc29sZS5sb2cob2JqKVxyXG4gIGNvbnN0IGNhbmRpZGF0ZSA9IGF3YWl0IGRiLkNhbmRpZGF0ZURldGFpbHMuY3JlYXRlKHtcclxuICAgIC4uLm9iaixcclxuICB9KTtcclxuICByZXR1cm4gY2FuZGlkYXRlPy5kYXRhVmFsdWVzO1xyXG59O1xyXG5cclxuY29uc3QgZ2V0Q2FuZGlkYXRlRGV0YWlsc0J5TWVtYmVySUQgPSBhc3luYyAobWVtYmVySUQpID0+IHtcclxuICBjb25zb2xlLmxvZyh7IC4uLmRiLkNhbmRpZGF0ZURldGFpbHMgfSk7XHJcbiAgcmV0dXJuIChcclxuICAgIGF3YWl0IGRiLkNhbmRpZGF0ZURldGFpbHMuZmluZEFsbCh7XHJcbiAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgTWVtYmVyX2lkOiBtZW1iZXJJRCxcclxuICAgICAgfSxcclxuICAgIH0pXHJcbiAgKT8uZGF0YVZhbHVlcztcclxufTtcclxuY29uc3QgZ2V0Q2FuZGlkYXRlRGV0YWlsc0J5U3RhZmZJRCA9IGFzeW5jIChzdGFmZklEKSA9PiB7XHJcbiAgcmV0dXJuIChcclxuICAgIGF3YWl0IGRiLkNhbmRpZGF0ZURldGFpbHMuZmluZE9uZSh7XHJcbiAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgSFJTdGFmZl9pZDogc3RhZmZJRCxcclxuICAgICAgfSxcclxuICAgIH0pXHJcbiAgKT8uZGF0YVZhbHVlcztcclxufTtcclxuY29uc3QgZ2V0Q2FuZGlkYXRlRGV0YWlsc0J5SWQgPSBhc3luYyAoY2FuZGlkYXRlRGV0YWlsc0lEKSA9PiB7XHJcbiAgcmV0dXJuIChcclxuICAgIGF3YWl0IGRiLkNhbmRpZGF0ZURldGFpbHMuZmluZE9uZSh7XHJcbiAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgaWQ6IGNhbmRpZGF0ZURldGFpbHNJRCxcclxuICAgICAgfSxcclxuICAgIH0pXHJcbiAgKT8uZGF0YVZhbHVlcztcclxufTtcclxuY29uc3QgdXBkYXRlID0gYXN5bmMgKG5ld09iaiwgd2hlcmUpID0+IHtcclxuICBhd2FpdCBkYi5DYW5kaWRhdGVEZXRhaWxzLnVwZGF0ZShuZXdPYmosIHtcclxuICAgIHdoZXJlOiB3aGVyZSxcclxuICB9KTtcclxufTtcclxuY29uc3Qgc2hvd0FsbENhbmRpZGF0ZURldGFpbHMgPSBhc3luYyAoKSA9PiB7XHJcbiAgbGV0IGNhbmRpZGF0ZURldGFpbExpc3QgPSBbXTtcclxuICBjYW5kaWRhdGVEZXRhaWxMaXN0ID0gYXdhaXQgZGIuQ2FuZGlkYXRlRGV0YWlscy5maW5kQWxsKHsgcmF3OiB0cnVlIH0pO1xyXG4gIHJldHVybiBjYW5kaWRhdGVEZXRhaWxMaXN0O1xyXG59O1xyXG5jb25zdCBnZXRTcGVjaWZpY0NhbmRpZGF0ZUJ5SWQgPSBhc3luYyAoY2FuZGlkYXRlSUQpID0+IHtcclxuICBjb25zdCBbcmVzdWx0XSA9IGF3YWl0IHNlcXVlbGl6ZS5xdWVyeShcclxuICAgIGBzZWxlY3QgXHJcbiAgICAgICAgQy5pZCwgQy5pZGVudGl0eV9udW1iZXIsIEMucmVzdW1lX3VybCwgQy5waG9uZSwgQy5hcHBsaWVkX3N0YXR1cywgQy5kb2IsIEMuYWRkcmVzcywgQy5Kb2JfaWQsIEMuSFJTdGFmZl9pZCwgQy5NZW1iZXJfaWQsIE0uZW1haWwgYXMgbWVtYmVyX2VtYWlsLCBNLmZ1bGxuYW1lIGFzIG1lbWJlcl9mdWxsbmFtZSwgSi5uYW1lIGFzIGpvYl9uYW1lXHJcbiAgICBmcm9tIENhbmRpZGF0ZURldGFpbHMgQVMgQ1xyXG4gICAgaW5uZXIgam9pbiBNZW1iZXJzIE0gXHJcbiAgICBvbiBDLk1lbWJlcl9pZCA9IE0uaWQgXHJcbiAgICBpbm5lciBqb2luIEpvYnMgSiBcclxuICAgIG9uIEouaWQgPSBDLkpvYl9pZCBcclxuICAgIHdoZXJlIEMuaWQgPSA/YCxcclxuICAgIHtcclxuICAgICAgcmVwbGFjZW1lbnRzOiBbYCR7Y2FuZGlkYXRlSUR9YF0sXHJcbiAgICB9XHJcbiAgKTtcclxuICByZXR1cm4gcmVzdWx0WzBdO1xyXG59O1xyXG5cclxuY29uc3QgdXBkYXRlQ2FuZGlkYXRlUHJvZmlsZSA9IGFzeW5jIChyZXBvcnRJZCwgYXBwbGllZFJlc3VsdCkgPT4ge1xyXG4gIGNvbnN0IHF1ZXJ5ID0gYFVQREFURSBocm1zLnJlcG9ydHMgYXMgUlxyXG4gIElOTkVSIEpPSU4gaHJtcy5pbnRlcnZpZXdzIGFzIElcclxuICBPTiBSLmludGVydmlld19pZCA9IEkuaWRcclxuICBJTk5FUiBKT0lOIGhybXMuY2FuZGlkYXRlZGV0YWlscyBhcyBDXHJcbiAgT04gQy5pZCA9IEkuQ2FuZGlkYXRlRGV0YWlsX2lkXHJcbiAgSU5ORVIgSk9JTiBocm1zLm1lbWJlcnMgYXMgTVxyXG4gIE9OIEMuTWVtYmVyX2lkID0gTS5pZFxyXG4gIFNFVCBNLmlzX2VtcGxveWVlID0gPyAgXHJcbiAgV0hFUkUgUi5pZCA9ID9gO1xyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcXVlbGl6ZS5xdWVyeShxdWVyeSwge1xyXG4gICAgdHlwZTogUXVlcnlUeXBlcy5VUERBVEUsXHJcbiAgICByZXBsYWNlbWVudHM6IFthcHBsaWVkUmVzdWx0LCByZXBvcnRJZF0sXHJcbiAgfSk7XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIGZpbmRPbmUsXHJcbiAgY3JlYXRlTmV3Q2FuZGlkYXRlRGV0YWlscyxcclxuICBnZXRDYW5kaWRhdGVEZXRhaWxzQnlNZW1iZXJJRCxcclxuICBnZXRDYW5kaWRhdGVEZXRhaWxzQnlTdGFmZklELFxyXG4gIGdldENhbmRpZGF0ZURldGFpbHNCeUlkLFxyXG4gIHVwZGF0ZSxcclxuICBzaG93QWxsQ2FuZGlkYXRlRGV0YWlscyxcclxuICBnZXRTcGVjaWZpY0NhbmRpZGF0ZUJ5SWQsXHJcbiAgdXBkYXRlQ2FuZGlkYXRlUHJvZmlsZSxcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU07RUFBRUE7QUFBRixJQUFpQkMsT0FBTyxDQUFDLFdBQUQsQ0FBOUI7O0FBQ0EsTUFBTTtFQUFFQztBQUFGLElBQWdCRCxPQUFPLENBQUMsV0FBRCxDQUE3Qjs7QUFDQSxNQUFNRSxFQUFFLEdBQUdGLE9BQU8sQ0FBQyxXQUFELENBQWxCLEMsQ0FDQTs7O0FBQ0EsTUFBTUcsT0FBTyxHQUFHLE1BQU9DLEtBQVAsSUFBaUI7RUFBQTs7RUFDL0IsZ0NBQVEsTUFBTUYsRUFBRSxDQUFDRyxnQkFBSCxDQUFvQkYsT0FBcEIsQ0FBNEI7SUFBRUMsS0FBSyxFQUFFQTtFQUFULENBQTVCLENBQWQsMERBQU8sc0JBQXVERSxVQUE5RDtBQUNELENBRkQ7O0FBR0EsTUFBTUMseUJBQXlCLEdBQUcsTUFBT0MsR0FBUCxJQUFlO0VBQy9DO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQSxNQUFNQyxTQUFTLEdBQUcsTUFBTVAsRUFBRSxDQUFDRyxnQkFBSCxDQUFvQkssTUFBcEIsQ0FBMkIsRUFDakQsR0FBR0Y7RUFEOEMsQ0FBM0IsQ0FBeEI7RUFHQSxPQUFPQyxTQUFQLGFBQU9BLFNBQVAsdUJBQU9BLFNBQVMsQ0FBRUgsVUFBbEI7QUFDRCxDQVZEOztBQVlBLE1BQU1LLDZCQUE2QixHQUFHLE1BQU9DLFFBQVAsSUFBb0I7RUFBQTs7RUFDeERDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLEVBQUUsR0FBR1osRUFBRSxDQUFDRztFQUFSLENBQVo7RUFDQSxpQ0FDRSxNQUFNSCxFQUFFLENBQUNHLGdCQUFILENBQW9CVSxPQUFwQixDQUE0QjtJQUNoQ1gsS0FBSyxFQUFFO01BQ0xZLFNBQVMsRUFBRUo7SUFETjtFQUR5QixDQUE1QixDQURSLDJEQUFPLHVCQU1KTixVQU5IO0FBT0QsQ0FURDs7QUFVQSxNQUFNVyw0QkFBNEIsR0FBRyxNQUFPQyxPQUFQLElBQW1CO0VBQUE7O0VBQ3RELGlDQUNFLE1BQU1oQixFQUFFLENBQUNHLGdCQUFILENBQW9CRixPQUFwQixDQUE0QjtJQUNoQ0MsS0FBSyxFQUFFO01BQ0xlLFVBQVUsRUFBRUQ7SUFEUDtFQUR5QixDQUE1QixDQURSLDJEQUFPLHVCQU1KWixVQU5IO0FBT0QsQ0FSRDs7QUFTQSxNQUFNYyx1QkFBdUIsR0FBRyxNQUFPQyxrQkFBUCxJQUE4QjtFQUFBOztFQUM1RCxpQ0FDRSxNQUFNbkIsRUFBRSxDQUFDRyxnQkFBSCxDQUFvQkYsT0FBcEIsQ0FBNEI7SUFDaENDLEtBQUssRUFBRTtNQUNMa0IsRUFBRSxFQUFFRDtJQURDO0VBRHlCLENBQTVCLENBRFIsMkRBQU8sdUJBTUpmLFVBTkg7QUFPRCxDQVJEOztBQVNBLE1BQU1pQixNQUFNLEdBQUcsT0FBT0MsTUFBUCxFQUFlcEIsS0FBZixLQUF5QjtFQUN0QyxNQUFNRixFQUFFLENBQUNHLGdCQUFILENBQW9Ca0IsTUFBcEIsQ0FBMkJDLE1BQTNCLEVBQW1DO0lBQ3ZDcEIsS0FBSyxFQUFFQTtFQURnQyxDQUFuQyxDQUFOO0FBR0QsQ0FKRDs7QUFLQSxNQUFNcUIsdUJBQXVCLEdBQUcsWUFBWTtFQUMxQyxJQUFJQyxtQkFBbUIsR0FBRyxFQUExQjtFQUNBQSxtQkFBbUIsR0FBRyxNQUFNeEIsRUFBRSxDQUFDRyxnQkFBSCxDQUFvQlUsT0FBcEIsQ0FBNEI7SUFBRVksR0FBRyxFQUFFO0VBQVAsQ0FBNUIsQ0FBNUI7RUFDQSxPQUFPRCxtQkFBUDtBQUNELENBSkQ7O0FBS0EsTUFBTUUsd0JBQXdCLEdBQUcsTUFBT0MsV0FBUCxJQUF1QjtFQUN0RCxNQUFNLENBQUNDLE1BQUQsSUFBVyxNQUFNN0IsU0FBUyxDQUFDOEIsS0FBVixDQUNwQjtBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQVJ5QixFQVNyQjtJQUNFQyxZQUFZLEVBQUUsQ0FBRSxHQUFFSCxXQUFZLEVBQWhCO0VBRGhCLENBVHFCLENBQXZCO0VBYUEsT0FBT0MsTUFBTSxDQUFDLENBQUQsQ0FBYjtBQUNELENBZkQ7O0FBaUJBLE1BQU1HLHNCQUFzQixHQUFHLE9BQU9DLFFBQVAsRUFBaUJDLGFBQWpCLEtBQW1DO0VBQ2hFLE1BQU1KLEtBQUssR0FBSTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQVJFO0VBU0EsTUFBTUQsTUFBTSxHQUFHLE1BQU03QixTQUFTLENBQUM4QixLQUFWLENBQWdCQSxLQUFoQixFQUF1QjtJQUMxQ0ssSUFBSSxFQUFFckMsVUFBVSxDQUFDc0MsTUFEeUI7SUFFMUNMLFlBQVksRUFBRSxDQUFDRyxhQUFELEVBQWdCRCxRQUFoQjtFQUY0QixDQUF2QixDQUFyQjtFQUlBLE9BQU9KLE1BQVA7QUFDRCxDQWZEOztBQWlCQVEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2ZwQyxPQURlO0VBRWZJLHlCQUZlO0VBR2ZJLDZCQUhlO0VBSWZNLDRCQUplO0VBS2ZHLHVCQUxlO0VBTWZHLE1BTmU7RUFPZkUsdUJBUGU7RUFRZkcsd0JBUmU7RUFTZks7QUFUZSxDQUFqQiJ9","map":{"version":3,"names":["QueryTypes","require","sequelize","db","findOne","where","CandidateDetails","dataValues","createNewCandidateDetails","obj","candidate","create","getCandidateDetailsByMemberID","memberID","console","log","findAll","Member_id","getCandidateDetailsByStaffID","staffID","HRStaff_id","getCandidateDetailsById","candidateDetailsID","id","update","newObj","showAllCandidateDetails","candidateDetailList","raw","getSpecificCandidateById","candidateID","result","query","replacements","updateCandidateProfile","reportId","appliedResult","type","UPDATE","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\repository\\","sources":["candidates.repository.js"],"sourcesContent":["const { QueryTypes } = require(\"sequelize\");\r\nconst { sequelize } = require(\"../models\");\r\nconst db = require(\"../models\");\r\n// db column name = CandidateDetails\r\nconst findOne = async (where) => {\r\n  return (await db.CandidateDetails.findOne({ where: where }))?.dataValues;\r\n};\r\nconst createNewCandidateDetails = async (obj) => {\r\n  // const testObj = {\r\n  //   id: \"b32c8efc-381c-4ff8-b82e-ea3b38a50298\",\r\n  //   ...obj,\r\n  // };\r\n  // console.log(obj)\r\n  const candidate = await db.CandidateDetails.create({\r\n    ...obj,\r\n  });\r\n  return candidate?.dataValues;\r\n};\r\n\r\nconst getCandidateDetailsByMemberID = async (memberID) => {\r\n  console.log({ ...db.CandidateDetails });\r\n  return (\r\n    await db.CandidateDetails.findAll({\r\n      where: {\r\n        Member_id: memberID,\r\n      },\r\n    })\r\n  )?.dataValues;\r\n};\r\nconst getCandidateDetailsByStaffID = async (staffID) => {\r\n  return (\r\n    await db.CandidateDetails.findOne({\r\n      where: {\r\n        HRStaff_id: staffID,\r\n      },\r\n    })\r\n  )?.dataValues;\r\n};\r\nconst getCandidateDetailsById = async (candidateDetailsID) => {\r\n  return (\r\n    await db.CandidateDetails.findOne({\r\n      where: {\r\n        id: candidateDetailsID,\r\n      },\r\n    })\r\n  )?.dataValues;\r\n};\r\nconst update = async (newObj, where) => {\r\n  await db.CandidateDetails.update(newObj, {\r\n    where: where,\r\n  });\r\n};\r\nconst showAllCandidateDetails = async () => {\r\n  let candidateDetailList = [];\r\n  candidateDetailList = await db.CandidateDetails.findAll({ raw: true });\r\n  return candidateDetailList;\r\n};\r\nconst getSpecificCandidateById = async (candidateID) => {\r\n  const [result] = await sequelize.query(\r\n    `select \r\n        C.id, C.identity_number, C.resume_url, C.phone, C.applied_status, C.dob, C.address, C.Job_id, C.HRStaff_id, C.Member_id, M.email as member_email, M.fullname as member_fullname, J.name as job_name\r\n    from CandidateDetails AS C\r\n    inner join Members M \r\n    on C.Member_id = M.id \r\n    inner join Jobs J \r\n    on J.id = C.Job_id \r\n    where C.id = ?`,\r\n    {\r\n      replacements: [`${candidateID}`],\r\n    }\r\n  );\r\n  return result[0];\r\n};\r\n\r\nconst updateCandidateProfile = async (reportId, appliedResult) => {\r\n  const query = `UPDATE hrms.reports as R\r\n  INNER JOIN hrms.interviews as I\r\n  ON R.interview_id = I.id\r\n  INNER JOIN hrms.candidatedetails as C\r\n  ON C.id = I.CandidateDetail_id\r\n  INNER JOIN hrms.members as M\r\n  ON C.Member_id = M.id\r\n  SET M.is_employee = ?  \r\n  WHERE R.id = ?`;\r\n  const result = await sequelize.query(query, {\r\n    type: QueryTypes.UPDATE,\r\n    replacements: [appliedResult, reportId],\r\n  });\r\n  return result;\r\n};\r\n\r\nmodule.exports = {\r\n  findOne,\r\n  createNewCandidateDetails,\r\n  getCandidateDetailsByMemberID,\r\n  getCandidateDetailsByStaffID,\r\n  getCandidateDetailsById,\r\n  update,\r\n  showAllCandidateDetails,\r\n  getSpecificCandidateById,\r\n  updateCandidateProfile,\r\n};\r\n"],"mappings":"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"}},"mtime":1667115434847},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\utils\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\utils\\\\mailSending.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mailSending = void 0;\n\nconst nodemailer = require(\"nodemailer\");\n\nconst Mailgen = require(\"mailgen\");\n\nrequire(\"dotenv\").config();\n\nlet transporter = nodemailer.createTransport({\n  service: \"gmail\",\n  secure: true,\n  auth: {\n    user: process.env.MY_EMAIL,\n    pass: process.env.MY_PASSWORD\n  }\n});\n\nconst mailSending = async (userEmail, subject, text) => {\n  try {\n    let mailGenerator = new Mailgen({\n      theme: \"cerberus\",\n      product: {\n        name: \"FCode eCruitment\",\n        link: `https://127.0.0.1:5173/`\n      }\n    });\n    const email = {\n      body: {\n        name: userEmail,\n        intro: text,\n        outro: \"Need help, or have questions? Just reply to this email, we'd love to help.\"\n      }\n    };\n    let emailBody = mailGenerator.generate(email);\n    let message = {\n      from: process.env.MY_EMAIL,\n      to: userEmail,\n      subject: subject,\n      html: emailBody\n    };\n    await transporter.sendMail(message);\n    return true;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexports.mailSending = mailSending;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJub2RlbWFpbGVyIiwicmVxdWlyZSIsIk1haWxnZW4iLCJjb25maWciLCJ0cmFuc3BvcnRlciIsImNyZWF0ZVRyYW5zcG9ydCIsInNlcnZpY2UiLCJzZWN1cmUiLCJhdXRoIiwidXNlciIsInByb2Nlc3MiLCJlbnYiLCJNWV9FTUFJTCIsInBhc3MiLCJNWV9QQVNTV09SRCIsIm1haWxTZW5kaW5nIiwidXNlckVtYWlsIiwic3ViamVjdCIsInRleHQiLCJtYWlsR2VuZXJhdG9yIiwidGhlbWUiLCJwcm9kdWN0IiwibmFtZSIsImxpbmsiLCJlbWFpbCIsImJvZHkiLCJpbnRybyIsIm91dHJvIiwiZW1haWxCb2R5IiwiZ2VuZXJhdGUiLCJtZXNzYWdlIiwiZnJvbSIsInRvIiwiaHRtbCIsInNlbmRNYWlsIiwiZXJyb3IiXSwic291cmNlUm9vdCI6IkQ6XFxDb2RlXFxGUFRfU3ViamVjdFxcU1dQXFxIUk1TX0JFXFxzcmNcXHV0aWxzXFwiLCJzb3VyY2VzIjpbIm1haWxTZW5kaW5nLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG5vZGVtYWlsZXIgPSByZXF1aXJlKFwibm9kZW1haWxlclwiKTtcclxuY29uc3QgTWFpbGdlbiA9IHJlcXVpcmUoXCJtYWlsZ2VuXCIpO1xyXG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xyXG5cclxubGV0IHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoe1xyXG4gIHNlcnZpY2U6IFwiZ21haWxcIixcclxuICBzZWN1cmU6IHRydWUsXHJcbiAgYXV0aDoge1xyXG4gICAgdXNlcjogcHJvY2Vzcy5lbnYuTVlfRU1BSUwsXHJcbiAgICBwYXNzOiBwcm9jZXNzLmVudi5NWV9QQVNTV09SRCxcclxuICB9LFxyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCBtYWlsU2VuZGluZyA9IGFzeW5jICh1c2VyRW1haWwsIHN1YmplY3QsIHRleHQpID0+IHtcclxuICB0cnkge1xyXG4gICAgbGV0IG1haWxHZW5lcmF0b3IgPSBuZXcgTWFpbGdlbih7XHJcbiAgICAgIHRoZW1lOiBcImNlcmJlcnVzXCIsXHJcbiAgICAgIHByb2R1Y3Q6IHtcclxuICAgICAgICBuYW1lOiBcIkZDb2RlIGVDcnVpdG1lbnRcIixcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly8xMjcuMC4wLjE6NTE3My9gLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBlbWFpbCA9IHtcclxuICAgICAgYm9keToge1xyXG4gICAgICAgIG5hbWU6IHVzZXJFbWFpbCxcclxuICAgICAgICBpbnRybzogdGV4dCxcclxuICAgICAgICBvdXRybzpcclxuICAgICAgICAgIFwiTmVlZCBoZWxwLCBvciBoYXZlIHF1ZXN0aW9ucz8gSnVzdCByZXBseSB0byB0aGlzIGVtYWlsLCB3ZSdkIGxvdmUgdG8gaGVscC5cIixcclxuICAgICAgfSxcclxuICAgIH07XHJcblxyXG4gICAgbGV0IGVtYWlsQm9keSA9IG1haWxHZW5lcmF0b3IuZ2VuZXJhdGUoZW1haWwpO1xyXG5cclxuICAgIGxldCBtZXNzYWdlID0ge1xyXG4gICAgICBmcm9tOiBwcm9jZXNzLmVudi5NWV9FTUFJTCxcclxuICAgICAgdG86IHVzZXJFbWFpbCxcclxuICAgICAgc3ViamVjdDogc3ViamVjdCxcclxuICAgICAgaHRtbDogZW1haWxCb2R5LFxyXG4gICAgfTtcclxuICAgIGF3YWl0IHRyYW5zcG9ydGVyLnNlbmRNYWlsKG1lc3NhZ2UpO1xyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLE1BQU1BLFVBQVUsR0FBR0MsT0FBTyxDQUFDLFlBQUQsQ0FBMUI7O0FBQ0EsTUFBTUMsT0FBTyxHQUFHRCxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkUsTUFBbEI7O0FBRUEsSUFBSUMsV0FBVyxHQUFHSixVQUFVLENBQUNLLGVBQVgsQ0FBMkI7RUFDM0NDLE9BQU8sRUFBRSxPQURrQztFQUUzQ0MsTUFBTSxFQUFFLElBRm1DO0VBRzNDQyxJQUFJLEVBQUU7SUFDSkMsSUFBSSxFQUFFQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFEZDtJQUVKQyxJQUFJLEVBQUVILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRztFQUZkO0FBSHFDLENBQTNCLENBQWxCOztBQVNPLE1BQU1DLFdBQVcsR0FBRyxPQUFPQyxTQUFQLEVBQWtCQyxPQUFsQixFQUEyQkMsSUFBM0IsS0FBb0M7RUFDN0QsSUFBSTtJQUNGLElBQUlDLGFBQWEsR0FBRyxJQUFJakIsT0FBSixDQUFZO01BQzlCa0IsS0FBSyxFQUFFLFVBRHVCO01BRTlCQyxPQUFPLEVBQUU7UUFDUEMsSUFBSSxFQUFFLGtCQURDO1FBRVBDLElBQUksRUFBRztNQUZBO0lBRnFCLENBQVosQ0FBcEI7SUFPQSxNQUFNQyxLQUFLLEdBQUc7TUFDWkMsSUFBSSxFQUFFO1FBQ0pILElBQUksRUFBRU4sU0FERjtRQUVKVSxLQUFLLEVBQUVSLElBRkg7UUFHSlMsS0FBSyxFQUNIO01BSkU7SUFETSxDQUFkO0lBU0EsSUFBSUMsU0FBUyxHQUFHVCxhQUFhLENBQUNVLFFBQWQsQ0FBdUJMLEtBQXZCLENBQWhCO0lBRUEsSUFBSU0sT0FBTyxHQUFHO01BQ1pDLElBQUksRUFBRXJCLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUROO01BRVpvQixFQUFFLEVBQUVoQixTQUZRO01BR1pDLE9BQU8sRUFBRUEsT0FIRztNQUlaZ0IsSUFBSSxFQUFFTDtJQUpNLENBQWQ7SUFNQSxNQUFNeEIsV0FBVyxDQUFDOEIsUUFBWixDQUFxQkosT0FBckIsQ0FBTjtJQUVBLE9BQU8sSUFBUDtFQUNELENBNUJELENBNEJFLE9BQU9LLEtBQVAsRUFBYztJQUNkLE1BQU1BLEtBQU47RUFDRDtBQUNGLENBaENNIn0=","map":{"version":3,"names":["nodemailer","require","Mailgen","config","transporter","createTransport","service","secure","auth","user","process","env","MY_EMAIL","pass","MY_PASSWORD","mailSending","userEmail","subject","text","mailGenerator","theme","product","name","link","email","body","intro","outro","emailBody","generate","message","from","to","html","sendMail","error"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\utils\\","sources":["mailSending.js"],"sourcesContent":["const nodemailer = require(\"nodemailer\");\r\nconst Mailgen = require(\"mailgen\");\r\nrequire(\"dotenv\").config();\r\n\r\nlet transporter = nodemailer.createTransport({\r\n  service: \"gmail\",\r\n  secure: true,\r\n  auth: {\r\n    user: process.env.MY_EMAIL,\r\n    pass: process.env.MY_PASSWORD,\r\n  },\r\n});\r\n\r\nexport const mailSending = async (userEmail, subject, text) => {\r\n  try {\r\n    let mailGenerator = new Mailgen({\r\n      theme: \"cerberus\",\r\n      product: {\r\n        name: \"FCode eCruitment\",\r\n        link: `https://127.0.0.1:5173/`,\r\n      },\r\n    });\r\n    const email = {\r\n      body: {\r\n        name: userEmail,\r\n        intro: text,\r\n        outro:\r\n          \"Need help, or have questions? Just reply to this email, we'd love to help.\",\r\n      },\r\n    };\r\n\r\n    let emailBody = mailGenerator.generate(email);\r\n\r\n    let message = {\r\n      from: process.env.MY_EMAIL,\r\n      to: userEmail,\r\n      subject: subject,\r\n      html: emailBody,\r\n    };\r\n    await transporter.sendMail(message);\r\n\r\n    return true;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n"],"mappings":";;;;;;;AAAA,MAAMA,UAAU,GAAGC,OAAO,CAAC,YAAD,CAA1B;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,SAAD,CAAvB;;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBE,MAAlB;;AAEA,IAAIC,WAAW,GAAGJ,UAAU,CAACK,eAAX,CAA2B;EAC3CC,OAAO,EAAE,OADkC;EAE3CC,MAAM,EAAE,IAFmC;EAG3CC,IAAI,EAAE;IACJC,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QADd;IAEJC,IAAI,EAAEH,OAAO,CAACC,GAAR,CAAYG;EAFd;AAHqC,CAA3B,CAAlB;;AASO,MAAMC,WAAW,GAAG,OAAOC,SAAP,EAAkBC,OAAlB,EAA2BC,IAA3B,KAAoC;EAC7D,IAAI;IACF,IAAIC,aAAa,GAAG,IAAIjB,OAAJ,CAAY;MAC9BkB,KAAK,EAAE,UADuB;MAE9BC,OAAO,EAAE;QACPC,IAAI,EAAE,kBADC;QAEPC,IAAI,EAAG;MAFA;IAFqB,CAAZ,CAApB;IAOA,MAAMC,KAAK,GAAG;MACZC,IAAI,EAAE;QACJH,IAAI,EAAEN,SADF;QAEJU,KAAK,EAAER,IAFH;QAGJS,KAAK,EACH;MAJE;IADM,CAAd;IASA,IAAIC,SAAS,GAAGT,aAAa,CAACU,QAAd,CAAuBL,KAAvB,CAAhB;IAEA,IAAIM,OAAO,GAAG;MACZC,IAAI,EAAErB,OAAO,CAACC,GAAR,CAAYC,QADN;MAEZoB,EAAE,EAAEhB,SAFQ;MAGZC,OAAO,EAAEA,OAHG;MAIZgB,IAAI,EAAEL;IAJM,CAAd;IAMA,MAAMxB,WAAW,CAAC8B,QAAZ,CAAqBJ,OAArB,CAAN;IAEA,OAAO,IAAP;EACD,CA5BD,CA4BE,OAAOK,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CAhCM"}},"mtime":1666771520621},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\routes\\\\interview.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\n\nconst router = express.Router();\n\nconst {\n  handleGetAllInterview,\n  handleGetAllRooms,\n  handleGetCandidatesNotInterview,\n  handleGetNumCandidatesByRoomWeek,\n  handleGetAllCandidates,\n  handleCreateNewInterview,\n  handleGetListCandidatesBySlot,\n  handleGetInterviewByCandidateId,\n  handleUpdateInterviewByCampaignId\n} = require(\"../controller/interview.controller\");\n\nrouter.get(\"/\", handleGetAllInterview);\nrouter.get(\"/room\", handleGetAllRooms);\nrouter.get(\"/not-interview\", handleGetCandidatesNotInterview);\nrouter.post(\"/by-room-week\", handleGetNumCandidatesByRoomWeek); // router.patch(\"/update\");\n\nrouter.get(\"/all-candidates\", handleGetAllCandidates);\nrouter.post(\"/\", handleCreateNewInterview);\nrouter.post(\"/candidates-by-slot\", handleGetListCandidatesBySlot);\nrouter.post(\"/by-candidate-id\", handleGetInterviewByCandidateId);\nrouter.patch(\"/update-interview\", handleUpdateInterviewByCampaignId);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImhhbmRsZUdldEFsbEludGVydmlldyIsImhhbmRsZUdldEFsbFJvb21zIiwiaGFuZGxlR2V0Q2FuZGlkYXRlc05vdEludGVydmlldyIsImhhbmRsZUdldE51bUNhbmRpZGF0ZXNCeVJvb21XZWVrIiwiaGFuZGxlR2V0QWxsQ2FuZGlkYXRlcyIsImhhbmRsZUNyZWF0ZU5ld0ludGVydmlldyIsImhhbmRsZUdldExpc3RDYW5kaWRhdGVzQnlTbG90IiwiaGFuZGxlR2V0SW50ZXJ2aWV3QnlDYW5kaWRhdGVJZCIsImhhbmRsZVVwZGF0ZUludGVydmlld0J5Q2FtcGFpZ25JZCIsImdldCIsInBvc3QiLCJwYXRjaCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxDb2RlXFxGUFRfU3ViamVjdFxcU1dQXFxIUk1TX0JFXFxzcmNcXHJvdXRlc1xcIiwic291cmNlcyI6WyJpbnRlcnZpZXcucm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuY29uc3Qge1xyXG4gIGhhbmRsZUdldEFsbEludGVydmlldyxcclxuICBoYW5kbGVHZXRBbGxSb29tcyxcclxuICBoYW5kbGVHZXRDYW5kaWRhdGVzTm90SW50ZXJ2aWV3LFxyXG4gIGhhbmRsZUdldE51bUNhbmRpZGF0ZXNCeVJvb21XZWVrLFxyXG4gIGhhbmRsZUdldEFsbENhbmRpZGF0ZXMsXHJcbiAgaGFuZGxlQ3JlYXRlTmV3SW50ZXJ2aWV3LFxyXG4gIGhhbmRsZUdldExpc3RDYW5kaWRhdGVzQnlTbG90LFxyXG4gIGhhbmRsZUdldEludGVydmlld0J5Q2FuZGlkYXRlSWQsXHJcbiAgaGFuZGxlVXBkYXRlSW50ZXJ2aWV3QnlDYW1wYWlnbklkLFxyXG59ID0gcmVxdWlyZShcIi4uL2NvbnRyb2xsZXIvaW50ZXJ2aWV3LmNvbnRyb2xsZXJcIik7XHJcblxyXG5yb3V0ZXIuZ2V0KFwiL1wiLCBoYW5kbGVHZXRBbGxJbnRlcnZpZXcpO1xyXG5yb3V0ZXIuZ2V0KFwiL3Jvb21cIiwgaGFuZGxlR2V0QWxsUm9vbXMpO1xyXG5yb3V0ZXIuZ2V0KFwiL25vdC1pbnRlcnZpZXdcIiwgaGFuZGxlR2V0Q2FuZGlkYXRlc05vdEludGVydmlldyk7XHJcbnJvdXRlci5wb3N0KFwiL2J5LXJvb20td2Vla1wiLCBoYW5kbGVHZXROdW1DYW5kaWRhdGVzQnlSb29tV2Vlayk7XHJcbi8vIHJvdXRlci5wYXRjaChcIi91cGRhdGVcIik7XHJcbnJvdXRlci5nZXQoXCIvYWxsLWNhbmRpZGF0ZXNcIiwgaGFuZGxlR2V0QWxsQ2FuZGlkYXRlcyk7XHJcbnJvdXRlci5wb3N0KFwiL1wiLCBoYW5kbGVDcmVhdGVOZXdJbnRlcnZpZXcpO1xyXG5yb3V0ZXIucG9zdChcIi9jYW5kaWRhdGVzLWJ5LXNsb3RcIiwgaGFuZGxlR2V0TGlzdENhbmRpZGF0ZXNCeVNsb3QpO1xyXG5yb3V0ZXIucG9zdChcIi9ieS1jYW5kaWRhdGUtaWRcIiwgaGFuZGxlR2V0SW50ZXJ2aWV3QnlDYW5kaWRhdGVJZCk7XHJcbnJvdXRlci5wYXRjaChcIi91cGRhdGUtaW50ZXJ2aWV3XCIsIGhhbmRsZVVwZGF0ZUludGVydmlld0J5Q2FtcGFpZ25JZCk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBRUEsTUFBTUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQVIsRUFBZjs7QUFDQSxNQUFNO0VBQ0pDLHFCQURJO0VBRUpDLGlCQUZJO0VBR0pDLCtCQUhJO0VBSUpDLGdDQUpJO0VBS0pDLHNCQUxJO0VBTUpDLHdCQU5JO0VBT0pDLDZCQVBJO0VBUUpDLCtCQVJJO0VBU0pDO0FBVEksSUFVRlgsT0FBTyxDQUFDLG9DQUFELENBVlg7O0FBWUFDLE1BQU0sQ0FBQ1csR0FBUCxDQUFXLEdBQVgsRUFBZ0JULHFCQUFoQjtBQUNBRixNQUFNLENBQUNXLEdBQVAsQ0FBVyxPQUFYLEVBQW9CUixpQkFBcEI7QUFDQUgsTUFBTSxDQUFDVyxHQUFQLENBQVcsZ0JBQVgsRUFBNkJQLCtCQUE3QjtBQUNBSixNQUFNLENBQUNZLElBQVAsQ0FBWSxlQUFaLEVBQTZCUCxnQ0FBN0IsRSxDQUNBOztBQUNBTCxNQUFNLENBQUNXLEdBQVAsQ0FBVyxpQkFBWCxFQUE4Qkwsc0JBQTlCO0FBQ0FOLE1BQU0sQ0FBQ1ksSUFBUCxDQUFZLEdBQVosRUFBaUJMLHdCQUFqQjtBQUNBUCxNQUFNLENBQUNZLElBQVAsQ0FBWSxxQkFBWixFQUFtQ0osNkJBQW5DO0FBQ0FSLE1BQU0sQ0FBQ1ksSUFBUCxDQUFZLGtCQUFaLEVBQWdDSCwrQkFBaEM7QUFDQVQsTUFBTSxDQUFDYSxLQUFQLENBQWEsbUJBQWIsRUFBa0NILGlDQUFsQztBQUVBSSxNQUFNLENBQUNDLE9BQVAsR0FBaUJmLE1BQWpCIn0=","map":{"version":3,"names":["express","require","router","Router","handleGetAllInterview","handleGetAllRooms","handleGetCandidatesNotInterview","handleGetNumCandidatesByRoomWeek","handleGetAllCandidates","handleCreateNewInterview","handleGetListCandidatesBySlot","handleGetInterviewByCandidateId","handleUpdateInterviewByCampaignId","get","post","patch","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\routes\\","sources":["interview.route.js"],"sourcesContent":["const express = require(\"express\");\r\n\r\nconst router = express.Router();\r\nconst {\r\n  handleGetAllInterview,\r\n  handleGetAllRooms,\r\n  handleGetCandidatesNotInterview,\r\n  handleGetNumCandidatesByRoomWeek,\r\n  handleGetAllCandidates,\r\n  handleCreateNewInterview,\r\n  handleGetListCandidatesBySlot,\r\n  handleGetInterviewByCandidateId,\r\n  handleUpdateInterviewByCampaignId,\r\n} = require(\"../controller/interview.controller\");\r\n\r\nrouter.get(\"/\", handleGetAllInterview);\r\nrouter.get(\"/room\", handleGetAllRooms);\r\nrouter.get(\"/not-interview\", handleGetCandidatesNotInterview);\r\nrouter.post(\"/by-room-week\", handleGetNumCandidatesByRoomWeek);\r\n// router.patch(\"/update\");\r\nrouter.get(\"/all-candidates\", handleGetAllCandidates);\r\nrouter.post(\"/\", handleCreateNewInterview);\r\nrouter.post(\"/candidates-by-slot\", handleGetListCandidatesBySlot);\r\nrouter.post(\"/by-candidate-id\", handleGetInterviewByCandidateId);\r\nrouter.patch(\"/update-interview\", handleUpdateInterviewByCampaignId);\r\n\r\nmodule.exports = router;\r\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AAEA,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;AACA,MAAM;EACJC,qBADI;EAEJC,iBAFI;EAGJC,+BAHI;EAIJC,gCAJI;EAKJC,sBALI;EAMJC,wBANI;EAOJC,6BAPI;EAQJC,+BARI;EASJC;AATI,IAUFX,OAAO,CAAC,oCAAD,CAVX;;AAYAC,MAAM,CAACW,GAAP,CAAW,GAAX,EAAgBT,qBAAhB;AACAF,MAAM,CAACW,GAAP,CAAW,OAAX,EAAoBR,iBAApB;AACAH,MAAM,CAACW,GAAP,CAAW,gBAAX,EAA6BP,+BAA7B;AACAJ,MAAM,CAACY,IAAP,CAAY,eAAZ,EAA6BP,gCAA7B,E,CACA;;AACAL,MAAM,CAACW,GAAP,CAAW,iBAAX,EAA8BL,sBAA9B;AACAN,MAAM,CAACY,IAAP,CAAY,GAAZ,EAAiBL,wBAAjB;AACAP,MAAM,CAACY,IAAP,CAAY,qBAAZ,EAAmCJ,6BAAnC;AACAR,MAAM,CAACY,IAAP,CAAY,kBAAZ,EAAgCH,+BAAhC;AACAT,MAAM,CAACa,KAAP,CAAa,mBAAb,EAAkCH,iCAAlC;AAEAI,MAAM,CAACC,OAAP,GAAiBf,MAAjB"}},"mtime":1667227918898},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\controller\\\\interview.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst interviewService = require(\"../service/interviewService\");\n\nconst handleGetAllInterview = async (req, res, next) => {\n  try {\n    const getInterview = await interviewService.getAllInterviews();\n    res.json(getInterview);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetAllRooms = async (req, res, next) => {\n  try {\n    const getAllRooms = await interviewService.getAllRooms();\n    res.json(getAllRooms);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetCandidatesNotInterview = async (req, res, next) => {\n  try {\n    const getCandidatesNotInterview = await interviewService.getCandidatesNotInterview();\n    res.json(getCandidatesNotInterview);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetNumCandidatesByRoomWeek = async (req, res, next) => {\n  try {\n    const week = req.body.week;\n    const getNumCandidatesByRoomWeek = await interviewService.getNumCandidatesByRoomWeek(week);\n    res.json(getNumCandidatesByRoomWeek);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst updateInterview = async (req, res, next) => {\n  try {\n    // interviewService.updateInterviewByID()\n    console.log(req.body);\n  } catch (error) {}\n};\n\nconst handleGetAllCandidates = async (req, res, next) => {\n  try {\n    const getAllCandidates = await interviewService.getAllCandidates();\n    res.json(getAllCandidates);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleCreateNewInterview = async (req, res, next) => {\n  try {\n    const data = req.body;\n    console.log(data);\n    const createNewInterview = await interviewService.createNewInterview(data);\n    res.json(createNewInterview);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetListCandidatesBySlot = async (req, res, next) => {\n  try {\n    const slot = req.body.slot;\n    const room = req.body.room;\n    const week = req.body.week;\n    const candidateList = await interviewService.getListCandidatesBySlot(week, room, slot);\n    res.json(candidateList);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetInterviewByCandidateId = async (req, res, next) => {\n  try {\n    const candidateId = req.body.candidateId;\n    const result = await interviewService.getInterviewByCandidateId(candidateId);\n    res.json(result);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleUpdateInterviewByCampaignId = async (req, res, next) => {\n  try {\n    const week = req.body.week;\n    const room = req.body.room;\n    const slot = req.body.slot;\n    const candidateId = req.body.candidateId;\n    const result = interviewService.updateInterviewByID(candidateId, week, room, slot);\n    res.json(result);\n  } catch (error) {\n    next(error);\n  }\n};\n\nmodule.exports = {\n  handleGetAllInterview,\n  handleGetAllRooms,\n  handleGetCandidatesNotInterview,\n  handleGetNumCandidatesByRoomWeek,\n  updateInterview,\n  handleGetAllCandidates,\n  handleCreateNewInterview,\n  handleGetListCandidatesBySlot,\n  handleGetInterviewByCandidateId,\n  handleUpdateInterviewByCampaignId\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpbnRlcnZpZXdTZXJ2aWNlIiwicmVxdWlyZSIsImhhbmRsZUdldEFsbEludGVydmlldyIsInJlcSIsInJlcyIsIm5leHQiLCJnZXRJbnRlcnZpZXciLCJnZXRBbGxJbnRlcnZpZXdzIiwianNvbiIsImVycm9yIiwiaGFuZGxlR2V0QWxsUm9vbXMiLCJnZXRBbGxSb29tcyIsImhhbmRsZUdldENhbmRpZGF0ZXNOb3RJbnRlcnZpZXciLCJnZXRDYW5kaWRhdGVzTm90SW50ZXJ2aWV3IiwiaGFuZGxlR2V0TnVtQ2FuZGlkYXRlc0J5Um9vbVdlZWsiLCJ3ZWVrIiwiYm9keSIsImdldE51bUNhbmRpZGF0ZXNCeVJvb21XZWVrIiwidXBkYXRlSW50ZXJ2aWV3IiwiY29uc29sZSIsImxvZyIsImhhbmRsZUdldEFsbENhbmRpZGF0ZXMiLCJnZXRBbGxDYW5kaWRhdGVzIiwiaGFuZGxlQ3JlYXRlTmV3SW50ZXJ2aWV3IiwiZGF0YSIsImNyZWF0ZU5ld0ludGVydmlldyIsImhhbmRsZUdldExpc3RDYW5kaWRhdGVzQnlTbG90Iiwic2xvdCIsInJvb20iLCJjYW5kaWRhdGVMaXN0IiwiZ2V0TGlzdENhbmRpZGF0ZXNCeVNsb3QiLCJoYW5kbGVHZXRJbnRlcnZpZXdCeUNhbmRpZGF0ZUlkIiwiY2FuZGlkYXRlSWQiLCJyZXN1bHQiLCJnZXRJbnRlcnZpZXdCeUNhbmRpZGF0ZUlkIiwiaGFuZGxlVXBkYXRlSW50ZXJ2aWV3QnlDYW1wYWlnbklkIiwidXBkYXRlSW50ZXJ2aWV3QnlJRCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxDb2RlXFxGUFRfU3ViamVjdFxcU1dQXFxIUk1TX0JFXFxzcmNcXGNvbnRyb2xsZXJcXCIsInNvdXJjZXMiOlsiaW50ZXJ2aWV3LmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgaW50ZXJ2aWV3U2VydmljZSA9IHJlcXVpcmUoXCIuLi9zZXJ2aWNlL2ludGVydmlld1NlcnZpY2VcIik7XHJcblxyXG5jb25zdCBoYW5kbGVHZXRBbGxJbnRlcnZpZXcgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZ2V0SW50ZXJ2aWV3ID0gYXdhaXQgaW50ZXJ2aWV3U2VydmljZS5nZXRBbGxJbnRlcnZpZXdzKCk7XHJcbiAgICByZXMuanNvbihnZXRJbnRlcnZpZXcpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBuZXh0KGVycm9yKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVHZXRBbGxSb29tcyA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBnZXRBbGxSb29tcyA9IGF3YWl0IGludGVydmlld1NlcnZpY2UuZ2V0QWxsUm9vbXMoKTtcclxuICAgIHJlcy5qc29uKGdldEFsbFJvb21zKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgbmV4dChlcnJvcik7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlR2V0Q2FuZGlkYXRlc05vdEludGVydmlldyA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBnZXRDYW5kaWRhdGVzTm90SW50ZXJ2aWV3ID1cclxuICAgICAgYXdhaXQgaW50ZXJ2aWV3U2VydmljZS5nZXRDYW5kaWRhdGVzTm90SW50ZXJ2aWV3KCk7XHJcbiAgICByZXMuanNvbihnZXRDYW5kaWRhdGVzTm90SW50ZXJ2aWV3KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgbmV4dChlcnJvcik7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlR2V0TnVtQ2FuZGlkYXRlc0J5Um9vbVdlZWsgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgd2VlayA9IHJlcS5ib2R5LndlZWs7XHJcbiAgICBjb25zdCBnZXROdW1DYW5kaWRhdGVzQnlSb29tV2VlayA9XHJcbiAgICAgIGF3YWl0IGludGVydmlld1NlcnZpY2UuZ2V0TnVtQ2FuZGlkYXRlc0J5Um9vbVdlZWsod2Vlayk7XHJcbiAgICByZXMuanNvbihnZXROdW1DYW5kaWRhdGVzQnlSb29tV2Vlayk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIG5leHQoZXJyb3IpO1xyXG4gIH1cclxufTtcclxuY29uc3QgdXBkYXRlSW50ZXJ2aWV3ID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIGludGVydmlld1NlcnZpY2UudXBkYXRlSW50ZXJ2aWV3QnlJRCgpXHJcbiAgICBjb25zb2xlLmxvZyhyZXEuYm9keSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHt9XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVHZXRBbGxDYW5kaWRhdGVzID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGdldEFsbENhbmRpZGF0ZXMgPSBhd2FpdCBpbnRlcnZpZXdTZXJ2aWNlLmdldEFsbENhbmRpZGF0ZXMoKTtcclxuICAgIHJlcy5qc29uKGdldEFsbENhbmRpZGF0ZXMpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBuZXh0KGVycm9yKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVDcmVhdGVOZXdJbnRlcnZpZXcgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZGF0YSA9IHJlcS5ib2R5O1xyXG4gICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICBjb25zdCBjcmVhdGVOZXdJbnRlcnZpZXcgPSBhd2FpdCBpbnRlcnZpZXdTZXJ2aWNlLmNyZWF0ZU5ld0ludGVydmlldyhkYXRhKTtcclxuICAgIHJlcy5qc29uKGNyZWF0ZU5ld0ludGVydmlldyk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIG5leHQoZXJyb3IpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZUdldExpc3RDYW5kaWRhdGVzQnlTbG90ID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHNsb3QgPSByZXEuYm9keS5zbG90O1xyXG4gICAgY29uc3Qgcm9vbSA9IHJlcS5ib2R5LnJvb207XHJcbiAgICBjb25zdCB3ZWVrID0gcmVxLmJvZHkud2VlaztcclxuICAgIGNvbnN0IGNhbmRpZGF0ZUxpc3QgPSBhd2FpdCBpbnRlcnZpZXdTZXJ2aWNlLmdldExpc3RDYW5kaWRhdGVzQnlTbG90KFxyXG4gICAgICB3ZWVrLFxyXG4gICAgICByb29tLFxyXG4gICAgICBzbG90XHJcbiAgICApO1xyXG4gICAgcmVzLmpzb24oY2FuZGlkYXRlTGlzdCk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIG5leHQoZXJyb3IpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZUdldEludGVydmlld0J5Q2FuZGlkYXRlSWQgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY2FuZGlkYXRlSWQgPSByZXEuYm9keS5jYW5kaWRhdGVJZDtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGludGVydmlld1NlcnZpY2UuZ2V0SW50ZXJ2aWV3QnlDYW5kaWRhdGVJZChcclxuICAgICAgY2FuZGlkYXRlSWRcclxuICAgICk7XHJcbiAgICByZXMuanNvbihyZXN1bHQpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBuZXh0KGVycm9yKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVVcGRhdGVJbnRlcnZpZXdCeUNhbXBhaWduSWQgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgd2VlayA9IHJlcS5ib2R5LndlZWs7XHJcbiAgICBjb25zdCByb29tID0gcmVxLmJvZHkucm9vbTtcclxuICAgIGNvbnN0IHNsb3QgPSByZXEuYm9keS5zbG90O1xyXG4gICAgY29uc3QgY2FuZGlkYXRlSWQgPSByZXEuYm9keS5jYW5kaWRhdGVJZDtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGludGVydmlld1NlcnZpY2UudXBkYXRlSW50ZXJ2aWV3QnlJRChcclxuICAgICAgY2FuZGlkYXRlSWQsXHJcbiAgICAgIHdlZWssXHJcbiAgICAgIHJvb20sXHJcbiAgICAgIHNsb3RcclxuICAgICk7XHJcbiAgICByZXMuanNvbihyZXN1bHQpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBuZXh0KGVycm9yKTtcclxuICB9XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBoYW5kbGVHZXRBbGxJbnRlcnZpZXcsXHJcbiAgaGFuZGxlR2V0QWxsUm9vbXMsXHJcbiAgaGFuZGxlR2V0Q2FuZGlkYXRlc05vdEludGVydmlldyxcclxuICBoYW5kbGVHZXROdW1DYW5kaWRhdGVzQnlSb29tV2VlayxcclxuICB1cGRhdGVJbnRlcnZpZXcsXHJcbiAgaGFuZGxlR2V0QWxsQ2FuZGlkYXRlcyxcclxuICBoYW5kbGVDcmVhdGVOZXdJbnRlcnZpZXcsXHJcbiAgaGFuZGxlR2V0TGlzdENhbmRpZGF0ZXNCeVNsb3QsXHJcbiAgaGFuZGxlR2V0SW50ZXJ2aWV3QnlDYW5kaWRhdGVJZCxcclxuICBoYW5kbGVVcGRhdGVJbnRlcnZpZXdCeUNhbXBhaWduSWQsXHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxnQkFBZ0IsR0FBR0MsT0FBTyxDQUFDLDZCQUFELENBQWhDOztBQUVBLE1BQU1DLHFCQUFxQixHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDdEQsSUFBSTtJQUNGLE1BQU1DLFlBQVksR0FBRyxNQUFNTixnQkFBZ0IsQ0FBQ08sZ0JBQWpCLEVBQTNCO0lBQ0FILEdBQUcsQ0FBQ0ksSUFBSixDQUFTRixZQUFUO0VBQ0QsQ0FIRCxDQUdFLE9BQU9HLEtBQVAsRUFB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","map":{"version":3,"names":["interviewService","require","handleGetAllInterview","req","res","next","getInterview","getAllInterviews","json","error","handleGetAllRooms","getAllRooms","handleGetCandidatesNotInterview","getCandidatesNotInterview","handleGetNumCandidatesByRoomWeek","week","body","getNumCandidatesByRoomWeek","updateInterview","console","log","handleGetAllCandidates","getAllCandidates","handleCreateNewInterview","data","createNewInterview","handleGetListCandidatesBySlot","slot","room","candidateList","getListCandidatesBySlot","handleGetInterviewByCandidateId","candidateId","result","getInterviewByCandidateId","handleUpdateInterviewByCampaignId","updateInterviewByID","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\controller\\","sources":["interview.controller.js"],"sourcesContent":["const interviewService = require(\"../service/interviewService\");\r\n\r\nconst handleGetAllInterview = async (req, res, next) => {\r\n  try {\r\n    const getInterview = await interviewService.getAllInterviews();\r\n    res.json(getInterview);\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\n\r\nconst handleGetAllRooms = async (req, res, next) => {\r\n  try {\r\n    const getAllRooms = await interviewService.getAllRooms();\r\n    res.json(getAllRooms);\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\n\r\nconst handleGetCandidatesNotInterview = async (req, res, next) => {\r\n  try {\r\n    const getCandidatesNotInterview =\r\n      await interviewService.getCandidatesNotInterview();\r\n    res.json(getCandidatesNotInterview);\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\n\r\nconst handleGetNumCandidatesByRoomWeek = async (req, res, next) => {\r\n  try {\r\n    const week = req.body.week;\r\n    const getNumCandidatesByRoomWeek =\r\n      await interviewService.getNumCandidatesByRoomWeek(week);\r\n    res.json(getNumCandidatesByRoomWeek);\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\nconst updateInterview = async (req, res, next) => {\r\n  try {\r\n    // interviewService.updateInterviewByID()\r\n    console.log(req.body);\r\n  } catch (error) {}\r\n};\r\n\r\nconst handleGetAllCandidates = async (req, res, next) => {\r\n  try {\r\n    const getAllCandidates = await interviewService.getAllCandidates();\r\n    res.json(getAllCandidates);\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\n\r\nconst handleCreateNewInterview = async (req, res, next) => {\r\n  try {\r\n    const data = req.body;\r\n    console.log(data);\r\n    const createNewInterview = await interviewService.createNewInterview(data);\r\n    res.json(createNewInterview);\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\n\r\nconst handleGetListCandidatesBySlot = async (req, res, next) => {\r\n  try {\r\n    const slot = req.body.slot;\r\n    const room = req.body.room;\r\n    const week = req.body.week;\r\n    const candidateList = await interviewService.getListCandidatesBySlot(\r\n      week,\r\n      room,\r\n      slot\r\n    );\r\n    res.json(candidateList);\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\n\r\nconst handleGetInterviewByCandidateId = async (req, res, next) => {\r\n  try {\r\n    const candidateId = req.body.candidateId;\r\n    const result = await interviewService.getInterviewByCandidateId(\r\n      candidateId\r\n    );\r\n    res.json(result);\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\n\r\nconst handleUpdateInterviewByCampaignId = async (req, res, next) => {\r\n  try {\r\n    const week = req.body.week;\r\n    const room = req.body.room;\r\n    const slot = req.body.slot;\r\n    const candidateId = req.body.candidateId;\r\n    const result = interviewService.updateInterviewByID(\r\n      candidateId,\r\n      week,\r\n      room,\r\n      slot\r\n    );\r\n    res.json(result);\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\n\r\nmodule.exports = {\r\n  handleGetAllInterview,\r\n  handleGetAllRooms,\r\n  handleGetCandidatesNotInterview,\r\n  handleGetNumCandidatesByRoomWeek,\r\n  updateInterview,\r\n  handleGetAllCandidates,\r\n  handleCreateNewInterview,\r\n  handleGetListCandidatesBySlot,\r\n  handleGetInterviewByCandidateId,\r\n  handleUpdateInterviewByCampaignId,\r\n};\r\n"],"mappings":"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"}},"mtime":1667210726777},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\service\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\service\\\\interviewService.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst interviewRepository = require(\"../repository/interview.repository\");\n\nconst getAllInterviews = async () => {\n  try {\n    const where = {\n      status: [\"Processing\", \"Waiting\", \"Done\", \"Cancelled\"]\n    };\n    const interview = await interviewRepository.getInterviews(where);\n    console.log(interview);\n    return interview;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getAllRooms = async () => {\n  try {\n    const rooms = await interviewRepository.getAllRooms();\n    return rooms;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getCandidatesNotInterview = async () => {\n  try {\n    const candidates = await interviewRepository.getCandidatesNotInterview();\n    return candidates;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getNumCandidatesByRoomWeek = async week => {\n  try {\n    const data = await interviewRepository.getNumCandidatesByRoomWeek(week);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst createNewInterview = async data => {\n  try {\n    const newInterview = await interviewRepository.createNewInterview(data);\n    return newInterview;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getAllCandidates = async () => {\n  try {\n    const candidates = await interviewRepository.getAllCandidates();\n    return candidates;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getListCandidatesBySlot = async (week, room, slot) => {\n  try {\n    const candidates = await interviewRepository.getListCandidatesBySlot(week, room, slot);\n    return candidates;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getInterviewByCandidateId = async candidateId => {\n  try {\n    const result = await interviewRepository.getInterviewByCandidateId(candidateId);\n    return result;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst updateInterviewByID = async (candidateId, week, room, slot) => {\n  try {\n    const result = await interviewRepository.updateInterviewByID(candidateId, week, room, slot);\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  getAllInterviews,\n  getAllRooms,\n  getCandidatesNotInterview,\n  getNumCandidatesByRoomWeek,\n  updateInterviewByID,\n  getAllCandidates,\n  createNewInterview,\n  getListCandidatesBySlot,\n  getInterviewByCandidateId,\n  updateInterviewByID\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpbnRlcnZpZXdSZXBvc2l0b3J5IiwicmVxdWlyZSIsImdldEFsbEludGVydmlld3MiLCJ3aGVyZSIsInN0YXR1cyIsImludGVydmlldyIsImdldEludGVydmlld3MiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJnZXRBbGxSb29tcyIsInJvb21zIiwiZ2V0Q2FuZGlkYXRlc05vdEludGVydmlldyIsImNhbmRpZGF0ZXMiLCJnZXROdW1DYW5kaWRhdGVzQnlSb29tV2VlayIsIndlZWsiLCJkYXRhIiwiY3JlYXRlTmV3SW50ZXJ2aWV3IiwibmV3SW50ZXJ2aWV3IiwiZ2V0QWxsQ2FuZGlkYXRlcyIsImdldExpc3RDYW5kaWRhdGVzQnlTbG90Iiwicm9vbSIsInNsb3QiLCJnZXRJbnRlcnZpZXdCeUNhbmRpZGF0ZUlkIiwiY2FuZGlkYXRlSWQiLCJyZXN1bHQiLCJ1cGRhdGVJbnRlcnZpZXdCeUlEIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXENvZGVcXEZQVF9TdWJqZWN0XFxTV1BcXEhSTVNfQkVcXHNyY1xcc2VydmljZVxcIiwic291cmNlcyI6WyJpbnRlcnZpZXdTZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGludGVydmlld1JlcG9zaXRvcnkgPSByZXF1aXJlKFwiLi4vcmVwb3NpdG9yeS9pbnRlcnZpZXcucmVwb3NpdG9yeVwiKTtcclxuXHJcbmNvbnN0IGdldEFsbEludGVydmlld3MgPSBhc3luYyAoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHdoZXJlID0geyBzdGF0dXM6IFtcIlByb2Nlc3NpbmdcIiwgXCJXYWl0aW5nXCIsIFwiRG9uZVwiLCBcIkNhbmNlbGxlZFwiXSB9O1xyXG4gICAgY29uc3QgaW50ZXJ2aWV3ID0gYXdhaXQgaW50ZXJ2aWV3UmVwb3NpdG9yeS5nZXRJbnRlcnZpZXdzKHdoZXJlKTtcclxuICAgIGNvbnNvbGUubG9nKGludGVydmlldyk7XHJcbiAgICByZXR1cm4gaW50ZXJ2aWV3O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBnZXRBbGxSb29tcyA9IGFzeW5jICgpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgcm9vbXMgPSBhd2FpdCBpbnRlcnZpZXdSZXBvc2l0b3J5LmdldEFsbFJvb21zKCk7XHJcbiAgICByZXR1cm4gcm9vbXM7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGdldENhbmRpZGF0ZXNOb3RJbnRlcnZpZXcgPSBhc3luYyAoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNhbmRpZGF0ZXMgPSBhd2FpdCBpbnRlcnZpZXdSZXBvc2l0b3J5LmdldENhbmRpZGF0ZXNOb3RJbnRlcnZpZXcoKTtcclxuICAgIHJldHVybiBjYW5kaWRhdGVzO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBnZXROdW1DYW5kaWRhdGVzQnlSb29tV2VlayA9IGFzeW5jICh3ZWVrKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBpbnRlcnZpZXdSZXBvc2l0b3J5LmdldE51bUNhbmRpZGF0ZXNCeVJvb21XZWVrKHdlZWspO1xyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZU5ld0ludGVydmlldyA9IGFzeW5jIChkYXRhKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IG5ld0ludGVydmlldyA9IGF3YWl0IGludGVydmlld1JlcG9zaXRvcnkuY3JlYXRlTmV3SW50ZXJ2aWV3KGRhdGEpO1xyXG4gICAgcmV0dXJuIG5ld0ludGVydmlldztcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgZ2V0QWxsQ2FuZGlkYXRlcyA9IGFzeW5jICgpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY2FuZGlkYXRlcyA9IGF3YWl0IGludGVydmlld1JlcG9zaXRvcnkuZ2V0QWxsQ2FuZGlkYXRlcygpO1xyXG4gICAgcmV0dXJuIGNhbmRpZGF0ZXM7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGdldExpc3RDYW5kaWRhdGVzQnlTbG90ID0gYXN5bmMgKHdlZWssIHJvb20sIHNsb3QpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY2FuZGlkYXRlcyA9IGF3YWl0IGludGVydmlld1JlcG9zaXRvcnkuZ2V0TGlzdENhbmRpZGF0ZXNCeVNsb3QoXHJcbiAgICAgIHdlZWssXHJcbiAgICAgIHJvb20sXHJcbiAgICAgIHNsb3RcclxuICAgICk7XHJcbiAgICByZXR1cm4gY2FuZGlkYXRlcztcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgZ2V0SW50ZXJ2aWV3QnlDYW5kaWRhdGVJZCA9IGFzeW5jIChjYW5kaWRhdGVJZCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBpbnRlcnZpZXdSZXBvc2l0b3J5LmdldEludGVydmlld0J5Q2FuZGlkYXRlSWQoXHJcbiAgICAgIGNhbmRpZGF0ZUlkXHJcbiAgICApO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgdXBkYXRlSW50ZXJ2aWV3QnlJRCA9IGFzeW5jIChjYW5kaWRhdGVJZCwgd2Vlaywgcm9vbSwgc2xvdCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBpbnRlcnZpZXdSZXBvc2l0b3J5LnVwZGF0ZUludGVydmlld0J5SUQoXHJcbiAgICAgIGNhbmRpZGF0ZUlkLFxyXG4gICAgICB3ZWVrLFxyXG4gICAgICByb29tLFxyXG4gICAgICBzbG90XHJcbiAgICApO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBnZXRBbGxJbnRlcnZpZXdzLFxyXG4gIGdldEFsbFJvb21zLFxyXG4gIGdldENhbmRpZGF0ZXNOb3RJbnRlcnZpZXcsXHJcbiAgZ2V0TnVtQ2FuZGlkYXRlc0J5Um9vbVdlZWssXHJcbiAgdXBkYXRlSW50ZXJ2aWV3QnlJRCxcclxuICBnZXRBbGxDYW5kaWRhdGVzLFxyXG4gIGNyZWF0ZU5ld0ludGVydmlldyxcclxuICBnZXRMaXN0Q2FuZGlkYXRlc0J5U2xvdCxcclxuICBnZXRJbnRlcnZpZXdCeUNhbmRpZGF0ZUlkLFxyXG4gIHVwZGF0ZUludGVydmlld0J5SUQsXHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxtQkFBbUIsR0FBR0MsT0FBTyxDQUFDLG9DQUFELENBQW5DOztBQUVBLE1BQU1DLGdCQUFnQixHQUFHLFlBQVk7RUFDbkMsSUFBSTtJQUNGLE1BQU1DLEtBQUssR0FBRztNQUFFQyxNQUFNLEVBQUUsQ0FBQyxZQUFELEVBQWUsU0FBZixFQUEwQixNQUExQixFQUFrQyxXQUFsQztJQUFWLENBQWQ7SUFDQSxNQUFNQyxTQUFTLEdBQUcsTUFBTUwsbUJBQW1CLENBQUNNLGFBQXBCLENBQWtDSCxLQUFsQyxDQUF4QjtJQUNBSSxPQUFPLENBQUNDLEdBQVIsQ0FBWUgsU0FBWjtJQUNBLE9BQU9BLFNBQVA7RUFDRCxDQUxELENBS0UsT0FBT0ksS0FBUCxFQUFjO0lBQ2QsTUFBTUEsS0FBTjtFQUNEO0FBQ0YsQ0FURDs7QUFXQSxNQUFNQyxXQUFXLEdBQUcsWUFBWTtFQUM5QixJ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","map":{"version":3,"names":["interviewRepository","require","getAllInterviews","where","status","interview","getInterviews","console","log","error","getAllRooms","rooms","getCandidatesNotInterview","candidates","getNumCandidatesByRoomWeek","week","data","createNewInterview","newInterview","getAllCandidates","getListCandidatesBySlot","room","slot","getInterviewByCandidateId","candidateId","result","updateInterviewByID","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\service\\","sources":["interviewService.js"],"sourcesContent":["const interviewRepository = require(\"../repository/interview.repository\");\r\n\r\nconst getAllInterviews = async () => {\r\n  try {\r\n    const where = { status: [\"Processing\", \"Waiting\", \"Done\", \"Cancelled\"] };\r\n    const interview = await interviewRepository.getInterviews(where);\r\n    console.log(interview);\r\n    return interview;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getAllRooms = async () => {\r\n  try {\r\n    const rooms = await interviewRepository.getAllRooms();\r\n    return rooms;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getCandidatesNotInterview = async () => {\r\n  try {\r\n    const candidates = await interviewRepository.getCandidatesNotInterview();\r\n    return candidates;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getNumCandidatesByRoomWeek = async (week) => {\r\n  try {\r\n    const data = await interviewRepository.getNumCandidatesByRoomWeek(week);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst createNewInterview = async (data) => {\r\n  try {\r\n    const newInterview = await interviewRepository.createNewInterview(data);\r\n    return newInterview;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getAllCandidates = async () => {\r\n  try {\r\n    const candidates = await interviewRepository.getAllCandidates();\r\n    return candidates;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getListCandidatesBySlot = async (week, room, slot) => {\r\n  try {\r\n    const candidates = await interviewRepository.getListCandidatesBySlot(\r\n      week,\r\n      room,\r\n      slot\r\n    );\r\n    return candidates;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getInterviewByCandidateId = async (candidateId) => {\r\n  try {\r\n    const result = await interviewRepository.getInterviewByCandidateId(\r\n      candidateId\r\n    );\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst updateInterviewByID = async (candidateId, week, room, slot) => {\r\n  try {\r\n    const result = await interviewRepository.updateInterviewByID(\r\n      candidateId,\r\n      week,\r\n      room,\r\n      slot\r\n    );\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nmodule.exports = {\r\n  getAllInterviews,\r\n  getAllRooms,\r\n  getCandidatesNotInterview,\r\n  getNumCandidatesByRoomWeek,\r\n  updateInterviewByID,\r\n  getAllCandidates,\r\n  createNewInterview,\r\n  getListCandidatesBySlot,\r\n  getInterviewByCandidateId,\r\n  updateInterviewByID,\r\n};\r\n"],"mappings":"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"}},"mtime":1667210880073},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\repository\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\repository\\\\interview.repository.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _sequelize = require(\"sequelize\");\n\nvar _index = require(\"../models/index.js\");\n\nconst db = require(\"../models\");\n\nconst Interviews = db.Interviews;\n\nconst updateInterviews = async (newObj, where) => {\n  return await Interviews.update(newObj, {\n    where: where\n  });\n};\n\nconst getInterviews = async where => {\n  console.log(\"aaaa\");\n  return await Interviews.findAll({\n    where: where,\n    raw: true\n  });\n};\n\nconst getAllRooms = async () => {\n  return await _index.sequelize.query(\"SELECT DISTINCT room FROM hrms.interviews\", {\n    type: _sequelize.QueryTypes.SELECT\n  });\n};\n\nconst getCandidatesNotInterview = async () => {\n  const query = 'SELECT * FROM hrms.candidatedetails where id not in (select candidateDetail_id from hrms.interviews) and applied_status = \"Approve\"';\n  return await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.SELECT\n  });\n};\n\nconst getNumCandidatesByRoomWeek = async week => {\n  const query = \"SELECT i.slot,  count(*) as num_candidates FROM hrms.interviews as i WHERE i.room = ? AND i.week = ? GROUP BY i.slot\"; // gererate result\n\n  const result = [];\n\n  for (let room = 1; room <= 9; room++) {\n    const data = await _index.sequelize.query(query, {\n      replacements: [room, week],\n      type: _sequelize.QueryTypes.SELECT\n    }); // create 24 slots\n\n    const roomArr = Array(24).fill(0); // use slot + 1 because slot in interview table started from 1 to 24\n\n    const newArr = roomArr.map((value, slot) => updateRoom(data, slot + 1));\n    const resultData = {\n      name: `room ${room}`,\n      data: newArr\n    };\n    result.push(resultData);\n  }\n\n  function updateRoom(data, slot) {\n    for (let i = 0; i < data.length; i++) {\n      if (data[i].slot === slot) {\n        return data[i].num_candidates;\n      }\n    }\n\n    return 0;\n  }\n\n  return result;\n};\n\nconst getAllCandidates = async () => {\n  const query = `SELECT \n          c.id, c.resume_url, c.phone, c.address, \n          case \n            when c.id in (select i.candidatedetail_id from hrms.interviews as i) then 'YES' \n            else 'NO' \n          end as booking_status \n    FROM hrms.candidatedetails as c \n    WHERE applied_status = 'Approve'`;\n  return await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.SELECT\n  });\n};\n\nconst createNewInterview = async data => {\n  console.log(data);\n  return await Interviews.create({\n    CandidateDetail_id: data.candidateId,\n    room: data.room,\n    slot: data.slot,\n    week: data.week\n  }); // const query =\n  //   \"INSERT INTO hrms.interviews (id, room, slot, week, status, CandidateDetail_id) VALUES (DEFAULT, ?, ?, ?, DEFAULT, ?)\";\n  // return await sequelize.query(query, {\n  //   type: QueryTypes.INSERT,\n  //   replacements: [data.room, data.slot, data.week, data.candidateId],\n  // });\n};\n\nconst getListCandidatesBySlot = async (week, room, slot) => {\n  const query = `SELECT M.fullname, J.name, M.email, M.address, M.phone\nFROM hrms.interviews as I\nINNER JOIN hrms.candidatedetails as C\nON I.candidatedetail_id = C.id\nINNER JOIN hrms.members as M\nON C.member_id = M.id\nINNER JOIN hrms.jobs as J\nON C.Job_id = J.id\nWHERE I.week = ? AND I.room = ? AND I.slot = ?`;\n  return await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.SELECT,\n    replacements: [week, room, slot]\n  });\n};\n\nconst getInterviewByCandidateId = async candidateId => {\n  const query = `SELECT * \n  FROM hrms.interviews as I \n  WHERE I.candidatedetail_id = ?`;\n  const data = await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.SELECT,\n    replacements: [candidateId]\n  });\n  return data;\n};\n\nconst updateInterviewByID = async (candidateId, week, room, slot) => {\n  const query = `update hrms.interviews \n  set week = ?, room = ?, slot = ? \n  where candidatedetail_id = ?`;\n  const data = await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.UPDATE,\n    replacements: [week, room, slot, candidateId]\n  });\n  return data;\n};\n\nmodule.exports = {\n  getInterviews,\n  getAllRooms,\n  getCandidatesNotInterview,\n  getNumCandidatesByRoomWeek,\n  updateInterviews,\n  getAllCandidates,\n  createNewInterview,\n  getListCandidatesBySlot,\n  getInterviewByCandidateId,\n  updateInterviewByID\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYiIsInJlcXVpcmUiLCJJbnRlcnZpZXdzIiwidXBkYXRlSW50ZXJ2aWV3cyIsIm5ld09iaiIsIndoZXJlIiwidXBkYXRlIiwiZ2V0SW50ZXJ2aWV3cyIsImNvbnNvbGUiLCJsb2ciLCJmaW5kQWxsIiwicmF3IiwiZ2V0QWxsUm9vbXMiLCJzZXF1ZWxpemUiLCJxdWVyeSIsInR5cGUiLCJRdWVyeVR5cGVzIiwiU0VMRUNUIiwiZ2V0Q2FuZGlkYXRlc05vdEludGVydmlldyIsImdldE51bUNhbmRpZGF0ZXNCeVJvb21XZWVrIiwid2VlayIsInJlc3VsdCIsInJvb20iLCJkYXRhIiwicmVwbGFjZW1lbnRzIiwicm9vbUFyciIsIkFycmF5IiwiZmlsbCIsIm5ld0FyciIsIm1hcCIsInZhbHVlIiwic2xvdCIsInVwZGF0ZVJvb20iLCJyZXN1bHREYXRhIiwibmFtZSIsInB1c2giLCJpIiwibGVuZ3RoIiwibnVtX2NhbmRpZGF0ZXMiLCJnZXRBbGxDYW5kaWRhdGVzIiwiY3JlYXRlTmV3SW50ZXJ2aWV3IiwiY3JlYXRlIiwiQ2FuZGlkYXRlRGV0YWlsX2lkIiwiY2FuZGlkYXRlSWQiLCJnZXRMaXN0Q2FuZGlkYXRlc0J5U2xvdCIsImdldEludGVydmlld0J5Q2FuZGlkYXRlSWQiLCJ1cGRhdGVJbnRlcnZpZXdCeUlEIiwiVVBEQVRFIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXENvZGVcXEZQVF9TdWJqZWN0XFxTV1BcXEhSTVNfQkVcXHNyY1xccmVwb3NpdG9yeVxcIiwic291cmNlcyI6WyJpbnRlcnZpZXcucmVwb3NpdG9yeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBkYiA9IHJlcXVpcmUoXCIuLi9tb2RlbHNcIik7XHJcbmltcG9ydCB7IFF1ZXJ5VHlwZXMgfSBmcm9tIFwic2VxdWVsaXplXCI7XHJcbmltcG9ydCB7IHNlcXVlbGl6ZSB9IGZyb20gXCIuLi9tb2RlbHMvaW5kZXguanNcIjtcclxuXHJcbmNvbnN0IEludGVydmlld3MgPSBkYi5JbnRlcnZpZXdzO1xyXG5cclxuY29uc3QgdXBkYXRlSW50ZXJ2aWV3cyA9IGFzeW5jIChuZXdPYmosIHdoZXJlKSA9PiB7XHJcbiAgcmV0dXJuIGF3YWl0IEludGVydmlld3MudXBkYXRlKG5ld09iaiwge1xyXG4gICAgd2hlcmU6IHdoZXJlLFxyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3QgZ2V0SW50ZXJ2aWV3cyA9IGFzeW5jICh3aGVyZSkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKFwiYWFhYVwiKTtcclxuICByZXR1cm4gYXdhaXQgSW50ZXJ2aWV3cy5maW5kQWxsKHtcclxuICAgIHdoZXJlOiB3aGVyZSxcclxuICAgIHJhdzogdHJ1ZSxcclxuICB9KTtcclxufTtcclxuXHJcbmNvbnN0IGdldEFsbFJvb21zID0gYXN5bmMgKCkgPT4ge1xyXG4gIHJldHVybiBhd2FpdCBzZXF1ZWxpemUucXVlcnkoXCJTRUxFQ1QgRElTVElOQ1Qgcm9vbSBGUk9NIGhybXMuaW50ZXJ2aWV3c1wiLCB7XHJcbiAgICB0eXBlOiBRdWVyeVR5cGVzLlNFTEVDVCxcclxuICB9KTtcclxufTtcclxuXHJcbmNvbnN0IGdldENhbmRpZGF0ZXNOb3RJbnRlcnZpZXcgPSBhc3luYyAoKSA9PiB7XHJcbiAgY29uc3QgcXVlcnkgPVxyXG4gICAgJ1NFTEVDVCAqIEZST00gaHJtcy5jYW5kaWRhdGVkZXRhaWxzIHdoZXJlIGlkIG5vdCBpbiAoc2VsZWN0IGNhbmRpZGF0ZURldGFpbF9pZCBmcm9tIGhybXMuaW50ZXJ2aWV3cykgYW5kIGFwcGxpZWRfc3RhdHVzID0gXCJBcHByb3ZlXCInO1xyXG4gIHJldHVybiBhd2FpdCBzZXF1ZWxpemUucXVlcnkocXVlcnksIHtcclxuICAgIHR5cGU6IFF1ZXJ5VHlwZXMuU0VMRUNULFxyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3QgZ2V0TnVtQ2FuZGlkYXRlc0J5Um9vbVdlZWsgPSBhc3luYyAod2VlaykgPT4ge1xyXG4gIGNvbnN0IHF1ZXJ5ID1cclxuICAgIFwiU0VMRUNUIGkuc2xvdCwgIGNvdW50KCopIGFzIG51bV9jYW5kaWRhdGVzIEZST00gaHJtcy5pbnRlcnZpZXdzIGFzIGkgV0hFUkUgaS5yb29tID0gPyBBTkQgaS53ZWVrID0gPyBHUk9VUCBCWSBpLnNsb3RcIjtcclxuXHJcbiAgLy8gZ2VyZXJhdGUgcmVzdWx0XHJcbiAgY29uc3QgcmVzdWx0ID0gW107XHJcblxyXG4gIGZvciAobGV0IHJvb20gPSAxOyByb29tIDw9IDk7IHJvb20rKykge1xyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHNlcXVlbGl6ZS5xdWVyeShxdWVyeSwge1xyXG4gICAgICByZXBsYWNlbWVudHM6IFtyb29tLCB3ZWVrXSxcclxuICAgICAgdHlwZTogUXVlcnlUeXBlcy5TRUxFQ1QsXHJcbiAgICB9KTtcclxuICAgIC8vIGNyZWF0ZSAyNCBzbG90c1xyXG4gICAgY29uc3Qgcm9vbUFyciA9IEFycmF5KDI0KS5maWxsKDApO1xyXG4gICAgLy8gdXNlIHNsb3QgKyAxIGJlY2F1c2Ugc2xvdCBpbiBpbnRlcnZpZXcgdGFibGUgc3RhcnRlZCBmcm9tIDEgdG8gMjRcclxuICAgIGNvbnN0IG5ld0FyciA9IHJvb21BcnIubWFwKCh2YWx1ZSwgc2xvdCkgPT4gdXBkYXRlUm9vbShkYXRhLCBzbG90ICsgMSkpO1xyXG5cclxuICAgIGNvbnN0IHJlc3VsdERhdGEgPSB7XHJcbiAgICAgIG5hbWU6IGByb29tICR7cm9vbX1gLFxyXG4gICAgICBkYXRhOiBuZXdBcnIsXHJcbiAgICB9O1xyXG4gICAgcmVzdWx0LnB1c2gocmVzdWx0RGF0YSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB1cGRhdGVSb29tKGRhdGEsIHNsb3QpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAoZGF0YVtpXS5zbG90ID09PSBzbG90KSB7XHJcbiAgICAgICAgcmV0dXJuIGRhdGFbaV0ubnVtX2NhbmRpZGF0ZXM7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuXHJcbmNvbnN0IGdldEFsbENhbmRpZGF0ZXMgPSBhc3luYyAoKSA9PiB7XHJcbiAgY29uc3QgcXVlcnkgPSBgU0VMRUNUIFxyXG4gICAgICAgICAgYy5pZCwgYy5yZXN1bWVfdXJsLCBjLnBob25lLCBjLmFkZHJlc3MsIFxyXG4gICAgICAgICAgY2FzZSBcclxuICAgICAgICAgICAgd2hlbiBjLmlkIGluIChzZWxlY3QgaS5jYW5kaWRhdGVkZXRhaWxfaWQgZnJvbSBocm1zLmludGVydmlld3MgYXMgaSkgdGhlbiAnWUVTJyBcclxuICAgICAgICAgICAgZWxzZSAnTk8nIFxyXG4gICAgICAgICAgZW5kIGFzIGJvb2tpbmdfc3RhdHVzIFxyXG4gICAgRlJPTSBocm1zLmNhbmRpZGF0ZWRldGFpbHMgYXMgYyBcclxuICAgIFdIRVJFIGFwcGxpZWRfc3RhdHVzID0gJ0FwcHJvdmUnYDtcclxuICByZXR1cm4gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KHF1ZXJ5LCB7XHJcbiAgICB0eXBlOiBRdWVyeVR5cGVzLlNFTEVDVCxcclxuICB9KTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZU5ld0ludGVydmlldyA9IGFzeW5jIChkYXRhKSA9PiB7XHJcbiAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgcmV0dXJuIGF3YWl0IEludGVydmlld3MuY3JlYXRlKHtcclxuICAgIENhbmRpZGF0ZURldGFpbF9pZDogZGF0YS5jYW5kaWRhdGVJZCxcclxuICAgIHJvb206IGRhdGEucm9vbSxcclxuICAgIHNsb3Q6IGRhdGEuc2xvdCxcclxuICAgIHdlZWs6IGRhdGEud2VlayxcclxuICB9KTtcclxuICAvLyBjb25zdCBxdWVyeSA9XHJcbiAgLy8gICBcIklOU0VSVCBJTlRPIGhybXMuaW50ZXJ2aWV3cyAoaWQsIHJvb20sIHNsb3QsIHdlZWssIHN0YXR1cywgQ2FuZGlkYXRlRGV0YWlsX2lkKSBWQUxVRVMgKERFRkFVTFQsID8sID8sID8sIERFRkFVTFQsID8pXCI7XHJcbiAgLy8gcmV0dXJuIGF3YWl0IHNlcXVlbGl6ZS5xdWVyeShxdWVyeSwge1xyXG4gIC8vICAgdHlwZTogUXVlcnlUeXBlcy5JTlNFUlQsXHJcbiAgLy8gICByZXBsYWNlbWVudHM6IFtkYXRhLnJvb20sIGRhdGEuc2xvdCwgZGF0YS53ZWVrLCBkYXRhLmNhbmRpZGF0ZUlkXSxcclxuICAvLyB9KTtcclxufTtcclxuXHJcbmNvbnN0IGdldExpc3RDYW5kaWRhdGVzQnlTbG90ID0gYXN5bmMgKHdlZWssIHJvb20sIHNsb3QpID0+IHtcclxuICBjb25zdCBxdWVyeSA9IGBTRUxFQ1QgTS5mdWxsbmFtZSwgSi5uYW1lLCBNLmVtYWlsLCBNLmFkZHJlc3MsIE0ucGhvbmVcclxuRlJPTSBocm1zLmludGVydmlld3MgYXMgSVxyXG5JTk5FUiBKT0lOIGhybXMuY2FuZGlkYXRlZGV0YWlscyBhcyBDXHJcbk9OIEkuY2FuZGlkYXRlZGV0YWlsX2lkID0gQy5pZFxyXG5JTk5FUiBKT0lOIGhybXMubWVtYmVycyBhcyBNXHJcbk9OIEMubWVtYmVyX2lkID0gTS5pZFxyXG5JTk5FUiBKT0lOIGhybXMuam9icyBhcyBKXHJcbk9OIEMuSm9iX2lkID0gSi5pZFxyXG5XSEVSRSBJLndlZWsgPSA/IEFORCBJLnJvb20gPSA/IEFORCBJLnNsb3QgPSA/YDtcclxuICByZXR1cm4gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KHF1ZXJ5LCB7XHJcbiAgICB0eXBlOiBRdWVyeVR5cGVzLlNFTEVDVCxcclxuICAgIHJlcGxhY2VtZW50czogW3dlZWssIHJvb20sIHNsb3RdLFxyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3QgZ2V0SW50ZXJ2aWV3QnlDYW5kaWRhdGVJZCA9IGFzeW5jIChjYW5kaWRhdGVJZCkgPT4ge1xyXG4gIGNvbnN0IHF1ZXJ5ID0gYFNFTEVDVCAqIFxyXG4gIEZST00gaHJtcy5pbnRlcnZpZXdzIGFzIEkgXHJcbiAgV0hFUkUgSS5jYW5kaWRhdGVkZXRhaWxfaWQgPSA/YDtcclxuICBjb25zdCBkYXRhID0gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KHF1ZXJ5LCB7XHJcbiAgICB0eXBlOiBRdWVyeVR5cGVzLlNFTEVDVCxcclxuICAgIHJlcGxhY2VtZW50czogW2NhbmRpZGF0ZUlkXSxcclxuICB9KTtcclxuICByZXR1cm4gZGF0YTtcclxufTtcclxuXHJcbmNvbnN0IHVwZGF0ZUludGVydmlld0J5SUQgPSBhc3luYyAoY2FuZGlkYXRlSWQsIHdlZWssIHJvb20sIHNsb3QpID0+IHtcclxuICBjb25zdCBxdWVyeSA9IGB1cGRhdGUgaHJtcy5pbnRlcnZpZXdzIFxyXG4gIHNldCB3ZWVrID0gPywgcm9vbSA9ID8sIHNsb3QgPSA/IFxyXG4gIHdoZXJlIGNhbmRpZGF0ZWRldGFpbF9pZCA9ID9gO1xyXG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBzZXF1ZWxpemUucXVlcnkocXVlcnksIHtcclxuICAgIHR5cGU6IFF1ZXJ5VHlwZXMuVVBEQVRFLFxyXG4gICAgcmVwbGFjZW1lbnRzOiBbd2Vlaywgcm9vbSwgc2xvdCwgY2FuZGlkYXRlSWRdLFxyXG4gIH0pO1xyXG4gIHJldHVybiBkYXRhO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgZ2V0SW50ZXJ2aWV3cyxcclxuICBnZXRBbGxSb29tcyxcclxuICBnZXRDYW5kaWRhdGVzTm90SW50ZXJ2aWV3LFxyXG4gIGdldE51bUNhbmRpZGF0ZXNCeVJvb21XZWVrLFxyXG4gIHVwZGF0ZUludGVydmlld3MsXHJcbiAgZ2V0QWxsQ2FuZGlkYXRlcyxcclxuICBjcmVhdGVOZXdJbnRlcnZpZXcsXHJcbiAgZ2V0TGlzdENhbmRpZGF0ZXNCeVNsb3QsXHJcbiAgZ2V0SW50ZXJ2aWV3QnlDYW5kaWRhdGVJZCxcclxuICB1cGRhdGVJbnRlcnZpZXdCeUlELFxyXG59O1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQ0E7O0FBQ0E7O0FBRkEsTUFBTUEsRUFBRSxHQUFHQyxPQUFPLENBQUMsV0FBRCxDQUFsQjs7QUFJQSxN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","map":{"version":3,"names":["db","require","Interviews","updateInterviews","newObj","where","update","getInterviews","console","log","findAll","raw","getAllRooms","sequelize","query","type","QueryTypes","SELECT","getCandidatesNotInterview","getNumCandidatesByRoomWeek","week","result","room","data","replacements","roomArr","Array","fill","newArr","map","value","slot","updateRoom","resultData","name","push","i","length","num_candidates","getAllCandidates","createNewInterview","create","CandidateDetail_id","candidateId","getListCandidatesBySlot","getInterviewByCandidateId","updateInterviewByID","UPDATE","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\repository\\","sources":["interview.repository.js"],"sourcesContent":["const db = require(\"../models\");\r\nimport { QueryTypes } from \"sequelize\";\r\nimport { sequelize } from \"../models/index.js\";\r\n\r\nconst Interviews = db.Interviews;\r\n\r\nconst updateInterviews = async (newObj, where) => {\r\n  return await Interviews.update(newObj, {\r\n    where: where,\r\n  });\r\n};\r\n\r\nconst getInterviews = async (where) => {\r\n  console.log(\"aaaa\");\r\n  return await Interviews.findAll({\r\n    where: where,\r\n    raw: true,\r\n  });\r\n};\r\n\r\nconst getAllRooms = async () => {\r\n  return await sequelize.query(\"SELECT DISTINCT room FROM hrms.interviews\", {\r\n    type: QueryTypes.SELECT,\r\n  });\r\n};\r\n\r\nconst getCandidatesNotInterview = async () => {\r\n  const query =\r\n    'SELECT * FROM hrms.candidatedetails where id not in (select candidateDetail_id from hrms.interviews) and applied_status = \"Approve\"';\r\n  return await sequelize.query(query, {\r\n    type: QueryTypes.SELECT,\r\n  });\r\n};\r\n\r\nconst getNumCandidatesByRoomWeek = async (week) => {\r\n  const query =\r\n    \"SELECT i.slot,  count(*) as num_candidates FROM hrms.interviews as i WHERE i.room = ? AND i.week = ? GROUP BY i.slot\";\r\n\r\n  // gererate result\r\n  const result = [];\r\n\r\n  for (let room = 1; room <= 9; room++) {\r\n    const data = await sequelize.query(query, {\r\n      replacements: [room, week],\r\n      type: QueryTypes.SELECT,\r\n    });\r\n    // create 24 slots\r\n    const roomArr = Array(24).fill(0);\r\n    // use slot + 1 because slot in interview table started from 1 to 24\r\n    const newArr = roomArr.map((value, slot) => updateRoom(data, slot + 1));\r\n\r\n    const resultData = {\r\n      name: `room ${room}`,\r\n      data: newArr,\r\n    };\r\n    result.push(resultData);\r\n  }\r\n\r\n  function updateRoom(data, slot) {\r\n    for (let i = 0; i < data.length; i++) {\r\n      if (data[i].slot === slot) {\r\n        return data[i].num_candidates;\r\n      }\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\nconst getAllCandidates = async () => {\r\n  const query = `SELECT \r\n          c.id, c.resume_url, c.phone, c.address, \r\n          case \r\n            when c.id in (select i.candidatedetail_id from hrms.interviews as i) then 'YES' \r\n            else 'NO' \r\n          end as booking_status \r\n    FROM hrms.candidatedetails as c \r\n    WHERE applied_status = 'Approve'`;\r\n  return await sequelize.query(query, {\r\n    type: QueryTypes.SELECT,\r\n  });\r\n};\r\n\r\nconst createNewInterview = async (data) => {\r\n  console.log(data);\r\n  return await Interviews.create({\r\n    CandidateDetail_id: data.candidateId,\r\n    room: data.room,\r\n    slot: data.slot,\r\n    week: data.week,\r\n  });\r\n  // const query =\r\n  //   \"INSERT INTO hrms.interviews (id, room, slot, week, status, CandidateDetail_id) VALUES (DEFAULT, ?, ?, ?, DEFAULT, ?)\";\r\n  // return await sequelize.query(query, {\r\n  //   type: QueryTypes.INSERT,\r\n  //   replacements: [data.room, data.slot, data.week, data.candidateId],\r\n  // });\r\n};\r\n\r\nconst getListCandidatesBySlot = async (week, room, slot) => {\r\n  const query = `SELECT M.fullname, J.name, M.email, M.address, M.phone\r\nFROM hrms.interviews as I\r\nINNER JOIN hrms.candidatedetails as C\r\nON I.candidatedetail_id = C.id\r\nINNER JOIN hrms.members as M\r\nON C.member_id = M.id\r\nINNER JOIN hrms.jobs as J\r\nON C.Job_id = J.id\r\nWHERE I.week = ? AND I.room = ? AND I.slot = ?`;\r\n  return await sequelize.query(query, {\r\n    type: QueryTypes.SELECT,\r\n    replacements: [week, room, slot],\r\n  });\r\n};\r\n\r\nconst getInterviewByCandidateId = async (candidateId) => {\r\n  const query = `SELECT * \r\n  FROM hrms.interviews as I \r\n  WHERE I.candidatedetail_id = ?`;\r\n  const data = await sequelize.query(query, {\r\n    type: QueryTypes.SELECT,\r\n    replacements: [candidateId],\r\n  });\r\n  return data;\r\n};\r\n\r\nconst updateInterviewByID = async (candidateId, week, room, slot) => {\r\n  const query = `update hrms.interviews \r\n  set week = ?, room = ?, slot = ? \r\n  where candidatedetail_id = ?`;\r\n  const data = await sequelize.query(query, {\r\n    type: QueryTypes.UPDATE,\r\n    replacements: [week, room, slot, candidateId],\r\n  });\r\n  return data;\r\n};\r\n\r\nmodule.exports = {\r\n  getInterviews,\r\n  getAllRooms,\r\n  getCandidatesNotInterview,\r\n  getNumCandidatesByRoomWeek,\r\n  updateInterviews,\r\n  getAllCandidates,\r\n  createNewInterview,\r\n  getListCandidatesBySlot,\r\n  getInterviewByCandidateId,\r\n  updateInterviewByID,\r\n};\r\n"],"mappings":"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"}},"mtime":1667211191787},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\routes\\\\report.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\n\nconst router = express.Router();\n\nconst {\n  handleGetAllReports,\n  handleGetAllReportsByInterviewer,\n  handleUpdateInterviewers,\n  handleUpdateMark\n} = require(\"../controller/report.controller\");\n\nrouter.get(\"/\", handleGetAllReports);\nrouter.post(\"/by-interviewer\", handleGetAllReportsByInterviewer);\nrouter.patch(\"/interviewers\", handleUpdateInterviewers);\nrouter.patch(\"/mark\", handleUpdateMark);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImhhbmRsZUdldEFsbFJlcG9ydHMiLCJoYW5kbGVHZXRBbGxSZXBvcnRzQnlJbnRlcnZpZXdlciIsImhhbmRsZVVwZGF0ZUludGVydmlld2VycyIsImhhbmRsZVVwZGF0ZU1hcmsiLCJnZXQiLCJwb3N0IiwicGF0Y2giLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcQ29kZVxcRlBUX1N1YmplY3RcXFNXUFxcSFJNU19CRVxcc3JjXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsicmVwb3J0LnJvdXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcclxuXHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG5jb25zdCB7XHJcbiAgaGFuZGxlR2V0QWxsUmVwb3J0cyxcclxuICBoYW5kbGVHZXRBbGxSZXBvcnRzQnlJbnRlcnZpZXdlcixcclxuICBoYW5kbGVVcGRhdGVJbnRlcnZpZXdlcnMsXHJcbiAgaGFuZGxlVXBkYXRlTWFyayxcclxufSA9IHJlcXVpcmUoXCIuLi9jb250cm9sbGVyL3JlcG9ydC5jb250cm9sbGVyXCIpO1xyXG5cclxucm91dGVyLmdldChcIi9cIiwgaGFuZGxlR2V0QWxsUmVwb3J0cyk7XHJcbnJvdXRlci5wb3N0KFwiL2J5LWludGVydmlld2VyXCIsIGhhbmRsZUdldEFsbFJlcG9ydHNCeUludGVydmlld2VyKTtcclxucm91dGVyLnBhdGNoKFwiL2ludGVydmlld2Vyc1wiLCBoYW5kbGVVcGRhdGVJbnRlcnZpZXdlcnMpO1xyXG5yb3V0ZXIucGF0Y2goXCIvbWFya1wiLCBoYW5kbGVVcGRhdGVNYXJrKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFFQSxNQUFNQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBUixFQUFmOztBQUVBLE1BQU07RUFDSkMsbUJBREk7RUFFSkMsZ0NBRkk7RUFHSkMsd0JBSEk7RUFJSkM7QUFKSSxJQUtGTixPQUFPLENBQUMsaUNBQUQsQ0FMWDs7QUFPQUMsTUFBTSxDQUFDTSxHQUFQLENBQVcsR0FBWCxFQUFnQkosbUJBQWhCO0FBQ0FGLE1BQU0sQ0FBQ08sSUFBUCxDQUFZLGlCQUFaLEVBQStCSixnQ0FBL0I7QUFDQUgsTUFBTSxDQUFDUSxLQUFQLENBQWEsZUFBYixFQUE4Qkosd0JBQTlCO0FBQ0FKLE1BQU0sQ0FBQ1EsS0FBUCxDQUFhLE9BQWIsRUFBc0JILGdCQUF0QjtBQUVBSSxNQUFNLENBQUNDLE9BQVAsR0FBaUJWLE1BQWpCIn0=","map":{"version":3,"names":["express","require","router","Router","handleGetAllReports","handleGetAllReportsByInterviewer","handleUpdateInterviewers","handleUpdateMark","get","post","patch","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\routes\\","sources":["report.route.js"],"sourcesContent":["const express = require(\"express\");\r\n\r\nconst router = express.Router();\r\n\r\nconst {\r\n  handleGetAllReports,\r\n  handleGetAllReportsByInterviewer,\r\n  handleUpdateInterviewers,\r\n  handleUpdateMark,\r\n} = require(\"../controller/report.controller\");\r\n\r\nrouter.get(\"/\", handleGetAllReports);\r\nrouter.post(\"/by-interviewer\", handleGetAllReportsByInterviewer);\r\nrouter.patch(\"/interviewers\", handleUpdateInterviewers);\r\nrouter.patch(\"/mark\", handleUpdateMark);\r\n\r\nmodule.exports = router;\r\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AAEA,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;AAEA,MAAM;EACJC,mBADI;EAEJC,gCAFI;EAGJC,wBAHI;EAIJC;AAJI,IAKFN,OAAO,CAAC,iCAAD,CALX;;AAOAC,MAAM,CAACM,GAAP,CAAW,GAAX,EAAgBJ,mBAAhB;AACAF,MAAM,CAACO,IAAP,CAAY,iBAAZ,EAA+BJ,gCAA/B;AACAH,MAAM,CAACQ,KAAP,CAAa,eAAb,EAA8BJ,wBAA9B;AACAJ,MAAM,CAACQ,KAAP,CAAa,OAAb,EAAsBH,gBAAtB;AAEAI,MAAM,CAACC,OAAP,GAAiBV,MAAjB"}},"mtime":1666898992930},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\controller\\\\report.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _apiError = require(\"../middleware/apiError\");\n\nconst httpStatus = require(\"http-status\");\n\nconst reportService = require(\"../service/report.service\");\n\nconst handleGetAllReports = async (req, res, next) => {\n  try {\n    const reports = await reportService.getAllReports();\n    res.json(reports);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleGetAllReportsByInterviewer = async (req, res, next) => {\n  try {\n    const interviewerId = req.body.interviewerId; // console.log(\"aaaa\");\n\n    const reports = await reportService.getAllReportsByInterviewer(interviewerId);\n    res.json({\n      report_pending: reports[0],\n      report_done: reports[1]\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleUpdateInterviewers = async (req, res, next) => {\n  try {\n    const interviewers = req.body.interviewersId;\n    const candidateId = req.body.candidateId;\n    const result = await reportService.updateInterviewers(candidateId, interviewers);\n    return res.json(result);\n  } catch (error) {\n    next(error);\n  }\n};\n\nconst handleUpdateMark = async (req, res, next) => {\n  try {\n    const interviewerId = req.body.interviewerId;\n    const mark = req.body.mark;\n    const interviewId = req.body.interviewId;\n    const comment = req.body.comment;\n\n    if (Number(mark) > 10 || Number(mark) < 0 || mark == null) {\n      throw new _apiError.ApiError(httpStatus.BAD_REQUEST, \"Mark can be from 0 to 10\");\n    }\n\n    if (comment.length === 0 || comment == null) {\n      throw new _apiError.ApiError(httpStatus.BAD_REQUEST, \"Comment must be provide\");\n    }\n\n    const result = await reportService.updateMark(interviewId, interviewerId, mark, comment);\n    return res.send(result);\n  } catch (error) {\n    next(error);\n  }\n};\n\nmodule.exports = {\n  handleGetAllReports,\n  handleGetAllReportsByInterviewer,\n  handleUpdateInterviewers,\n  handleUpdateMark\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwU3RhdHVzIiwicmVxdWlyZSIsInJlcG9ydFNlcnZpY2UiLCJoYW5kbGVHZXRBbGxSZXBvcnRzIiwicmVxIiwicmVzIiwibmV4dCIsInJlcG9ydHMiLCJnZXRBbGxSZXBvcnRzIiwianNvbiIsImVycm9yIiwiaGFuZGxlR2V0QWxsUmVwb3J0c0J5SW50ZXJ2aWV3ZXIiLCJpbnRlcnZpZXdlcklkIiwiYm9keSIsImdldEFsbFJlcG9ydHNCeUludGVydmlld2VyIiwicmVwb3J0X3BlbmRpbmciLCJyZXBvcnRfZG9uZSIsImhhbmRsZVVwZGF0ZUludGVydmlld2VycyIsImludGVydmlld2VycyIsImludGVydmlld2Vyc0lkIiwiY2FuZGlkYXRlSWQiLCJyZXN1bHQiLCJ1cGRhdGVJbnRlcnZpZXdlcnMiLCJoYW5kbGVVcGRhdGVNYXJrIiwibWFyayIsImludGVydmlld0lkIiwiY29tbWVudCIsIk51bWJlciIsIkFwaUVycm9yIiwiQkFEX1JFUVVFU1QiLCJsZW5ndGgiLCJ1cGRhdGVNYXJrIiwic2VuZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxDb2RlXFxGUFRfU3ViamVjdFxcU1dQXFxIUk1TX0JFXFxzcmNcXGNvbnRyb2xsZXJcXCIsInNvdXJjZXMiOlsicmVwb3J0LmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgaHR0cFN0YXR1cyA9IHJlcXVpcmUoXCJodHRwLXN0YXR1c1wiKTtcclxuY29uc3QgcmVwb3J0U2VydmljZSA9IHJlcXVpcmUoXCIuLi9zZXJ2aWNlL3JlcG9ydC5zZXJ2aWNlXCIpO1xyXG5pbXBvcnQgeyBBcGlFcnJvciB9IGZyb20gXCIuLi9taWRkbGV3YXJlL2FwaUVycm9yXCI7XHJcbmNvbnN0IGhhbmRsZUdldEFsbFJlcG9ydHMgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVwb3J0cyA9IGF3YWl0IHJlcG9ydFNlcnZpY2UuZ2V0QWxsUmVwb3J0cygpO1xyXG4gICAgcmVzLmpzb24ocmVwb3J0cyk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIG5leHQoZXJyb3IpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZUdldEFsbFJlcG9ydHNCeUludGVydmlld2VyID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGludGVydmlld2VySWQgPSByZXEuYm9keS5pbnRlcnZpZXdlcklkO1xyXG4gICAgLy8gY29uc29sZS5sb2coXCJhYWFhXCIpO1xyXG4gICAgY29uc3QgcmVwb3J0cyA9IGF3YWl0IHJlcG9ydFNlcnZpY2UuZ2V0QWxsUmVwb3J0c0J5SW50ZXJ2aWV3ZXIoXHJcbiAgICAgIGludGVydmlld2VySWRcclxuICAgICk7XHJcbiAgICByZXMuanNvbih7XHJcbiAgICAgIHJlcG9ydF9wZW5kaW5nOiByZXBvcnRzWzBdLFxyXG4gICAgICByZXBvcnRfZG9uZTogcmVwb3J0c1sxXSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBuZXh0KGVycm9yKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVVcGRhdGVJbnRlcnZpZXdlcnMgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgaW50ZXJ2aWV3ZXJzID0gcmVxLmJvZHkuaW50ZXJ2aWV3ZXJzSWQ7XHJcbiAgICBjb25zdCBjYW5kaWRhdGVJZCA9IHJlcS5ib2R5LmNhbmRpZGF0ZUlkO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVwb3J0U2VydmljZS51cGRhdGVJbnRlcnZpZXdlcnMoXHJcbiAgICAgIGNhbmRpZGF0ZUlkLFxyXG4gICAgICBpbnRlcnZpZXdlcnNcclxuICAgICk7XHJcbiAgICByZXR1cm4gcmVzLmpzb24ocmVzdWx0KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgbmV4dChlcnJvcik7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlVXBkYXRlTWFyayA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBpbnRlcnZpZXdlcklkID0gcmVxLmJvZHkuaW50ZXJ2aWV3ZXJJZDtcclxuICAgIGNvbnN0IG1hcmsgPSByZXEuYm9keS5tYXJrO1xyXG4gICAgY29uc3QgaW50ZXJ2aWV3SWQgPSByZXEuYm9keS5pbnRlcnZpZXdJZDtcclxuICAgIGNvbnN0IGNvbW1lbnQgPSByZXEuYm9keS5jb21tZW50O1xyXG4gICAgaWYgKE51bWJlcihtYXJrKSA+IDEwIHx8IE51bWJlcihtYXJrKSA8IDAgfHwgbWFyayA9PSBudWxsKSB7XHJcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcihodHRwU3RhdHVzLkJBRF9SRVFVRVNULCBcIk1hcmsgY2FuIGJlIGZyb20gMCB0byAxMFwiKTtcclxuICAgIH1cclxuICAgIGlmIChjb21tZW50Lmxlbmd0aCA9PT0gMCB8fCBjb21tZW50ID09IG51bGwpIHtcclxuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKGh0dHBTdGF0dXMuQkFEX1JFUVVFU1QsIFwiQ29tbWVudCBtdXN0IGJlIHByb3ZpZGVcIik7XHJcbiAgICB9XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvcnRTZXJ2aWNlLnVwZGF0ZU1hcmsoXHJcbiAgICAgIGludGVydmlld0lkLFxyXG4gICAgICBpbnRlcnZpZXdlcklkLFxyXG4gICAgICBtYXJrLFxyXG4gICAgICBjb21tZW50XHJcbiAgICApO1xyXG4gICAgcmV0dXJuIHJlcy5zZW5kKHJlc3VsdCk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIG5leHQoZXJyb3IpO1xyXG4gIH1cclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIGhhbmRsZUdldEFsbFJlcG9ydHMsXHJcbiAgaGFuZGxlR2V0QWxsUmVwb3J0c0J5SW50ZXJ2aWV3ZXIsXHJcbiAgaGFu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","map":{"version":3,"names":["httpStatus","require","reportService","handleGetAllReports","req","res","next","reports","getAllReports","json","error","handleGetAllReportsByInterviewer","interviewerId","body","getAllReportsByInterviewer","report_pending","report_done","handleUpdateInterviewers","interviewers","interviewersId","candidateId","result","updateInterviewers","handleUpdateMark","mark","interviewId","comment","Number","ApiError","BAD_REQUEST","length","updateMark","send","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\controller\\","sources":["report.controller.js"],"sourcesContent":["const httpStatus = require(\"http-status\");\r\nconst reportService = require(\"../service/report.service\");\r\nimport { ApiError } from \"../middleware/apiError\";\r\nconst handleGetAllReports = async (req, res, next) => {\r\n  try {\r\n    const reports = await reportService.getAllReports();\r\n    res.json(reports);\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\n\r\nconst handleGetAllReportsByInterviewer = async (req, res, next) => {\r\n  try {\r\n    const interviewerId = req.body.interviewerId;\r\n    // console.log(\"aaaa\");\r\n    const reports = await reportService.getAllReportsByInterviewer(\r\n      interviewerId\r\n    );\r\n    res.json({\r\n      report_pending: reports[0],\r\n      report_done: reports[1],\r\n    });\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\n\r\nconst handleUpdateInterviewers = async (req, res, next) => {\r\n  try {\r\n    const interviewers = req.body.interviewersId;\r\n    const candidateId = req.body.candidateId;\r\n    const result = await reportService.updateInterviewers(\r\n      candidateId,\r\n      interviewers\r\n    );\r\n    return res.json(result);\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\n\r\nconst handleUpdateMark = async (req, res, next) => {\r\n  try {\r\n    const interviewerId = req.body.interviewerId;\r\n    const mark = req.body.mark;\r\n    const interviewId = req.body.interviewId;\r\n    const comment = req.body.comment;\r\n    if (Number(mark) > 10 || Number(mark) < 0 || mark == null) {\r\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Mark can be from 0 to 10\");\r\n    }\r\n    if (comment.length === 0 || comment == null) {\r\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Comment must be provide\");\r\n    }\r\n    const result = await reportService.updateMark(\r\n      interviewId,\r\n      interviewerId,\r\n      mark,\r\n      comment\r\n    );\r\n    return res.send(result);\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\n\r\nmodule.exports = {\r\n  handleGetAllReports,\r\n  handleGetAllReportsByInterviewer,\r\n  handleUpdateInterviewers,\r\n  handleUpdateMark,\r\n};\r\n"],"mappings":";;AAEA;;AAFA,MAAMA,UAAU,GAAGC,OAAO,CAAC,aAAD,CAA1B;;AACA,MAAMC,aAAa,GAAGD,OAAO,CAAC,2BAAD,CAA7B;;AAEA,MAAME,mBAAmB,GAAG,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EACpD,IAAI;IACF,MAAMC,OAAO,GAAG,MAAML,aAAa,CAACM,aAAd,EAAtB;IACAH,GAAG,CAACI,IAAJ,CAASF,OAAT;EACD,CAHD,CAGE,OAAOG,KAAP,EAAc;IACdJ,IAAI,CAACI,KAAD,CAAJ;EACD;AACF,CAPD;;AASA,MAAMC,gCAAgC,GAAG,OAAOP,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EACjE,IAAI;IACF,MAAMM,aAAa,GAAGR,GAAG,CAACS,IAAJ,CAASD,aAA/B,CADE,CAEF;;IACA,MAAML,OAAO,GAAG,MAAML,aAAa,CAACY,0BAAd,CACpBF,aADoB,CAAtB;IAGAP,GAAG,CAACI,IAAJ,CAAS;MACPM,cAAc,EAAER,OAAO,CAAC,CAAD,CADhB;MAEPS,WAAW,EAAET,OAAO,CAAC,CAAD;IAFb,CAAT;EAID,CAVD,CAUE,OAAOG,KAAP,EAAc;IACdJ,IAAI,CAACI,KAAD,CAAJ;EACD;AACF,CAdD;;AAgBA,MAAMO,wBAAwB,GAAG,OAAOb,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EACzD,IAAI;IACF,MAAMY,YAAY,GAAGd,GAAG,CAACS,IAAJ,CAASM,cAA9B;IACA,MAAMC,WAAW,GAAGhB,GAAG,CAACS,IAAJ,CAASO,WAA7B;IACA,MAAMC,MAAM,GAAG,MAAMnB,aAAa,CAACoB,kBAAd,CACnBF,WADmB,EAEnBF,YAFmB,CAArB;IAIA,OAAOb,GAAG,CAACI,IAAJ,CAASY,MAAT,CAAP;EACD,CARD,CAQE,OAAOX,KAAP,EAAc;IACdJ,IAAI,CAACI,KAAD,CAAJ;EACD;AACF,CAZD;;AAcA,MAAMa,gBAAgB,GAAG,OAAOnB,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EACjD,IAAI;IACF,MAAMM,aAAa,GAAGR,GAAG,CAACS,IAAJ,CAASD,aAA/B;IACA,MAAMY,IAAI,GAAGpB,GAAG,CAACS,IAAJ,CAASW,IAAtB;IACA,MAAMC,WAAW,GAAGrB,GAAG,CAACS,IAAJ,CAASY,WAA7B;IACA,MAAMC,OAAO,GAAGtB,GAAG,CAACS,IAAJ,CAASa,OAAzB;;IACA,IAAIC,MAAM,CAACH,IAAD,CAAN,GAAe,EAAf,IAAqBG,MAAM,CAACH,IAAD,CAAN,GAAe,CAApC,IAAyCA,IAAI,IAAI,IAArD,EAA2D;MACzD,MAAM,IAAII,kBAAJ,CAAa5B,UAAU,CAAC6B,WAAxB,EAAqC,0BAArC,CAAN;IACD;;IACD,IAAIH,OAAO,CAACI,MAAR,KAAmB,CAAnB,IAAwBJ,OAAO,IAAI,IAAvC,EAA6C;MAC3C,MAAM,IAAIE,kBAAJ,CAAa5B,UAAU,CAAC6B,WAAxB,EAAqC,yBAArC,CAAN;IACD;;IACD,MAAMR,MAAM,GAAG,MAAMnB,aAAa,CAAC6B,UAAd,CACnBN,WADmB,EAEnBb,aAFmB,EAGnBY,IAHmB,EAInBE,OAJmB,CAArB;IAMA,OAAOrB,GAAG,CAAC2B,IAAJ,CAASX,MAAT,CAAP;EACD,CAlBD,CAkBE,OAAOX,KAAP,EAAc;IACdJ,IAAI,CAACI,KAAD,CAAJ;EACD;AACF,CAtBD;;AAwBAuB,MAAM,CAACC,OAAP,GAAiB;EACf/B,mBADe;EAEfQ,gCAFe;EAGfM,wBAHe;EAIfM;AAJe,CAAjB"}},"mtime":1667231784560},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\service\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\service\\\\report.service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _httpStatus = _interopRequireDefault(require(\"http-status\"));\n\nvar _apiError = require(\"../middleware/apiError\");\n\nvar _sequelize = require(\"sequelize\");\n\nvar _index = _interopRequireWildcard(require(\"../models/index.js\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Reports = _index.default.Reports;\n\nconst reportRepository = require(\"../repository/reports.repository\");\n\nconst getAllReports = async () => {\n  try {\n    const reports = await reportRepository.getAllReports();\n    console.log(reports);\n    return reports;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst getAllReportsByInterviewer = async interviewerId => {\n  try {\n    const reports = await reportRepository.getAllReportsByInterviewerByStatus(interviewerId);\n    console.log(reports);\n    return reports;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst updateInterviewers = async (interviewId, interviewers) => {\n  try {\n    const result = await reportRepository.updateInterviewers(interviewId, interviewers);\n    return result;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst updateMark = async (candidateId, interviewerId, mark, comment) => {\n  try {\n    const result = await reportRepository.updateMark(candidateId, interviewerId, mark, comment);\n\n    if (result[1] == 0) {\n      throw new _apiError.ApiError(_httpStatus.default.BAD_REQUEST, \"Error, Cant update\");\n    }\n\n    return result;\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  getAllReports,\n  getAllReportsByInterviewer,\n  updateInterviewers,\n  updateMark\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZXBvcnRzIiwiZGIiLCJyZXBvcnRSZXBvc2l0b3J5IiwicmVxdWlyZSIsImdldEFsbFJlcG9ydHMiLCJyZXBvcnRzIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiZ2V0QWxsUmVwb3J0c0J5SW50ZXJ2aWV3ZXIiLCJpbnRlcnZpZXdlcklkIiwiZ2V0QWxsUmVwb3J0c0J5SW50ZXJ2aWV3ZXJCeVN0YXR1cyIsInVwZGF0ZUludGVydmlld2VycyIsImludGVydmlld0lkIiwiaW50ZXJ2aWV3ZXJzIiwicmVzdWx0IiwidXBkYXRlTWFyayIsImNhbmRpZGF0ZUlkIiwibWFyayIsImNvbW1lbnQiLCJBcGlFcnJvciIsImh0dHBTdGF0dXMiLCJCQURfUkVRVUVTVCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxDb2RlXFxGUFRfU3ViamVjdFxcU1dQXFxIUk1TX0JFXFxzcmNcXHNlcnZpY2VcXCIsInNvdXJjZXMiOlsicmVwb3J0LnNlcnZpY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGh0dHBTdGF0dXMgZnJvbSBcImh0dHAtc3RhdHVzXCI7XHJcbmltcG9ydCB7IEFwaUVycm9yIH0gZnJvbSBcIi4uL21pZGRsZXdhcmUvYXBpRXJyb3JcIjtcclxuaW1wb3J0IHsgUXVlcnlUeXBlcyB9IGZyb20gXCJzZXF1ZWxpemVcIjtcclxuaW1wb3J0IGRiLCB7IHNlcXVlbGl6ZSB9IGZyb20gXCIuLi9tb2RlbHMvaW5kZXguanNcIjtcclxuY29uc3QgUmVwb3J0cyA9IGRiLlJlcG9ydHM7XHJcbmNvbnN0IHJlcG9ydFJlcG9zaXRvcnkgPSByZXF1aXJlKFwiLi4vcmVwb3NpdG9yeS9yZXBvcnRzLnJlcG9zaXRvcnlcIik7XHJcblxyXG5jb25zdCBnZXRBbGxSZXBvcnRzID0gYXN5bmMgKCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXBvcnRzID0gYXdhaXQgcmVwb3J0UmVwb3NpdG9yeS5nZXRBbGxSZXBvcnRzKCk7XHJcbiAgICBjb25zb2xlLmxvZyhyZXBvcnRzKTtcclxuICAgIHJldHVybiByZXBvcnRzO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBnZXRBbGxSZXBvcnRzQnlJbnRlcnZpZXdlciA9IGFzeW5jIChpbnRlcnZpZXdlcklkKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlcG9ydHMgPSBhd2FpdCByZXBvcnRSZXBvc2l0b3J5LmdldEFsbFJlcG9ydHNCeUludGVydmlld2VyQnlTdGF0dXMoXHJcbiAgICAgIGludGVydmlld2VySWRcclxuICAgICk7XHJcbiAgICBjb25zb2xlLmxvZyhyZXBvcnRzKTtcclxuICAgIHJldHVybiByZXBvcnRzO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCB1cGRhdGVJbnRlcnZpZXdlcnMgPSBhc3luYyAoaW50ZXJ2aWV3SWQsIGludGVydmlld2VycykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvcnRSZXBvc2l0b3J5LnVwZGF0ZUludGVydmlld2VycyhcclxuICAgICAgaW50ZXJ2aWV3SWQsXHJcbiAgICAgIGludGVydmlld2Vyc1xyXG4gICAgKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IHVwZGF0ZU1hcmsgPSBhc3luYyAoY2FuZGlkYXRlSWQsIGludGVydmlld2VySWQsIG1hcmssIGNvbW1lbnQpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVwb3J0UmVwb3NpdG9yeS51cGRhdGVNYXJrKFxyXG4gICAgICBjYW5kaWRhdGVJZCxcclxuICAgICAgaW50ZXJ2aWV3ZXJJZCxcclxuICAgICAgbWFyayxcclxuICAgICAgY29tbWVudFxyXG4gICAgKTtcclxuICAgIGlmIChyZXN1bHRbMV0gPT0gMCkge1xyXG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoaHR0cFN0YXR1cy5CQURfUkVRVUVTVCwgXCJFcnJvciwgQ2FudCB1cGRhdGVcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBnZXRBbGxSZXBvcnRzLFxyXG4gIGdldEFsbFJlcG9ydHNCeUludGVydmlld2VyLFxyXG4gIHVwZGF0ZUludGVydmlld2VycyxcclxuICB1cGRhdGVNYXJrLFxyXG59O1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7O0FBQ0EsTUFBTUEsT0FBTyxHQUFHQyxjQUFBLENBQUdELE9BQW5COztBQUNBLE1BQU1FLGdCQUFnQixHQUFHQyxPQUFPLENBQUMsa0NBQUQsQ0FBaEM7O0FBRUEsTUFBTUMsYUFBYSxHQUFHLFlBQVk7RUFDaEMsSUFBSTtJQUNGLE1BQU1DLE9BQU8sR0FBRyxNQUFNSCxnQkFBZ0IsQ0FBQ0UsYUFBakIsRUFBdEI7SUFDQUUsT0FBTyxDQUFDQyxHQUFSLENBQVlGLE9BQVo7SUFDQSxPQUFPQSxPQUFQO0VBQ0QsQ0FKRCxDQUlFLE9BQU9HLEtBQVAsRUFBYztJQUNkLE1BQU1BLEtBQU47RUFDRDtBQUNGLENBUkQ7O0FBVUEsTUFBTUMsMEJBQTBCLEdBQUcsTUFBT0MsYUFBUCxJQUF5QjtFQUMxRCxJQUFJO0lBQ0YsTUFBTUwsT0FBTyxHQUFHLE1BQU1ILGdCQUFnQixDQUFDUyxrQ0FBakIsQ0FDcEJELGFBRG9CLENBQXRCO0lBR0FKLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixPQUFaO0lBQ0EsT0FBT0EsT0FBUDtFQUNELENBTkQsQ0FNRSxPQUFPRyxLQUFQLEVBQWM7SUFDZCxNQUFNQSxLQUFOO0VBQ0Q7QUFDRixDQVZEOztBQVlBLE1BQU1JLGtCQUFrQixHQUFHLE9BQU9DLFdBQVAsRUFBb0JDLFlBQXBCLEtBQXFDO0VBQzlELElBQUk7SUFDRixNQUFNQyxNQUFNLEdBQUcsTUFBTWIsZ0JBQWdCLENBQUNVLGtCQUFqQixDQUNuQkMsV0FEbUIsRUFFbkJDLFlBRm1CLENBQXJCO0lBSUEsT0FBT0MsTUFBUDtFQUNELENBTkQsQ0FNRSxPQUFPUCxLQUFQLEVBQWM7SUFDZCxNQUFNQSxLQUFOO0VBQ0Q7QUFDRixDQVZEOztBQVlBLE1BQU1RLFVBQVUsR0FBRyxPQUFPQyxXQUFQLEVBQW9CUCxhQUFwQixFQUFtQ1EsSUFBbkMsRUFBeUNDLE9BQXpDLEtBQXFEO0VBQ3RFLElBQUk7SUFDRixNQUFNSixNQUFNLEdBQUcsTUFBTWIsZ0JBQWdCLENBQUNjLFVBQWpCLENBQ25CQyxXQURtQixFQUVuQlAsYUFGbUIsRUFHbkJRLElBSG1CLEVBSW5CQyxPQUptQixDQUFyQjs7SUFNQSxJQUFJSixNQUFNLENBQUMsQ0FBRCxDQUFOLElBQWEsQ0FBakIsRUFBb0I7TUFDbEIsTUFBTSxJQUFJSyxrQkFBSixDQUFhQyxtQkFBQSxDQUFXQyxXQUF4QixFQUFxQyxvQkFBckMsQ0FBTjtJQUNEOztJQUNELE9BQU9QLE1BQVA7RUFDRCxDQVhELENBV0UsT0FBT1AsS0FBUCxFQUFjO0lBQ2QsTUFBTUEsS0FBTjtFQUNEO0FBQ0YsQ0FmRDs7QUFpQkFlLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmcEIsYUFEZTtFQUVmSywwQkFGZTtFQUdmRyxrQkFIZTtFQUlmSTtBQUplLENBQWpCIn0=","map":{"version":3,"names":["Reports","db","reportRepository","require","getAllReports","reports","console","log","error","getAllReportsByInterviewer","interviewerId","getAllReportsByInterviewerByStatus","updateInterviewers","interviewId","interviewers","result","updateMark","candidateId","mark","comment","ApiError","httpStatus","BAD_REQUEST","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\service\\","sources":["report.service.js"],"sourcesContent":["import httpStatus from \"http-status\";\r\nimport { ApiError } from \"../middleware/apiError\";\r\nimport { QueryTypes } from \"sequelize\";\r\nimport db, { sequelize } from \"../models/index.js\";\r\nconst Reports = db.Reports;\r\nconst reportRepository = require(\"../repository/reports.repository\");\r\n\r\nconst getAllReports = async () => {\r\n  try {\r\n    const reports = await reportRepository.getAllReports();\r\n    console.log(reports);\r\n    return reports;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getAllReportsByInterviewer = async (interviewerId) => {\r\n  try {\r\n    const reports = await reportRepository.getAllReportsByInterviewerByStatus(\r\n      interviewerId\r\n    );\r\n    console.log(reports);\r\n    return reports;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst updateInterviewers = async (interviewId, interviewers) => {\r\n  try {\r\n    const result = await reportRepository.updateInterviewers(\r\n      interviewId,\r\n      interviewers\r\n    );\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst updateMark = async (candidateId, interviewerId, mark, comment) => {\r\n  try {\r\n    const result = await reportRepository.updateMark(\r\n      candidateId,\r\n      interviewerId,\r\n      mark,\r\n      comment\r\n    );\r\n    if (result[1] == 0) {\r\n      throw new ApiError(httpStatus.BAD_REQUEST, \"Error, Cant update\");\r\n    }\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nmodule.exports = {\r\n  getAllReports,\r\n  getAllReportsByInterviewer,\r\n  updateInterviewers,\r\n  updateMark,\r\n};\r\n"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;;;;;;;AACA,MAAMA,OAAO,GAAGC,cAAA,CAAGD,OAAnB;;AACA,MAAME,gBAAgB,GAAGC,OAAO,CAAC,kCAAD,CAAhC;;AAEA,MAAMC,aAAa,GAAG,YAAY;EAChC,IAAI;IACF,MAAMC,OAAO,GAAG,MAAMH,gBAAgB,CAACE,aAAjB,EAAtB;IACAE,OAAO,CAACC,GAAR,CAAYF,OAAZ;IACA,OAAOA,OAAP;EACD,CAJD,CAIE,OAAOG,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CARD;;AAUA,MAAMC,0BAA0B,GAAG,MAAOC,aAAP,IAAyB;EAC1D,IAAI;IACF,MAAML,OAAO,GAAG,MAAMH,gBAAgB,CAACS,kCAAjB,CACpBD,aADoB,CAAtB;IAGAJ,OAAO,CAACC,GAAR,CAAYF,OAAZ;IACA,OAAOA,OAAP;EACD,CAND,CAME,OAAOG,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CAVD;;AAYA,MAAMI,kBAAkB,GAAG,OAAOC,WAAP,EAAoBC,YAApB,KAAqC;EAC9D,IAAI;IACF,MAAMC,MAAM,GAAG,MAAMb,gBAAgB,CAACU,kBAAjB,CACnBC,WADmB,EAEnBC,YAFmB,CAArB;IAIA,OAAOC,MAAP;EACD,CAND,CAME,OAAOP,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CAVD;;AAYA,MAAMQ,UAAU,GAAG,OAAOC,WAAP,EAAoBP,aAApB,EAAmCQ,IAAnC,EAAyCC,OAAzC,KAAqD;EACtE,IAAI;IACF,MAAMJ,MAAM,GAAG,MAAMb,gBAAgB,CAACc,UAAjB,CACnBC,WADmB,EAEnBP,aAFmB,EAGnBQ,IAHmB,EAInBC,OAJmB,CAArB;;IAMA,IAAIJ,MAAM,CAAC,CAAD,CAAN,IAAa,CAAjB,EAAoB;MAClB,MAAM,IAAIK,kBAAJ,CAAaC,mBAAA,CAAWC,WAAxB,EAAqC,oBAArC,CAAN;IACD;;IACD,OAAOP,MAAP;EACD,CAXD,CAWE,OAAOP,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CAfD;;AAiBAe,MAAM,CAACC,OAAP,GAAiB;EACfpB,aADe;EAEfK,0BAFe;EAGfG,kBAHe;EAIfI;AAJe,CAAjB"}},"mtime":1667231784594},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\repository\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\repository\\\\reports.repository.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _sequelize = require(\"sequelize\");\n\nvar _index = _interopRequireWildcard(require(\"../models/index\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst Reports = _index.default.Reports;\n\nconst {\n  v4: uuidv4\n} = require(\"uuid\");\n\nconst getAllReports = async () => {\n  // const query = \"SELECT * FROM hrms.reports\";\n  const query = `SELECT R.id, AVG(R.mark) as avg_mark, R.comment, J.name as job_name, C.identity_number, C.resume_url, M.fullname, M.is_employee\nFROM hrms.reports as R\nINNER JOIN hrms.interviews as I\nON I.id = R.Interview_id\nINNER JOIN hrms.candidatedetails as C\nON I.CandidateDetail_id = C.id\nINNER JOIN hrms.members as M\nON C.Member_id = M.id\nINNER JOIN hrms.jobs as J\nON J.id = C.Job_id\nGROUP BY R.Interview_id`;\n  const result = await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.SELECT\n  });\n  return result;\n};\n\nconst getAllReportsByInterviewer = async interviewerId => {\n  const query = `SELECT R.id, R.mark, R.comment, R.status, I.room, I.slot, I.week, J.name as job_name, C.phone, C.resume_url, M.fullname, M.is_employee\nFROM hrms.reports as R\nINNER JOIN hrms.interviews as I\nON I.id = R.Interview_id\nINNER JOIN hrms.candidatedetails as C\nON I.CandidateDetail_id = C.id\nINNER JOIN hrms.members as M\nON C.Member_id = M.id\nINNER JOIN hrms.jobs as J\nON J.id = C.Job_id\nWHERE R.interviewer_id = ?`;\n  return await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.SELECT,\n    replacements: [interviewerId]\n  });\n};\n\nconst getAllReportsByInterviewerByStatus = async interviewerId => {\n  const queryPending = `SELECT R.id, R.interview_id, R.mark, R.comment, R.status, I.room, I.slot, I.week, J.name as job_name, C.phone, C.resume_url, M.fullname\nFROM hrms.reports as R\nINNER JOIN hrms.interviews as I\nON I.id = R.Interview_id\nINNER JOIN hrms.candidatedetails as C\nON I.CandidateDetail_id = C.id\nINNER JOIN hrms.members as M\nON C.Member_id = M.id\nINNER JOIN hrms.jobs as J\non J.id = C.Job_id\nWHERE R.interviewer_id = ? AND R.status = 'Pending'`;\n  const queryDone = `SELECT R.id, R.mark, R.comment, R.status, I.room, I.slot, I.week, J.name as job_name, C.phone, C.resume_url, M.fullname\nFROM hrms.reports as R\nINNER JOIN hrms.interviews as I\nON I.id = R.Interview_id\nINNER JOIN hrms.candidatedetails as C\nON I.CandidateDetail_id = C.id\nINNER JOIN hrms.members as M\nON C.Member_id = M.id\nINNER JOIN hrms.jobs as J\non J.id = C.Job_id\nWHERE R.interviewer_id = ? AND R.status = 'Done'`;\n\n  const resPending = _index.sequelize.query(queryPending, {\n    type: _sequelize.QueryTypes.SELECT,\n    replacements: [interviewerId]\n  });\n\n  const resDone = _index.sequelize.query(queryDone, {\n    type: _sequelize.QueryTypes.SELECT,\n    replacements: [interviewerId]\n  });\n\n  return Promise.all([resPending, resDone]);\n};\n\nconst updateInterviewers = async (candidateId, interviewers) => {\n  // get interviewId from candidateId\n  const interviewResult = await _index.sequelize.query(\"SELECT id FROM hrms.interviews WHERE CandidateDetail_id = ?\", {\n    type: _sequelize.QueryTypes.SELECT,\n    replacements: [candidateId]\n  });\n  const interviewId = interviewResult[0].id;\n  const query = `INSERT INTO hrms.reports (id, interview_id, interviewer_id, status)\n  VALUES (?, ?, ?, default)`;\n  const data = interviewers.map(value => ({\n    id: uuidv4(),\n    interview_id: interviewId,\n    interviewer_id: value\n  }));\n\n  for (let i = 0; i < data.length; i++) {\n    await _index.sequelize.query(query, {\n      type: _sequelize.QueryTypes.INSERT,\n      replacements: [data[i].id, data[i].interview_id, data[i].interviewer_id]\n    });\n  }\n\n  return data; // return await Reports.bulkCreate(data);\n};\n\nconst updateMark = async (interviewId, interviewerId, mark, comment) => {\n  const query = `UPDATE hrms.reports\n  SET mark = ?, comment = ?, status ='Done'\n  WHERE interview_id = ? AND interviewer_id = ? `;\n  const result = await _index.sequelize.query(query, {\n    type: _sequelize.QueryTypes.UPDATE,\n    replacements: [mark, comment, interviewId, interviewerId]\n  });\n  console.log(result);\n  return result;\n};\n\nmodule.exports = {\n  getAllReports,\n  getAllReportsByInterviewer,\n  getAllReportsByInterviewerByStatus,\n  updateInterviewers,\n  updateMark\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZXBvcnRzIiwiZGIiLCJ2NCIsInV1aWR2NCIsInJlcXVpcmUiLCJnZXRBbGxSZXBvcnRzIiwicXVlcnkiLCJyZXN1bHQiLCJzZXF1ZWxpemUiLCJ0eXBlIiwiUXVlcnlUeXBlcyIsIlNFTEVDVCIsImdldEFsbFJlcG9ydHNCeUludGVydmlld2VyIiwiaW50ZXJ2aWV3ZXJJZCIsInJlcGxhY2VtZW50cyIsImdldEFsbFJlcG9ydHNCeUludGVydmlld2VyQnlTdGF0dXMiLCJxdWVyeVBlbmRpbmciLCJxdWVyeURvbmUiLCJyZXNQZW5kaW5nIiwicmVzRG9uZSIsIlByb21pc2UiLCJhbGwiLCJ1cGRhdGVJbnRlcnZpZXdlcnMiLCJjYW5kaWRhdGVJZCIsImludGVydmlld2VycyIsImludGVydmlld1Jlc3VsdCIsImludGVydmlld0lkIiwiaWQiLCJkYXRhIiwibWFwIiwidmFsdWUiLCJpbnRlcnZpZXdfaWQiLCJpbnRlcnZpZXdlcl9pZCIsImkiLCJsZW5ndGgiLCJJTlNFUlQiLCJ1cGRhdGVNYXJrIiwibWFyayIsImNvbW1lbnQiLCJVUERBVEUiLCJjb25zb2xlIiwibG9nIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXENvZGVcXEZQVF9TdWJqZWN0XFxTV1BcXEhSTVNfQkVcXHNyY1xccmVwb3NpdG9yeVxcIiwic291cmNlcyI6WyJyZXBvcnRzLnJlcG9zaXRvcnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUXVlcnlUeXBlcyB9IGZyb20gXCJzZXF1ZWxpemVcIjtcclxuaW1wb3J0IGRiLCB7IHNlcXVlbGl6ZSB9IGZyb20gXCIuLi9tb2RlbHMvaW5kZXhcIjtcclxuY29uc3QgUmVwb3J0cyA9IGRiLlJlcG9ydHM7XHJcbmNvbnN0IHsgdjQ6IHV1aWR2NCB9ID0gcmVxdWlyZShcInV1aWRcIik7XHJcblxyXG5jb25zdCBnZXRBbGxSZXBvcnRzID0gYXN5bmMgKCkgPT4ge1xyXG4gIC8vIGNvbnN0IHF1ZXJ5ID0gXCJTRUxFQ1QgKiBGUk9NIGhybXMucmVwb3J0c1wiO1xyXG4gIGNvbnN0IHF1ZXJ5ID0gYFNFTEVDVCBSLmlkLCBBVkcoUi5tYXJrKSBhcyBhdmdfbWFyaywgUi5jb21tZW50LCBKLm5hbWUgYXMgam9iX25hbWUsIEMuaWRlbnRpdHlfbnVtYmVyLCBDLnJlc3VtZV91cmwsIE0uZnVsbG5hbWUsIE0uaXNfZW1wbG95ZWVcclxuRlJPTSBocm1zLnJlcG9ydHMgYXMgUlxyXG5JTk5FUiBKT0lOIGhybXMuaW50ZXJ2aWV3cyBhcyBJXHJcbk9OIEkuaWQgPSBSLkludGVydmlld19pZFxyXG5JTk5FUiBKT0lOIGhybXMuY2FuZGlkYXRlZGV0YWlscyBhcyBDXHJcbk9OIEkuQ2FuZGlkYXRlRGV0YWlsX2lkID0gQy5pZFxyXG5JTk5FUiBKT0lOIGhybXMubWVtYmVycyBhcyBNXHJcbk9OIEMuTWVtYmVyX2lkID0gTS5pZFxyXG5JTk5FUiBKT0lOIGhybXMuam9icyBhcyBKXHJcbk9OIEouaWQgPSBDLkpvYl9pZFxyXG5HUk9VUCBCWSBSLkludGVydmlld19pZGA7XHJcblxyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcXVlbGl6ZS5xdWVyeShxdWVyeSwge1xyXG4gICAgdHlwZTogUXVlcnlUeXBlcy5TRUxFQ1QsXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn07XHJcblxyXG5jb25zdCBnZXRBbGxSZXBvcnRzQnlJbnRlcnZpZXdlciA9IGFzeW5jIChpbnRlcnZpZXdlcklkKSA9PiB7XHJcbiAgY29uc3QgcXVlcnkgPSBgU0VMRUNUIFIuaWQsIFIubWFyaywgUi5jb21tZW50LCBSLnN0YXR1cywgSS5yb29tLCBJLnNsb3QsIEkud2VlaywgSi5uYW1lIGFzIGpvYl9uYW1lLCBDLnBob25lLCBDLnJlc3VtZV91cmwsIE0uZnVsbG5hbWUsIE0uaXNfZW1wbG95ZWVcclxuRlJPTSBocm1zLnJlcG9ydHMgYXMgUlxyXG5JTk5FUiBKT0lOIGhybXMuaW50ZXJ2aWV3cyBhcyBJXHJcbk9OIEkuaWQgPSBSLkludGVydmlld19pZFxyXG5JTk5FUiBKT0lOIGhybXMuY2FuZGlkYXRlZGV0YWlscyBhcyBDXHJcbk9OIEkuQ2FuZGlkYXRlRGV0YWlsX2lkID0gQy5pZFxyXG5JTk5FUiBKT0lOIGhybXMubWVtYmVycyBhcyBNXHJcbk9OIEMuTWVtYmVyX2lkID0gTS5pZFxyXG5JTk5FUiBKT0lOIGhybXMuam9icyBhcyBKXHJcbk9OIEouaWQgPSBDLkpvYl9pZFxyXG5XSEVSRSBSLmludGVydmlld2VyX2lkID0gP2A7XHJcbiAgcmV0dXJuIGF3YWl0IHNlcXVlbGl6ZS5xdWVyeShxdWVyeSwge1xyXG4gICAgdHlwZTogUXVlcnlUeXBlcy5TRUxFQ1QsXHJcbiAgICByZXBsYWNlbWVudHM6IFtpbnRlcnZpZXdlcklkXSxcclxuICB9KTtcclxufTtcclxuY29uc3QgZ2V0QWxsUmVwb3J0c0J5SW50ZXJ2aWV3ZXJCeVN0YXR1cyA9IGFzeW5jIChpbnRlcnZpZXdlcklkKSA9PiB7XHJcbiAgY29uc3QgcXVlcnlQZW5kaW5nID0gYFNFTEVDVCBSLmlkLCBSLmludGVydmlld19pZCwgUi5tYXJrLCBSLmNvbW1lbnQsIFIuc3RhdHVzLCBJLnJvb20sIEkuc2xvdCwgSS53ZWVrLCBKLm5hbWUgYXMgam9iX25hbWUsIEMucGhvbmUsIEMucmVzdW1lX3VybCwgTS5mdWxsbmFtZVxyXG5GUk9NIGhybXMucmVwb3J0cyBhcyBSXHJcbklOTkVSIEpPSU4gaHJtcy5pbnRlcnZpZXdzIGFzIElcclxuT04gSS5pZCA9IFIuSW50ZXJ2aWV3X2lkXHJcbklOTkVSIEpPSU4gaHJtcy5jYW5kaWRhdGVkZXRhaWxzIGFzIENcclxuT04gSS5DYW5kaWRhdGVEZXRhaWxfaWQgPSBDLmlkXHJcbklOTkVSIEpPSU4gaHJtcy5tZW1iZXJzIGFzIE1cclxuT04gQy5NZW1iZXJfaWQgPSBNLmlkXHJcbklOTkVSIEpPSU4gaHJtcy5qb2JzIGFzIEpcclxub24gSi5pZCA9IEMuSm9iX2lkXHJcbldIRVJFIFIuaW50ZXJ2aWV3ZXJfaWQgPSA/IEFORCBSLnN0YXR1cyA9ICdQZW5kaW5nJ2A7XHJcbiAgY29uc3QgcXVlcnlEb25lID0gYFNFTEVDVCBSLmlkLCBSLm1hcmssIFIuY29tbWVudCwgUi5zdGF0dXMsIEkucm9vbSwgSS5zbG90LCBJLndlZWssIEoubmFtZSBhcyBqb2JfbmFtZSwgQy5waG9uZSwgQy5yZXN1bWVfdXJsLCBNLmZ1bGxuYW1lXHJcbkZST00gaHJtcy5yZXBvcnRzIGFzIFJcclxuSU5ORVIgSk9JTiBocm1zLmludGVydmlld3MgYXMgSVxyXG5PTiBJLmlkID0gUi5JbnRlcnZpZXdfaWRcclxuSU5ORVIgSk9JTiBocm1zLmNhbmRpZGF0ZWRldGFpbHMgYXMgQ1xyXG5PTiBJLkNhbmRpZGF0ZURldGFpbF9pZCA9IEMuaWRcclxuSU5ORVIgSk9JTiBocm1zLm1lbWJlcnMgYXMgTVxyXG5PTiBDLk1lbWJlcl9pZCA9IE0uaWRcclxuSU5ORVIgSk9JTiBocm1zLmpvYnMgYXMgSlxyXG5vbiBKLmlkID0gQy5Kb2JfaWRcclxuV0hFUkUgUi5pbnRlcnZpZXdlcl9pZCA9ID8gQU5EIFIuc3RhdHVzID0gJ0RvbmUnYDtcclxuICBjb25zdCByZXNQZW5kaW5nID0gc2VxdWVsaXplLnF1ZXJ5KHF1ZXJ5UGVuZGluZywge1xyXG4gICAgdHlwZTogUXVlcnlUeXBlcy5TRUxFQ1QsXHJcbiAgICByZXBsYWNlbWVudHM6IFtpbnRlcnZpZXdlcklkXSxcclxuICB9KTtcclxuICBjb25zdCByZXNEb25lID0gc2VxdWVsaXplLnF1ZXJ5KHF1ZXJ5RG9uZSwge1xyXG4gICAgdHlwZTogUXVlcnlUeXBlcy5TRUxFQ1QsXHJcbiAgICByZXBsYWNlbWVudHM6IFtpbnRlcnZpZXdlcklkXSxcclxuICB9KTtcclxuICByZXR1cm4gUHJvbWlzZS5hbGwoW3Jlc1BlbmRpbmcsIHJlc0RvbmVdKTtcclxufTtcclxuXHJcbmNvbnN0IHVwZGF0ZUludGVydmlld2VycyA9IGFzeW5jIChjYW5kaWRhdGVJZCwgaW50ZXJ2aWV3ZXJzKSA9PiB7XHJcbiAgLy8gZ2V0IGludGVydmlld0lkIGZyb20gY2FuZGlkYXRlSWRcclxuICBjb25zdCBpbnRlcnZpZXdSZXN1bHQgPSBhd2FpdCBzZXF1ZWxpemUucXVlcnkoXHJcbiAgICBcIlNFTEVDVCBpZCBGUk9NIGhybXMuaW50ZXJ2aWV3cyBXSEVSRSBDYW5kaWRhdGVEZXRhaWxfaWQgPSA/XCIsXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6IFF1ZXJ5VHlwZXMuU0VMRUNULFxyXG4gICAgICByZXBsYWNlbWVudHM6IFtjYW5kaWRhdGVJZF0sXHJcbiAgICB9XHJcbiAgKTtcclxuICBjb25zdCBpbnRlcnZpZXdJZCA9IGludGVydmlld1Jlc3VsdFswXS5pZDtcclxuXHJcbiAgY29uc3QgcXVlcnkgPSBgSU5TRVJUIElOVE8gaHJtcy5yZXBvcnRzIChpZCwgaW50ZXJ2aWV3X2lkLCBpbnRlcnZpZXdlcl9pZCwgc3RhdHVzKVxyXG4gIFZBTFVFUyAoPywgPywgPywgZGVmYXVsdClgO1xyXG4gIGNvbnN0IGRhdGEgPSBpbnRlcnZpZXdlcnMubWFwKCh2YWx1ZSkgPT4gKHtcclxuICAgIGlkOiB1dWlkdjQoKSxcclxuICAgIGludGVydmlld19pZDogaW50ZXJ2aWV3SWQsXHJcbiAgICBpbnRlcnZpZXdlcl9pZDogdmFsdWUsXHJcbiAgfSkpO1xyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgIGF3YWl0IHNlcXVlbGl6ZS5xdWVyeShxdWVyeSwge1xyXG4gICAgICB0eXBlOiBRdWVyeVR5cGVzLklOU0VSVCxcclxuICAgICAgcmVwbGFjZW1lbnRzOiBbZGF0YVtpXS5pZCwgZGF0YVtpXS5pbnRlcnZpZXdfaWQsIGRhdGFbaV0uaW50ZXJ2aWV3ZXJfaWRdLFxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHJldHVybiBkYXRhO1xyXG4gIC8vIHJldHVybiBhd2FpdCBSZXBvcnRzLmJ1bGtDcmVhdGUoZGF0YSk7XHJcbn07XHJcblxyXG5jb25zdCB1cGRhdGVNYXJrID0gYXN5bmMgKGludGVydmlld0lkLCBpbnRlcnZpZXdlcklkLCBtYXJrLCBjb21tZW50KSA9PiB7XHJcbiAgY29uc3QgcXVlcnkgPSBgVVBEQVRFIGhybXMucmVwb3J0c1xyXG4gIFNFVCBtYXJrID0gPywgY29tbWVudCA9ID8sIHN0YXR1cyA9J0RvbmUnXHJcbiAgV0hFUkUgaW50ZXJ2aWV3X2lkID0gPyBBTkQgaW50ZXJ2aWV3ZXJfaWQgPSA/IGA7XHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VxdWVsaXplLnF1ZXJ5KHF1ZXJ5LCB7XHJcbiAgICB0eXBlOiBRdWVyeVR5cGVzLlVQREFURSxcclxuICAgIHJlcGxhY2VtZW50czogW21hcmssIGNvbW1lbnQsIGludGVydmlld0lkLCBpbnRlcnZpZXdlcklkXSxcclxuICB9KTtcclxuICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gIHJldHVybiByZXN1bHQ7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBnZXRBbGxSZXBvcnRzLFxyXG4gIGdldEFsbFJlcG9ydHNCeUludGVydmlld2VyLFxyXG4gIGdldEFsbFJlcG9ydHNCeUludGVydmlld2VyQnlTdGF0dXMsXHJcbiAgdXBkYXRlSW50ZXJ2aWV3ZXJzLFxyXG4gIHVwZGF0ZU1hcmssXHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7Ozs7O0FBQ0EsTUFBTUEsT0FBTyxHQUFHQyxjQUFBLENBQUdELE9BQW5COztBQUNBLE1BQU07RUFBRUUsRUFBRSxFQUFFQztBQUFOLElBQWlCQyxPQUFPLENBQUMsTUFBRCxDQUE5Qjs7QUFFQSxNQUFNQyxhQUFhLEdBQUcsWUFBWTtFQUNoQztFQUNBLE1BQU1DLEtBQUssR0FBSTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFWRTtFQVlBLE1BQU1DLE1BQU0sR0FBRyxNQUFNQyxnQkFBQSxDQUFVRixLQUFWLENBQWdCQSxLQUFoQixFQUF1QjtJQUMxQ0csSUFBSSxFQUFFQyxxQkFBQSxDQUFXQztF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","map":{"version":3,"names":["Reports","db","v4","uuidv4","require","getAllReports","query","result","sequelize","type","QueryTypes","SELECT","getAllReportsByInterviewer","interviewerId","replacements","getAllReportsByInterviewerByStatus","queryPending","queryDone","resPending","resDone","Promise","all","updateInterviewers","candidateId","interviewers","interviewResult","interviewId","id","data","map","value","interview_id","interviewer_id","i","length","INSERT","updateMark","mark","comment","UPDATE","console","log","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\repository\\","sources":["reports.repository.js"],"sourcesContent":["import { QueryTypes } from \"sequelize\";\r\nimport db, { sequelize } from \"../models/index\";\r\nconst Reports = db.Reports;\r\nconst { v4: uuidv4 } = require(\"uuid\");\r\n\r\nconst getAllReports = async () => {\r\n  // const query = \"SELECT * FROM hrms.reports\";\r\n  const query = `SELECT R.id, AVG(R.mark) as avg_mark, R.comment, J.name as job_name, C.identity_number, C.resume_url, M.fullname, M.is_employee\r\nFROM hrms.reports as R\r\nINNER JOIN hrms.interviews as I\r\nON I.id = R.Interview_id\r\nINNER JOIN hrms.candidatedetails as C\r\nON I.CandidateDetail_id = C.id\r\nINNER JOIN hrms.members as M\r\nON C.Member_id = M.id\r\nINNER JOIN hrms.jobs as J\r\nON J.id = C.Job_id\r\nGROUP BY R.Interview_id`;\r\n\r\n  const result = await sequelize.query(query, {\r\n    type: QueryTypes.SELECT,\r\n  });\r\n\r\n  return result;\r\n};\r\n\r\nconst getAllReportsByInterviewer = async (interviewerId) => {\r\n  const query = `SELECT R.id, R.mark, R.comment, R.status, I.room, I.slot, I.week, J.name as job_name, C.phone, C.resume_url, M.fullname, M.is_employee\r\nFROM hrms.reports as R\r\nINNER JOIN hrms.interviews as I\r\nON I.id = R.Interview_id\r\nINNER JOIN hrms.candidatedetails as C\r\nON I.CandidateDetail_id = C.id\r\nINNER JOIN hrms.members as M\r\nON C.Member_id = M.id\r\nINNER JOIN hrms.jobs as J\r\nON J.id = C.Job_id\r\nWHERE R.interviewer_id = ?`;\r\n  return await sequelize.query(query, {\r\n    type: QueryTypes.SELECT,\r\n    replacements: [interviewerId],\r\n  });\r\n};\r\nconst getAllReportsByInterviewerByStatus = async (interviewerId) => {\r\n  const queryPending = `SELECT R.id, R.interview_id, R.mark, R.comment, R.status, I.room, I.slot, I.week, J.name as job_name, C.phone, C.resume_url, M.fullname\r\nFROM hrms.reports as R\r\nINNER JOIN hrms.interviews as I\r\nON I.id = R.Interview_id\r\nINNER JOIN hrms.candidatedetails as C\r\nON I.CandidateDetail_id = C.id\r\nINNER JOIN hrms.members as M\r\nON C.Member_id = M.id\r\nINNER JOIN hrms.jobs as J\r\non J.id = C.Job_id\r\nWHERE R.interviewer_id = ? AND R.status = 'Pending'`;\r\n  const queryDone = `SELECT R.id, R.mark, R.comment, R.status, I.room, I.slot, I.week, J.name as job_name, C.phone, C.resume_url, M.fullname\r\nFROM hrms.reports as R\r\nINNER JOIN hrms.interviews as I\r\nON I.id = R.Interview_id\r\nINNER JOIN hrms.candidatedetails as C\r\nON I.CandidateDetail_id = C.id\r\nINNER JOIN hrms.members as M\r\nON C.Member_id = M.id\r\nINNER JOIN hrms.jobs as J\r\non J.id = C.Job_id\r\nWHERE R.interviewer_id = ? AND R.status = 'Done'`;\r\n  const resPending = sequelize.query(queryPending, {\r\n    type: QueryTypes.SELECT,\r\n    replacements: [interviewerId],\r\n  });\r\n  const resDone = sequelize.query(queryDone, {\r\n    type: QueryTypes.SELECT,\r\n    replacements: [interviewerId],\r\n  });\r\n  return Promise.all([resPending, resDone]);\r\n};\r\n\r\nconst updateInterviewers = async (candidateId, interviewers) => {\r\n  // get interviewId from candidateId\r\n  const interviewResult = await sequelize.query(\r\n    \"SELECT id FROM hrms.interviews WHERE CandidateDetail_id = ?\",\r\n    {\r\n      type: QueryTypes.SELECT,\r\n      replacements: [candidateId],\r\n    }\r\n  );\r\n  const interviewId = interviewResult[0].id;\r\n\r\n  const query = `INSERT INTO hrms.reports (id, interview_id, interviewer_id, status)\r\n  VALUES (?, ?, ?, default)`;\r\n  const data = interviewers.map((value) => ({\r\n    id: uuidv4(),\r\n    interview_id: interviewId,\r\n    interviewer_id: value,\r\n  }));\r\n\r\n  for (let i = 0; i < data.length; i++) {\r\n    await sequelize.query(query, {\r\n      type: QueryTypes.INSERT,\r\n      replacements: [data[i].id, data[i].interview_id, data[i].interviewer_id],\r\n    });\r\n  }\r\n  return data;\r\n  // return await Reports.bulkCreate(data);\r\n};\r\n\r\nconst updateMark = async (interviewId, interviewerId, mark, comment) => {\r\n  const query = `UPDATE hrms.reports\r\n  SET mark = ?, comment = ?, status ='Done'\r\n  WHERE interview_id = ? AND interviewer_id = ? `;\r\n  const result = await sequelize.query(query, {\r\n    type: QueryTypes.UPDATE,\r\n    replacements: [mark, comment, interviewId, interviewerId],\r\n  });\r\n  console.log(result);\r\n  return result;\r\n};\r\n\r\nmodule.exports = {\r\n  getAllReports,\r\n  getAllReportsByInterviewer,\r\n  getAllReportsByInterviewerByStatus,\r\n  updateInterviewers,\r\n  updateMark,\r\n};\r\n"],"mappings":"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"}},"mtime":1667231784585},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\routes\\\\room.route.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\n\nconst router = express.Router();\n\nconst {\n  handleGetAllRooms\n} = require(\"../controller/room.controller\");\n\nrouter.get(\"/\", handleGetAllRooms);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImhhbmRsZUdldEFsbFJvb21zIiwiZ2V0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXENvZGVcXEZQVF9TdWJqZWN0XFxTV1BcXEhSTVNfQkVcXHNyY1xccm91dGVzXFwiLCJzb3VyY2VzIjpbInJvb20ucm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuY29uc3QgeyBoYW5kbGVHZXRBbGxSb29tcyB9ID0gcmVxdWlyZShcIi4uL2NvbnRyb2xsZXIvcm9vbS5jb250cm9sbGVyXCIpO1xyXG5cclxucm91dGVyLmdldChcIi9cIiwgaGFuZGxlR2V0QWxsUm9vbXMpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUVBLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQWY7O0FBQ0EsTUFBTTtFQUFFQztBQUFGLElBQXdCSCxPQUFPLENBQUMsK0JBQUQsQ0FBckM7O0FBRUFDLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLEdBQVgsRUFBZ0JELGlCQUFoQjtBQUVBRSxNQUFNLENBQUNDLE9BQVAsR0FBaUJMLE1BQWpCIn0=","map":{"version":3,"names":["express","require","router","Router","handleGetAllRooms","get","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\routes\\","sources":["room.route.js"],"sourcesContent":["const express = require(\"express\");\r\n\r\nconst router = express.Router();\r\nconst { handleGetAllRooms } = require(\"../controller/room.controller\");\r\n\r\nrouter.get(\"/\", handleGetAllRooms);\r\n\r\nmodule.exports = router;\r\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AAEA,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;AACA,MAAM;EAAEC;AAAF,IAAwBH,OAAO,CAAC,+BAAD,CAArC;;AAEAC,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgBD,iBAAhB;AAEAE,MAAM,CAACC,OAAP,GAAiBL,MAAjB"}},"mtime":1667392019285},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\controller\\\\room.controller.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst roomService = require(\"../service/room.service\");\n\nconst handleGetAllRooms = async (req, res, next) => {\n  try {\n    const rooms = await roomService.getAllRooms();\n    res.json(rooms);\n  } catch (error) {\n    next(error);\n  }\n};\n\nmodule.exports = {\n  handleGetAllRooms\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb29tU2VydmljZSIsInJlcXVpcmUiLCJoYW5kbGVHZXRBbGxSb29tcyIsInJlcSIsInJlcyIsIm5leHQiLCJyb29tcyIsImdldEFsbFJvb21zIiwianNvbiIsImVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXENvZGVcXEZQVF9TdWJqZWN0XFxTV1BcXEhSTVNfQkVcXHNyY1xcY29udHJvbGxlclxcIiwic291cmNlcyI6WyJyb29tLmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgcm9vbVNlcnZpY2UgPSByZXF1aXJlKFwiLi4vc2VydmljZS9yb29tLnNlcnZpY2VcIik7XHJcblxyXG5jb25zdCBoYW5kbGVHZXRBbGxSb29tcyA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByb29tcyA9IGF3YWl0IHJvb21TZXJ2aWNlLmdldEFsbFJvb21zKCk7XHJcbiAgICByZXMuanNvbihyb29tcyk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIG5leHQoZXJyb3IpO1xyXG4gIH1cclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0geyBoYW5kbGVHZXRBbGxSb29tcyB9O1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsV0FBVyxHQUFHQyxPQUFPLENBQUMseUJBQUQsQ0FBM0I7O0FBRUEsTUFBTUMsaUJBQWlCLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEVBQWlCQyxJQUFqQixLQUEwQjtFQUNsRCxJQUFJO0lBQ0YsTUFBTUMsS0FBSyxHQUFHLE1BQU1OLFdBQVcsQ0FBQ08sV0FBWixFQUFwQjtJQUNBSCxHQUFHLENBQUNJLElBQUosQ0FBU0YsS0FBVDtFQUNELENBSEQsQ0FHRSxPQUFPRyxLQUFQLEVBQWM7SUFDZEosSUFBSSxDQUFDSSxLQUFELENBQUo7RUFDRDtBQUNGLENBUEQ7O0FBU0FDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUFFVDtBQUFGLENBQWpCIn0=","map":{"version":3,"names":["roomService","require","handleGetAllRooms","req","res","next","rooms","getAllRooms","json","error","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\controller\\","sources":["room.controller.js"],"sourcesContent":["const roomService = require(\"../service/room.service\");\r\n\r\nconst handleGetAllRooms = async (req, res, next) => {\r\n  try {\r\n    const rooms = await roomService.getAllRooms();\r\n    res.json(rooms);\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\n\r\nmodule.exports = { handleGetAllRooms };\r\n"],"mappings":";;AAAA,MAAMA,WAAW,GAAGC,OAAO,CAAC,yBAAD,CAA3B;;AAEA,MAAMC,iBAAiB,GAAG,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EAClD,IAAI;IACF,MAAMC,KAAK,GAAG,MAAMN,WAAW,CAACO,WAAZ,EAApB;IACAH,GAAG,CAACI,IAAJ,CAASF,KAAT;EACD,CAHD,CAGE,OAAOG,KAAP,EAAc;IACdJ,IAAI,CAACI,KAAD,CAAJ;EACD;AACF,CAPD;;AASAC,MAAM,CAACC,OAAP,GAAiB;EAAET;AAAF,CAAjB"}},"mtime":1667392338067},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\service\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\service\\\\room.service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nconst roomRepository = require(\"../repository/room.repository\");\n\nconst getAllRooms = async () => {\n  try {\n    const rooms = await roomRepository.getAllRooms();\n    return rooms;\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = {\n  getAllRooms\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb29tUmVwb3NpdG9yeSIsInJlcXVpcmUiLCJnZXRBbGxSb29tcyIsInJvb21zIiwiZXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcQ29kZVxcRlBUX1N1YmplY3RcXFNXUFxcSFJNU19CRVxcc3JjXFxzZXJ2aWNlXFwiLCJzb3VyY2VzIjpbInJvb20uc2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByb29tUmVwb3NpdG9yeSA9IHJlcXVpcmUoXCIuLi9yZXBvc2l0b3J5L3Jvb20ucmVwb3NpdG9yeVwiKTtcclxuXHJcbmNvbnN0IGdldEFsbFJvb21zID0gYXN5bmMgKCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByb29tcyA9IGF3YWl0IHJvb21SZXBvc2l0b3J5LmdldEFsbFJvb21zKCk7XHJcbiAgICByZXR1cm4gcm9vbXM7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIGdldEFsbFJvb21zLFxyXG59O1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsY0FBYyxHQUFHQyxPQUFPLENBQUMsK0JBQUQsQ0FBOUI7O0FBRUEsTUFBTUMsV0FBVyxHQUFHLFlBQVk7RUFDOUIsSUFBSTtJQUNGLE1BQU1DLEtBQUssR0FBRyxNQUFNSCxjQUFjLENBQUNFLFdBQWYsRUFBcEI7SUFDQSxPQUFPQyxLQUFQO0VBQ0QsQ0FIRCxDQUdFLE9BQU9DLEtBQVAsRUFBYztJQUNkLE1BQU1BLEtBQU47RUFDRDtBQUNGLENBUEQ7O0FBU0FDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmSjtBQURlLENBQWpCIn0=","map":{"version":3,"names":["roomRepository","require","getAllRooms","rooms","error","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\service\\","sources":["room.service.js"],"sourcesContent":["const roomRepository = require(\"../repository/room.repository\");\r\n\r\nconst getAllRooms = async () => {\r\n  try {\r\n    const rooms = await roomRepository.getAllRooms();\r\n    return rooms;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nmodule.exports = {\r\n  getAllRooms,\r\n};\r\n"],"mappings":";;AAAA,MAAMA,cAAc,GAAGC,OAAO,CAAC,+BAAD,CAA9B;;AAEA,MAAMC,WAAW,GAAG,YAAY;EAC9B,IAAI;IACF,MAAMC,KAAK,GAAG,MAAMH,cAAc,CAACE,WAAf,EAApB;IACA,OAAOC,KAAP;EACD,CAHD,CAGE,OAAOC,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF,CAPD;;AASAC,MAAM,CAACC,OAAP,GAAiB;EACfJ;AADe,CAAjB"}},"mtime":1667394401507},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\repository\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\repository\\\\room.repository.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _sequelize = require(\"sequelize\");\n\nvar _index = require(\"../models/index.js\");\n\nconst db = require(\"../models\");\n\nconst Rooms = db.Rooms;\n\nconst getAllRooms = async () => {\n  return await Rooms.findAll();\n};\n\nmodule.exports = {\n  getAllRooms\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYiIsInJlcXVpcmUiLCJSb29tcyIsImdldEFsbFJvb21zIiwiZmluZEFsbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxDb2RlXFxGUFRfU3ViamVjdFxcU1dQXFxIUk1TX0JFXFxzcmNcXHJlcG9zaXRvcnlcXCIsInNvdXJjZXMiOlsicm9vbS5yZXBvc2l0b3J5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGRiID0gcmVxdWlyZShcIi4uL21vZGVsc1wiKTtcclxuaW1wb3J0IHsgUXVlcnlUeXBlcyB9IGZyb20gXCJzZXF1ZWxpemVcIjtcclxuaW1wb3J0IHsgU2VxdWVsaXplIH0gZnJvbSBcIi4uL21vZGVscy9pbmRleC5qc1wiO1xyXG5cclxuY29uc3QgUm9vbXMgPSBkYi5Sb29tcztcclxuXHJcbmNvbnN0IGdldEFsbFJvb21zID0gYXN5bmMgKCkgPT4ge1xyXG4gIHJldHVybiBhd2FpdCBSb29tcy5maW5kQWxsKCk7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBnZXRBbGxSb29tcyxcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUNBOztBQUNBOztBQUZBLE1BQU1BLEVBQUUsR0FBR0MsT0FBTyxDQUFDLFdBQUQsQ0FBbEI7O0FBSUEsTUFBTUMsS0FBSyxHQUFHRixFQUFFLENBQUNFLEtBQWpCOztBQUVBLE1BQU1DLFdBQVcsR0FBRyxZQUFZO0VBQzlCLE9BQU8sTUFBTUQsS0FBSyxDQUFDRSxPQUFOLEVBQWI7QUFDRCxDQUZEOztBQUlBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7RUFDZkg7QUFEZSxDQUFqQiJ9","map":{"version":3,"names":["db","require","Rooms","getAllRooms","findAll","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\repository\\","sources":["room.repository.js"],"sourcesContent":["const db = require(\"../models\");\r\nimport { QueryTypes } from \"sequelize\";\r\nimport { Sequelize } from \"../models/index.js\";\r\n\r\nconst Rooms = db.Rooms;\r\n\r\nconst getAllRooms = async () => {\r\n  return await Rooms.findAll();\r\n};\r\n\r\nmodule.exports = {\r\n  getAllRooms,\r\n};\r\n"],"mappings":";;AACA;;AACA;;AAFA,MAAMA,EAAE,GAAGC,OAAO,CAAC,WAAD,CAAlB;;AAIA,MAAMC,KAAK,GAAGF,EAAE,CAACE,KAAjB;;AAEA,MAAMC,WAAW,GAAG,YAAY;EAC9B,OAAO,MAAMD,KAAK,CAACE,OAAN,EAAb;AACD,CAFD;;AAIAC,MAAM,CAACC,OAAP,GAAiB;EACfH;AADe,CAAjB"}},"mtime":1667394531480},"{\"sourceRoot\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"filename\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\\\\src\\\\dbconnect.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Code\\\\FPT_Subject\\\\SWP\\\\HRMS_BE\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\n// import { createRequire } from \"module\";\n// const require = createRequire(import.meta.url);\nconst {\n  Sequelize\n} = require(\"sequelize\"); // Option 3: Passing parameters separately (other dialects)\n\n\nconst sequelize = new Sequelize(\"hrms\", \"root\", \"Vpho@342002\", {\n  host: \"localhost\",\n  dialect: \"mysql\",\n  logging: false\n});\n\nlet connectDB = async () => {\n  try {\n    await sequelize.authenticate();\n    console.log(\"Connection has been established successfully.\");\n  } catch (error) {\n    console.error(\"Unable to connect to the database: \", error);\n  }\n};\n\nmodule.exports = connectDB;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTZXF1ZWxpemUiLCJyZXF1aXJlIiwic2VxdWVsaXplIiwiaG9zdCIsImRpYWxlY3QiLCJsb2dnaW5nIiwiY29ubmVjdERCIiwiYXV0aGVudGljYXRlIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXENvZGVcXEZQVF9TdWJqZWN0XFxTV1BcXEhSTVNfQkVcXHNyY1xcIiwic291cmNlcyI6WyJkYmNvbm5lY3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IHsgY3JlYXRlUmVxdWlyZSB9IGZyb20gXCJtb2R1bGVcIjtcclxuXHJcbi8vIGNvbnN0IHJlcXVpcmUgPSBjcmVhdGVSZXF1aXJlKGltcG9ydC5tZXRhLnVybCk7XHJcblxyXG5jb25zdCB7IFNlcXVlbGl6ZSB9ID0gcmVxdWlyZShcInNlcXVlbGl6ZVwiKTtcclxuLy8gT3B0aW9uIDM6IFBhc3NpbmcgcGFyYW1ldGVycyBzZXBhcmF0ZWx5IChvdGhlciBkaWFsZWN0cylcclxuY29uc3Qgc2VxdWVsaXplID0gbmV3IFNlcXVlbGl6ZShcImhybXNcIiwgXCJyb290XCIsIFwiVnBob0AzNDIwMDJcIiwge1xyXG4gIGhvc3Q6IFwibG9jYWxob3N0XCIsXHJcbiAgZGlhbGVjdDogXCJteXNxbFwiLFxyXG4gIGxvZ2dpbmc6IGZhbHNlLFxyXG59KTtcclxuXHJcbmxldCBjb25uZWN0REIgPSBhc3luYyAoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IHNlcXVlbGl6ZS5hdXRoZW50aWNhdGUoKTtcclxuICAgIGNvbnNvbGUubG9nKFwiQ29ubmVjdGlvbiBoYXMgYmVlbiBlc3RhYmxpc2hlZCBzdWNjZXNzZnVsbHkuXCIpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiVW5hYmxlIHRvIGNvbm5lY3QgdG8gdGhlIGRhdGFiYXNlOiBcIiwgZXJyb3IpO1xyXG4gIH1cclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gY29ubmVjdERCO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFFQTtBQUVBLE1BQU07RUFBRUE7QUFBRixJQUFnQkMsT0FBTyxDQUFDLFdBQUQsQ0FBN0IsQyxDQUNBOzs7QUFDQSxNQUFNQyxTQUFTLEdBQUcsSUFBSUYsU0FBSixDQUFjLE1BQWQsRUFBc0IsTUFBdEIsRUFBOEIsYUFBOUIsRUFBNkM7RUFDN0RHLElBQUksRUFBRSxXQUR1RDtFQUU3REMsT0FBTyxFQUFFLE9BRm9EO0VBRzdEQyxPQUFPLEVBQUU7QUFIb0QsQ0FBN0MsQ0FBbEI7O0FBTUEsSUFBSUMsU0FBUyxHQUFHLFlBQVk7RUFDMUIsSUFBSTtJQUNGLE1BQU1KLFNBQVMsQ0FBQ0ssWUFBVixFQUFOO0lBQ0FDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLCtDQUFaO0VBQ0QsQ0FIRCxDQUdFLE9BQU9DLEtBQVAsRUFBYztJQUNkRixPQUFPLENBQUNFLEtBQVIsQ0FBYyxxQ0FBZCxFQUFxREEsS0FBckQ7RUFDRDtBQUNGLENBUEQ7O0FBU0FDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQk4sU0FBakIifQ==","map":{"version":3,"names":["Sequelize","require","sequelize","host","dialect","logging","connectDB","authenticate","console","log","error","module","exports"],"sourceRoot":"D:\\Code\\FPT_Subject\\SWP\\HRMS_BE\\src\\","sources":["dbconnect.js"],"sourcesContent":["// import { createRequire } from \"module\";\r\n\r\n// const require = createRequire(import.meta.url);\r\n\r\nconst { Sequelize } = require(\"sequelize\");\r\n// Option 3: Passing parameters separately (other dialects)\r\nconst sequelize = new Sequelize(\"hrms\", \"root\", \"Vpho@342002\", {\r\n  host: \"localhost\",\r\n  dialect: \"mysql\",\r\n  logging: false,\r\n});\r\n\r\nlet connectDB = async () => {\r\n  try {\r\n    await sequelize.authenticate();\r\n    console.log(\"Connection has been established successfully.\");\r\n  } catch (error) {\r\n    console.error(\"Unable to connect to the database: \", error);\r\n  }\r\n};\r\n\r\nmodule.exports = connectDB;\r\n"],"mappings":";;AAAA;AAEA;AAEA,MAAM;EAAEA;AAAF,IAAgBC,OAAO,CAAC,WAAD,CAA7B,C,CACA;;;AACA,MAAMC,SAAS,GAAG,IAAIF,SAAJ,CAAc,MAAd,EAAsB,MAAtB,EAA8B,aAA9B,EAA6C;EAC7DG,IAAI,EAAE,WADuD;EAE7DC,OAAO,EAAE,OAFoD;EAG7DC,OAAO,EAAE;AAHoD,CAA7C,CAAlB;;AAMA,IAAIC,SAAS,GAAG,YAAY;EAC1B,IAAI;IACF,MAAMJ,SAAS,CAACK,YAAV,EAAN;IACAC,OAAO,CAACC,GAAR,CAAY,+CAAZ;EACD,CAHD,CAGE,OAAOC,KAAP,EAAc;IACdF,OAAO,CAACE,KAAR,CAAc,qCAAd,EAAqDA,KAArD;EACD;AACF,CAPD;;AASAC,MAAM,CAACC,OAAP,GAAiBN,SAAjB"}},"mtime":1667231828780}}